var aH=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var QAe=aH((ei,_a)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Mi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mb={exports:{}},_d={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function iH(){if(a3)return _d;a3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var s in a)s!=="key"&&(i[s]=a[s])}else i=a;return a=i.ref,{$$typeof:e,type:r,key:o,ref:a!==void 0?a:null,props:i}}return _d.Fragment=t,_d.jsx=n,_d.jsxs=n,_d}var i3;function oH(){return i3||(i3=1,mb.exports=iH()),mb.exports}var O=oH(),gb={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o3;function sH(){if(o3)return Ct;o3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;function p(z){return z===null||typeof z!="object"?null:(z=d&&z[d]||z["@@iterator"],typeof z=="function"?z:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,x={};function b(z,se,L){this.props=z,this.context=se,this.refs=x,this.updater=L||m}b.prototype.isReactComponent={},b.prototype.setState=function(z,se){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,se,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function w(){}w.prototype=b.prototype;function E(z,se,L){this.props=z,this.context=se,this.refs=x,this.updater=L||m}var S=E.prototype=new w;S.constructor=E,g(S,b.prototype),S.isPureReactComponent=!0;var A=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function D(z,se,L,G,X,Y){return L=Y.ref,{$$typeof:e,type:z,key:se,ref:L!==void 0?L:null,props:Y}}function P(z,se){return D(z.type,se,void 0,void 0,void 0,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function I(z){var se={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(L){return se[L]})}var F=/\/+/g;function B(z,se){return typeof z=="object"&&z!==null&&z.key!=null?I(""+z.key):se.toString(36)}function te(){}function ae(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(te,te):(z.status="pending",z.then(function(se){z.status==="pending"&&(z.status="fulfilled",z.value=se)},function(se){z.status==="pending"&&(z.status="rejected",z.reason=se)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function V(z,se,L,G,X){var Y=typeof z;(Y==="undefined"||Y==="boolean")&&(z=null);var ce=!1;if(z===null)ce=!0;else switch(Y){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(z.$$typeof){case e:case t:ce=!0;break;case f:return ce=z._init,V(ce(z._payload),se,L,G,X)}}if(ce)return X=X(z),ce=G===""?"."+B(z,0):G,A(X)?(L="",ce!=null&&(L=ce.replace(F,"$&/")+"/"),V(X,se,L,"",function(oe){return oe})):X!=null&&(k(X)&&(X=P(X,L+(X.key==null||z&&z.key===X.key?"":(""+X.key).replace(F,"$&/")+"/")+ce)),se.push(X)),1;ce=0;var Pe=G===""?".":G+":";if(A(z))for(var le=0;le<z.length;le++)G=z[le],Y=Pe+B(G,le),ce+=V(G,se,L,Y,X);else if(le=p(z),typeof le=="function")for(z=le.call(z),le=0;!(G=z.next()).done;)G=G.value,Y=Pe+B(G,le++),ce+=V(G,se,L,Y,X);else if(Y==="object"){if(typeof z.then=="function")return V(ae(z),se,L,G,X);throw se=String(z),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ce}function H(z,se,L){if(z==null)return z;var G=[],X=0;return V(z,G,"","",function(Y){return se.call(L,Y,X++)}),G}function Z(z){if(z._status===-1){var se=z._result;se=se(),se.then(function(L){(z._status===0||z._status===-1)&&(z._status=1,z._result=L)},function(L){(z._status===0||z._status===-1)&&(z._status=2,z._result=L)}),z._status===-1&&(z._status=0,z._result=se)}if(z._status===1)return z._result.default;throw z._result}var ie=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function he(){}return Ct.Children={map:H,forEach:function(z,se,L){H(z,function(){se.apply(this,arguments)},L)},count:function(z){var se=0;return H(z,function(){se++}),se},toArray:function(z){return H(z,function(se){return se})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ct.Component=b,Ct.Fragment=n,Ct.Profiler=a,Ct.PureComponent=E,Ct.StrictMode=r,Ct.Suspense=u,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(z){return T.H.useMemoCache(z)}},Ct.cache=function(z){return function(){return z.apply(null,arguments)}},Ct.cloneElement=function(z,se,L){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var G=g({},z.props),X=z.key,Y=void 0;if(se!=null)for(ce in se.ref!==void 0&&(Y=void 0),se.key!==void 0&&(X=""+se.key),se)!R.call(se,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&se.ref===void 0||(G[ce]=se[ce]);var ce=arguments.length-2;if(ce===1)G.children=L;else if(1<ce){for(var Pe=Array(ce),le=0;le<ce;le++)Pe[le]=arguments[le+2];G.children=Pe}return D(z.type,X,void 0,void 0,Y,G)},Ct.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:i,_context:z},z},Ct.createElement=function(z,se,L){var G,X={},Y=null;if(se!=null)for(G in se.key!==void 0&&(Y=""+se.key),se)R.call(se,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(X[G]=se[G]);var ce=arguments.length-2;if(ce===1)X.children=L;else if(1<ce){for(var Pe=Array(ce),le=0;le<ce;le++)Pe[le]=arguments[le+2];X.children=Pe}if(z&&z.defaultProps)for(G in ce=z.defaultProps,ce)X[G]===void 0&&(X[G]=ce[G]);return D(z,Y,void 0,void 0,null,X)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(z){return{$$typeof:s,render:z}},Ct.isValidElement=k,Ct.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:Z}},Ct.memo=function(z,se){return{$$typeof:l,type:z,compare:se===void 0?null:se}},Ct.startTransition=function(z){var se=T.T,L={};T.T=L;try{var G=z(),X=T.S;X!==null&&X(L,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(he,ie)}catch(Y){ie(Y)}finally{T.T=se}},Ct.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ct.use=function(z){return T.H.use(z)},Ct.useActionState=function(z,se,L){return T.H.useActionState(z,se,L)},Ct.useCallback=function(z,se){return T.H.useCallback(z,se)},Ct.useContext=function(z){return T.H.useContext(z)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(z,se){return T.H.useDeferredValue(z,se)},Ct.useEffect=function(z,se,L){var G=T.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(z,se)},Ct.useId=function(){return T.H.useId()},Ct.useImperativeHandle=function(z,se,L){return T.H.useImperativeHandle(z,se,L)},Ct.useInsertionEffect=function(z,se){return T.H.useInsertionEffect(z,se)},Ct.useLayoutEffect=function(z,se){return T.H.useLayoutEffect(z,se)},Ct.useMemo=function(z,se){return T.H.useMemo(z,se)},Ct.useOptimistic=function(z,se){return T.H.useOptimistic(z,se)},Ct.useReducer=function(z,se,L){return T.H.useReducer(z,se,L)},Ct.useRef=function(z){return T.H.useRef(z)},Ct.useState=function(z){return T.H.useState(z)},Ct.useSyncExternalStore=function(z,se,L){return T.H.useSyncExternalStore(z,se,L)},Ct.useTransition=function(){return T.H.useTransition()},Ct.version="19.1.1",Ct}var s3;function eh(){return s3||(s3=1,gb.exports=sH()),gb.exports}var N=eh(),yb={exports:{}},Ed={},xb={exports:{}},bb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3;function uH(){return u3||(u3=1,function(e){function t(H,Z){var ie=H.length;H.push(Z);e:for(;0<ie;){var he=ie-1>>>1,z=H[he];if(0<a(z,Z))H[he]=Z,H[ie]=z,ie=he;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],ie=H.pop();if(ie!==Z){H[0]=ie;e:for(var he=0,z=H.length,se=z>>>1;he<se;){var L=2*(he+1)-1,G=H[L],X=L+1,Y=H[X];if(0>a(G,ie))X<z&&0>a(Y,G)?(H[he]=Y,H[X]=ie,he=X):(H[he]=G,H[L]=ie,he=L);else if(X<z&&0>a(Y,ie))H[he]=Y,H[X]=ie,he=X;else break e}}return Z}function a(H,Z){var ie=H.sortIndex-Z.sortIndex;return ie!==0?ie:H.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var u=[],l=[],f=1,d=null,p=3,m=!1,g=!1,x=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A(H){for(var Z=n(l);Z!==null;){if(Z.callback===null)r(l);else if(Z.startTime<=H)r(l),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(l)}}function T(H){if(x=!1,A(H),!g)if(n(u)!==null)g=!0,R||(R=!0,B());else{var Z=n(l);Z!==null&&V(T,Z.startTime-H)}}var R=!1,D=-1,P=5,k=-1;function I(){return b?!0:!(e.unstable_now()-k<P)}function F(){if(b=!1,R){var H=e.unstable_now();k=H;var Z=!0;try{e:{g=!1,x&&(x=!1,E(D),D=-1),m=!0;var ie=p;try{t:{for(A(H),d=n(u);d!==null&&!(d.expirationTime>H&&I());){var he=d.callback;if(typeof he=="function"){d.callback=null,p=d.priorityLevel;var z=he(d.expirationTime<=H);if(H=e.unstable_now(),typeof z=="function"){d.callback=z,A(H),Z=!0;break t}d===n(u)&&r(u),A(H)}else r(u);d=n(u)}if(d!==null)Z=!0;else{var se=n(l);se!==null&&V(T,se.startTime-H),Z=!1}}break e}finally{d=null,p=ie,m=!1}Z=void 0}}finally{Z?B():R=!1}}}var B;if(typeof S=="function")B=function(){S(F)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ae=te.port2;te.port1.onmessage=F,B=function(){ae.postMessage(null)}}else B=function(){w(F,0)};function V(H,Z){D=w(function(){H(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var ie=p;p=Z;try{return H()}finally{p=ie}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=p;p=H;try{return Z()}finally{p=ie}},e.unstable_scheduleCallback=function(H,Z,ie){var he=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?he+ie:he):ie=he,H){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ie+z,H={id:f++,callback:Z,priorityLevel:H,startTime:ie,expirationTime:z,sortIndex:-1},ie>he?(H.sortIndex=ie,t(l,H),n(u)===null&&H===n(l)&&(x?(E(D),D=-1):x=!0,V(T,ie-he))):(H.sortIndex=z,t(u,H),g||m||(g=!0,R||(R=!0,B()))),H},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(H){var Z=p;return function(){var ie=p;p=Z;try{return H.apply(this,arguments)}finally{p=ie}}}}(bb)),bb}var l3;function lH(){return l3||(l3=1,xb.exports=uH()),xb.exports}var wb={exports:{}},$r={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c3;function cH(){if(c3)return $r;c3=1;var e=eh();function t(u){var l="https://react.dev/errors/"+u;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,l,f){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:d==null?null:""+d,children:u,containerInfo:l,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,l){if(u==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return $r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$r.createPortal=function(u,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(t(299));return i(u,l,null,f)},$r.flushSync=function(u){var l=o.T,f=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=l,r.p=f,r.d.f()}},$r.preconnect=function(u,l){typeof u=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,r.d.C(u,l))},$r.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},$r.preinit=function(u,l){if(typeof u=="string"&&l&&typeof l.as=="string"){var f=l.as,d=s(f,l.crossOrigin),p=typeof l.integrity=="string"?l.integrity:void 0,m=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;f==="style"?r.d.S(u,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:m}):f==="script"&&r.d.X(u,{crossOrigin:d,integrity:p,fetchPriority:m,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},$r.preinitModule=function(u,l){if(typeof u=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var f=s(l.as,l.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&r.d.M(u)},$r.preload=function(u,l){if(typeof u=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var f=l.as,d=s(f,l.crossOrigin);r.d.L(u,f,{crossOrigin:d,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},$r.preloadModule=function(u,l){if(typeof u=="string")if(l){var f=s(l.as,l.crossOrigin);r.d.m(u,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else r.d.m(u)},$r.requestFormReset=function(u){r.d.r(u)},$r.unstable_batchedUpdates=function(u,l){return u(l)},$r.useFormState=function(u,l,f){return o.H.useFormState(u,l,f)},$r.useFormStatus=function(){return o.H.useHostTransitionStatus()},$r.version="19.1.1",$r}var f3;function tF(){if(f3)return wb.exports;f3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wb.exports=cH(),wb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3;function fH(){if(h3)return Ed;h3=1;var e=lH(),t=eh(),n=tF();function r(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var h=c,v=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(v=h.return),c=h.return;while(c)}return h.tag===3?v:null}function o(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function s(c){if(i(c)!==c)throw Error(r(188))}function u(c){var h=c.alternate;if(!h){if(h=i(c),h===null)throw Error(r(188));return h!==c?null:c}for(var v=c,y=h;;){var _=v.return;if(_===null)break;var C=_.alternate;if(C===null){if(y=_.return,y!==null){v=y;continue}break}if(_.child===C.child){for(C=_.child;C;){if(C===v)return s(_),c;if(C===y)return s(_),h;C=C.sibling}throw Error(r(188))}if(v.return!==y.return)v=_,y=C;else{for(var M=!1,U=_.child;U;){if(U===v){M=!0,v=_,y=C;break}if(U===y){M=!0,y=_,v=C;break}U=U.sibling}if(!M){for(U=C.child;U;){if(U===v){M=!0,v=C,y=_;break}if(U===y){M=!0,y=C,v=_;break}U=U.sibling}if(!M)throw Error(r(189))}}if(v.alternate!==y)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?c:h}function l(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=l(c),h!==null)return h;c=c.sibling}return null}var f=Object.assign,d=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function B(c){return c===null||typeof c!="object"?null:(c=F&&c[F]||c["@@iterator"],typeof c=="function"?c:null)}var te=Symbol.for("react.client.reference");function ae(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===te?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case g:return"Fragment";case b:return"Profiler";case x:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList";case k:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case m:return"Portal";case S:return(c.displayName||"Context")+".Provider";case E:return(c._context.displayName||"Context")+".Consumer";case A:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case D:return h=c.displayName||null,h!==null?h:ae(c.type)||"Memo";case P:h=c._payload,c=c._init;try{return ae(c(h))}catch{}}return null}var V=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},he=[],z=-1;function se(c){return{current:c}}function L(c){0>z||(c.current=he[z],he[z]=null,z--)}function G(c,h){z++,he[z]=c.current,c.current=h}var X=se(null),Y=se(null),ce=se(null),Pe=se(null);function le(c,h){switch(G(ce,h),G(Y,c),G(X,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?k4(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=k4(h),c=P4(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}L(X),G(X,c)}function oe(){L(X),L(Y),L(ce)}function ye(c){c.memoizedState!==null&&G(Pe,c);var h=X.current,v=P4(h,c.type);h!==v&&(G(Y,c),G(X,v))}function Oe(c){Y.current===c&&(L(X),L(Y)),Pe.current===c&&(L(Pe),gd._currentValue=ie)}var ve=Object.prototype.hasOwnProperty,Ye=e.unstable_scheduleCallback,$e=e.unstable_cancelCallback,nt=e.unstable_shouldYield,et=e.unstable_requestPaint,He=e.unstable_now,Ft=e.unstable_getCurrentPriorityLevel,jt=e.unstable_ImmediatePriority,ze=e.unstable_UserBlockingPriority,dt=e.unstable_NormalPriority,ge=e.unstable_LowPriority,Be=e.unstable_IdlePriority,qe=e.log,Qe=e.unstable_setDisableYieldValue,ut=null,pt=null;function wt(c){if(typeof qe=="function"&&Qe(c),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(ut,c)}catch{}}var Ht=Math.clz32?Math.clz32:fo,ji=Math.log,Ui=Math.LN2;function fo(c){return c>>>=0,c===0?32:31-(ji(c)/Ui|0)|0}var ca=256,Na=4194304;function fa(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function _c(c,h,v){var y=c.pendingLanes;if(y===0)return 0;var _=0,C=c.suspendedLanes,M=c.pingedLanes;c=c.warmLanes;var U=y&134217727;return U!==0?(y=U&~C,y!==0?_=fa(y):(M&=U,M!==0?_=fa(M):v||(v=U&~c,v!==0&&(_=fa(v))))):(U=y&~C,U!==0?_=fa(U):M!==0?_=fa(M):v||(v=y&~c,v!==0&&(_=fa(v)))),_===0?0:h!==0&&h!==_&&(h&C)===0&&(C=_&-_,v=h&-h,C>=v||C===32&&(v&4194048)!==0)?h:_}function Xu(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function g0(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sh(){var c=ca;return ca<<=1,(ca&4194048)===0&&(ca=256),c}function Th(){var c=Na;return Na<<=1,(Na&62914560)===0&&(Na=4194304),c}function Ah(c){for(var h=[],v=0;31>v;v++)h.push(c);return h}function Yu(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Ec(c,h,v,y,_,C){var M=c.pendingLanes;c.pendingLanes=v,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=v,c.entangledLanes&=v,c.errorRecoveryDisabledLanes&=v,c.shellSuspendCounter=0;var U=c.entanglements,re=c.expirationTimes,be=c.hiddenUpdates;for(v=M&~v;0<v;){var Ie=31-Ht(v),Le=1<<Ie;U[Ie]=0,re[Ie]=-1;var Ee=be[Ie];if(Ee!==null)for(be[Ie]=null,Ie=0;Ie<Ee.length;Ie++){var Te=Ee[Ie];Te!==null&&(Te.lane&=-536870913)}v&=~Le}y!==0&&y0(c,y,0),C!==0&&_===0&&c.tag!==0&&(c.suspendedLanes|=C&~(M&~h))}function y0(c,h,v){c.pendingLanes|=h,c.suspendedLanes&=~h;var y=31-Ht(h);c.entangledLanes|=h,c.entanglements[y]=c.entanglements[y]|1073741824|v&4194090}function x0(c,h){var v=c.entangledLanes|=h;for(c=c.entanglements;v;){var y=31-Ht(v),_=1<<y;_&h|c[y]&h&&(c[y]|=h),v&=~_}}function Ch(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Oh(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function b0(){var c=Z.p;return c!==0?c:(c=window.event,c===void 0?32:Z4(c.type))}function f1(c,h){var v=Z.p;try{return Z.p=c,h()}finally{Z.p=v}}var ho=Math.random().toString(36).slice(2),hr="__reactFiber$"+ho,dr="__reactProps$"+ho,Vs="__reactContainer$"+ho,Rh="__reactEvents$"+ho,h1="__reactListeners$"+ho,j="__reactHandles$"+ho,ee="__reactResources$"+ho,q="__reactMarker$"+ho;function K(c){delete c[hr],delete c[dr],delete c[Rh],delete c[h1],delete c[j]}function J(c){var h=c[hr];if(h)return h;for(var v=c.parentNode;v;){if(h=v[Vs]||v[hr]){if(v=h.alternate,h.child!==null||v!==null&&v.child!==null)for(c=B4(c);c!==null;){if(v=c[hr])return v;c=B4(c)}return h}c=v,v=c.parentNode}return null}function ne(c){if(c=c[hr]||c[Vs]){var h=c.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return c}return null}function we(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(r(33))}function Ne(c){var h=c[ee];return h||(h=c[ee]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function me(c){c[q]=!0}var _e=new Set,Se={};function We(c,h){Ge(c,h),Ge(c+"Capture",h)}function Ge(c,h){for(Se[c]=h,c=0;c<h.length;c++)_e.add(h[c])}var tt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ve={},Je={};function Et(c){return ve.call(Je,c)?!0:ve.call(Ve,c)?!1:tt.test(c)?Je[c]=!0:(Ve[c]=!0,!1)}function an(c,h,v){if(Et(h))if(v===null)c.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var y=h.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+v)}}function on(c,h,v){if(v===null)c.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+v)}}function pn(c,h,v,y){if(y===null)c.removeAttribute(v);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(v);return}c.setAttributeNS(h,v,""+y)}}var Go,qs;function li(c){if(Go===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);Go=h&&h[1]||"",qs=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Go+c+qs}var zi=!1;function Qu(c,h){if(!c||zi)return"";zi=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(h){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(Te){var Ee=Te}Reflect.construct(c,[],Le)}else{try{Le.call()}catch(Te){Ee=Te}c.call(Le.prototype)}}else{try{throw Error()}catch(Te){Ee=Te}(Le=c())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(Te){if(Te&&Ee&&typeof Te.stack=="string")return[Te.stack,Ee.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=y.DetermineComponentFrameRoot(),M=C[0],U=C[1];if(M&&U){var re=M.split(`
`),be=U.split(`
`);for(_=y=0;y<re.length&&!re[y].includes("DetermineComponentFrameRoot");)y++;for(;_<be.length&&!be[_].includes("DetermineComponentFrameRoot");)_++;if(y===re.length||_===be.length)for(y=re.length-1,_=be.length-1;1<=y&&0<=_&&re[y]!==be[_];)_--;for(;1<=y&&0<=_;y--,_--)if(re[y]!==be[_]){if(y!==1||_!==1)do if(y--,_--,0>_||re[y]!==be[_]){var Ie=`
`+re[y].replace(" at new "," at ");return c.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",c.displayName)),Ie}while(1<=y&&0<=_);break}}}finally{zi=!1,Error.prepareStackTrace=v}return(v=c?c.displayName||c.name:"")?li(v):""}function Wi(c){switch(c.tag){case 26:case 27:case 5:return li(c.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return Qu(c.type,!1);case 11:return Qu(c.type.render,!1);case 1:return Qu(c.type,!0);case 31:return li("Activity");default:return""}}function AC(c){try{var h="";do h+=Wi(c),c=c.return;while(c);return h}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function ci(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function CC(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Jz(c){var h=CC(c)?"checked":"value",v=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),y=""+c[h];if(!c.hasOwnProperty(h)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var _=v.get,C=v.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return _.call(this)},set:function(M){y=""+M,C.call(this,M)}}),Object.defineProperty(c,h,{enumerable:v.enumerable}),{getValue:function(){return y},setValue:function(M){y=""+M},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function w0(c){c._valueTracker||(c._valueTracker=Jz(c))}function OC(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var v=h.getValue(),y="";return c&&(y=CC(c)?c.checked?"true":"false":c.value),c=y,c!==v?(h.setValue(c),!0):!1}function _0(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var e9=/[\n"\\]/g;function fi(c){return c.replace(e9,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function d1(c,h,v,y,_,C,M,U){c.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?c.type=M:c.removeAttribute("type"),h!=null?M==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+ci(h)):c.value!==""+ci(h)&&(c.value=""+ci(h)):M!=="submit"&&M!=="reset"||c.removeAttribute("value"),h!=null?p1(c,M,ci(h)):v!=null?p1(c,M,ci(v)):y!=null&&c.removeAttribute("value"),_==null&&C!=null&&(c.defaultChecked=!!C),_!=null&&(c.checked=_&&typeof _!="function"&&typeof _!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?c.name=""+ci(U):c.removeAttribute("name")}function RC(c,h,v,y,_,C,M,U){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(c.type=C),h!=null||v!=null){if(!(C!=="submit"&&C!=="reset"||h!=null))return;v=v!=null?""+ci(v):"",h=h!=null?""+ci(h):v,U||h===c.value||(c.value=h),c.defaultValue=h}y=y??_,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=U?c.checked:!!y,c.defaultChecked=!!y,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(c.name=M)}function p1(c,h,v){h==="number"&&_0(c.ownerDocument)===c||c.defaultValue===""+v||(c.defaultValue=""+v)}function Sc(c,h,v,y){if(c=c.options,h){h={};for(var _=0;_<v.length;_++)h["$"+v[_]]=!0;for(v=0;v<c.length;v++)_=h.hasOwnProperty("$"+c[v].value),c[v].selected!==_&&(c[v].selected=_),_&&y&&(c[v].defaultSelected=!0)}else{for(v=""+ci(v),h=null,_=0;_<c.length;_++){if(c[_].value===v){c[_].selected=!0,y&&(c[_].defaultSelected=!0);return}h!==null||c[_].disabled||(h=c[_])}h!==null&&(h.selected=!0)}}function DC(c,h,v){if(h!=null&&(h=""+ci(h),h!==c.value&&(c.value=h),v==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=v!=null?""+ci(v):""}function NC(c,h,v,y){if(h==null){if(y!=null){if(v!=null)throw Error(r(92));if(V(y)){if(1<y.length)throw Error(r(93));y=y[0]}v=y}v==null&&(v=""),h=v}v=ci(h),c.defaultValue=v,y=c.textContent,y===v&&y!==""&&y!==null&&(c.value=y)}function Tc(c,h){if(h){var v=c.firstChild;if(v&&v===c.lastChild&&v.nodeType===3){v.nodeValue=h;return}}c.textContent=h}var t9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kC(c,h,v){var y=h.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?y?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":y?c.setProperty(h,v):typeof v!="number"||v===0||t9.has(h)?h==="float"?c.cssFloat=v:c[h]=(""+v).trim():c[h]=v+"px"}function PC(c,h,v){if(h!=null&&typeof h!="object")throw Error(r(62));if(c=c.style,v!=null){for(var y in v)!v.hasOwnProperty(y)||h!=null&&h.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var _ in h)y=h[_],h.hasOwnProperty(_)&&v[_]!==y&&kC(c,_,y)}else for(var C in h)h.hasOwnProperty(C)&&kC(c,C,h[C])}function v1(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function E0(c){return r9.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var m1=null;function g1(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ac=null,Cc=null;function MC(c){var h=ne(c);if(h&&(c=h.stateNode)){var v=c[dr]||null;e:switch(c=h.stateNode,h.type){case"input":if(d1(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),h=v.name,v.type==="radio"&&h!=null){for(v=c;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+fi(""+h)+'"][type="radio"]'),h=0;h<v.length;h++){var y=v[h];if(y!==c&&y.form===c.form){var _=y[dr]||null;if(!_)throw Error(r(90));d1(y,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(h=0;h<v.length;h++)y=v[h],y.form===c.form&&OC(y)}break e;case"textarea":DC(c,v.value,v.defaultValue);break e;case"select":h=v.value,h!=null&&Sc(c,!!v.multiple,h,!1)}}}var y1=!1;function IC(c,h,v){if(y1)return c(h,v);y1=!0;try{var y=c(h);return y}finally{if(y1=!1,(Ac!==null||Cc!==null)&&(uv(),Ac&&(h=Ac,c=Cc,Cc=Ac=null,MC(h),c)))for(h=0;h<c.length;h++)MC(c[h])}}function Dh(c,h){var v=c.stateNode;if(v===null)return null;var y=v[dr]||null;if(y===null)return null;v=y[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(v&&typeof v!="function")throw Error(r(231,h,typeof v));return v}var Ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x1=!1;if(Ko)try{var Nh={};Object.defineProperty(Nh,"passive",{get:function(){x1=!0}}),window.addEventListener("test",Nh,Nh),window.removeEventListener("test",Nh,Nh)}catch{x1=!1}var Gs=null,b1=null,S0=null;function FC(){if(S0)return S0;var c,h=b1,v=h.length,y,_="value"in Gs?Gs.value:Gs.textContent,C=_.length;for(c=0;c<v&&h[c]===_[c];c++);var M=v-c;for(y=1;y<=M&&h[v-y]===_[C-y];y++);return S0=_.slice(c,1<y?1-y:void 0)}function T0(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function A0(){return!0}function BC(){return!1}function ha(c){function h(v,y,_,C,M){this._reactName=v,this._targetInst=_,this.type=y,this.nativeEvent=C,this.target=M,this.currentTarget=null;for(var U in c)c.hasOwnProperty(U)&&(v=c[U],this[U]=v?v(C):C[U]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?A0:BC,this.isPropagationStopped=BC,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=A0)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=A0)},persist:function(){},isPersistent:A0}),h}var Zu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C0=ha(Zu),kh=f({},Zu,{view:0,detail:0}),a9=ha(kh),w1,_1,Ph,O0=f({},kh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S1,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ph&&(Ph&&c.type==="mousemove"?(w1=c.screenX-Ph.screenX,_1=c.screenY-Ph.screenY):_1=w1=0,Ph=c),w1)},movementY:function(c){return"movementY"in c?c.movementY:_1}}),LC=ha(O0),i9=f({},O0,{dataTransfer:0}),o9=ha(i9),s9=f({},kh,{relatedTarget:0}),E1=ha(s9),u9=f({},Zu,{animationName:0,elapsedTime:0,pseudoElement:0}),l9=ha(u9),c9=f({},Zu,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),f9=ha(c9),h9=f({},Zu,{data:0}),jC=ha(h9),d9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m9(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=v9[c])?!!h[c]:!1}function S1(){return m9}var g9=f({},kh,{key:function(c){if(c.key){var h=d9[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=T0(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?p9[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S1,charCode:function(c){return c.type==="keypress"?T0(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?T0(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),y9=ha(g9),x9=f({},O0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UC=ha(x9),b9=f({},kh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S1}),w9=ha(b9),_9=f({},Zu,{propertyName:0,elapsedTime:0,pseudoElement:0}),E9=ha(_9),S9=f({},O0,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),T9=ha(S9),A9=f({},Zu,{newState:0,oldState:0}),C9=ha(A9),O9=[9,13,27,32],T1=Ko&&"CompositionEvent"in window,Mh=null;Ko&&"documentMode"in document&&(Mh=document.documentMode);var R9=Ko&&"TextEvent"in window&&!Mh,zC=Ko&&(!T1||Mh&&8<Mh&&11>=Mh),WC=" ",HC=!1;function $C(c,h){switch(c){case"keyup":return O9.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VC(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Oc=!1;function D9(c,h){switch(c){case"compositionend":return VC(h);case"keypress":return h.which!==32?null:(HC=!0,WC);case"textInput":return c=h.data,c===WC&&HC?null:c;default:return null}}function N9(c,h){if(Oc)return c==="compositionend"||!T1&&$C(c,h)?(c=FC(),S0=b1=Gs=null,Oc=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return zC&&h.locale!=="ko"?null:h.data;default:return null}}var k9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qC(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!k9[c.type]:h==="textarea"}function GC(c,h,v,y){Ac?Cc?Cc.push(y):Cc=[y]:Ac=y,h=pv(h,"onChange"),0<h.length&&(v=new C0("onChange","change",null,v,y),c.push({event:v,listeners:h}))}var Ih=null,Fh=null;function P9(c){C4(c,0)}function R0(c){var h=we(c);if(OC(h))return c}function KC(c,h){if(c==="change")return h}var XC=!1;if(Ko){var A1;if(Ko){var C1="oninput"in document;if(!C1){var YC=document.createElement("div");YC.setAttribute("oninput","return;"),C1=typeof YC.oninput=="function"}A1=C1}else A1=!1;XC=A1&&(!document.documentMode||9<document.documentMode)}function QC(){Ih&&(Ih.detachEvent("onpropertychange",ZC),Fh=Ih=null)}function ZC(c){if(c.propertyName==="value"&&R0(Fh)){var h=[];GC(h,Fh,c,g1(c)),IC(P9,h)}}function M9(c,h,v){c==="focusin"?(QC(),Ih=h,Fh=v,Ih.attachEvent("onpropertychange",ZC)):c==="focusout"&&QC()}function I9(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return R0(Fh)}function F9(c,h){if(c==="click")return R0(h)}function B9(c,h){if(c==="input"||c==="change")return R0(h)}function L9(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var ka=typeof Object.is=="function"?Object.is:L9;function Bh(c,h){if(ka(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var v=Object.keys(c),y=Object.keys(h);if(v.length!==y.length)return!1;for(y=0;y<v.length;y++){var _=v[y];if(!ve.call(h,_)||!ka(c[_],h[_]))return!1}return!0}function JC(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function eO(c,h){var v=JC(c);c=0;for(var y;v;){if(v.nodeType===3){if(y=c+v.textContent.length,c<=h&&y>=h)return{node:v,offset:h-c};c=y}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=JC(v)}}function tO(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?tO(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function nO(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=_0(c.document);h instanceof c.HTMLIFrameElement;){try{var v=typeof h.contentWindow.location.href=="string"}catch{v=!1}if(v)c=h.contentWindow;else break;h=_0(c.document)}return h}function O1(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var j9=Ko&&"documentMode"in document&&11>=document.documentMode,Rc=null,R1=null,Lh=null,D1=!1;function rO(c,h,v){var y=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;D1||Rc==null||Rc!==_0(y)||(y=Rc,"selectionStart"in y&&O1(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Lh&&Bh(Lh,y)||(Lh=y,y=pv(R1,"onSelect"),0<y.length&&(h=new C0("onSelect","select",null,h,v),c.push({event:h,listeners:y}),h.target=Rc)))}function Ju(c,h){var v={};return v[c.toLowerCase()]=h.toLowerCase(),v["Webkit"+c]="webkit"+h,v["Moz"+c]="moz"+h,v}var Dc={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionrun:Ju("Transition","TransitionRun"),transitionstart:Ju("Transition","TransitionStart"),transitioncancel:Ju("Transition","TransitionCancel"),transitionend:Ju("Transition","TransitionEnd")},N1={},aO={};Ko&&(aO=document.createElement("div").style,"AnimationEvent"in window||(delete Dc.animationend.animation,delete Dc.animationiteration.animation,delete Dc.animationstart.animation),"TransitionEvent"in window||delete Dc.transitionend.transition);function el(c){if(N1[c])return N1[c];if(!Dc[c])return c;var h=Dc[c],v;for(v in h)if(h.hasOwnProperty(v)&&v in aO)return N1[c]=h[v];return c}var iO=el("animationend"),oO=el("animationiteration"),sO=el("animationstart"),U9=el("transitionrun"),z9=el("transitionstart"),W9=el("transitioncancel"),uO=el("transitionend"),lO=new Map,k1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");k1.push("scrollEnd");function Hi(c,h){lO.set(c,h),We(h,[c])}var cO=new WeakMap;function hi(c,h){if(typeof c=="object"&&c!==null){var v=cO.get(c);return v!==void 0?v:(h={value:c,source:h,stack:AC(h)},cO.set(c,h),h)}return{value:c,source:h,stack:AC(h)}}var di=[],Nc=0,P1=0;function D0(){for(var c=Nc,h=P1=Nc=0;h<c;){var v=di[h];di[h++]=null;var y=di[h];di[h++]=null;var _=di[h];di[h++]=null;var C=di[h];if(di[h++]=null,y!==null&&_!==null){var M=y.pending;M===null?_.next=_:(_.next=M.next,M.next=_),y.pending=_}C!==0&&fO(v,_,C)}}function N0(c,h,v,y){di[Nc++]=c,di[Nc++]=h,di[Nc++]=v,di[Nc++]=y,P1|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function M1(c,h,v,y){return N0(c,h,v,y),k0(c)}function kc(c,h){return N0(c,null,null,h),k0(c)}function fO(c,h,v){c.lanes|=v;var y=c.alternate;y!==null&&(y.lanes|=v);for(var _=!1,C=c.return;C!==null;)C.childLanes|=v,y=C.alternate,y!==null&&(y.childLanes|=v),C.tag===22&&(c=C.stateNode,c===null||c._visibility&1||(_=!0)),c=C,C=C.return;return c.tag===3?(C=c.stateNode,_&&h!==null&&(_=31-Ht(v),c=C.hiddenUpdates,y=c[_],y===null?c[_]=[h]:y.push(h),h.lane=v|536870912),C):null}function k0(c){if(50<ld)throw ld=0,Ux=null,Error(r(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var Pc={};function H9(c,h,v,y){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(c,h,v,y){return new H9(c,h,v,y)}function I1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Xo(c,h){var v=c.alternate;return v===null?(v=Pa(c.tag,h,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=h,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&65011712,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,h=c.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v.refCleanup=c.refCleanup,v}function hO(c,h){c.flags&=65011714;var v=c.alternate;return v===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=v.childLanes,c.lanes=v.lanes,c.child=v.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=v.memoizedProps,c.memoizedState=v.memoizedState,c.updateQueue=v.updateQueue,c.type=v.type,h=v.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function P0(c,h,v,y,_,C){var M=0;if(y=c,typeof c=="function")I1(c)&&(M=1);else if(typeof c=="string")M=VW(c,v,X.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case k:return c=Pa(31,v,h,_),c.elementType=k,c.lanes=C,c;case g:return tl(v.children,_,C,h);case x:M=8,_|=24;break;case b:return c=Pa(12,v,h,_|2),c.elementType=b,c.lanes=C,c;case T:return c=Pa(13,v,h,_),c.elementType=T,c.lanes=C,c;case R:return c=Pa(19,v,h,_),c.elementType=R,c.lanes=C,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case w:case S:M=10;break e;case E:M=9;break e;case A:M=11;break e;case D:M=14;break e;case P:M=16,y=null;break e}M=29,v=Error(r(130,c===null?"null":typeof c,"")),y=null}return h=Pa(M,v,h,_),h.elementType=c,h.type=y,h.lanes=C,h}function tl(c,h,v,y){return c=Pa(7,c,y,h),c.lanes=v,c}function F1(c,h,v){return c=Pa(6,c,null,h),c.lanes=v,c}function B1(c,h,v){return h=Pa(4,c.children!==null?c.children:[],c.key,h),h.lanes=v,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var Mc=[],Ic=0,M0=null,I0=0,pi=[],vi=0,nl=null,Yo=1,Qo="";function rl(c,h){Mc[Ic++]=I0,Mc[Ic++]=M0,M0=c,I0=h}function dO(c,h,v){pi[vi++]=Yo,pi[vi++]=Qo,pi[vi++]=nl,nl=c;var y=Yo;c=Qo;var _=32-Ht(y)-1;y&=~(1<<_),v+=1;var C=32-Ht(h)+_;if(30<C){var M=_-_%5;C=(y&(1<<M)-1).toString(32),y>>=M,_-=M,Yo=1<<32-Ht(h)+_|v<<_|y,Qo=C+c}else Yo=1<<C|v<<_|y,Qo=c}function L1(c){c.return!==null&&(rl(c,1),dO(c,1,0))}function j1(c){for(;c===M0;)M0=Mc[--Ic],Mc[Ic]=null,I0=Mc[--Ic],Mc[Ic]=null;for(;c===nl;)nl=pi[--vi],pi[vi]=null,Qo=pi[--vi],pi[vi]=null,Yo=pi[--vi],pi[vi]=null}var ra=null,Nn=null,$t=!1,al=null,po=!1,U1=Error(r(519));function il(c){var h=Error(r(418,""));throw zh(hi(h,c)),U1}function pO(c){var h=c.stateNode,v=c.type,y=c.memoizedProps;switch(h[hr]=c,h[dr]=y,v){case"dialog":Mt("cancel",h),Mt("close",h);break;case"iframe":case"object":case"embed":Mt("load",h);break;case"video":case"audio":for(v=0;v<fd.length;v++)Mt(fd[v],h);break;case"source":Mt("error",h);break;case"img":case"image":case"link":Mt("error",h),Mt("load",h);break;case"details":Mt("toggle",h);break;case"input":Mt("invalid",h),RC(h,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),w0(h);break;case"select":Mt("invalid",h);break;case"textarea":Mt("invalid",h),NC(h,y.value,y.defaultValue,y.children),w0(h)}v=y.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||h.textContent===""+v||y.suppressHydrationWarning===!0||N4(h.textContent,v)?(y.popover!=null&&(Mt("beforetoggle",h),Mt("toggle",h)),y.onScroll!=null&&Mt("scroll",h),y.onScrollEnd!=null&&Mt("scrollend",h),y.onClick!=null&&(h.onclick=vv),h=!0):h=!1,h||il(c)}function vO(c){for(ra=c.return;ra;)switch(ra.tag){case 5:case 13:po=!1;return;case 27:case 3:po=!0;return;default:ra=ra.return}}function jh(c){if(c!==ra)return!1;if(!$t)return vO(c),$t=!0,!1;var h=c.tag,v;if((v=h!==3&&h!==27)&&((v=h===5)&&(v=c.type,v=!(v!=="form"&&v!=="button")||nb(c.type,c.memoizedProps)),v=!v),v&&Nn&&il(c),vO(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8)if(v=c.data,v==="/$"){if(h===0){Nn=Vi(c.nextSibling);break e}h--}else v!=="$"&&v!=="$!"&&v!=="$?"||h++;c=c.nextSibling}Nn=null}}else h===27?(h=Nn,lu(c.type)?(c=ob,ob=null,Nn=c):Nn=h):Nn=ra?Vi(c.stateNode.nextSibling):null;return!0}function Uh(){Nn=ra=null,$t=!1}function mO(){var c=al;return c!==null&&(va===null?va=c:va.push.apply(va,c),al=null),c}function zh(c){al===null?al=[c]:al.push(c)}var z1=se(null),ol=null,Zo=null;function Ks(c,h,v){G(z1,h._currentValue),h._currentValue=v}function Jo(c){c._currentValue=z1.current,L(z1)}function W1(c,h,v){for(;c!==null;){var y=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),c===v)break;c=c.return}}function H1(c,h,v,y){var _=c.child;for(_!==null&&(_.return=c);_!==null;){var C=_.dependencies;if(C!==null){var M=_.child;C=C.firstContext;e:for(;C!==null;){var U=C;C=_;for(var re=0;re<h.length;re++)if(U.context===h[re]){C.lanes|=v,U=C.alternate,U!==null&&(U.lanes|=v),W1(C.return,v,c),y||(M=null);break e}C=U.next}}else if(_.tag===18){if(M=_.return,M===null)throw Error(r(341));M.lanes|=v,C=M.alternate,C!==null&&(C.lanes|=v),W1(M,v,c),M=null}else M=_.child;if(M!==null)M.return=_;else for(M=_;M!==null;){if(M===c){M=null;break}if(_=M.sibling,_!==null){_.return=M.return,M=_;break}M=M.return}_=M}}function Wh(c,h,v,y){c=null;for(var _=h,C=!1;_!==null;){if(!C){if((_.flags&524288)!==0)C=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var M=_.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var U=_.type;ka(_.pendingProps.value,M.value)||(c!==null?c.push(U):c=[U])}}else if(_===Pe.current){if(M=_.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(c!==null?c.push(gd):c=[gd])}_=_.return}c!==null&&H1(h,c,v,y),h.flags|=262144}function F0(c){for(c=c.firstContext;c!==null;){if(!ka(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function sl(c){ol=c,Zo=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Hr(c){return gO(ol,c)}function B0(c,h){return ol===null&&sl(c),gO(c,h)}function gO(c,h){var v=h._currentValue;if(h={context:h,memoizedValue:v,next:null},Zo===null){if(c===null)throw Error(r(308));Zo=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else Zo=Zo.next=h;return v}var $9=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(v,y){c.push(y)}};this.abort=function(){h.aborted=!0,c.forEach(function(v){return v()})}},V9=e.unstable_scheduleCallback,q9=e.unstable_NormalPriority,er={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $1(){return{controller:new $9,data:new Map,refCount:0}}function Hh(c){c.refCount--,c.refCount===0&&V9(q9,function(){c.controller.abort()})}var $h=null,V1=0,Fc=0,Bc=null;function G9(c,h){if($h===null){var v=$h=[];V1=0,Fc=Gx(),Bc={status:"pending",value:void 0,then:function(y){v.push(y)}}}return V1++,h.then(yO,yO),h}function yO(){if(--V1===0&&$h!==null){Bc!==null&&(Bc.status="fulfilled");var c=$h;$h=null,Fc=0,Bc=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function K9(c,h){var v=[],y={status:"pending",value:null,reason:null,then:function(_){v.push(_)}};return c.then(function(){y.status="fulfilled",y.value=h;for(var _=0;_<v.length;_++)(0,v[_])(h)},function(_){for(y.status="rejected",y.reason=_,_=0;_<v.length;_++)(0,v[_])(void 0)}),y}var xO=H.S;H.S=function(c,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&G9(c,h),xO!==null&&xO(c,h)};var ul=se(null);function q1(){var c=ul.current;return c!==null?c:vn.pooledCache}function L0(c,h){h===null?G(ul,ul.current):G(ul,h.pool)}function bO(){var c=q1();return c===null?null:{parent:er._currentValue,pool:c}}var Vh=Error(r(460)),wO=Error(r(474)),j0=Error(r(542)),G1={then:function(){}};function _O(c){return c=c.status,c==="fulfilled"||c==="rejected"}function U0(){}function EO(c,h,v){switch(v=c[v],v===void 0?c.push(h):v!==h&&(h.then(U0,U0),h=v),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,TO(c),c;default:if(typeof h.status=="string")h.then(U0,U0);else{if(c=vn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=h,c.status="pending",c.then(function(y){if(h.status==="pending"){var _=h;_.status="fulfilled",_.value=y}},function(y){if(h.status==="pending"){var _=h;_.status="rejected",_.reason=y}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,TO(c),c}throw qh=h,Vh}}var qh=null;function SO(){if(qh===null)throw Error(r(459));var c=qh;return qh=null,c}function TO(c){if(c===Vh||c===j0)throw Error(r(483))}var Xs=!1;function K1(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function X1(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Ys(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Qs(c,h,v){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(Xt&2)!==0){var _=y.pending;return _===null?h.next=h:(h.next=_.next,_.next=h),y.pending=h,h=k0(c),fO(c,null,v),h}return N0(c,y,h,v),k0(c)}function Gh(c,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194048)!==0)){var y=h.lanes;y&=c.pendingLanes,v|=y,h.lanes=v,x0(c,v)}}function Y1(c,h){var v=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,v===y)){var _=null,C=null;if(v=v.firstBaseUpdate,v!==null){do{var M={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};C===null?_=C=M:C=C.next=M,v=v.next}while(v!==null);C===null?_=C=h:C=C.next=h}else _=C=h;v={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:C,shared:y.shared,callbacks:y.callbacks},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=h:c.next=h,v.lastBaseUpdate=h}var Q1=!1;function Kh(){if(Q1){var c=Bc;if(c!==null)throw c}}function Xh(c,h,v,y){Q1=!1;var _=c.updateQueue;Xs=!1;var C=_.firstBaseUpdate,M=_.lastBaseUpdate,U=_.shared.pending;if(U!==null){_.shared.pending=null;var re=U,be=re.next;re.next=null,M===null?C=be:M.next=be,M=re;var Ie=c.alternate;Ie!==null&&(Ie=Ie.updateQueue,U=Ie.lastBaseUpdate,U!==M&&(U===null?Ie.firstBaseUpdate=be:U.next=be,Ie.lastBaseUpdate=re))}if(C!==null){var Le=_.baseState;M=0,Ie=be=re=null,U=C;do{var Ee=U.lane&-536870913,Te=Ee!==U.lane;if(Te?(Bt&Ee)===Ee:(y&Ee)===Ee){Ee!==0&&Ee===Fc&&(Q1=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var bt=c,yt=U;Ee=h;var ln=v;switch(yt.tag){case 1:if(bt=yt.payload,typeof bt=="function"){Le=bt.call(ln,Le,Ee);break e}Le=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=yt.payload,Ee=typeof bt=="function"?bt.call(ln,Le,Ee):bt,Ee==null)break e;Le=f({},Le,Ee);break e;case 2:Xs=!0}}Ee=U.callback,Ee!==null&&(c.flags|=64,Te&&(c.flags|=8192),Te=_.callbacks,Te===null?_.callbacks=[Ee]:Te.push(Ee))}else Te={lane:Ee,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ie===null?(be=Ie=Te,re=Le):Ie=Ie.next=Te,M|=Ee;if(U=U.next,U===null){if(U=_.shared.pending,U===null)break;Te=U,U=Te.next,Te.next=null,_.lastBaseUpdate=Te,_.shared.pending=null}}while(!0);Ie===null&&(re=Le),_.baseState=re,_.firstBaseUpdate=be,_.lastBaseUpdate=Ie,C===null&&(_.shared.lanes=0),iu|=M,c.lanes=M,c.memoizedState=Le}}function AO(c,h){if(typeof c!="function")throw Error(r(191,c));c.call(h)}function CO(c,h){var v=c.callbacks;if(v!==null)for(c.callbacks=null,c=0;c<v.length;c++)AO(v[c],h)}var Lc=se(null),z0=se(0);function OO(c,h){c=os,G(z0,c),G(Lc,h),os=c|h.baseLanes}function Z1(){G(z0,os),G(Lc,Lc.current)}function J1(){os=z0.current,L(Lc),L(z0)}var Zs=0,Dt=null,sn=null,$n=null,W0=!1,jc=!1,ll=!1,H0=0,Yh=0,Uc=null,X9=0;function Ln(){throw Error(r(321))}function ex(c,h){if(h===null)return!1;for(var v=0;v<h.length&&v<c.length;v++)if(!ka(c[v],h[v]))return!1;return!0}function tx(c,h,v,y,_,C){return Zs=C,Dt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,H.H=c===null||c.memoizedState===null?fR:hR,ll=!1,C=v(y,_),ll=!1,jc&&(C=DO(h,v,y,_)),RO(c),C}function RO(c){H.H=X0;var h=sn!==null&&sn.next!==null;if(Zs=0,$n=sn=Dt=null,W0=!1,Yh=0,Uc=null,h)throw Error(r(300));c===null||pr||(c=c.dependencies,c!==null&&F0(c)&&(pr=!0))}function DO(c,h,v,y){Dt=c;var _=0;do{if(jc&&(Uc=null),Yh=0,jc=!1,25<=_)throw Error(r(301));if(_+=1,$n=sn=null,c.updateQueue!=null){var C=c.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}H.H=nW,C=h(v,y)}while(jc);return C}function Y9(){var c=H.H,h=c.useState()[0];return h=typeof h.then=="function"?Qh(h):h,c=c.useState()[0],(sn!==null?sn.memoizedState:null)!==c&&(Dt.flags|=1024),h}function nx(){var c=H0!==0;return H0=0,c}function rx(c,h,v){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~v}function ax(c){if(W0){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}W0=!1}Zs=0,$n=sn=Dt=null,jc=!1,Yh=H0=0,Uc=null}function da(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?Dt.memoizedState=$n=c:$n=$n.next=c,$n}function Vn(){if(sn===null){var c=Dt.alternate;c=c!==null?c.memoizedState:null}else c=sn.next;var h=$n===null?Dt.memoizedState:$n.next;if(h!==null)$n=h,sn=c;else{if(c===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));sn=c,c={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},$n===null?Dt.memoizedState=$n=c:$n=$n.next=c}return $n}function ix(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qh(c){var h=Yh;return Yh+=1,Uc===null&&(Uc=[]),c=EO(Uc,c,h),h=Dt,($n===null?h.memoizedState:$n.next)===null&&(h=h.alternate,H.H=h===null||h.memoizedState===null?fR:hR),c}function $0(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Qh(c);if(c.$$typeof===S)return Hr(c)}throw Error(r(438,String(c)))}function ox(c){var h=null,v=Dt.updateQueue;if(v!==null&&(h=v.memoCache),h==null){var y=Dt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(h={data:y.data.map(function(_){return _.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),v===null&&(v=ix(),Dt.updateQueue=v),v.memoCache=h,v=h.data[h.index],v===void 0)for(v=h.data[h.index]=Array(c),y=0;y<c;y++)v[y]=I;return h.index++,v}function es(c,h){return typeof h=="function"?h(c):h}function V0(c){var h=Vn();return sx(h,sn,c)}function sx(c,h,v){var y=c.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=v;var _=c.baseQueue,C=y.pending;if(C!==null){if(_!==null){var M=_.next;_.next=C.next,C.next=M}h.baseQueue=_=C,y.pending=null}if(C=c.baseState,_===null)c.memoizedState=C;else{h=_.next;var U=M=null,re=null,be=h,Ie=!1;do{var Le=be.lane&-536870913;if(Le!==be.lane?(Bt&Le)===Le:(Zs&Le)===Le){var Ee=be.revertLane;if(Ee===0)re!==null&&(re=re.next={lane:0,revertLane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),Le===Fc&&(Ie=!0);else if((Zs&Ee)===Ee){be=be.next,Ee===Fc&&(Ie=!0);continue}else Le={lane:0,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},re===null?(U=re=Le,M=C):re=re.next=Le,Dt.lanes|=Ee,iu|=Ee;Le=be.action,ll&&v(C,Le),C=be.hasEagerState?be.eagerState:v(C,Le)}else Ee={lane:Le,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},re===null?(U=re=Ee,M=C):re=re.next=Ee,Dt.lanes|=Le,iu|=Le;be=be.next}while(be!==null&&be!==h);if(re===null?M=C:re.next=U,!ka(C,c.memoizedState)&&(pr=!0,Ie&&(v=Bc,v!==null)))throw v;c.memoizedState=C,c.baseState=M,c.baseQueue=re,y.lastRenderedState=C}return _===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function ux(c){var h=Vn(),v=h.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=c;var y=v.dispatch,_=v.pending,C=h.memoizedState;if(_!==null){v.pending=null;var M=_=_.next;do C=c(C,M.action),M=M.next;while(M!==_);ka(C,h.memoizedState)||(pr=!0),h.memoizedState=C,h.baseQueue===null&&(h.baseState=C),v.lastRenderedState=C}return[C,y]}function NO(c,h,v){var y=Dt,_=Vn(),C=$t;if(C){if(v===void 0)throw Error(r(407));v=v()}else v=h();var M=!ka((sn||_).memoizedState,v);M&&(_.memoizedState=v,pr=!0),_=_.queue;var U=MO.bind(null,y,_,c);if(Zh(2048,8,U,[c]),_.getSnapshot!==h||M||$n!==null&&$n.memoizedState.tag&1){if(y.flags|=2048,zc(9,q0(),PO.bind(null,y,_,v,h),null),vn===null)throw Error(r(349));C||(Zs&124)!==0||kO(y,h,v)}return v}function kO(c,h,v){c.flags|=16384,c={getSnapshot:h,value:v},h=Dt.updateQueue,h===null?(h=ix(),Dt.updateQueue=h,h.stores=[c]):(v=h.stores,v===null?h.stores=[c]:v.push(c))}function PO(c,h,v,y){h.value=v,h.getSnapshot=y,IO(h)&&FO(c)}function MO(c,h,v){return v(function(){IO(h)&&FO(c)})}function IO(c){var h=c.getSnapshot;c=c.value;try{var v=h();return!ka(c,v)}catch{return!0}}function FO(c){var h=kc(c,2);h!==null&&La(h,c,2)}function lx(c){var h=da();if(typeof c=="function"){var v=c;if(c=v(),ll){wt(!0);try{v()}finally{wt(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:c},h}function BO(c,h,v,y){return c.baseState=v,sx(c,sn,typeof y=="function"?y:es)}function Q9(c,h,v,y,_){if(K0(c))throw Error(r(485));if(c=h.action,c!==null){var C={payload:_,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){C.listeners.push(M)}};H.T!==null?v(!0):C.isTransition=!1,y(C),v=h.pending,v===null?(C.next=h.pending=C,LO(h,C)):(C.next=v.next,h.pending=v.next=C)}}function LO(c,h){var v=h.action,y=h.payload,_=c.state;if(h.isTransition){var C=H.T,M={};H.T=M;try{var U=v(_,y),re=H.S;re!==null&&re(M,U),jO(c,h,U)}catch(be){cx(c,h,be)}finally{H.T=C}}else try{C=v(_,y),jO(c,h,C)}catch(be){cx(c,h,be)}}function jO(c,h,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(y){UO(c,h,y)},function(y){return cx(c,h,y)}):UO(c,h,v)}function UO(c,h,v){h.status="fulfilled",h.value=v,zO(h),c.state=v,h=c.pending,h!==null&&(v=h.next,v===h?c.pending=null:(v=v.next,h.next=v,LO(c,v)))}function cx(c,h,v){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do h.status="rejected",h.reason=v,zO(h),h=h.next;while(h!==y)}c.action=null}function zO(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function WO(c,h){return h}function HO(c,h){if($t){var v=vn.formState;if(v!==null){e:{var y=Dt;if($t){if(Nn){t:{for(var _=Nn,C=po;_.nodeType!==8;){if(!C){_=null;break t}if(_=Vi(_.nextSibling),_===null){_=null;break t}}C=_.data,_=C==="F!"||C==="F"?_:null}if(_){Nn=Vi(_.nextSibling),y=_.data==="F!";break e}}il(y)}y=!1}y&&(h=v[0])}}return v=da(),v.memoizedState=v.baseState=h,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:WO,lastRenderedState:h},v.queue=y,v=uR.bind(null,Dt,y),y.dispatch=v,y=lx(!1),C=vx.bind(null,Dt,!1,y.queue),y=da(),_={state:h,dispatch:null,action:c,pending:null},y.queue=_,v=Q9.bind(null,Dt,_,C,v),_.dispatch=v,y.memoizedState=c,[h,v,!1]}function $O(c){var h=Vn();return VO(h,sn,c)}function VO(c,h,v){if(h=sx(c,h,WO)[0],c=V0(es)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var y=Qh(h)}catch(M){throw M===Vh?j0:M}else y=h;h=Vn();var _=h.queue,C=_.dispatch;return v!==h.memoizedState&&(Dt.flags|=2048,zc(9,q0(),Z9.bind(null,_,v),null)),[y,C,c]}function Z9(c,h){c.action=h}function qO(c){var h=Vn(),v=sn;if(v!==null)return VO(h,v,c);Vn(),h=h.memoizedState,v=Vn();var y=v.queue.dispatch;return v.memoizedState=c,[h,y,!1]}function zc(c,h,v,y){return c={tag:c,create:v,deps:y,inst:h,next:null},h=Dt.updateQueue,h===null&&(h=ix(),Dt.updateQueue=h),v=h.lastEffect,v===null?h.lastEffect=c.next=c:(y=v.next,v.next=c,c.next=y,h.lastEffect=c),c}function q0(){return{destroy:void 0,resource:void 0}}function GO(){return Vn().memoizedState}function G0(c,h,v,y){var _=da();y=y===void 0?null:y,Dt.flags|=c,_.memoizedState=zc(1|h,q0(),v,y)}function Zh(c,h,v,y){var _=Vn();y=y===void 0?null:y;var C=_.memoizedState.inst;sn!==null&&y!==null&&ex(y,sn.memoizedState.deps)?_.memoizedState=zc(h,C,v,y):(Dt.flags|=c,_.memoizedState=zc(1|h,C,v,y))}function KO(c,h){G0(8390656,8,c,h)}function XO(c,h){Zh(2048,8,c,h)}function YO(c,h){return Zh(4,2,c,h)}function QO(c,h){return Zh(4,4,c,h)}function ZO(c,h){if(typeof h=="function"){c=c();var v=h(c);return function(){typeof v=="function"?v():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function JO(c,h,v){v=v!=null?v.concat([c]):null,Zh(4,4,ZO.bind(null,h,c),v)}function fx(){}function eR(c,h){var v=Vn();h=h===void 0?null:h;var y=v.memoizedState;return h!==null&&ex(h,y[1])?y[0]:(v.memoizedState=[c,h],c)}function tR(c,h){var v=Vn();h=h===void 0?null:h;var y=v.memoizedState;if(h!==null&&ex(h,y[1]))return y[0];if(y=c(),ll){wt(!0);try{c()}finally{wt(!1)}}return v.memoizedState=[y,h],y}function hx(c,h,v){return v===void 0||(Zs&1073741824)!==0?c.memoizedState=h:(c.memoizedState=v,c=a4(),Dt.lanes|=c,iu|=c,v)}function nR(c,h,v,y){return ka(v,h)?v:Lc.current!==null?(c=hx(c,v,y),ka(c,h)||(pr=!0),c):(Zs&42)===0?(pr=!0,c.memoizedState=v):(c=a4(),Dt.lanes|=c,iu|=c,h)}function rR(c,h,v,y,_){var C=Z.p;Z.p=C!==0&&8>C?C:8;var M=H.T,U={};H.T=U,vx(c,!1,h,v);try{var re=_(),be=H.S;if(be!==null&&be(U,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var Ie=K9(re,y);Jh(c,h,Ie,Ba(c))}else Jh(c,h,y,Ba(c))}catch(Le){Jh(c,h,{then:function(){},status:"rejected",reason:Le},Ba())}finally{Z.p=C,H.T=M}}function J9(){}function dx(c,h,v,y){if(c.tag!==5)throw Error(r(476));var _=aR(c).queue;rR(c,_,h,ie,v===null?J9:function(){return iR(c),v(y)})}function aR(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ie},next:null};var v={};return h.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:v},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function iR(c){var h=aR(c).next.queue;Jh(c,h,{},Ba())}function px(){return Hr(gd)}function oR(){return Vn().memoizedState}function sR(){return Vn().memoizedState}function eW(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var v=Ba();c=Ys(v);var y=Qs(h,c,v);y!==null&&(La(y,h,v),Gh(y,h,v)),h={cache:$1()},c.payload=h;return}h=h.return}}function tW(c,h,v){var y=Ba();v={lane:y,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},K0(c)?lR(h,v):(v=M1(c,h,v,y),v!==null&&(La(v,c,y),cR(v,h,y)))}function uR(c,h,v){var y=Ba();Jh(c,h,v,y)}function Jh(c,h,v,y){var _={lane:y,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(K0(c))lR(h,_);else{var C=c.alternate;if(c.lanes===0&&(C===null||C.lanes===0)&&(C=h.lastRenderedReducer,C!==null))try{var M=h.lastRenderedState,U=C(M,v);if(_.hasEagerState=!0,_.eagerState=U,ka(U,M))return N0(c,h,_,0),vn===null&&D0(),!1}catch{}finally{}if(v=M1(c,h,_,y),v!==null)return La(v,c,y),cR(v,h,y),!0}return!1}function vx(c,h,v,y){if(y={lane:2,revertLane:Gx(),action:y,hasEagerState:!1,eagerState:null,next:null},K0(c)){if(h)throw Error(r(479))}else h=M1(c,v,y,2),h!==null&&La(h,c,2)}function K0(c){var h=c.alternate;return c===Dt||h!==null&&h===Dt}function lR(c,h){jc=W0=!0;var v=c.pending;v===null?h.next=h:(h.next=v.next,v.next=h),c.pending=h}function cR(c,h,v){if((v&4194048)!==0){var y=h.lanes;y&=c.pendingLanes,v|=y,h.lanes=v,x0(c,v)}}var X0={readContext:Hr,use:$0,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln},fR={readContext:Hr,use:$0,useCallback:function(c,h){return da().memoizedState=[c,h===void 0?null:h],c},useContext:Hr,useEffect:KO,useImperativeHandle:function(c,h,v){v=v!=null?v.concat([c]):null,G0(4194308,4,ZO.bind(null,h,c),v)},useLayoutEffect:function(c,h){return G0(4194308,4,c,h)},useInsertionEffect:function(c,h){G0(4,2,c,h)},useMemo:function(c,h){var v=da();h=h===void 0?null:h;var y=c();if(ll){wt(!0);try{c()}finally{wt(!1)}}return v.memoizedState=[y,h],y},useReducer:function(c,h,v){var y=da();if(v!==void 0){var _=v(h);if(ll){wt(!0);try{v(h)}finally{wt(!1)}}}else _=h;return y.memoizedState=y.baseState=_,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:_},y.queue=c,c=c.dispatch=tW.bind(null,Dt,c),[y.memoizedState,c]},useRef:function(c){var h=da();return c={current:c},h.memoizedState=c},useState:function(c){c=lx(c);var h=c.queue,v=uR.bind(null,Dt,h);return h.dispatch=v,[c.memoizedState,v]},useDebugValue:fx,useDeferredValue:function(c,h){var v=da();return hx(v,c,h)},useTransition:function(){var c=lx(!1);return c=rR.bind(null,Dt,c.queue,!0,!1),da().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,v){var y=Dt,_=da();if($t){if(v===void 0)throw Error(r(407));v=v()}else{if(v=h(),vn===null)throw Error(r(349));(Bt&124)!==0||kO(y,h,v)}_.memoizedState=v;var C={value:v,getSnapshot:h};return _.queue=C,KO(MO.bind(null,y,C,c),[c]),y.flags|=2048,zc(9,q0(),PO.bind(null,y,C,v,h),null),v},useId:function(){var c=da(),h=vn.identifierPrefix;if($t){var v=Qo,y=Yo;v=(y&~(1<<32-Ht(y)-1)).toString(32)+v,h=""+h+"R"+v,v=H0++,0<v&&(h+="H"+v.toString(32)),h+=""}else v=X9++,h=""+h+"r"+v.toString(32)+"";return c.memoizedState=h},useHostTransitionStatus:px,useFormState:HO,useActionState:HO,useOptimistic:function(c){var h=da();h.memoizedState=h.baseState=c;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=v,h=vx.bind(null,Dt,!0,v),v.dispatch=h,[c,h]},useMemoCache:ox,useCacheRefresh:function(){return da().memoizedState=eW.bind(null,Dt)}},hR={readContext:Hr,use:$0,useCallback:eR,useContext:Hr,useEffect:XO,useImperativeHandle:JO,useInsertionEffect:YO,useLayoutEffect:QO,useMemo:tR,useReducer:V0,useRef:GO,useState:function(){return V0(es)},useDebugValue:fx,useDeferredValue:function(c,h){var v=Vn();return nR(v,sn.memoizedState,c,h)},useTransition:function(){var c=V0(es)[0],h=Vn().memoizedState;return[typeof c=="boolean"?c:Qh(c),h]},useSyncExternalStore:NO,useId:oR,useHostTransitionStatus:px,useFormState:$O,useActionState:$O,useOptimistic:function(c,h){var v=Vn();return BO(v,sn,c,h)},useMemoCache:ox,useCacheRefresh:sR},nW={readContext:Hr,use:$0,useCallback:eR,useContext:Hr,useEffect:XO,useImperativeHandle:JO,useInsertionEffect:YO,useLayoutEffect:QO,useMemo:tR,useReducer:ux,useRef:GO,useState:function(){return ux(es)},useDebugValue:fx,useDeferredValue:function(c,h){var v=Vn();return sn===null?hx(v,c,h):nR(v,sn.memoizedState,c,h)},useTransition:function(){var c=ux(es)[0],h=Vn().memoizedState;return[typeof c=="boolean"?c:Qh(c),h]},useSyncExternalStore:NO,useId:oR,useHostTransitionStatus:px,useFormState:qO,useActionState:qO,useOptimistic:function(c,h){var v=Vn();return sn!==null?BO(v,sn,c,h):(v.baseState=c,[c,v.queue.dispatch])},useMemoCache:ox,useCacheRefresh:sR},Wc=null,ed=0;function Y0(c){var h=ed;return ed+=1,Wc===null&&(Wc=[]),EO(Wc,c,h)}function td(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function Q0(c,h){throw h.$$typeof===d?Error(r(525)):(c=Object.prototype.toString.call(h),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function dR(c){var h=c._init;return h(c._payload)}function pR(c){function h(pe,fe){if(c){var xe=pe.deletions;xe===null?(pe.deletions=[fe],pe.flags|=16):xe.push(fe)}}function v(pe,fe){if(!c)return null;for(;fe!==null;)h(pe,fe),fe=fe.sibling;return null}function y(pe){for(var fe=new Map;pe!==null;)pe.key!==null?fe.set(pe.key,pe):fe.set(pe.index,pe),pe=pe.sibling;return fe}function _(pe,fe){return pe=Xo(pe,fe),pe.index=0,pe.sibling=null,pe}function C(pe,fe,xe){return pe.index=xe,c?(xe=pe.alternate,xe!==null?(xe=xe.index,xe<fe?(pe.flags|=67108866,fe):xe):(pe.flags|=67108866,fe)):(pe.flags|=1048576,fe)}function M(pe){return c&&pe.alternate===null&&(pe.flags|=67108866),pe}function U(pe,fe,xe,Fe){return fe===null||fe.tag!==6?(fe=F1(xe,pe.mode,Fe),fe.return=pe,fe):(fe=_(fe,xe),fe.return=pe,fe)}function re(pe,fe,xe,Fe){var it=xe.type;return it===g?Ie(pe,fe,xe.props.children,Fe,xe.key):fe!==null&&(fe.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===P&&dR(it)===fe.type)?(fe=_(fe,xe.props),td(fe,xe),fe.return=pe,fe):(fe=P0(xe.type,xe.key,xe.props,null,pe.mode,Fe),td(fe,xe),fe.return=pe,fe)}function be(pe,fe,xe,Fe){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==xe.containerInfo||fe.stateNode.implementation!==xe.implementation?(fe=B1(xe,pe.mode,Fe),fe.return=pe,fe):(fe=_(fe,xe.children||[]),fe.return=pe,fe)}function Ie(pe,fe,xe,Fe,it){return fe===null||fe.tag!==7?(fe=tl(xe,pe.mode,Fe,it),fe.return=pe,fe):(fe=_(fe,xe),fe.return=pe,fe)}function Le(pe,fe,xe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=F1(""+fe,pe.mode,xe),fe.return=pe,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case p:return xe=P0(fe.type,fe.key,fe.props,null,pe.mode,xe),td(xe,fe),xe.return=pe,xe;case m:return fe=B1(fe,pe.mode,xe),fe.return=pe,fe;case P:var Fe=fe._init;return fe=Fe(fe._payload),Le(pe,fe,xe)}if(V(fe)||B(fe))return fe=tl(fe,pe.mode,xe,null),fe.return=pe,fe;if(typeof fe.then=="function")return Le(pe,Y0(fe),xe);if(fe.$$typeof===S)return Le(pe,B0(pe,fe),xe);Q0(pe,fe)}return null}function Ee(pe,fe,xe,Fe){var it=fe!==null?fe.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return it!==null?null:U(pe,fe,""+xe,Fe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case p:return xe.key===it?re(pe,fe,xe,Fe):null;case m:return xe.key===it?be(pe,fe,xe,Fe):null;case P:return it=xe._init,xe=it(xe._payload),Ee(pe,fe,xe,Fe)}if(V(xe)||B(xe))return it!==null?null:Ie(pe,fe,xe,Fe,null);if(typeof xe.then=="function")return Ee(pe,fe,Y0(xe),Fe);if(xe.$$typeof===S)return Ee(pe,fe,B0(pe,xe),Fe);Q0(pe,xe)}return null}function Te(pe,fe,xe,Fe,it){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return pe=pe.get(xe)||null,U(fe,pe,""+Fe,it);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case p:return pe=pe.get(Fe.key===null?xe:Fe.key)||null,re(fe,pe,Fe,it);case m:return pe=pe.get(Fe.key===null?xe:Fe.key)||null,be(fe,pe,Fe,it);case P:var Nt=Fe._init;return Fe=Nt(Fe._payload),Te(pe,fe,xe,Fe,it)}if(V(Fe)||B(Fe))return pe=pe.get(xe)||null,Ie(fe,pe,Fe,it,null);if(typeof Fe.then=="function")return Te(pe,fe,xe,Y0(Fe),it);if(Fe.$$typeof===S)return Te(pe,fe,xe,B0(fe,Fe),it);Q0(fe,Fe)}return null}function bt(pe,fe,xe,Fe){for(var it=null,Nt=null,mt=fe,xt=fe=0,mr=null;mt!==null&&xt<xe.length;xt++){mt.index>xt?(mr=mt,mt=null):mr=mt.sibling;var Ut=Ee(pe,mt,xe[xt],Fe);if(Ut===null){mt===null&&(mt=mr);break}c&&mt&&Ut.alternate===null&&h(pe,mt),fe=C(Ut,fe,xt),Nt===null?it=Ut:Nt.sibling=Ut,Nt=Ut,mt=mr}if(xt===xe.length)return v(pe,mt),$t&&rl(pe,xt),it;if(mt===null){for(;xt<xe.length;xt++)mt=Le(pe,xe[xt],Fe),mt!==null&&(fe=C(mt,fe,xt),Nt===null?it=mt:Nt.sibling=mt,Nt=mt);return $t&&rl(pe,xt),it}for(mt=y(mt);xt<xe.length;xt++)mr=Te(mt,pe,xt,xe[xt],Fe),mr!==null&&(c&&mr.alternate!==null&&mt.delete(mr.key===null?xt:mr.key),fe=C(mr,fe,xt),Nt===null?it=mr:Nt.sibling=mr,Nt=mr);return c&&mt.forEach(function(pu){return h(pe,pu)}),$t&&rl(pe,xt),it}function yt(pe,fe,xe,Fe){if(xe==null)throw Error(r(151));for(var it=null,Nt=null,mt=fe,xt=fe=0,mr=null,Ut=xe.next();mt!==null&&!Ut.done;xt++,Ut=xe.next()){mt.index>xt?(mr=mt,mt=null):mr=mt.sibling;var pu=Ee(pe,mt,Ut.value,Fe);if(pu===null){mt===null&&(mt=mr);break}c&&mt&&pu.alternate===null&&h(pe,mt),fe=C(pu,fe,xt),Nt===null?it=pu:Nt.sibling=pu,Nt=pu,mt=mr}if(Ut.done)return v(pe,mt),$t&&rl(pe,xt),it;if(mt===null){for(;!Ut.done;xt++,Ut=xe.next())Ut=Le(pe,Ut.value,Fe),Ut!==null&&(fe=C(Ut,fe,xt),Nt===null?it=Ut:Nt.sibling=Ut,Nt=Ut);return $t&&rl(pe,xt),it}for(mt=y(mt);!Ut.done;xt++,Ut=xe.next())Ut=Te(mt,pe,xt,Ut.value,Fe),Ut!==null&&(c&&Ut.alternate!==null&&mt.delete(Ut.key===null?xt:Ut.key),fe=C(Ut,fe,xt),Nt===null?it=Ut:Nt.sibling=Ut,Nt=Ut);return c&&mt.forEach(function(rH){return h(pe,rH)}),$t&&rl(pe,xt),it}function ln(pe,fe,xe,Fe){if(typeof xe=="object"&&xe!==null&&xe.type===g&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case p:e:{for(var it=xe.key;fe!==null;){if(fe.key===it){if(it=xe.type,it===g){if(fe.tag===7){v(pe,fe.sibling),Fe=_(fe,xe.props.children),Fe.return=pe,pe=Fe;break e}}else if(fe.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===P&&dR(it)===fe.type){v(pe,fe.sibling),Fe=_(fe,xe.props),td(Fe,xe),Fe.return=pe,pe=Fe;break e}v(pe,fe);break}else h(pe,fe);fe=fe.sibling}xe.type===g?(Fe=tl(xe.props.children,pe.mode,Fe,xe.key),Fe.return=pe,pe=Fe):(Fe=P0(xe.type,xe.key,xe.props,null,pe.mode,Fe),td(Fe,xe),Fe.return=pe,pe=Fe)}return M(pe);case m:e:{for(it=xe.key;fe!==null;){if(fe.key===it)if(fe.tag===4&&fe.stateNode.containerInfo===xe.containerInfo&&fe.stateNode.implementation===xe.implementation){v(pe,fe.sibling),Fe=_(fe,xe.children||[]),Fe.return=pe,pe=Fe;break e}else{v(pe,fe);break}else h(pe,fe);fe=fe.sibling}Fe=B1(xe,pe.mode,Fe),Fe.return=pe,pe=Fe}return M(pe);case P:return it=xe._init,xe=it(xe._payload),ln(pe,fe,xe,Fe)}if(V(xe))return bt(pe,fe,xe,Fe);if(B(xe)){if(it=B(xe),typeof it!="function")throw Error(r(150));return xe=it.call(xe),yt(pe,fe,xe,Fe)}if(typeof xe.then=="function")return ln(pe,fe,Y0(xe),Fe);if(xe.$$typeof===S)return ln(pe,fe,B0(pe,xe),Fe);Q0(pe,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,fe!==null&&fe.tag===6?(v(pe,fe.sibling),Fe=_(fe,xe),Fe.return=pe,pe=Fe):(v(pe,fe),Fe=F1(xe,pe.mode,Fe),Fe.return=pe,pe=Fe),M(pe)):v(pe,fe)}return function(pe,fe,xe,Fe){try{ed=0;var it=ln(pe,fe,xe,Fe);return Wc=null,it}catch(mt){if(mt===Vh||mt===j0)throw mt;var Nt=Pa(29,mt,null,pe.mode);return Nt.lanes=Fe,Nt.return=pe,Nt}finally{}}}var Hc=pR(!0),vR=pR(!1),mi=se(null),vo=null;function Js(c){var h=c.alternate;G(tr,tr.current&1),G(mi,c),vo===null&&(h===null||Lc.current!==null||h.memoizedState!==null)&&(vo=c)}function mR(c){if(c.tag===22){if(G(tr,tr.current),G(mi,c),vo===null){var h=c.alternate;h!==null&&h.memoizedState!==null&&(vo=c)}}else eu()}function eu(){G(tr,tr.current),G(mi,mi.current)}function ts(c){L(mi),vo===c&&(vo=null),L(tr)}var tr=se(0);function Z0(c){for(var h=c;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||ib(v)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function mx(c,h,v,y){h=c.memoizedState,v=v(y,h),v=v==null?h:f({},h,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var gx={enqueueSetState:function(c,h,v){c=c._reactInternals;var y=Ba(),_=Ys(y);_.payload=h,v!=null&&(_.callback=v),h=Qs(c,_,y),h!==null&&(La(h,c,y),Gh(h,c,y))},enqueueReplaceState:function(c,h,v){c=c._reactInternals;var y=Ba(),_=Ys(y);_.tag=1,_.payload=h,v!=null&&(_.callback=v),h=Qs(c,_,y),h!==null&&(La(h,c,y),Gh(h,c,y))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var v=Ba(),y=Ys(v);y.tag=2,h!=null&&(y.callback=h),h=Qs(c,y,v),h!==null&&(La(h,c,v),Gh(h,c,v))}};function gR(c,h,v,y,_,C,M){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,C,M):h.prototype&&h.prototype.isPureReactComponent?!Bh(v,y)||!Bh(_,C):!0}function yR(c,h,v,y){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,y),h.state!==c&&gx.enqueueReplaceState(h,h.state,null)}function cl(c,h){var v=h;if("ref"in h){v={};for(var y in h)y!=="ref"&&(v[y]=h[y])}if(c=c.defaultProps){v===h&&(v=f({},v));for(var _ in c)v[_]===void 0&&(v[_]=c[_])}return v}var J0=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function xR(c){J0(c)}function bR(c){console.error(c)}function wR(c){J0(c)}function ev(c,h){try{var v=c.onUncaughtError;v(h.value,{componentStack:h.stack})}catch(y){setTimeout(function(){throw y})}}function _R(c,h,v){try{var y=c.onCaughtError;y(v.value,{componentStack:v.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function yx(c,h,v){return v=Ys(v),v.tag=3,v.payload={element:null},v.callback=function(){ev(c,h)},v}function ER(c){return c=Ys(c),c.tag=3,c}function SR(c,h,v,y){var _=v.type.getDerivedStateFromError;if(typeof _=="function"){var C=y.value;c.payload=function(){return _(C)},c.callback=function(){_R(h,v,y)}}var M=v.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(c.callback=function(){_R(h,v,y),typeof _!="function"&&(ou===null?ou=new Set([this]):ou.add(this));var U=y.stack;this.componentDidCatch(y.value,{componentStack:U!==null?U:""})})}function rW(c,h,v,y,_){if(v.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(h=v.alternate,h!==null&&Wh(h,v,_,!0),v=mi.current,v!==null){switch(v.tag){case 13:return vo===null?Wx():v.alternate===null&&kn===0&&(kn=3),v.flags&=-257,v.flags|=65536,v.lanes=_,y===G1?v.flags|=16384:(h=v.updateQueue,h===null?v.updateQueue=new Set([y]):h.add(y),$x(c,y,_)),!1;case 22:return v.flags|=65536,y===G1?v.flags|=16384:(h=v.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([y])},v.updateQueue=h):(v=h.retryQueue,v===null?h.retryQueue=new Set([y]):v.add(y)),$x(c,y,_)),!1}throw Error(r(435,v.tag))}return $x(c,y,_),Wx(),!1}if($t)return h=mi.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=_,y!==U1&&(c=Error(r(422),{cause:y}),zh(hi(c,v)))):(y!==U1&&(h=Error(r(423),{cause:y}),zh(hi(h,v))),c=c.current.alternate,c.flags|=65536,_&=-_,c.lanes|=_,y=hi(y,v),_=yx(c.stateNode,y,_),Y1(c,_),kn!==4&&(kn=2)),!1;var C=Error(r(520),{cause:y});if(C=hi(C,v),ud===null?ud=[C]:ud.push(C),kn!==4&&(kn=2),h===null)return!0;y=hi(y,v),v=h;do{switch(v.tag){case 3:return v.flags|=65536,c=_&-_,v.lanes|=c,c=yx(v.stateNode,y,c),Y1(v,c),!1;case 1:if(h=v.type,C=v.stateNode,(v.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ou===null||!ou.has(C))))return v.flags|=65536,_&=-_,v.lanes|=_,_=ER(_),SR(_,c,v,y),Y1(v,_),!1}v=v.return}while(v!==null);return!1}var TR=Error(r(461)),pr=!1;function Cr(c,h,v,y){h.child=c===null?vR(h,null,v,y):Hc(h,c.child,v,y)}function AR(c,h,v,y,_){v=v.render;var C=h.ref;if("ref"in y){var M={};for(var U in y)U!=="ref"&&(M[U]=y[U])}else M=y;return sl(h),y=tx(c,h,v,M,C,_),U=nx(),c!==null&&!pr?(rx(c,h,_),ns(c,h,_)):($t&&U&&L1(h),h.flags|=1,Cr(c,h,y,_),h.child)}function CR(c,h,v,y,_){if(c===null){var C=v.type;return typeof C=="function"&&!I1(C)&&C.defaultProps===void 0&&v.compare===null?(h.tag=15,h.type=C,OR(c,h,C,y,_)):(c=P0(v.type,null,y,h,h.mode,_),c.ref=h.ref,c.return=h,h.child=c)}if(C=c.child,!Ax(c,_)){var M=C.memoizedProps;if(v=v.compare,v=v!==null?v:Bh,v(M,y)&&c.ref===h.ref)return ns(c,h,_)}return h.flags|=1,c=Xo(C,y),c.ref=h.ref,c.return=h,h.child=c}function OR(c,h,v,y,_){if(c!==null){var C=c.memoizedProps;if(Bh(C,y)&&c.ref===h.ref)if(pr=!1,h.pendingProps=y=C,Ax(c,_))(c.flags&131072)!==0&&(pr=!0);else return h.lanes=c.lanes,ns(c,h,_)}return xx(c,h,v,y,_)}function RR(c,h,v){var y=h.pendingProps,_=y.children,C=c!==null?c.memoizedState:null;if(y.mode==="hidden"){if((h.flags&128)!==0){if(y=C!==null?C.baseLanes|v:v,c!==null){for(_=h.child=c.child,C=0;_!==null;)C=C|_.lanes|_.childLanes,_=_.sibling;h.childLanes=C&~y}else h.childLanes=0,h.child=null;return DR(c,h,y,v)}if((v&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&L0(h,C!==null?C.cachePool:null),C!==null?OO(h,C):Z1(),mR(h);else return h.lanes=h.childLanes=536870912,DR(c,h,C!==null?C.baseLanes|v:v,v)}else C!==null?(L0(h,C.cachePool),OO(h,C),eu(),h.memoizedState=null):(c!==null&&L0(h,null),Z1(),eu());return Cr(c,h,_,v),h.child}function DR(c,h,v,y){var _=q1();return _=_===null?null:{parent:er._currentValue,pool:_},h.memoizedState={baseLanes:v,cachePool:_},c!==null&&L0(h,null),Z1(),mR(h),c!==null&&Wh(c,h,y,!0),null}function tv(c,h){var v=h.ref;if(v===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(r(284));(c===null||c.ref!==v)&&(h.flags|=4194816)}}function xx(c,h,v,y,_){return sl(h),v=tx(c,h,v,y,void 0,_),y=nx(),c!==null&&!pr?(rx(c,h,_),ns(c,h,_)):($t&&y&&L1(h),h.flags|=1,Cr(c,h,v,_),h.child)}function NR(c,h,v,y,_,C){return sl(h),h.updateQueue=null,v=DO(h,y,v,_),RO(c),y=nx(),c!==null&&!pr?(rx(c,h,C),ns(c,h,C)):($t&&y&&L1(h),h.flags|=1,Cr(c,h,v,C),h.child)}function kR(c,h,v,y,_){if(sl(h),h.stateNode===null){var C=Pc,M=v.contextType;typeof M=="object"&&M!==null&&(C=Hr(M)),C=new v(y,C),h.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=gx,h.stateNode=C,C._reactInternals=h,C=h.stateNode,C.props=y,C.state=h.memoizedState,C.refs={},K1(h),M=v.contextType,C.context=typeof M=="object"&&M!==null?Hr(M):Pc,C.state=h.memoizedState,M=v.getDerivedStateFromProps,typeof M=="function"&&(mx(h,v,M,y),C.state=h.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(M=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),M!==C.state&&gx.enqueueReplaceState(C,C.state,null),Xh(h,y,C,_),Kh(),C.state=h.memoizedState),typeof C.componentDidMount=="function"&&(h.flags|=4194308),y=!0}else if(c===null){C=h.stateNode;var U=h.memoizedProps,re=cl(v,U);C.props=re;var be=C.context,Ie=v.contextType;M=Pc,typeof Ie=="object"&&Ie!==null&&(M=Hr(Ie));var Le=v.getDerivedStateFromProps;Ie=typeof Le=="function"||typeof C.getSnapshotBeforeUpdate=="function",U=h.pendingProps!==U,Ie||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U||be!==M)&&yR(h,C,y,M),Xs=!1;var Ee=h.memoizedState;C.state=Ee,Xh(h,y,C,_),Kh(),be=h.memoizedState,U||Ee!==be||Xs?(typeof Le=="function"&&(mx(h,v,Le,y),be=h.memoizedState),(re=Xs||gR(h,v,re,y,Ee,be,M))?(Ie||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(h.flags|=4194308)):(typeof C.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=be),C.props=y,C.state=be,C.context=M,y=re):(typeof C.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{C=h.stateNode,X1(c,h),M=h.memoizedProps,Ie=cl(v,M),C.props=Ie,Le=h.pendingProps,Ee=C.context,be=v.contextType,re=Pc,typeof be=="object"&&be!==null&&(re=Hr(be)),U=v.getDerivedStateFromProps,(be=typeof U=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(M!==Le||Ee!==re)&&yR(h,C,y,re),Xs=!1,Ee=h.memoizedState,C.state=Ee,Xh(h,y,C,_),Kh();var Te=h.memoizedState;M!==Le||Ee!==Te||Xs||c!==null&&c.dependencies!==null&&F0(c.dependencies)?(typeof U=="function"&&(mx(h,v,U,y),Te=h.memoizedState),(Ie=Xs||gR(h,v,Ie,y,Ee,Te,re)||c!==null&&c.dependencies!==null&&F0(c.dependencies))?(be||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,Te,re),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,Te,re)),typeof C.componentDidUpdate=="function"&&(h.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof C.componentDidUpdate!="function"||M===c.memoizedProps&&Ee===c.memoizedState||(h.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||M===c.memoizedProps&&Ee===c.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=Te),C.props=y,C.state=Te,C.context=re,y=Ie):(typeof C.componentDidUpdate!="function"||M===c.memoizedProps&&Ee===c.memoizedState||(h.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||M===c.memoizedProps&&Ee===c.memoizedState||(h.flags|=1024),y=!1)}return C=y,tv(c,h),y=(h.flags&128)!==0,C||y?(C=h.stateNode,v=y&&typeof v.getDerivedStateFromError!="function"?null:C.render(),h.flags|=1,c!==null&&y?(h.child=Hc(h,c.child,null,_),h.child=Hc(h,null,v,_)):Cr(c,h,v,_),h.memoizedState=C.state,c=h.child):c=ns(c,h,_),c}function PR(c,h,v,y){return Uh(),h.flags|=256,Cr(c,h,v,y),h.child}var bx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wx(c){return{baseLanes:c,cachePool:bO()}}function _x(c,h,v){return c=c!==null?c.childLanes&~v:0,h&&(c|=gi),c}function MR(c,h,v){var y=h.pendingProps,_=!1,C=(h.flags&128)!==0,M;if((M=C)||(M=c!==null&&c.memoizedState===null?!1:(tr.current&2)!==0),M&&(_=!0,h.flags&=-129),M=(h.flags&32)!==0,h.flags&=-33,c===null){if($t){if(_?Js(h):eu(),$t){var U=Nn,re;if(re=U){e:{for(re=U,U=po;re.nodeType!==8;){if(!U){U=null;break e}if(re=Vi(re.nextSibling),re===null){U=null;break e}}U=re}U!==null?(h.memoizedState={dehydrated:U,treeContext:nl!==null?{id:Yo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},re=Pa(18,null,null,0),re.stateNode=U,re.return=h,h.child=re,ra=h,Nn=null,re=!0):re=!1}re||il(h)}if(U=h.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return ib(U)?h.lanes=32:h.lanes=536870912,null;ts(h)}return U=y.children,y=y.fallback,_?(eu(),_=h.mode,U=nv({mode:"hidden",children:U},_),y=tl(y,_,v,null),U.return=h,y.return=h,U.sibling=y,h.child=U,_=h.child,_.memoizedState=wx(v),_.childLanes=_x(c,M,v),h.memoizedState=bx,y):(Js(h),Ex(h,U))}if(re=c.memoizedState,re!==null&&(U=re.dehydrated,U!==null)){if(C)h.flags&256?(Js(h),h.flags&=-257,h=Sx(c,h,v)):h.memoizedState!==null?(eu(),h.child=c.child,h.flags|=128,h=null):(eu(),_=y.fallback,U=h.mode,y=nv({mode:"visible",children:y.children},U),_=tl(_,U,v,null),_.flags|=2,y.return=h,_.return=h,y.sibling=_,h.child=y,Hc(h,c.child,null,v),y=h.child,y.memoizedState=wx(v),y.childLanes=_x(c,M,v),h.memoizedState=bx,h=_);else if(Js(h),ib(U)){if(M=U.nextSibling&&U.nextSibling.dataset,M)var be=M.dgst;M=be,y=Error(r(419)),y.stack="",y.digest=M,zh({value:y,source:null,stack:null}),h=Sx(c,h,v)}else if(pr||Wh(c,h,v,!1),M=(v&c.childLanes)!==0,pr||M){if(M=vn,M!==null&&(y=v&-v,y=(y&42)!==0?1:Ch(y),y=(y&(M.suspendedLanes|v))!==0?0:y,y!==0&&y!==re.retryLane))throw re.retryLane=y,kc(c,y),La(M,c,y),TR;U.data==="$?"||Wx(),h=Sx(c,h,v)}else U.data==="$?"?(h.flags|=192,h.child=c.child,h=null):(c=re.treeContext,Nn=Vi(U.nextSibling),ra=h,$t=!0,al=null,po=!1,c!==null&&(pi[vi++]=Yo,pi[vi++]=Qo,pi[vi++]=nl,Yo=c.id,Qo=c.overflow,nl=h),h=Ex(h,y.children),h.flags|=4096);return h}return _?(eu(),_=y.fallback,U=h.mode,re=c.child,be=re.sibling,y=Xo(re,{mode:"hidden",children:y.children}),y.subtreeFlags=re.subtreeFlags&65011712,be!==null?_=Xo(be,_):(_=tl(_,U,v,null),_.flags|=2),_.return=h,y.return=h,y.sibling=_,h.child=y,y=_,_=h.child,U=c.child.memoizedState,U===null?U=wx(v):(re=U.cachePool,re!==null?(be=er._currentValue,re=re.parent!==be?{parent:be,pool:be}:re):re=bO(),U={baseLanes:U.baseLanes|v,cachePool:re}),_.memoizedState=U,_.childLanes=_x(c,M,v),h.memoizedState=bx,y):(Js(h),v=c.child,c=v.sibling,v=Xo(v,{mode:"visible",children:y.children}),v.return=h,v.sibling=null,c!==null&&(M=h.deletions,M===null?(h.deletions=[c],h.flags|=16):M.push(c)),h.child=v,h.memoizedState=null,v)}function Ex(c,h){return h=nv({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function nv(c,h){return c=Pa(22,c,null,h),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function Sx(c,h,v){return Hc(h,c.child,null,v),c=Ex(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function IR(c,h,v){c.lanes|=h;var y=c.alternate;y!==null&&(y.lanes|=h),W1(c.return,h,v)}function Tx(c,h,v,y,_){var C=c.memoizedState;C===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:v,tailMode:_}:(C.isBackwards=h,C.rendering=null,C.renderingStartTime=0,C.last=y,C.tail=v,C.tailMode=_)}function FR(c,h,v){var y=h.pendingProps,_=y.revealOrder,C=y.tail;if(Cr(c,h,y.children,v),y=tr.current,(y&2)!==0)y=y&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&IR(c,v,h);else if(c.tag===19)IR(c,v,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}y&=1}switch(G(tr,y),_){case"forwards":for(v=h.child,_=null;v!==null;)c=v.alternate,c!==null&&Z0(c)===null&&(_=v),v=v.sibling;v=_,v===null?(_=h.child,h.child=null):(_=v.sibling,v.sibling=null),Tx(h,!1,_,v,C);break;case"backwards":for(v=null,_=h.child,h.child=null;_!==null;){if(c=_.alternate,c!==null&&Z0(c)===null){h.child=_;break}c=_.sibling,_.sibling=v,v=_,_=c}Tx(h,!0,v,null,C);break;case"together":Tx(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function ns(c,h,v){if(c!==null&&(h.dependencies=c.dependencies),iu|=h.lanes,(v&h.childLanes)===0)if(c!==null){if(Wh(c,h,v,!1),(v&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(r(153));if(h.child!==null){for(c=h.child,v=Xo(c,c.pendingProps),h.child=v,v.return=h;c.sibling!==null;)c=c.sibling,v=v.sibling=Xo(c,c.pendingProps),v.return=h;v.sibling=null}return h.child}function Ax(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&F0(c)))}function aW(c,h,v){switch(h.tag){case 3:le(h,h.stateNode.containerInfo),Ks(h,er,c.memoizedState.cache),Uh();break;case 27:case 5:ye(h);break;case 4:le(h,h.stateNode.containerInfo);break;case 10:Ks(h,h.type,h.memoizedProps.value);break;case 13:var y=h.memoizedState;if(y!==null)return y.dehydrated!==null?(Js(h),h.flags|=128,null):(v&h.child.childLanes)!==0?MR(c,h,v):(Js(h),c=ns(c,h,v),c!==null?c.sibling:null);Js(h);break;case 19:var _=(c.flags&128)!==0;if(y=(v&h.childLanes)!==0,y||(Wh(c,h,v,!1),y=(v&h.childLanes)!==0),_){if(y)return FR(c,h,v);h.flags|=128}if(_=h.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),G(tr,tr.current),y)break;return null;case 22:case 23:return h.lanes=0,RR(c,h,v);case 24:Ks(h,er,c.memoizedState.cache)}return ns(c,h,v)}function BR(c,h,v){if(c!==null)if(c.memoizedProps!==h.pendingProps)pr=!0;else{if(!Ax(c,v)&&(h.flags&128)===0)return pr=!1,aW(c,h,v);pr=(c.flags&131072)!==0}else pr=!1,$t&&(h.flags&1048576)!==0&&dO(h,I0,h.index);switch(h.lanes=0,h.tag){case 16:e:{c=h.pendingProps;var y=h.elementType,_=y._init;if(y=_(y._payload),h.type=y,typeof y=="function")I1(y)?(c=cl(y,c),h.tag=1,h=kR(null,h,y,c,v)):(h.tag=0,h=xx(null,h,y,c,v));else{if(y!=null){if(_=y.$$typeof,_===A){h.tag=11,h=AR(null,h,y,c,v);break e}else if(_===D){h.tag=14,h=CR(null,h,y,c,v);break e}}throw h=ae(y)||y,Error(r(306,h,""))}}return h;case 0:return xx(c,h,h.type,h.pendingProps,v);case 1:return y=h.type,_=cl(y,h.pendingProps),kR(c,h,y,_,v);case 3:e:{if(le(h,h.stateNode.containerInfo),c===null)throw Error(r(387));y=h.pendingProps;var C=h.memoizedState;_=C.element,X1(c,h),Xh(h,y,null,v);var M=h.memoizedState;if(y=M.cache,Ks(h,er,y),y!==C.cache&&H1(h,[er],v,!0),Kh(),y=M.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:M.cache},h.updateQueue.baseState=C,h.memoizedState=C,h.flags&256){h=PR(c,h,y,v);break e}else if(y!==_){_=hi(Error(r(424)),h),zh(_),h=PR(c,h,y,v);break e}else{switch(c=h.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Nn=Vi(c.firstChild),ra=h,$t=!0,al=null,po=!0,v=vR(h,null,y,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(Uh(),y===_){h=ns(c,h,v);break e}Cr(c,h,y,v)}h=h.child}return h;case 26:return tv(c,h),c===null?(v=z4(h.type,null,h.pendingProps,null))?h.memoizedState=v:$t||(v=h.type,c=h.pendingProps,y=mv(ce.current).createElement(v),y[hr]=h,y[dr]=c,Rr(y,v,c),me(y),h.stateNode=y):h.memoizedState=z4(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return ye(h),c===null&&$t&&(y=h.stateNode=L4(h.type,h.pendingProps,ce.current),ra=h,po=!0,_=Nn,lu(h.type)?(ob=_,Nn=Vi(y.firstChild)):Nn=_),Cr(c,h,h.pendingProps.children,v),tv(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&$t&&((_=y=Nn)&&(y=kW(y,h.type,h.pendingProps,po),y!==null?(h.stateNode=y,ra=h,Nn=Vi(y.firstChild),po=!1,_=!0):_=!1),_||il(h)),ye(h),_=h.type,C=h.pendingProps,M=c!==null?c.memoizedProps:null,y=C.children,nb(_,C)?y=null:M!==null&&nb(_,M)&&(h.flags|=32),h.memoizedState!==null&&(_=tx(c,h,Y9,null,null,v),gd._currentValue=_),tv(c,h),Cr(c,h,y,v),h.child;case 6:return c===null&&$t&&((c=v=Nn)&&(v=PW(v,h.pendingProps,po),v!==null?(h.stateNode=v,ra=h,Nn=null,c=!0):c=!1),c||il(h)),null;case 13:return MR(c,h,v);case 4:return le(h,h.stateNode.containerInfo),y=h.pendingProps,c===null?h.child=Hc(h,null,y,v):Cr(c,h,y,v),h.child;case 11:return AR(c,h,h.type,h.pendingProps,v);case 7:return Cr(c,h,h.pendingProps,v),h.child;case 8:return Cr(c,h,h.pendingProps.children,v),h.child;case 12:return Cr(c,h,h.pendingProps.children,v),h.child;case 10:return y=h.pendingProps,Ks(h,h.type,y.value),Cr(c,h,y.children,v),h.child;case 9:return _=h.type._context,y=h.pendingProps.children,sl(h),_=Hr(_),y=y(_),h.flags|=1,Cr(c,h,y,v),h.child;case 14:return CR(c,h,h.type,h.pendingProps,v);case 15:return OR(c,h,h.type,h.pendingProps,v);case 19:return FR(c,h,v);case 31:return y=h.pendingProps,v=h.mode,y={mode:y.mode,children:y.children},c===null?(v=nv(y,v),v.ref=h.ref,h.child=v,v.return=h,h=v):(v=Xo(c.child,y),v.ref=h.ref,h.child=v,v.return=h,h=v),h;case 22:return RR(c,h,v);case 24:return sl(h),y=Hr(er),c===null?(_=q1(),_===null&&(_=vn,C=$1(),_.pooledCache=C,C.refCount++,C!==null&&(_.pooledCacheLanes|=v),_=C),h.memoizedState={parent:y,cache:_},K1(h),Ks(h,er,_)):((c.lanes&v)!==0&&(X1(c,h),Xh(h,null,null,v),Kh()),_=c.memoizedState,C=h.memoizedState,_.parent!==y?(_={parent:y,cache:y},h.memoizedState=_,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=_),Ks(h,er,y)):(y=C.cache,Ks(h,er,y),y!==_.cache&&H1(h,[er],v,!0))),Cr(c,h,h.pendingProps.children,v),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function rs(c){c.flags|=4}function LR(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!q4(h)){if(h=mi.current,h!==null&&((Bt&4194048)===Bt?vo!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||h!==vo))throw qh=G1,wO;c.flags|=8192}}function rv(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?Th():536870912,c.lanes|=h,Gc|=h)}function nd(c,h){if(!$t)switch(c.tailMode){case"hidden":h=c.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var y=null;v!==null;)v.alternate!==null&&(y=v),v=v.sibling;y===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Cn(c){var h=c.alternate!==null&&c.alternate.child===c.child,v=0,y=0;if(h)for(var _=c.child;_!==null;)v|=_.lanes|_.childLanes,y|=_.subtreeFlags&65011712,y|=_.flags&65011712,_.return=c,_=_.sibling;else for(_=c.child;_!==null;)v|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=c,_=_.sibling;return c.subtreeFlags|=y,c.childLanes=v,h}function iW(c,h,v){var y=h.pendingProps;switch(j1(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(h),null;case 1:return Cn(h),null;case 3:return v=h.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),Jo(er),oe(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(c===null||c.child===null)&&(jh(h)?rs(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,mO())),Cn(h),null;case 26:return v=h.memoizedState,c===null?(rs(h),v!==null?(Cn(h),LR(h,v)):(Cn(h),h.flags&=-16777217)):v?v!==c.memoizedState?(rs(h),Cn(h),LR(h,v)):(Cn(h),h.flags&=-16777217):(c.memoizedProps!==y&&rs(h),Cn(h),h.flags&=-16777217),null;case 27:Oe(h),v=ce.current;var _=h.type;if(c!==null&&h.stateNode!=null)c.memoizedProps!==y&&rs(h);else{if(!y){if(h.stateNode===null)throw Error(r(166));return Cn(h),null}c=X.current,jh(h)?pO(h):(c=L4(_,y,v),h.stateNode=c,rs(h))}return Cn(h),null;case 5:if(Oe(h),v=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==y&&rs(h);else{if(!y){if(h.stateNode===null)throw Error(r(166));return Cn(h),null}if(c=X.current,jh(h))pO(h);else{switch(_=mv(ce.current),c){case 1:c=_.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:c=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":c=_.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":c=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":c=_.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof y.is=="string"?_.createElement("select",{is:y.is}):_.createElement("select"),y.multiple?c.multiple=!0:y.size&&(c.size=y.size);break;default:c=typeof y.is=="string"?_.createElement(v,{is:y.is}):_.createElement(v)}}c[hr]=h,c[dr]=y;e:for(_=h.child;_!==null;){if(_.tag===5||_.tag===6)c.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===h)break e;for(;_.sibling===null;){if(_.return===null||_.return===h)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}h.stateNode=c;e:switch(Rr(c,v,y),v){case"button":case"input":case"select":case"textarea":c=!!y.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&rs(h)}}return Cn(h),h.flags&=-16777217,null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==y&&rs(h);else{if(typeof y!="string"&&h.stateNode===null)throw Error(r(166));if(c=ce.current,jh(h)){if(c=h.stateNode,v=h.memoizedProps,y=null,_=ra,_!==null)switch(_.tag){case 27:case 5:y=_.memoizedProps}c[hr]=h,c=!!(c.nodeValue===v||y!==null&&y.suppressHydrationWarning===!0||N4(c.nodeValue,v)),c||il(h)}else c=mv(c).createTextNode(y),c[hr]=h,h.stateNode=c}return Cn(h),null;case 13:if(y=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(_=jh(h),y!==null&&y.dehydrated!==null){if(c===null){if(!_)throw Error(r(318));if(_=h.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[hr]=h}else Uh(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Cn(h),_=!1}else _=mO(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=_),_=!0;if(!_)return h.flags&256?(ts(h),h):(ts(h),null)}if(ts(h),(h.flags&128)!==0)return h.lanes=v,h;if(v=y!==null,c=c!==null&&c.memoizedState!==null,v){y=h.child,_=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(_=y.alternate.memoizedState.cachePool.pool);var C=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(C=y.memoizedState.cachePool.pool),C!==_&&(y.flags|=2048)}return v!==c&&v&&(h.child.flags|=8192),rv(h,h.updateQueue),Cn(h),null;case 4:return oe(),c===null&&Qx(h.stateNode.containerInfo),Cn(h),null;case 10:return Jo(h.type),Cn(h),null;case 19:if(L(tr),_=h.memoizedState,_===null)return Cn(h),null;if(y=(h.flags&128)!==0,C=_.rendering,C===null)if(y)nd(_,!1);else{if(kn!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(C=Z0(c),C!==null){for(h.flags|=128,nd(_,!1),c=C.updateQueue,h.updateQueue=c,rv(h,c),h.subtreeFlags=0,c=v,v=h.child;v!==null;)hO(v,c),v=v.sibling;return G(tr,tr.current&1|2),h.child}c=c.sibling}_.tail!==null&&He()>ov&&(h.flags|=128,y=!0,nd(_,!1),h.lanes=4194304)}else{if(!y)if(c=Z0(C),c!==null){if(h.flags|=128,y=!0,c=c.updateQueue,h.updateQueue=c,rv(h,c),nd(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!$t)return Cn(h),null}else 2*He()-_.renderingStartTime>ov&&v!==536870912&&(h.flags|=128,y=!0,nd(_,!1),h.lanes=4194304);_.isBackwards?(C.sibling=h.child,h.child=C):(c=_.last,c!==null?c.sibling=C:h.child=C,_.last=C)}return _.tail!==null?(h=_.tail,_.rendering=h,_.tail=h.sibling,_.renderingStartTime=He(),h.sibling=null,c=tr.current,G(tr,y?c&1|2:c&1),h):(Cn(h),null);case 22:case 23:return ts(h),J1(),y=h.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(h.flags|=8192):y&&(h.flags|=8192),y?(v&536870912)!==0&&(h.flags&128)===0&&(Cn(h),h.subtreeFlags&6&&(h.flags|=8192)):Cn(h),v=h.updateQueue,v!==null&&rv(h,v.retryQueue),v=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==v&&(h.flags|=2048),c!==null&&L(ul),null;case 24:return v=null,c!==null&&(v=c.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),Jo(er),Cn(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function oW(c,h){switch(j1(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Jo(er),oe(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return Oe(h),null;case 13:if(ts(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Uh()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return L(tr),null;case 4:return oe(),null;case 10:return Jo(h.type),null;case 22:case 23:return ts(h),J1(),c!==null&&L(ul),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return Jo(er),null;case 25:return null;default:return null}}function jR(c,h){switch(j1(h),h.tag){case 3:Jo(er),oe();break;case 26:case 27:case 5:Oe(h);break;case 4:oe();break;case 13:ts(h);break;case 19:L(tr);break;case 10:Jo(h.type);break;case 22:case 23:ts(h),J1(),c!==null&&L(ul);break;case 24:Jo(er)}}function rd(c,h){try{var v=h.updateQueue,y=v!==null?v.lastEffect:null;if(y!==null){var _=y.next;v=_;do{if((v.tag&c)===c){y=void 0;var C=v.create,M=v.inst;y=C(),M.destroy=y}v=v.next}while(v!==_)}}catch(U){hn(h,h.return,U)}}function tu(c,h,v){try{var y=h.updateQueue,_=y!==null?y.lastEffect:null;if(_!==null){var C=_.next;y=C;do{if((y.tag&c)===c){var M=y.inst,U=M.destroy;if(U!==void 0){M.destroy=void 0,_=h;var re=v,be=U;try{be()}catch(Ie){hn(_,re,Ie)}}}y=y.next}while(y!==C)}}catch(Ie){hn(h,h.return,Ie)}}function UR(c){var h=c.updateQueue;if(h!==null){var v=c.stateNode;try{CO(h,v)}catch(y){hn(c,c.return,y)}}}function zR(c,h,v){v.props=cl(c.type,c.memoizedProps),v.state=c.memoizedState;try{v.componentWillUnmount()}catch(y){hn(c,h,y)}}function ad(c,h){try{var v=c.ref;if(v!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof v=="function"?c.refCleanup=v(y):v.current=y}}catch(_){hn(c,h,_)}}function mo(c,h){var v=c.ref,y=c.refCleanup;if(v!==null)if(typeof y=="function")try{y()}catch(_){hn(c,h,_)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(_){hn(c,h,_)}else v.current=null}function WR(c){var h=c.type,v=c.memoizedProps,y=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":v.autoFocus&&y.focus();break e;case"img":v.src?y.src=v.src:v.srcSet&&(y.srcset=v.srcSet)}}catch(_){hn(c,c.return,_)}}function Cx(c,h,v){try{var y=c.stateNode;CW(y,c.type,v,h),y[dr]=h}catch(_){hn(c,c.return,_)}}function HR(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&lu(c.type)||c.tag===4}function Ox(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||HR(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&lu(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Rx(c,h,v){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(c,h):(h=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,h.appendChild(c),v=v._reactRootContainer,v!=null||h.onclick!==null||(h.onclick=vv));else if(y!==4&&(y===27&&lu(c.type)&&(v=c.stateNode,h=null),c=c.child,c!==null))for(Rx(c,h,v),c=c.sibling;c!==null;)Rx(c,h,v),c=c.sibling}function av(c,h,v){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?v.insertBefore(c,h):v.appendChild(c);else if(y!==4&&(y===27&&lu(c.type)&&(v=c.stateNode),c=c.child,c!==null))for(av(c,h,v),c=c.sibling;c!==null;)av(c,h,v),c=c.sibling}function $R(c){var h=c.stateNode,v=c.memoizedProps;try{for(var y=c.type,_=h.attributes;_.length;)h.removeAttributeNode(_[0]);Rr(h,y,v),h[hr]=c,h[dr]=v}catch(C){hn(c,c.return,C)}}var as=!1,jn=!1,Dx=!1,VR=typeof WeakSet=="function"?WeakSet:Set,vr=null;function sW(c,h){if(c=c.containerInfo,eb=_v,c=nO(c),O1(c)){if("selectionStart"in c)var v={start:c.selectionStart,end:c.selectionEnd};else e:{v=(v=c.ownerDocument)&&v.defaultView||window;var y=v.getSelection&&v.getSelection();if(y&&y.rangeCount!==0){v=y.anchorNode;var _=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{v.nodeType,C.nodeType}catch{v=null;break e}var M=0,U=-1,re=-1,be=0,Ie=0,Le=c,Ee=null;t:for(;;){for(var Te;Le!==v||_!==0&&Le.nodeType!==3||(U=M+_),Le!==C||y!==0&&Le.nodeType!==3||(re=M+y),Le.nodeType===3&&(M+=Le.nodeValue.length),(Te=Le.firstChild)!==null;)Ee=Le,Le=Te;for(;;){if(Le===c)break t;if(Ee===v&&++be===_&&(U=M),Ee===C&&++Ie===y&&(re=M),(Te=Le.nextSibling)!==null)break;Le=Ee,Ee=Le.parentNode}Le=Te}v=U===-1||re===-1?null:{start:U,end:re}}else v=null}v=v||{start:0,end:0}}else v=null;for(tb={focusedElem:c,selectionRange:v},_v=!1,vr=h;vr!==null;)if(h=vr,c=h.child,(h.subtreeFlags&1024)!==0&&c!==null)c.return=h,vr=c;else for(;vr!==null;){switch(h=vr,C=h.alternate,c=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&C!==null){c=void 0,v=h,_=C.memoizedProps,C=C.memoizedState,y=v.stateNode;try{var bt=cl(v.type,_,v.elementType===v.type);c=y.getSnapshotBeforeUpdate(bt,C),y.__reactInternalSnapshotBeforeUpdate=c}catch(yt){hn(v,v.return,yt)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,v=c.nodeType,v===9)ab(c);else if(v===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":ab(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=h.sibling,c!==null){c.return=h.return,vr=c;break}vr=h.return}}function qR(c,h,v){var y=v.flags;switch(v.tag){case 0:case 11:case 15:nu(c,v),y&4&&rd(5,v);break;case 1:if(nu(c,v),y&4)if(c=v.stateNode,h===null)try{c.componentDidMount()}catch(M){hn(v,v.return,M)}else{var _=cl(v.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(_,h,c.__reactInternalSnapshotBeforeUpdate)}catch(M){hn(v,v.return,M)}}y&64&&UR(v),y&512&&ad(v,v.return);break;case 3:if(nu(c,v),y&64&&(c=v.updateQueue,c!==null)){if(h=null,v.child!==null)switch(v.child.tag){case 27:case 5:h=v.child.stateNode;break;case 1:h=v.child.stateNode}try{CO(c,h)}catch(M){hn(v,v.return,M)}}break;case 27:h===null&&y&4&&$R(v);case 26:case 5:nu(c,v),h===null&&y&4&&WR(v),y&512&&ad(v,v.return);break;case 12:nu(c,v);break;case 13:nu(c,v),y&4&&XR(c,v),y&64&&(c=v.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(v=mW.bind(null,v),MW(c,v))));break;case 22:if(y=v.memoizedState!==null||as,!y){h=h!==null&&h.memoizedState!==null||jn,_=as;var C=jn;as=y,(jn=h)&&!C?ru(c,v,(v.subtreeFlags&8772)!==0):nu(c,v),as=_,jn=C}break;case 30:break;default:nu(c,v)}}function GR(c){var h=c.alternate;h!==null&&(c.alternate=null,GR(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&K(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var En=null,pa=!1;function is(c,h,v){for(v=v.child;v!==null;)KR(c,h,v),v=v.sibling}function KR(c,h,v){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(ut,v)}catch{}switch(v.tag){case 26:jn||mo(v,h),is(c,h,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:jn||mo(v,h);var y=En,_=pa;lu(v.type)&&(En=v.stateNode,pa=!1),is(c,h,v),dd(v.stateNode),En=y,pa=_;break;case 5:jn||mo(v,h);case 6:if(y=En,_=pa,En=null,is(c,h,v),En=y,pa=_,En!==null)if(pa)try{(En.nodeType===9?En.body:En.nodeName==="HTML"?En.ownerDocument.body:En).removeChild(v.stateNode)}catch(C){hn(v,h,C)}else try{En.removeChild(v.stateNode)}catch(C){hn(v,h,C)}break;case 18:En!==null&&(pa?(c=En,F4(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,v.stateNode),wd(c)):F4(En,v.stateNode));break;case 4:y=En,_=pa,En=v.stateNode.containerInfo,pa=!0,is(c,h,v),En=y,pa=_;break;case 0:case 11:case 14:case 15:jn||tu(2,v,h),jn||tu(4,v,h),is(c,h,v);break;case 1:jn||(mo(v,h),y=v.stateNode,typeof y.componentWillUnmount=="function"&&zR(v,h,y)),is(c,h,v);break;case 21:is(c,h,v);break;case 22:jn=(y=jn)||v.memoizedState!==null,is(c,h,v),jn=y;break;default:is(c,h,v)}}function XR(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{wd(c)}catch(v){hn(h,h.return,v)}}function uW(c){switch(c.tag){case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new VR),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new VR),h;default:throw Error(r(435,c.tag))}}function Nx(c,h){var v=uW(c);h.forEach(function(y){var _=gW.bind(null,c,y);v.has(y)||(v.add(y),y.then(_,_))})}function Ma(c,h){var v=h.deletions;if(v!==null)for(var y=0;y<v.length;y++){var _=v[y],C=c,M=h,U=M;e:for(;U!==null;){switch(U.tag){case 27:if(lu(U.type)){En=U.stateNode,pa=!1;break e}break;case 5:En=U.stateNode,pa=!1;break e;case 3:case 4:En=U.stateNode.containerInfo,pa=!0;break e}U=U.return}if(En===null)throw Error(r(160));KR(C,M,_),En=null,pa=!1,C=_.alternate,C!==null&&(C.return=null),_.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)YR(h,c),h=h.sibling}var $i=null;function YR(c,h){var v=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ma(h,c),Ia(c),y&4&&(tu(3,c,c.return),rd(3,c),tu(5,c,c.return));break;case 1:Ma(h,c),Ia(c),y&512&&(jn||v===null||mo(v,v.return)),y&64&&as&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(v=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=v===null?y:v.concat(y))));break;case 26:var _=$i;if(Ma(h,c),Ia(c),y&512&&(jn||v===null||mo(v,v.return)),y&4){var C=v!==null?v.memoizedState:null;if(y=c.memoizedState,v===null)if(y===null)if(c.stateNode===null){e:{y=c.type,v=c.memoizedProps,_=_.ownerDocument||_;t:switch(y){case"title":C=_.getElementsByTagName("title")[0],(!C||C[q]||C[hr]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=_.createElement(y),_.head.insertBefore(C,_.querySelector("head > title"))),Rr(C,y,v),C[hr]=c,me(C),y=C;break e;case"link":var M=$4("link","href",_).get(y+(v.href||""));if(M){for(var U=0;U<M.length;U++)if(C=M[U],C.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&C.getAttribute("rel")===(v.rel==null?null:v.rel)&&C.getAttribute("title")===(v.title==null?null:v.title)&&C.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){M.splice(U,1);break t}}C=_.createElement(y),Rr(C,y,v),_.head.appendChild(C);break;case"meta":if(M=$4("meta","content",_).get(y+(v.content||""))){for(U=0;U<M.length;U++)if(C=M[U],C.getAttribute("content")===(v.content==null?null:""+v.content)&&C.getAttribute("name")===(v.name==null?null:v.name)&&C.getAttribute("property")===(v.property==null?null:v.property)&&C.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&C.getAttribute("charset")===(v.charSet==null?null:v.charSet)){M.splice(U,1);break t}}C=_.createElement(y),Rr(C,y,v),_.head.appendChild(C);break;default:throw Error(r(468,y))}C[hr]=c,me(C),y=C}c.stateNode=y}else V4(_,c.type,c.stateNode);else c.stateNode=H4(_,y,c.memoizedProps);else C!==y?(C===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):C.count--,y===null?V4(_,c.type,c.stateNode):H4(_,y,c.memoizedProps)):y===null&&c.stateNode!==null&&Cx(c,c.memoizedProps,v.memoizedProps)}break;case 27:Ma(h,c),Ia(c),y&512&&(jn||v===null||mo(v,v.return)),v!==null&&y&4&&Cx(c,c.memoizedProps,v.memoizedProps);break;case 5:if(Ma(h,c),Ia(c),y&512&&(jn||v===null||mo(v,v.return)),c.flags&32){_=c.stateNode;try{Tc(_,"")}catch(Te){hn(c,c.return,Te)}}y&4&&c.stateNode!=null&&(_=c.memoizedProps,Cx(c,_,v!==null?v.memoizedProps:_)),y&1024&&(Dx=!0);break;case 6:if(Ma(h,c),Ia(c),y&4){if(c.stateNode===null)throw Error(r(162));y=c.memoizedProps,v=c.stateNode;try{v.nodeValue=y}catch(Te){hn(c,c.return,Te)}}break;case 3:if(xv=null,_=$i,$i=gv(h.containerInfo),Ma(h,c),$i=_,Ia(c),y&4&&v!==null&&v.memoizedState.isDehydrated)try{wd(h.containerInfo)}catch(Te){hn(c,c.return,Te)}Dx&&(Dx=!1,QR(c));break;case 4:y=$i,$i=gv(c.stateNode.containerInfo),Ma(h,c),Ia(c),$i=y;break;case 12:Ma(h,c),Ia(c);break;case 13:Ma(h,c),Ia(c),c.child.flags&8192&&c.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Bx=He()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Nx(c,y)));break;case 22:_=c.memoizedState!==null;var re=v!==null&&v.memoizedState!==null,be=as,Ie=jn;if(as=be||_,jn=Ie||re,Ma(h,c),jn=Ie,as=be,Ia(c),y&8192)e:for(h=c.stateNode,h._visibility=_?h._visibility&-2:h._visibility|1,_&&(v===null||re||as||jn||fl(c)),v=null,h=c;;){if(h.tag===5||h.tag===26){if(v===null){re=v=h;try{if(C=re.stateNode,_)M=C.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{U=re.stateNode;var Le=re.memoizedProps.style,Ee=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;U.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(Te){hn(re,re.return,Te)}}}else if(h.tag===6){if(v===null){re=h;try{re.stateNode.nodeValue=_?"":re.memoizedProps}catch(Te){hn(re,re.return,Te)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;v===h&&(v=null),h=h.return}v===h&&(v=null),h.sibling.return=h.return,h=h.sibling}y&4&&(y=c.updateQueue,y!==null&&(v=y.retryQueue,v!==null&&(y.retryQueue=null,Nx(c,v))));break;case 19:Ma(h,c),Ia(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Nx(c,y)));break;case 30:break;case 21:break;default:Ma(h,c),Ia(c)}}function Ia(c){var h=c.flags;if(h&2){try{for(var v,y=c.return;y!==null;){if(HR(y)){v=y;break}y=y.return}if(v==null)throw Error(r(160));switch(v.tag){case 27:var _=v.stateNode,C=Ox(c);av(c,C,_);break;case 5:var M=v.stateNode;v.flags&32&&(Tc(M,""),v.flags&=-33);var U=Ox(c);av(c,U,M);break;case 3:case 4:var re=v.stateNode.containerInfo,be=Ox(c);Rx(c,be,re);break;default:throw Error(r(161))}}catch(Ie){hn(c,c.return,Ie)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function QR(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;QR(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function nu(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)qR(c,h.alternate,h),h=h.sibling}function fl(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:tu(4,h,h.return),fl(h);break;case 1:mo(h,h.return);var v=h.stateNode;typeof v.componentWillUnmount=="function"&&zR(h,h.return,v),fl(h);break;case 27:dd(h.stateNode);case 26:case 5:mo(h,h.return),fl(h);break;case 22:h.memoizedState===null&&fl(h);break;case 30:fl(h);break;default:fl(h)}c=c.sibling}}function ru(c,h,v){for(v=v&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var y=h.alternate,_=c,C=h,M=C.flags;switch(C.tag){case 0:case 11:case 15:ru(_,C,v),rd(4,C);break;case 1:if(ru(_,C,v),y=C,_=y.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(be){hn(y,y.return,be)}if(y=C,_=y.updateQueue,_!==null){var U=y.stateNode;try{var re=_.shared.hiddenCallbacks;if(re!==null)for(_.shared.hiddenCallbacks=null,_=0;_<re.length;_++)AO(re[_],U)}catch(be){hn(y,y.return,be)}}v&&M&64&&UR(C),ad(C,C.return);break;case 27:$R(C);case 26:case 5:ru(_,C,v),v&&y===null&&M&4&&WR(C),ad(C,C.return);break;case 12:ru(_,C,v);break;case 13:ru(_,C,v),v&&M&4&&XR(_,C);break;case 22:C.memoizedState===null&&ru(_,C,v),ad(C,C.return);break;case 30:break;default:ru(_,C,v)}h=h.sibling}}function kx(c,h){var v=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==v&&(c!=null&&c.refCount++,v!=null&&Hh(v))}function Px(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Hh(c))}function go(c,h,v,y){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)ZR(c,h,v,y),h=h.sibling}function ZR(c,h,v,y){var _=h.flags;switch(h.tag){case 0:case 11:case 15:go(c,h,v,y),_&2048&&rd(9,h);break;case 1:go(c,h,v,y);break;case 3:go(c,h,v,y),_&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Hh(c)));break;case 12:if(_&2048){go(c,h,v,y),c=h.stateNode;try{var C=h.memoizedProps,M=C.id,U=C.onPostCommit;typeof U=="function"&&U(M,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(re){hn(h,h.return,re)}}else go(c,h,v,y);break;case 13:go(c,h,v,y);break;case 23:break;case 22:C=h.stateNode,M=h.alternate,h.memoizedState!==null?C._visibility&2?go(c,h,v,y):id(c,h):C._visibility&2?go(c,h,v,y):(C._visibility|=2,$c(c,h,v,y,(h.subtreeFlags&10256)!==0)),_&2048&&kx(M,h);break;case 24:go(c,h,v,y),_&2048&&Px(h.alternate,h);break;default:go(c,h,v,y)}}function $c(c,h,v,y,_){for(_=_&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var C=c,M=h,U=v,re=y,be=M.flags;switch(M.tag){case 0:case 11:case 15:$c(C,M,U,re,_),rd(8,M);break;case 23:break;case 22:var Ie=M.stateNode;M.memoizedState!==null?Ie._visibility&2?$c(C,M,U,re,_):id(C,M):(Ie._visibility|=2,$c(C,M,U,re,_)),_&&be&2048&&kx(M.alternate,M);break;case 24:$c(C,M,U,re,_),_&&be&2048&&Px(M.alternate,M);break;default:$c(C,M,U,re,_)}h=h.sibling}}function id(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var v=c,y=h,_=y.flags;switch(y.tag){case 22:id(v,y),_&2048&&kx(y.alternate,y);break;case 24:id(v,y),_&2048&&Px(y.alternate,y);break;default:id(v,y)}h=h.sibling}}var od=8192;function Vc(c){if(c.subtreeFlags&od)for(c=c.child;c!==null;)JR(c),c=c.sibling}function JR(c){switch(c.tag){case 26:Vc(c),c.flags&od&&c.memoizedState!==null&&GW($i,c.memoizedState,c.memoizedProps);break;case 5:Vc(c);break;case 3:case 4:var h=$i;$i=gv(c.stateNode.containerInfo),Vc(c),$i=h;break;case 22:c.memoizedState===null&&(h=c.alternate,h!==null&&h.memoizedState!==null?(h=od,od=16777216,Vc(c),od=h):Vc(c));break;default:Vc(c)}}function e4(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function sd(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var y=h[v];vr=y,n4(y,c)}e4(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)t4(c),c=c.sibling}function t4(c){switch(c.tag){case 0:case 11:case 15:sd(c),c.flags&2048&&tu(9,c,c.return);break;case 3:sd(c);break;case 12:sd(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,iv(c)):sd(c);break;default:sd(c)}}function iv(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var y=h[v];vr=y,n4(y,c)}e4(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:tu(8,h,h.return),iv(h);break;case 22:v=h.stateNode,v._visibility&2&&(v._visibility&=-3,iv(h));break;default:iv(h)}c=c.sibling}}function n4(c,h){for(;vr!==null;){var v=vr;switch(v.tag){case 0:case 11:case 15:tu(8,v,h);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var y=v.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Hh(v.memoizedState.cache)}if(y=v.child,y!==null)y.return=v,vr=y;else e:for(v=c;vr!==null;){y=vr;var _=y.sibling,C=y.return;if(GR(y),y===v){vr=null;break e}if(_!==null){_.return=C,vr=_;break e}vr=C}}}var lW={getCacheForType:function(c){var h=Hr(er),v=h.data.get(c);return v===void 0&&(v=c(),h.data.set(c,v)),v}},cW=typeof WeakMap=="function"?WeakMap:Map,Xt=0,vn=null,Pt=null,Bt=0,Yt=0,Fa=null,au=!1,qc=!1,Mx=!1,os=0,kn=0,iu=0,hl=0,Ix=0,gi=0,Gc=0,ud=null,va=null,Fx=!1,Bx=0,ov=1/0,sv=null,ou=null,Or=0,su=null,Kc=null,Xc=0,Lx=0,jx=null,r4=null,ld=0,Ux=null;function Ba(){if((Xt&2)!==0&&Bt!==0)return Bt&-Bt;if(H.T!==null){var c=Fc;return c!==0?c:Gx()}return b0()}function a4(){gi===0&&(gi=(Bt&536870912)===0||$t?Sh():536870912);var c=mi.current;return c!==null&&(c.flags|=32),gi}function La(c,h,v){(c===vn&&(Yt===2||Yt===9)||c.cancelPendingCommit!==null)&&(Yc(c,0),uu(c,Bt,gi,!1)),Yu(c,v),((Xt&2)===0||c!==vn)&&(c===vn&&((Xt&2)===0&&(hl|=v),kn===4&&uu(c,Bt,gi,!1)),yo(c))}function i4(c,h,v){if((Xt&6)!==0)throw Error(r(327));var y=!v&&(h&124)===0&&(h&c.expiredLanes)===0||Xu(c,h),_=y?dW(c,h):Hx(c,h,!0),C=y;do{if(_===0){qc&&!y&&uu(c,h,0,!1);break}else{if(v=c.current.alternate,C&&!fW(v)){_=Hx(c,h,!1),C=!1;continue}if(_===2){if(C=h,c.errorRecoveryDisabledLanes&C)var M=0;else M=c.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){h=M;e:{var U=c;_=ud;var re=U.current.memoizedState.isDehydrated;if(re&&(Yc(U,M).flags|=256),M=Hx(U,M,!1),M!==2){if(Mx&&!re){U.errorRecoveryDisabledLanes|=C,hl|=C,_=4;break e}C=va,va=_,C!==null&&(va===null?va=C:va.push.apply(va,C))}_=M}if(C=!1,_!==2)continue}}if(_===1){Yc(c,0),uu(c,h,0,!0);break}e:{switch(y=c,C=_,C){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:uu(y,h,gi,!au);break e;case 2:va=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(_=Bx+300-He(),10<_)){if(uu(y,h,gi,!au),_c(y,0,!0)!==0)break e;y.timeoutHandle=M4(o4.bind(null,y,v,va,sv,Fx,h,gi,hl,Gc,au,C,2,-0,0),_);break e}o4(y,v,va,sv,Fx,h,gi,hl,Gc,au,C,0,-0,0)}}break}while(!0);yo(c)}function o4(c,h,v,y,_,C,M,U,re,be,Ie,Le,Ee,Te){if(c.timeoutHandle=-1,Le=h.subtreeFlags,(Le&8192||(Le&16785408)===16785408)&&(md={stylesheets:null,count:0,unsuspend:qW},JR(h),Le=KW(),Le!==null)){c.cancelPendingCommit=Le(d4.bind(null,c,h,C,v,y,_,M,U,re,Ie,1,Ee,Te)),uu(c,C,M,!be);return}d4(c,h,C,v,y,_,M,U,re)}function fW(c){for(var h=c;;){var v=h.tag;if((v===0||v===11||v===15)&&h.flags&16384&&(v=h.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var y=0;y<v.length;y++){var _=v[y],C=_.getSnapshot;_=_.value;try{if(!ka(C(),_))return!1}catch{return!1}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function uu(c,h,v,y){h&=~Ix,h&=~hl,c.suspendedLanes|=h,c.pingedLanes&=~h,y&&(c.warmLanes|=h),y=c.expirationTimes;for(var _=h;0<_;){var C=31-Ht(_),M=1<<C;y[C]=-1,_&=~M}v!==0&&y0(c,v,h)}function uv(){return(Xt&6)===0?(cd(0),!1):!0}function zx(){if(Pt!==null){if(Yt===0)var c=Pt.return;else c=Pt,Zo=ol=null,ax(c),Wc=null,ed=0,c=Pt;for(;c!==null;)jR(c.alternate,c),c=c.return;Pt=null}}function Yc(c,h){var v=c.timeoutHandle;v!==-1&&(c.timeoutHandle=-1,RW(v)),v=c.cancelPendingCommit,v!==null&&(c.cancelPendingCommit=null,v()),zx(),vn=c,Pt=v=Xo(c.current,null),Bt=h,Yt=0,Fa=null,au=!1,qc=Xu(c,h),Mx=!1,Gc=gi=Ix=hl=iu=kn=0,va=ud=null,Fx=!1,(h&8)!==0&&(h|=h&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=h;0<y;){var _=31-Ht(y),C=1<<_;h|=c[_],y&=~C}return os=h,D0(),v}function s4(c,h){Dt=null,H.H=X0,h===Vh||h===j0?(h=SO(),Yt=3):h===wO?(h=SO(),Yt=4):Yt=h===TR?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Fa=h,Pt===null&&(kn=1,ev(c,hi(h,c.current)))}function u4(){var c=H.H;return H.H=X0,c===null?X0:c}function l4(){var c=H.A;return H.A=lW,c}function Wx(){kn=4,au||(Bt&4194048)!==Bt&&mi.current!==null||(qc=!0),(iu&134217727)===0&&(hl&134217727)===0||vn===null||uu(vn,Bt,gi,!1)}function Hx(c,h,v){var y=Xt;Xt|=2;var _=u4(),C=l4();(vn!==c||Bt!==h)&&(sv=null,Yc(c,h)),h=!1;var M=kn;e:do try{if(Yt!==0&&Pt!==null){var U=Pt,re=Fa;switch(Yt){case 8:zx(),M=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(h=!0);var be=Yt;if(Yt=0,Fa=null,Qc(c,U,re,be),v&&qc){M=0;break e}break;default:be=Yt,Yt=0,Fa=null,Qc(c,U,re,be)}}hW(),M=kn;break}catch(Ie){s4(c,Ie)}while(!0);return h&&c.shellSuspendCounter++,Zo=ol=null,Xt=y,H.H=_,H.A=C,Pt===null&&(vn=null,Bt=0,D0()),M}function hW(){for(;Pt!==null;)c4(Pt)}function dW(c,h){var v=Xt;Xt|=2;var y=u4(),_=l4();vn!==c||Bt!==h?(sv=null,ov=He()+500,Yc(c,h)):qc=Xu(c,h);e:do try{if(Yt!==0&&Pt!==null){h=Pt;var C=Fa;t:switch(Yt){case 1:Yt=0,Fa=null,Qc(c,h,C,1);break;case 2:case 9:if(_O(C)){Yt=0,Fa=null,f4(h);break}h=function(){Yt!==2&&Yt!==9||vn!==c||(Yt=7),yo(c)},C.then(h,h);break e;case 3:Yt=7;break e;case 4:Yt=5;break e;case 7:_O(C)?(Yt=0,Fa=null,f4(h)):(Yt=0,Fa=null,Qc(c,h,C,7));break;case 5:var M=null;switch(Pt.tag){case 26:M=Pt.memoizedState;case 5:case 27:var U=Pt;if(!M||q4(M)){Yt=0,Fa=null;var re=U.sibling;if(re!==null)Pt=re;else{var be=U.return;be!==null?(Pt=be,lv(be)):Pt=null}break t}}Yt=0,Fa=null,Qc(c,h,C,5);break;case 6:Yt=0,Fa=null,Qc(c,h,C,6);break;case 8:zx(),kn=6;break e;default:throw Error(r(462))}}pW();break}catch(Ie){s4(c,Ie)}while(!0);return Zo=ol=null,H.H=y,H.A=_,Xt=v,Pt!==null?0:(vn=null,Bt=0,D0(),kn)}function pW(){for(;Pt!==null&&!nt();)c4(Pt)}function c4(c){var h=BR(c.alternate,c,os);c.memoizedProps=c.pendingProps,h===null?lv(c):Pt=h}function f4(c){var h=c,v=h.alternate;switch(h.tag){case 15:case 0:h=NR(v,h,h.pendingProps,h.type,void 0,Bt);break;case 11:h=NR(v,h,h.pendingProps,h.type.render,h.ref,Bt);break;case 5:ax(h);default:jR(v,h),h=Pt=hO(h,os),h=BR(v,h,os)}c.memoizedProps=c.pendingProps,h===null?lv(c):Pt=h}function Qc(c,h,v,y){Zo=ol=null,ax(h),Wc=null,ed=0;var _=h.return;try{if(rW(c,_,h,v,Bt)){kn=1,ev(c,hi(v,c.current)),Pt=null;return}}catch(C){if(_!==null)throw Pt=_,C;kn=1,ev(c,hi(v,c.current)),Pt=null;return}h.flags&32768?($t||y===1?c=!0:qc||(Bt&536870912)!==0?c=!1:(au=c=!0,(y===2||y===9||y===3||y===6)&&(y=mi.current,y!==null&&y.tag===13&&(y.flags|=16384))),h4(h,c)):lv(h)}function lv(c){var h=c;do{if((h.flags&32768)!==0){h4(h,au);return}c=h.return;var v=iW(h.alternate,h,os);if(v!==null){Pt=v;return}if(h=h.sibling,h!==null){Pt=h;return}Pt=h=c}while(h!==null);kn===0&&(kn=5)}function h4(c,h){do{var v=oW(c.alternate,c);if(v!==null){v.flags&=32767,Pt=v;return}if(v=c.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!h&&(c=c.sibling,c!==null)){Pt=c;return}Pt=c=v}while(c!==null);kn=6,Pt=null}function d4(c,h,v,y,_,C,M,U,re){c.cancelPendingCommit=null;do cv();while(Or!==0);if((Xt&6)!==0)throw Error(r(327));if(h!==null){if(h===c.current)throw Error(r(177));if(C=h.lanes|h.childLanes,C|=P1,Ec(c,v,C,M,U,re),c===vn&&(Pt=vn=null,Bt=0),Kc=h,su=c,Xc=v,Lx=C,jx=_,r4=y,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,yW(dt,function(){return y4(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||y){y=H.T,H.T=null,_=Z.p,Z.p=2,M=Xt,Xt|=4;try{sW(c,h,v)}finally{Xt=M,Z.p=_,H.T=y}}Or=1,p4(),v4(),m4()}}function p4(){if(Or===1){Or=0;var c=su,h=Kc,v=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||v){v=H.T,H.T=null;var y=Z.p;Z.p=2;var _=Xt;Xt|=4;try{YR(h,c);var C=tb,M=nO(c.containerInfo),U=C.focusedElem,re=C.selectionRange;if(M!==U&&U&&U.ownerDocument&&tO(U.ownerDocument.documentElement,U)){if(re!==null&&O1(U)){var be=re.start,Ie=re.end;if(Ie===void 0&&(Ie=be),"selectionStart"in U)U.selectionStart=be,U.selectionEnd=Math.min(Ie,U.value.length);else{var Le=U.ownerDocument||document,Ee=Le&&Le.defaultView||window;if(Ee.getSelection){var Te=Ee.getSelection(),bt=U.textContent.length,yt=Math.min(re.start,bt),ln=re.end===void 0?yt:Math.min(re.end,bt);!Te.extend&&yt>ln&&(M=ln,ln=yt,yt=M);var pe=eO(U,yt),fe=eO(U,ln);if(pe&&fe&&(Te.rangeCount!==1||Te.anchorNode!==pe.node||Te.anchorOffset!==pe.offset||Te.focusNode!==fe.node||Te.focusOffset!==fe.offset)){var xe=Le.createRange();xe.setStart(pe.node,pe.offset),Te.removeAllRanges(),yt>ln?(Te.addRange(xe),Te.extend(fe.node,fe.offset)):(xe.setEnd(fe.node,fe.offset),Te.addRange(xe))}}}}for(Le=[],Te=U;Te=Te.parentNode;)Te.nodeType===1&&Le.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Le.length;U++){var Fe=Le[U];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}_v=!!eb,tb=eb=null}finally{Xt=_,Z.p=y,H.T=v}}c.current=h,Or=2}}function v4(){if(Or===2){Or=0;var c=su,h=Kc,v=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||v){v=H.T,H.T=null;var y=Z.p;Z.p=2;var _=Xt;Xt|=4;try{qR(c,h.alternate,h)}finally{Xt=_,Z.p=y,H.T=v}}Or=3}}function m4(){if(Or===4||Or===3){Or=0,et();var c=su,h=Kc,v=Xc,y=r4;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Or=5:(Or=0,Kc=su=null,g4(c,c.pendingLanes));var _=c.pendingLanes;if(_===0&&(ou=null),Oh(v),h=h.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(ut,h,void 0,(h.current.flags&128)===128)}catch{}if(y!==null){h=H.T,_=Z.p,Z.p=2,H.T=null;try{for(var C=c.onRecoverableError,M=0;M<y.length;M++){var U=y[M];C(U.value,{componentStack:U.stack})}}finally{H.T=h,Z.p=_}}(Xc&3)!==0&&cv(),yo(c),_=c.pendingLanes,(v&4194090)!==0&&(_&42)!==0?c===Ux?ld++:(ld=0,Ux=c):ld=0,cd(0)}}function g4(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,Hh(h)))}function cv(c){return p4(),v4(),m4(),y4()}function y4(){if(Or!==5)return!1;var c=su,h=Lx;Lx=0;var v=Oh(Xc),y=H.T,_=Z.p;try{Z.p=32>v?32:v,H.T=null,v=jx,jx=null;var C=su,M=Xc;if(Or=0,Kc=su=null,Xc=0,(Xt&6)!==0)throw Error(r(331));var U=Xt;if(Xt|=4,t4(C.current),ZR(C,C.current,M,v),Xt=U,cd(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(ut,C)}catch{}return!0}finally{Z.p=_,H.T=y,g4(c,h)}}function x4(c,h,v){h=hi(v,h),h=yx(c.stateNode,h,2),c=Qs(c,h,2),c!==null&&(Yu(c,2),yo(c))}function hn(c,h,v){if(c.tag===3)x4(c,c,v);else for(;h!==null;){if(h.tag===3){x4(h,c,v);break}else if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ou===null||!ou.has(y))){c=hi(v,c),v=ER(2),y=Qs(h,v,2),y!==null&&(SR(v,y,h,c),Yu(y,2),yo(y));break}}h=h.return}}function $x(c,h,v){var y=c.pingCache;if(y===null){y=c.pingCache=new cW;var _=new Set;y.set(h,_)}else _=y.get(h),_===void 0&&(_=new Set,y.set(h,_));_.has(v)||(Mx=!0,_.add(v),c=vW.bind(null,c,h,v),h.then(c,c))}function vW(c,h,v){var y=c.pingCache;y!==null&&y.delete(h),c.pingedLanes|=c.suspendedLanes&v,c.warmLanes&=~v,vn===c&&(Bt&v)===v&&(kn===4||kn===3&&(Bt&62914560)===Bt&&300>He()-Bx?(Xt&2)===0&&Yc(c,0):Ix|=v,Gc===Bt&&(Gc=0)),yo(c)}function b4(c,h){h===0&&(h=Th()),c=kc(c,h),c!==null&&(Yu(c,h),yo(c))}function mW(c){var h=c.memoizedState,v=0;h!==null&&(v=h.retryLane),b4(c,v)}function gW(c,h){var v=0;switch(c.tag){case 13:var y=c.stateNode,_=c.memoizedState;_!==null&&(v=_.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(h),b4(c,v)}function yW(c,h){return Ye(c,h)}var fv=null,Zc=null,Vx=!1,hv=!1,qx=!1,dl=0;function yo(c){c!==Zc&&c.next===null&&(Zc===null?fv=Zc=c:Zc=Zc.next=c),hv=!0,Vx||(Vx=!0,bW())}function cd(c,h){if(!qx&&hv){qx=!0;do for(var v=!1,y=fv;y!==null;){if(c!==0){var _=y.pendingLanes;if(_===0)var C=0;else{var M=y.suspendedLanes,U=y.pingedLanes;C=(1<<31-Ht(42|c)+1)-1,C&=_&~(M&~U),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(v=!0,S4(y,C))}else C=Bt,C=_c(y,y===vn?C:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(C&3)===0||Xu(y,C)||(v=!0,S4(y,C));y=y.next}while(v);qx=!1}}function xW(){w4()}function w4(){hv=Vx=!1;var c=0;dl!==0&&(OW()&&(c=dl),dl=0);for(var h=He(),v=null,y=fv;y!==null;){var _=y.next,C=_4(y,h);C===0?(y.next=null,v===null?fv=_:v.next=_,_===null&&(Zc=v)):(v=y,(c!==0||(C&3)!==0)&&(hv=!0)),y=_}cd(c)}function _4(c,h){for(var v=c.suspendedLanes,y=c.pingedLanes,_=c.expirationTimes,C=c.pendingLanes&-62914561;0<C;){var M=31-Ht(C),U=1<<M,re=_[M];re===-1?((U&v)===0||(U&y)!==0)&&(_[M]=g0(U,h)):re<=h&&(c.expiredLanes|=U),C&=~U}if(h=vn,v=Bt,v=_c(c,c===h?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,v===0||c===h&&(Yt===2||Yt===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&$e(y),c.callbackNode=null,c.callbackPriority=0;if((v&3)===0||Xu(c,v)){if(h=v&-v,h===c.callbackPriority)return h;switch(y!==null&&$e(y),Oh(v)){case 2:case 8:v=ze;break;case 32:v=dt;break;case 268435456:v=Be;break;default:v=dt}return y=E4.bind(null,c),v=Ye(v,y),c.callbackPriority=h,c.callbackNode=v,h}return y!==null&&y!==null&&$e(y),c.callbackPriority=2,c.callbackNode=null,2}function E4(c,h){if(Or!==0&&Or!==5)return c.callbackNode=null,c.callbackPriority=0,null;var v=c.callbackNode;if(cv()&&c.callbackNode!==v)return null;var y=Bt;return y=_c(c,c===vn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(i4(c,y,h),_4(c,He()),c.callbackNode!=null&&c.callbackNode===v?E4.bind(null,c):null)}function S4(c,h){if(cv())return null;i4(c,h,!0)}function bW(){DW(function(){(Xt&6)!==0?Ye(jt,xW):w4()})}function Gx(){return dl===0&&(dl=Sh()),dl}function T4(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:E0(""+c)}function A4(c,h){var v=h.ownerDocument.createElement("input");return v.name=h.name,v.value=h.value,c.id&&v.setAttribute("form",c.id),h.parentNode.insertBefore(v,h),c=new FormData(c),v.parentNode.removeChild(v),c}function wW(c,h,v,y,_){if(h==="submit"&&v&&v.stateNode===_){var C=T4((_[dr]||null).action),M=y.submitter;M&&(h=(h=M[dr]||null)?T4(h.formAction):M.getAttribute("formAction"),h!==null&&(C=h,M=null));var U=new C0("action","action",null,y,_);c.push({event:U,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(dl!==0){var re=M?A4(_,M):new FormData(_);dx(v,{pending:!0,data:re,method:_.method,action:C},null,re)}}else typeof C=="function"&&(U.preventDefault(),re=M?A4(_,M):new FormData(_),dx(v,{pending:!0,data:re,method:_.method,action:C},C,re))},currentTarget:_}]})}}for(var Kx=0;Kx<k1.length;Kx++){var Xx=k1[Kx],_W=Xx.toLowerCase(),EW=Xx[0].toUpperCase()+Xx.slice(1);Hi(_W,"on"+EW)}Hi(iO,"onAnimationEnd"),Hi(oO,"onAnimationIteration"),Hi(sO,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(U9,"onTransitionRun"),Hi(z9,"onTransitionStart"),Hi(W9,"onTransitionCancel"),Hi(uO,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fd));function C4(c,h){h=(h&4)!==0;for(var v=0;v<c.length;v++){var y=c[v],_=y.event;y=y.listeners;e:{var C=void 0;if(h)for(var M=y.length-1;0<=M;M--){var U=y[M],re=U.instance,be=U.currentTarget;if(U=U.listener,re!==C&&_.isPropagationStopped())break e;C=U,_.currentTarget=be;try{C(_)}catch(Ie){J0(Ie)}_.currentTarget=null,C=re}else for(M=0;M<y.length;M++){if(U=y[M],re=U.instance,be=U.currentTarget,U=U.listener,re!==C&&_.isPropagationStopped())break e;C=U,_.currentTarget=be;try{C(_)}catch(Ie){J0(Ie)}_.currentTarget=null,C=re}}}}function Mt(c,h){var v=h[Rh];v===void 0&&(v=h[Rh]=new Set);var y=c+"__bubble";v.has(y)||(O4(h,c,2,!1),v.add(y))}function Yx(c,h,v){var y=0;h&&(y|=4),O4(v,c,y,h)}var dv="_reactListening"+Math.random().toString(36).slice(2);function Qx(c){if(!c[dv]){c[dv]=!0,_e.forEach(function(v){v!=="selectionchange"&&(SW.has(v)||Yx(v,!1,c),Yx(v,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[dv]||(h[dv]=!0,Yx("selectionchange",!1,h))}}function O4(c,h,v,y){switch(Z4(h)){case 2:var _=QW;break;case 8:_=ZW;break;default:_=fb}v=_.bind(null,h,v,c),_=void 0,!x1||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(_=!0),y?_!==void 0?c.addEventListener(h,v,{capture:!0,passive:_}):c.addEventListener(h,v,!0):_!==void 0?c.addEventListener(h,v,{passive:_}):c.addEventListener(h,v,!1)}function Zx(c,h,v,y,_){var C=y;if((h&1)===0&&(h&2)===0&&y!==null)e:for(;;){if(y===null)return;var M=y.tag;if(M===3||M===4){var U=y.stateNode.containerInfo;if(U===_)break;if(M===4)for(M=y.return;M!==null;){var re=M.tag;if((re===3||re===4)&&M.stateNode.containerInfo===_)return;M=M.return}for(;U!==null;){if(M=J(U),M===null)return;if(re=M.tag,re===5||re===6||re===26||re===27){y=C=M;continue e}U=U.parentNode}}y=y.return}IC(function(){var be=C,Ie=g1(v),Le=[];e:{var Ee=lO.get(c);if(Ee!==void 0){var Te=C0,bt=c;switch(c){case"keypress":if(T0(v)===0)break e;case"keydown":case"keyup":Te=y9;break;case"focusin":bt="focus",Te=E1;break;case"focusout":bt="blur",Te=E1;break;case"beforeblur":case"afterblur":Te=E1;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=LC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=o9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=w9;break;case iO:case oO:case sO:Te=l9;break;case uO:Te=E9;break;case"scroll":case"scrollend":Te=a9;break;case"wheel":Te=T9;break;case"copy":case"cut":case"paste":Te=f9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=UC;break;case"toggle":case"beforetoggle":Te=C9}var yt=(h&4)!==0,ln=!yt&&(c==="scroll"||c==="scrollend"),pe=yt?Ee!==null?Ee+"Capture":null:Ee;yt=[];for(var fe=be,xe;fe!==null;){var Fe=fe;if(xe=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||xe===null||pe===null||(Fe=Dh(fe,pe),Fe!=null&&yt.push(hd(fe,Fe,xe))),ln)break;fe=fe.return}0<yt.length&&(Ee=new Te(Ee,bt,null,v,Ie),Le.push({event:Ee,listeners:yt}))}}if((h&7)===0){e:{if(Ee=c==="mouseover"||c==="pointerover",Te=c==="mouseout"||c==="pointerout",Ee&&v!==m1&&(bt=v.relatedTarget||v.fromElement)&&(J(bt)||bt[Vs]))break e;if((Te||Ee)&&(Ee=Ie.window===Ie?Ie:(Ee=Ie.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Te?(bt=v.relatedTarget||v.toElement,Te=be,bt=bt?J(bt):null,bt!==null&&(ln=i(bt),yt=bt.tag,bt!==ln||yt!==5&&yt!==27&&yt!==6)&&(bt=null)):(Te=null,bt=be),Te!==bt)){if(yt=LC,Fe="onMouseLeave",pe="onMouseEnter",fe="mouse",(c==="pointerout"||c==="pointerover")&&(yt=UC,Fe="onPointerLeave",pe="onPointerEnter",fe="pointer"),ln=Te==null?Ee:we(Te),xe=bt==null?Ee:we(bt),Ee=new yt(Fe,fe+"leave",Te,v,Ie),Ee.target=ln,Ee.relatedTarget=xe,Fe=null,J(Ie)===be&&(yt=new yt(pe,fe+"enter",bt,v,Ie),yt.target=xe,yt.relatedTarget=ln,Fe=yt),ln=Fe,Te&&bt)t:{for(yt=Te,pe=bt,fe=0,xe=yt;xe;xe=Jc(xe))fe++;for(xe=0,Fe=pe;Fe;Fe=Jc(Fe))xe++;for(;0<fe-xe;)yt=Jc(yt),fe--;for(;0<xe-fe;)pe=Jc(pe),xe--;for(;fe--;){if(yt===pe||pe!==null&&yt===pe.alternate)break t;yt=Jc(yt),pe=Jc(pe)}yt=null}else yt=null;Te!==null&&R4(Le,Ee,Te,yt,!1),bt!==null&&ln!==null&&R4(Le,ln,bt,yt,!0)}}e:{if(Ee=be?we(be):window,Te=Ee.nodeName&&Ee.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ee.type==="file")var it=KC;else if(qC(Ee))if(XC)it=B9;else{it=I9;var Nt=M9}else Te=Ee.nodeName,!Te||Te.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?be&&v1(be.elementType)&&(it=KC):it=F9;if(it&&(it=it(c,be))){GC(Le,it,v,Ie);break e}Nt&&Nt(c,Ee,be),c==="focusout"&&be&&Ee.type==="number"&&be.memoizedProps.value!=null&&p1(Ee,"number",Ee.value)}switch(Nt=be?we(be):window,c){case"focusin":(qC(Nt)||Nt.contentEditable==="true")&&(Rc=Nt,R1=be,Lh=null);break;case"focusout":Lh=R1=Rc=null;break;case"mousedown":D1=!0;break;case"contextmenu":case"mouseup":case"dragend":D1=!1,rO(Le,v,Ie);break;case"selectionchange":if(j9)break;case"keydown":case"keyup":rO(Le,v,Ie)}var mt;if(T1)e:{switch(c){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else Oc?$C(c,v)&&(xt="onCompositionEnd"):c==="keydown"&&v.keyCode===229&&(xt="onCompositionStart");xt&&(zC&&v.locale!=="ko"&&(Oc||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Oc&&(mt=FC()):(Gs=Ie,b1="value"in Gs?Gs.value:Gs.textContent,Oc=!0)),Nt=pv(be,xt),0<Nt.length&&(xt=new jC(xt,c,null,v,Ie),Le.push({event:xt,listeners:Nt}),mt?xt.data=mt:(mt=VC(v),mt!==null&&(xt.data=mt)))),(mt=R9?D9(c,v):N9(c,v))&&(xt=pv(be,"onBeforeInput"),0<xt.length&&(Nt=new jC("onBeforeInput","beforeinput",null,v,Ie),Le.push({event:Nt,listeners:xt}),Nt.data=mt)),wW(Le,c,be,v,Ie)}C4(Le,h)})}function hd(c,h,v){return{instance:c,listener:h,currentTarget:v}}function pv(c,h){for(var v=h+"Capture",y=[];c!==null;){var _=c,C=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||C===null||(_=Dh(c,v),_!=null&&y.unshift(hd(c,_,C)),_=Dh(c,h),_!=null&&y.push(hd(c,_,C))),c.tag===3)return y;c=c.return}return[]}function Jc(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function R4(c,h,v,y,_){for(var C=h._reactName,M=[];v!==null&&v!==y;){var U=v,re=U.alternate,be=U.stateNode;if(U=U.tag,re!==null&&re===y)break;U!==5&&U!==26&&U!==27||be===null||(re=be,_?(be=Dh(v,C),be!=null&&M.unshift(hd(v,be,re))):_||(be=Dh(v,C),be!=null&&M.push(hd(v,be,re)))),v=v.return}M.length!==0&&c.push({event:h,listeners:M})}var TW=/\r\n?/g,AW=/\u0000|\uFFFD/g;function D4(c){return(typeof c=="string"?c:""+c).replace(TW,`
`).replace(AW,"")}function N4(c,h){return h=D4(h),D4(c)===h}function vv(){}function un(c,h,v,y,_,C){switch(v){case"children":typeof y=="string"?h==="body"||h==="textarea"&&y===""||Tc(c,y):(typeof y=="number"||typeof y=="bigint")&&h!=="body"&&Tc(c,""+y);break;case"className":on(c,"class",y);break;case"tabIndex":on(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":on(c,v,y);break;case"style":PC(c,y,C);break;case"data":if(h!=="object"){on(c,"data",y);break}case"src":case"href":if(y===""&&(h!=="a"||v!=="href")){c.removeAttribute(v);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(v);break}y=E0(""+y),c.setAttribute(v,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(v==="formAction"?(h!=="input"&&un(c,h,"name",_.name,_,null),un(c,h,"formEncType",_.formEncType,_,null),un(c,h,"formMethod",_.formMethod,_,null),un(c,h,"formTarget",_.formTarget,_,null)):(un(c,h,"encType",_.encType,_,null),un(c,h,"method",_.method,_,null),un(c,h,"target",_.target,_,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(v);break}y=E0(""+y),c.setAttribute(v,y);break;case"onClick":y!=null&&(c.onclick=vv);break;case"onScroll":y!=null&&Mt("scroll",c);break;case"onScrollEnd":y!=null&&Mt("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(v=y.__html,v!=null){if(_.children!=null)throw Error(r(60));c.innerHTML=v}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}v=E0(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(v,""+y):c.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(v,""):c.removeAttribute(v);break;case"capture":case"download":y===!0?c.setAttribute(v,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(v,y):c.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(v,y):c.removeAttribute(v);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(v):c.setAttribute(v,y);break;case"popover":Mt("beforetoggle",c),Mt("toggle",c),an(c,"popover",y);break;case"xlinkActuate":pn(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":pn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":pn(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":pn(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":pn(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":pn(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":pn(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":pn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":pn(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":an(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=n9.get(v)||v,an(c,v,y))}}function Jx(c,h,v,y,_,C){switch(v){case"style":PC(c,y,C);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(v=y.__html,v!=null){if(_.children!=null)throw Error(r(60));c.innerHTML=v}}break;case"children":typeof y=="string"?Tc(c,y):(typeof y=="number"||typeof y=="bigint")&&Tc(c,""+y);break;case"onScroll":y!=null&&Mt("scroll",c);break;case"onScrollEnd":y!=null&&Mt("scrollend",c);break;case"onClick":y!=null&&(c.onclick=vv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Se.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(_=v.endsWith("Capture"),h=v.slice(2,_?v.length-7:void 0),C=c[dr]||null,C=C!=null?C[v]:null,typeof C=="function"&&c.removeEventListener(h,C,_),typeof y=="function")){typeof C!="function"&&C!==null&&(v in c?c[v]=null:c.hasAttribute(v)&&c.removeAttribute(v)),c.addEventListener(h,y,_);break e}v in c?c[v]=y:y===!0?c.setAttribute(v,""):an(c,v,y)}}}function Rr(c,h,v){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",c),Mt("load",c);var y=!1,_=!1,C;for(C in v)if(v.hasOwnProperty(C)){var M=v[C];if(M!=null)switch(C){case"src":y=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:un(c,h,C,M,v,null)}}_&&un(c,h,"srcSet",v.srcSet,v,null),y&&un(c,h,"src",v.src,v,null);return;case"input":Mt("invalid",c);var U=C=M=_=null,re=null,be=null;for(y in v)if(v.hasOwnProperty(y)){var Ie=v[y];if(Ie!=null)switch(y){case"name":_=Ie;break;case"type":M=Ie;break;case"checked":re=Ie;break;case"defaultChecked":be=Ie;break;case"value":C=Ie;break;case"defaultValue":U=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,h));break;default:un(c,h,y,Ie,v,null)}}RC(c,C,U,re,be,M,_,!1),w0(c);return;case"select":Mt("invalid",c),y=M=C=null;for(_ in v)if(v.hasOwnProperty(_)&&(U=v[_],U!=null))switch(_){case"value":C=U;break;case"defaultValue":M=U;break;case"multiple":y=U;default:un(c,h,_,U,v,null)}h=C,v=M,c.multiple=!!y,h!=null?Sc(c,!!y,h,!1):v!=null&&Sc(c,!!y,v,!0);return;case"textarea":Mt("invalid",c),C=_=y=null;for(M in v)if(v.hasOwnProperty(M)&&(U=v[M],U!=null))switch(M){case"value":y=U;break;case"defaultValue":_=U;break;case"children":C=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:un(c,h,M,U,v,null)}NC(c,y,_,C),w0(c);return;case"option":for(re in v)if(v.hasOwnProperty(re)&&(y=v[re],y!=null))switch(re){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:un(c,h,re,y,v,null)}return;case"dialog":Mt("beforetoggle",c),Mt("toggle",c),Mt("cancel",c),Mt("close",c);break;case"iframe":case"object":Mt("load",c);break;case"video":case"audio":for(y=0;y<fd.length;y++)Mt(fd[y],c);break;case"image":Mt("error",c),Mt("load",c);break;case"details":Mt("toggle",c);break;case"embed":case"source":case"link":Mt("error",c),Mt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in v)if(v.hasOwnProperty(be)&&(y=v[be],y!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:un(c,h,be,y,v,null)}return;default:if(v1(h)){for(Ie in v)v.hasOwnProperty(Ie)&&(y=v[Ie],y!==void 0&&Jx(c,h,Ie,y,v,void 0));return}}for(U in v)v.hasOwnProperty(U)&&(y=v[U],y!=null&&un(c,h,U,y,v,null))}function CW(c,h,v,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,C=null,M=null,U=null,re=null,be=null,Ie=null;for(Te in v){var Le=v[Te];if(v.hasOwnProperty(Te)&&Le!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":re=Le;default:y.hasOwnProperty(Te)||un(c,h,Te,null,y,Le)}}for(var Ee in y){var Te=y[Ee];if(Le=v[Ee],y.hasOwnProperty(Ee)&&(Te!=null||Le!=null))switch(Ee){case"type":C=Te;break;case"name":_=Te;break;case"checked":be=Te;break;case"defaultChecked":Ie=Te;break;case"value":M=Te;break;case"defaultValue":U=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,h));break;default:Te!==Le&&un(c,h,Ee,Te,y,Le)}}d1(c,M,U,re,be,Ie,C,_);return;case"select":Te=M=U=Ee=null;for(C in v)if(re=v[C],v.hasOwnProperty(C)&&re!=null)switch(C){case"value":break;case"multiple":Te=re;default:y.hasOwnProperty(C)||un(c,h,C,null,y,re)}for(_ in y)if(C=y[_],re=v[_],y.hasOwnProperty(_)&&(C!=null||re!=null))switch(_){case"value":Ee=C;break;case"defaultValue":U=C;break;case"multiple":M=C;default:C!==re&&un(c,h,_,C,y,re)}h=U,v=M,y=Te,Ee!=null?Sc(c,!!v,Ee,!1):!!y!=!!v&&(h!=null?Sc(c,!!v,h,!0):Sc(c,!!v,v?[]:"",!1));return;case"textarea":Te=Ee=null;for(U in v)if(_=v[U],v.hasOwnProperty(U)&&_!=null&&!y.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:un(c,h,U,null,y,_)}for(M in y)if(_=y[M],C=v[M],y.hasOwnProperty(M)&&(_!=null||C!=null))switch(M){case"value":Ee=_;break;case"defaultValue":Te=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==C&&un(c,h,M,_,y,C)}DC(c,Ee,Te);return;case"option":for(var bt in v)if(Ee=v[bt],v.hasOwnProperty(bt)&&Ee!=null&&!y.hasOwnProperty(bt))switch(bt){case"selected":c.selected=!1;break;default:un(c,h,bt,null,y,Ee)}for(re in y)if(Ee=y[re],Te=v[re],y.hasOwnProperty(re)&&Ee!==Te&&(Ee!=null||Te!=null))switch(re){case"selected":c.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol";break;default:un(c,h,re,Ee,y,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in v)Ee=v[yt],v.hasOwnProperty(yt)&&Ee!=null&&!y.hasOwnProperty(yt)&&un(c,h,yt,null,y,Ee);for(be in y)if(Ee=y[be],Te=v[be],y.hasOwnProperty(be)&&Ee!==Te&&(Ee!=null||Te!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,h));break;default:un(c,h,be,Ee,y,Te)}return;default:if(v1(h)){for(var ln in v)Ee=v[ln],v.hasOwnProperty(ln)&&Ee!==void 0&&!y.hasOwnProperty(ln)&&Jx(c,h,ln,void 0,y,Ee);for(Ie in y)Ee=y[Ie],Te=v[Ie],!y.hasOwnProperty(Ie)||Ee===Te||Ee===void 0&&Te===void 0||Jx(c,h,Ie,Ee,y,Te);return}}for(var pe in v)Ee=v[pe],v.hasOwnProperty(pe)&&Ee!=null&&!y.hasOwnProperty(pe)&&un(c,h,pe,null,y,Ee);for(Le in y)Ee=y[Le],Te=v[Le],!y.hasOwnProperty(Le)||Ee===Te||Ee==null&&Te==null||un(c,h,Le,Ee,y,Te)}var eb=null,tb=null;function mv(c){return c.nodeType===9?c:c.ownerDocument}function k4(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P4(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function nb(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var rb=null;function OW(){var c=window.event;return c&&c.type==="popstate"?c===rb?!1:(rb=c,!0):(rb=null,!1)}var M4=typeof setTimeout=="function"?setTimeout:void 0,RW=typeof clearTimeout=="function"?clearTimeout:void 0,I4=typeof Promise=="function"?Promise:void 0,DW=typeof queueMicrotask=="function"?queueMicrotask:typeof I4<"u"?function(c){return I4.resolve(null).then(c).catch(NW)}:M4;function NW(c){setTimeout(function(){throw c})}function lu(c){return c==="head"}function F4(c,h){var v=h,y=0,_=0;do{var C=v.nextSibling;if(c.removeChild(v),C&&C.nodeType===8)if(v=C.data,v==="/$"){if(0<y&&8>y){v=y;var M=c.ownerDocument;if(v&1&&dd(M.documentElement),v&2&&dd(M.body),v&4)for(v=M.head,dd(v),M=v.firstChild;M;){var U=M.nextSibling,re=M.nodeName;M[q]||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&M.rel.toLowerCase()==="stylesheet"||v.removeChild(M),M=U}}if(_===0){c.removeChild(C),wd(h);return}_--}else v==="$"||v==="$?"||v==="$!"?_++:y=v.charCodeAt(0)-48;else y=0;v=C}while(v);wd(h)}function ab(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var v=h;switch(h=h.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":ab(v),K(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}c.removeChild(v)}}function kW(c,h,v,y){for(;c.nodeType===1;){var _=v;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[q])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(C=c.getAttribute("rel"),C==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(C!==_.rel||c.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||c.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||c.getAttribute("title")!==(_.title==null?null:_.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(C=c.getAttribute("src"),(C!==(_.src==null?null:_.src)||c.getAttribute("type")!==(_.type==null?null:_.type)||c.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&C&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var C=_.name==null?null:""+_.name;if(_.type==="hidden"&&c.getAttribute("name")===C)return c}else return c;if(c=Vi(c.nextSibling),c===null)break}return null}function PW(c,h,v){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!v||(c=Vi(c.nextSibling),c===null))return null;return c}function ib(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function MW(c,h){var v=c.ownerDocument;if(c.data!=="$?"||v.readyState==="complete")h();else{var y=function(){h(),v.removeEventListener("DOMContentLoaded",y)};v.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function Vi(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return c}var ob=null;function B4(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var v=c.data;if(v==="$"||v==="$!"||v==="$?"){if(h===0)return c;h--}else v==="/$"&&h++}c=c.previousSibling}return null}function L4(c,h,v){switch(h=mv(v),c){case"html":if(c=h.documentElement,!c)throw Error(r(452));return c;case"head":if(c=h.head,!c)throw Error(r(453));return c;case"body":if(c=h.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function dd(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);K(c)}var yi=new Map,j4=new Set;function gv(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var ss=Z.d;Z.d={f:IW,r:FW,D:BW,C:LW,L:jW,m:UW,X:WW,S:zW,M:HW};function IW(){var c=ss.f(),h=uv();return c||h}function FW(c){var h=ne(c);h!==null&&h.tag===5&&h.type==="form"?iR(h):ss.r(c)}var ef=typeof document>"u"?null:document;function U4(c,h,v){var y=ef;if(y&&typeof h=="string"&&h){var _=fi(h);_='link[rel="'+c+'"][href="'+_+'"]',typeof v=="string"&&(_+='[crossorigin="'+v+'"]'),j4.has(_)||(j4.add(_),c={rel:c,crossOrigin:v,href:h},y.querySelector(_)===null&&(h=y.createElement("link"),Rr(h,"link",c),me(h),y.head.appendChild(h)))}}function BW(c){ss.D(c),U4("dns-prefetch",c,null)}function LW(c,h){ss.C(c,h),U4("preconnect",c,h)}function jW(c,h,v){ss.L(c,h,v);var y=ef;if(y&&c&&h){var _='link[rel="preload"][as="'+fi(h)+'"]';h==="image"&&v&&v.imageSrcSet?(_+='[imagesrcset="'+fi(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(_+='[imagesizes="'+fi(v.imageSizes)+'"]')):_+='[href="'+fi(c)+'"]';var C=_;switch(h){case"style":C=tf(c);break;case"script":C=nf(c)}yi.has(C)||(c=f({rel:"preload",href:h==="image"&&v&&v.imageSrcSet?void 0:c,as:h},v),yi.set(C,c),y.querySelector(_)!==null||h==="style"&&y.querySelector(pd(C))||h==="script"&&y.querySelector(vd(C))||(h=y.createElement("link"),Rr(h,"link",c),me(h),y.head.appendChild(h)))}}function UW(c,h){ss.m(c,h);var v=ef;if(v&&c){var y=h&&typeof h.as=="string"?h.as:"script",_='link[rel="modulepreload"][as="'+fi(y)+'"][href="'+fi(c)+'"]',C=_;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=nf(c)}if(!yi.has(C)&&(c=f({rel:"modulepreload",href:c},h),yi.set(C,c),v.querySelector(_)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(vd(C)))return}y=v.createElement("link"),Rr(y,"link",c),me(y),v.head.appendChild(y)}}}function zW(c,h,v){ss.S(c,h,v);var y=ef;if(y&&c){var _=Ne(y).hoistableStyles,C=tf(c);h=h||"default";var M=_.get(C);if(!M){var U={loading:0,preload:null};if(M=y.querySelector(pd(C)))U.loading=5;else{c=f({rel:"stylesheet",href:c,"data-precedence":h},v),(v=yi.get(C))&&sb(c,v);var re=M=y.createElement("link");me(re),Rr(re,"link",c),re._p=new Promise(function(be,Ie){re.onload=be,re.onerror=Ie}),re.addEventListener("load",function(){U.loading|=1}),re.addEventListener("error",function(){U.loading|=2}),U.loading|=4,yv(M,h,y)}M={type:"stylesheet",instance:M,count:1,state:U},_.set(C,M)}}}function WW(c,h){ss.X(c,h);var v=ef;if(v&&c){var y=Ne(v).hoistableScripts,_=nf(c),C=y.get(_);C||(C=v.querySelector(vd(_)),C||(c=f({src:c,async:!0},h),(h=yi.get(_))&&ub(c,h),C=v.createElement("script"),me(C),Rr(C,"link",c),v.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(_,C))}}function HW(c,h){ss.M(c,h);var v=ef;if(v&&c){var y=Ne(v).hoistableScripts,_=nf(c),C=y.get(_);C||(C=v.querySelector(vd(_)),C||(c=f({src:c,async:!0,type:"module"},h),(h=yi.get(_))&&ub(c,h),C=v.createElement("script"),me(C),Rr(C,"link",c),v.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(_,C))}}function z4(c,h,v,y){var _=(_=ce.current)?gv(_):null;if(!_)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(h=tf(v.href),v=Ne(_).hoistableStyles,y=v.get(h),y||(y={type:"style",instance:null,count:0,state:null},v.set(h,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){c=tf(v.href);var C=Ne(_).hoistableStyles,M=C.get(c);if(M||(_=_.ownerDocument||_,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(c,M),(C=_.querySelector(pd(c)))&&!C._p&&(M.instance=C,M.state.loading=5),yi.has(c)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},yi.set(c,v),C||$W(_,c,v,M.state))),h&&y===null)throw Error(r(528,""));return M}if(h&&y!==null)throw Error(r(529,""));return null;case"script":return h=v.async,v=v.src,typeof v=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=nf(v),v=Ne(_).hoistableScripts,y=v.get(h),y||(y={type:"script",instance:null,count:0,state:null},v.set(h,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function tf(c){return'href="'+fi(c)+'"'}function pd(c){return'link[rel="stylesheet"]['+c+"]"}function W4(c){return f({},c,{"data-precedence":c.precedence,precedence:null})}function $W(c,h,v,y){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?y.loading=1:(h=c.createElement("link"),y.preload=h,h.addEventListener("load",function(){return y.loading|=1}),h.addEventListener("error",function(){return y.loading|=2}),Rr(h,"link",v),me(h),c.head.appendChild(h))}function nf(c){return'[src="'+fi(c)+'"]'}function vd(c){return"script[async]"+c}function H4(c,h,v){if(h.count++,h.instance===null)switch(h.type){case"style":var y=c.querySelector('style[data-href~="'+fi(v.href)+'"]');if(y)return h.instance=y,me(y),y;var _=f({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),me(y),Rr(y,"style",_),yv(y,v.precedence,c),h.instance=y;case"stylesheet":_=tf(v.href);var C=c.querySelector(pd(_));if(C)return h.state.loading|=4,h.instance=C,me(C),C;y=W4(v),(_=yi.get(_))&&sb(y,_),C=(c.ownerDocument||c).createElement("link"),me(C);var M=C;return M._p=new Promise(function(U,re){M.onload=U,M.onerror=re}),Rr(C,"link",y),h.state.loading|=4,yv(C,v.precedence,c),h.instance=C;case"script":return C=nf(v.src),(_=c.querySelector(vd(C)))?(h.instance=_,me(_),_):(y=v,(_=yi.get(C))&&(y=f({},v),ub(y,_)),c=c.ownerDocument||c,_=c.createElement("script"),me(_),Rr(_,"link",y),c.head.appendChild(_),h.instance=_);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(y=h.instance,h.state.loading|=4,yv(y,v.precedence,c));return h.instance}function yv(c,h,v){for(var y=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=y.length?y[y.length-1]:null,C=_,M=0;M<y.length;M++){var U=y[M];if(U.dataset.precedence===h)C=U;else if(C!==_)break}C?C.parentNode.insertBefore(c,C.nextSibling):(h=v.nodeType===9?v.head:v,h.insertBefore(c,h.firstChild))}function sb(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function ub(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var xv=null;function $4(c,h,v){if(xv===null){var y=new Map,_=xv=new Map;_.set(v,y)}else _=xv,y=_.get(v),y||(y=new Map,_.set(v,y));if(y.has(c))return y;for(y.set(c,null),v=v.getElementsByTagName(c),_=0;_<v.length;_++){var C=v[_];if(!(C[q]||C[hr]||c==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var M=C.getAttribute(h)||"";M=c+M;var U=y.get(M);U?U.push(C):y.set(M,[C])}}return y}function V4(c,h,v){c=c.ownerDocument||c,c.head.insertBefore(v,h==="title"?c.querySelector("head > title"):null)}function VW(c,h,v){if(v===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return c=h.disabled,typeof h.precedence=="string"&&c==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function q4(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var md=null;function qW(){}function GW(c,h,v){if(md===null)throw Error(r(475));var y=md;if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var _=tf(v.href),C=c.querySelector(pd(_));if(C){c=C._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(y.count++,y=bv.bind(y),c.then(y,y)),h.state.loading|=4,h.instance=C,me(C);return}C=c.ownerDocument||c,v=W4(v),(_=yi.get(_))&&sb(v,_),C=C.createElement("link"),me(C);var M=C;M._p=new Promise(function(U,re){M.onload=U,M.onerror=re}),Rr(C,"link",v),h.instance=C}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(y.count++,h=bv.bind(y),c.addEventListener("load",h),c.addEventListener("error",h))}}function KW(){if(md===null)throw Error(r(475));var c=md;return c.stylesheets&&c.count===0&&lb(c,c.stylesheets),0<c.count?function(h){var v=setTimeout(function(){if(c.stylesheets&&lb(c,c.stylesheets),c.unsuspend){var y=c.unsuspend;c.unsuspend=null,y()}},6e4);return c.unsuspend=h,function(){c.unsuspend=null,clearTimeout(v)}}:null}function bv(){if(this.count--,this.count===0){if(this.stylesheets)lb(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var wv=null;function lb(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,wv=new Map,h.forEach(XW,c),wv=null,bv.call(c))}function XW(c,h){if(!(h.state.loading&4)){var v=wv.get(c);if(v)var y=v.get(null);else{v=new Map,wv.set(c,v);for(var _=c.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<_.length;C++){var M=_[C];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(v.set(M.dataset.precedence,M),y=M)}y&&v.set(null,y)}_=h.instance,M=_.getAttribute("data-precedence"),C=v.get(M)||y,C===y&&v.set(null,_),v.set(M,_),this.count++,y=bv.bind(this),_.addEventListener("load",y),_.addEventListener("error",y),C?C.parentNode.insertBefore(_,C.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(_,c.firstChild)),h.state.loading|=4}}var gd={$$typeof:S,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function YW(c,h,v,y,_,C,M,U){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ah(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ah(0),this.hiddenUpdates=Ah(null),this.identifierPrefix=y,this.onUncaughtError=_,this.onCaughtError=C,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function G4(c,h,v,y,_,C,M,U,re,be,Ie,Le){return c=new YW(c,h,v,M,U,re,be,Le),h=1,C===!0&&(h|=24),C=Pa(3,null,null,h),c.current=C,C.stateNode=c,h=$1(),h.refCount++,c.pooledCache=h,h.refCount++,C.memoizedState={element:y,isDehydrated:v,cache:h},K1(C),c}function K4(c){return c?(c=Pc,c):Pc}function X4(c,h,v,y,_,C){_=K4(_),y.context===null?y.context=_:y.pendingContext=_,y=Ys(h),y.payload={element:v},C=C===void 0?null:C,C!==null&&(y.callback=C),v=Qs(c,y,h),v!==null&&(La(v,c,h),Gh(v,c,h))}function Y4(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<h?v:h}}function cb(c,h){Y4(c,h),(c=c.alternate)&&Y4(c,h)}function Q4(c){if(c.tag===13){var h=kc(c,67108864);h!==null&&La(h,c,67108864),cb(c,67108864)}}var _v=!0;function QW(c,h,v,y){var _=H.T;H.T=null;var C=Z.p;try{Z.p=2,fb(c,h,v,y)}finally{Z.p=C,H.T=_}}function ZW(c,h,v,y){var _=H.T;H.T=null;var C=Z.p;try{Z.p=8,fb(c,h,v,y)}finally{Z.p=C,H.T=_}}function fb(c,h,v,y){if(_v){var _=hb(y);if(_===null)Zx(c,h,y,Ev,v),J4(c,y);else if(eH(_,c,h,v,y))y.stopPropagation();else if(J4(c,y),h&4&&-1<JW.indexOf(c)){for(;_!==null;){var C=ne(_);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var M=fa(C.pendingLanes);if(M!==0){var U=C;for(U.pendingLanes|=2,U.entangledLanes|=2;M;){var re=1<<31-Ht(M);U.entanglements[1]|=re,M&=~re}yo(C),(Xt&6)===0&&(ov=He()+500,cd(0))}}break;case 13:U=kc(C,2),U!==null&&La(U,C,2),uv(),cb(C,2)}if(C=hb(y),C===null&&Zx(c,h,y,Ev,v),C===_)break;_=C}_!==null&&y.stopPropagation()}else Zx(c,h,y,null,v)}}function hb(c){return c=g1(c),db(c)}var Ev=null;function db(c){if(Ev=null,c=J(c),c!==null){var h=i(c);if(h===null)c=null;else{var v=h.tag;if(v===13){if(c=o(h),c!==null)return c;c=null}else if(v===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return Ev=c,null}function Z4(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ft()){case jt:return 2;case ze:return 8;case dt:case ge:return 32;case Be:return 268435456;default:return 32}default:return 32}}var pb=!1,cu=null,fu=null,hu=null,yd=new Map,xd=new Map,du=[],JW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J4(c,h){switch(c){case"focusin":case"focusout":cu=null;break;case"dragenter":case"dragleave":fu=null;break;case"mouseover":case"mouseout":hu=null;break;case"pointerover":case"pointerout":yd.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":xd.delete(h.pointerId)}}function bd(c,h,v,y,_,C){return c===null||c.nativeEvent!==C?(c={blockedOn:h,domEventName:v,eventSystemFlags:y,nativeEvent:C,targetContainers:[_]},h!==null&&(h=ne(h),h!==null&&Q4(h)),c):(c.eventSystemFlags|=y,h=c.targetContainers,_!==null&&h.indexOf(_)===-1&&h.push(_),c)}function eH(c,h,v,y,_){switch(h){case"focusin":return cu=bd(cu,c,h,v,y,_),!0;case"dragenter":return fu=bd(fu,c,h,v,y,_),!0;case"mouseover":return hu=bd(hu,c,h,v,y,_),!0;case"pointerover":var C=_.pointerId;return yd.set(C,bd(yd.get(C)||null,c,h,v,y,_)),!0;case"gotpointercapture":return C=_.pointerId,xd.set(C,bd(xd.get(C)||null,c,h,v,y,_)),!0}return!1}function e3(c){var h=J(c.target);if(h!==null){var v=i(h);if(v!==null){if(h=v.tag,h===13){if(h=o(v),h!==null){c.blockedOn=h,f1(c.priority,function(){if(v.tag===13){var y=Ba();y=Ch(y);var _=kc(v,y);_!==null&&La(_,v,y),cb(v,y)}});return}}else if(h===3&&v.stateNode.current.memoizedState.isDehydrated){c.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Sv(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var v=hb(c.nativeEvent);if(v===null){v=c.nativeEvent;var y=new v.constructor(v.type,v);m1=y,v.target.dispatchEvent(y),m1=null}else return h=ne(v),h!==null&&Q4(h),c.blockedOn=v,!1;h.shift()}return!0}function t3(c,h,v){Sv(c)&&v.delete(h)}function tH(){pb=!1,cu!==null&&Sv(cu)&&(cu=null),fu!==null&&Sv(fu)&&(fu=null),hu!==null&&Sv(hu)&&(hu=null),yd.forEach(t3),xd.forEach(t3)}function Tv(c,h){c.blockedOn===h&&(c.blockedOn=null,pb||(pb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tH)))}var Av=null;function n3(c){Av!==c&&(Av=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Av===c&&(Av=null);for(var h=0;h<c.length;h+=3){var v=c[h],y=c[h+1],_=c[h+2];if(typeof y!="function"){if(db(y||v)===null)continue;break}var C=ne(v);C!==null&&(c.splice(h,3),h-=3,dx(C,{pending:!0,data:_,method:v.method,action:y},y,_))}}))}function wd(c){function h(re){return Tv(re,c)}cu!==null&&Tv(cu,c),fu!==null&&Tv(fu,c),hu!==null&&Tv(hu,c),yd.forEach(h),xd.forEach(h);for(var v=0;v<du.length;v++){var y=du[v];y.blockedOn===c&&(y.blockedOn=null)}for(;0<du.length&&(v=du[0],v.blockedOn===null);)e3(v),v.blockedOn===null&&du.shift();if(v=(c.ownerDocument||c).$$reactFormReplay,v!=null)for(y=0;y<v.length;y+=3){var _=v[y],C=v[y+1],M=_[dr]||null;if(typeof C=="function")M||n3(v);else if(M){var U=null;if(C&&C.hasAttribute("formAction")){if(_=C,M=C[dr]||null)U=M.formAction;else if(db(_)!==null)continue}else U=M.action;typeof U=="function"?v[y+1]=U:(v.splice(y,3),y-=3),n3(v)}}}function vb(c){this._internalRoot=c}Cv.prototype.render=vb.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(r(409));var v=h.current,y=Ba();X4(v,y,c,h,null,null)},Cv.prototype.unmount=vb.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;X4(c.current,2,null,c,null,null),uv(),h[Vs]=null}};function Cv(c){this._internalRoot=c}Cv.prototype.unstable_scheduleHydration=function(c){if(c){var h=b0();c={blockedOn:null,target:c,priority:h};for(var v=0;v<du.length&&h!==0&&h<du[v].priority;v++);du.splice(v,0,c),v===0&&e3(c)}};var r3=t.version;if(r3!=="19.1.1")throw Error(r(527,r3,"19.1.1"));Z.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=u(h),c=c!==null?l(c):null,c=c===null?null:c.stateNode,c};var nH={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ov=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ov.isDisabled&&Ov.supportsFiber)try{ut=Ov.inject(nH),pt=Ov}catch{}}return Ed.createRoot=function(c,h){if(!a(c))throw Error(r(299));var v=!1,y="",_=xR,C=bR,M=wR,U=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(C=h.onCaughtError),h.onRecoverableError!==void 0&&(M=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(U=h.unstable_transitionCallbacks)),h=G4(c,1,!1,null,null,v,y,_,C,M,U,null),c[Vs]=h.current,Qx(c),new vb(h)},Ed.hydrateRoot=function(c,h,v){if(!a(c))throw Error(r(299));var y=!1,_="",C=xR,M=bR,U=wR,re=null,be=null;return v!=null&&(v.unstable_strictMode===!0&&(y=!0),v.identifierPrefix!==void 0&&(_=v.identifierPrefix),v.onUncaughtError!==void 0&&(C=v.onUncaughtError),v.onCaughtError!==void 0&&(M=v.onCaughtError),v.onRecoverableError!==void 0&&(U=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(re=v.unstable_transitionCallbacks),v.formState!==void 0&&(be=v.formState)),h=G4(c,1,!0,h,v??null,y,_,C,M,U,re,be),h.context=K4(null),v=h.current,y=Ba(),y=Ch(y),_=Ys(y),_.callback=null,Qs(v,_,y),v=y,h.current.lanes=v,Yu(h,v),yo(h),c[Vs]=h.current,Qx(c),new Cv(h)},Ed.version="19.1.1",Ed}var d3;function hH(){if(d3)return yb.exports;d3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yb.exports=fH(),yb.exports}var dH=hH();const pH=Mi(dH);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var p3="popstate";function vH(e={}){function t(r,a){let{pathname:i,search:o,hash:s}=r.location;return Z2("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:tp(a)}return gH(t,n,null,e)}function Tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ao(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mH(){return Math.random().toString(36).substring(2,10)}function v3(e,t){return{usr:e.state,key:e.key,idx:t}}function Z2(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?th(t):t,state:n,key:t&&t.key||r||mH()}}function tp({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function th(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function gH(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,s="POP",u=null,l=f();l==null&&(l=0,o.replaceState({...o.state,idx:l},""));function f(){return(o.state||{idx:null}).idx}function d(){s="POP";let b=f(),w=b==null?null:b-l;l=b,u&&u({action:s,location:x.location,delta:w})}function p(b,w){s="PUSH";let E=Z2(x.location,b,w);l=f()+1;let S=v3(E,l),A=x.createHref(E);try{o.pushState(S,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(A)}i&&u&&u({action:s,location:x.location,delta:1})}function m(b,w){s="REPLACE";let E=Z2(x.location,b,w);l=f();let S=v3(E,l),A=x.createHref(E);o.replaceState(S,"",A),i&&u&&u({action:s,location:x.location,delta:0})}function g(b){return yH(b)}let x={get action(){return s},get location(){return e(a,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(p3,d),u=b,()=>{a.removeEventListener(p3,d),u=null}},createHref(b){return t(a,b)},createURL:g,encodeLocation(b){let w=g(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(b){return o.go(b)}};return x}function yH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:tp(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nF(e,t,n="/"){return xH(e,t,n,!1)}function xH(e,t,n,r){let a=typeof t=="string"?th(t):t,i=Ss(a.pathname||"/",n);if(i==null)return null;let o=rF(e);bH(o);let s=null;for(let u=0;s==null&&u<o.length;++u){let l=NH(i);s=RH(o[u],l,r)}return s}function rF(e,t=[],n=[],r=""){let a=(i,o,s)=>{let u={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Tn(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let l=ys([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(Tn(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),rF(i.children,t,f,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:CH(l,i.index),routesMeta:f})};return e.forEach((i,o)=>{if(i.path===""||!i.path?.includes("?"))a(i,o);else for(let s of aF(i.path))a(i,o,s)}),t}function aF(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=aF(r.join("/")),s=[];return s.push(...o.map(u=>u===""?i:[i,u].join("/"))),a&&s.push(...o),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function bH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:OH(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var wH=/^:[\w-]+$/,_H=3,EH=2,SH=1,TH=10,AH=-2,m3=e=>e==="*";function CH(e,t){let n=e.split("/"),r=n.length;return n.some(m3)&&(r+=AH),t&&(r+=EH),n.filter(a=>!m3(a)).reduce((a,i)=>a+(wH.test(i)?_H:i===""?SH:TH),r)}function OH(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function RH(e,t,n=!1){let{routesMeta:r}=e,a={},i="/",o=[];for(let s=0;s<r.length;++s){let u=r[s],l=s===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=Tm({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},f),p=u.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=Tm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:ys([i,d.pathname]),pathnameBase:IH(ys([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=ys([i,d.pathnameBase]))}return o}function Tm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=DH(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((l,{paramName:f,isOptional:d},p)=>{if(f==="*"){let g=s[p]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[p];return d&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:e}}function DH(e,t=!1,n=!0){ao(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function NH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ao(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ss(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function kH(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?th(e):e;return{pathname:n?n.startsWith("/")?n:PH(n,t):t,search:FH(r),hash:BH(a)}}function PH(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function _b(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function IE(e){let t=MH(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function FE(e,t,n,r=!1){let a;typeof e=="string"?a=th(e):(a={...e},Tn(!a.pathname||!a.pathname.includes("?"),_b("?","pathname","search",a)),Tn(!a.pathname||!a.pathname.includes("#"),_b("#","pathname","hash",a)),Tn(!a.search||!a.search.includes("#"),_b("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;a.pathname=p.join("/")}s=d>=0?t[d]:"/"}let u=kH(a,s),l=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||f)&&(u.pathname+="/"),u}var ys=e=>e.join("/").replace(/\/\/+/g,"/"),IH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var iF=["POST","PUT","PATCH","DELETE"];new Set(iF);var jH=["GET",...iF];new Set(jH);var nh=N.createContext(null);nh.displayName="DataRouter";var Xg=N.createContext(null);Xg.displayName="DataRouterState";N.createContext(!1);var oF=N.createContext({isTransitioning:!1});oF.displayName="ViewTransition";var UH=N.createContext(new Map);UH.displayName="Fetchers";var zH=N.createContext(null);zH.displayName="Await";var oo=N.createContext(null);oo.displayName="Navigation";var kp=N.createContext(null);kp.displayName="Location";var zo=N.createContext({outlet:null,matches:[],isDataRoute:!1});zo.displayName="Route";var BE=N.createContext(null);BE.displayName="RouteError";function WH(e,{relative:t}={}){Tn(rh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(oo),{hash:a,pathname:i,search:o}=Pp(e,{relative:t}),s=i;return n!=="/"&&(s=i==="/"?n:ys([n,i])),r.createHref({pathname:s,search:o,hash:a})}function rh(){return N.useContext(kp)!=null}function Ns(){return Tn(rh(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(kp).location}var sF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uF(e){N.useContext(oo).static||N.useLayoutEffect(e)}function LE(){let{isDataRoute:e}=N.useContext(zo);return e?t$():HH()}function HH(){Tn(rh(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(nh),{basename:t,navigator:n}=N.useContext(oo),{matches:r}=N.useContext(zo),{pathname:a}=Ns(),i=JSON.stringify(IE(r)),o=N.useRef(!1);return uF(()=>{o.current=!0}),N.useCallback((u,l={})=>{if(ao(o.current,sF),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=FE(u,JSON.parse(i),a,l.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ys([t,f.pathname])),(l.replace?n.replace:n.push)(f,l.state,l)},[t,n,i,a,e])}N.createContext(null);function Pp(e,{relative:t}={}){let{matches:n}=N.useContext(zo),{pathname:r}=Ns(),a=JSON.stringify(IE(n));return N.useMemo(()=>FE(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function $H(e,t){return lF(e,t)}function lF(e,t,n,r){Tn(rh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(oo),{matches:i}=N.useContext(zo),o=i[i.length-1],s=o?o.params:{},u=o?o.pathname:"/",l=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";cF(u,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let d=Ns(),p;if(t){let w=typeof t=="string"?th(t):t;Tn(l==="/"||w.pathname?.startsWith(l),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=d;let m=p.pathname||"/",g=m;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=nF(e,{pathname:g});ao(f||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ao(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=XH(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:ys([l,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:ys([l,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&b?N.createElement(kp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function VH(){let e=e$(),t=LH(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:i},"ErrorBoundary")," or"," ",N.createElement("code",{style:i},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,o)}var qH=N.createElement(VH,null),GH=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(zo.Provider,{value:this.props.routeContext},N.createElement(BE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KH({routeContext:e,match:t,children:n}){let r=N.useContext(nh);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(zo.Provider,{value:e},n)}function XH(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=n?.errors;if(i!=null){let u=a.findIndex(l=>l.route.id&&i?.[l.route.id]!==void 0);Tn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let o=!1,s=-1;if(n)for(let u=0;u<a.length;u++){let l=a[u];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(s=u),l.route.id){let{loaderData:f,errors:d}=n,p=l.route.loader&&!f.hasOwnProperty(l.route.id)&&(!d||d[l.route.id]===void 0);if(l.route.lazy||p){o=!0,s>=0?a=a.slice(0,s+1):a=[a[0]];break}}}return a.reduceRight((u,l,f)=>{let d,p=!1,m=null,g=null;n&&(d=i&&l.route.id?i[l.route.id]:void 0,m=l.route.errorElement||qH,o&&(s<0&&f===0?(cF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):s===f&&(p=!0,g=l.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,f+1)),b=()=>{let w;return d?w=m:p?w=g:l.route.Component?w=N.createElement(l.route.Component,null):l.route.element?w=l.route.element:w=u,N.createElement(KH,{match:l,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(l.route.ErrorBoundary||l.route.errorElement||f===0)?N.createElement(GH,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}function jE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YH(e){let t=N.useContext(nh);return Tn(t,jE(e)),t}function QH(e){let t=N.useContext(Xg);return Tn(t,jE(e)),t}function ZH(e){let t=N.useContext(zo);return Tn(t,jE(e)),t}function UE(e){let t=ZH(e),n=t.matches[t.matches.length-1];return Tn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function JH(){return UE("useRouteId")}function e$(){let e=N.useContext(BE),t=QH("useRouteError"),n=UE("useRouteError");return e!==void 0?e:t.errors?.[n]}function t$(){let{router:e}=YH("useNavigate"),t=UE("useNavigate"),n=N.useRef(!1);return uF(()=>{n.current=!0}),N.useCallback(async(a,i={})=>{ao(n.current,sF),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var g3={};function cF(e,t,n){!t&&!g3[e]&&(g3[e]=!0,ao(!1,n))}N.memo(n$);function n$({routes:e,future:t,state:n}){return lF(e,void 0,n,t)}function r$({to:e,replace:t,state:n,relative:r}){Tn(rh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(oo);ao(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=N.useContext(zo),{pathname:o}=Ns(),s=LE(),u=FE(e,IE(i),o,r==="path"),l=JSON.stringify(u);return N.useEffect(()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})},[s,l,r,t,n]),null}function Ki(e){Tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a$({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:i=!1}){Tn(!rh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),s=N.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof n=="string"&&(n=th(n));let{pathname:u="/",search:l="",hash:f="",state:d=null,key:p="default"}=n,m=N.useMemo(()=>{let g=Ss(u,o);return g==null?null:{location:{pathname:g,search:l,hash:f,state:d,key:p},navigationType:r}},[o,u,l,f,d,p,r]);return ao(m!=null,`<Router basename="${o}"> is not able to match the URL "${u}${l}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:N.createElement(oo.Provider,{value:s},N.createElement(kp.Provider,{children:t,value:m}))}function i$({children:e,location:t}){return $H(J2(e),t)}function J2(e,t=[]){let n=[];return N.Children.forEach(e,(r,a)=>{if(!N.isValidElement(r))return;let i=[...t,a];if(r.type===N.Fragment){n.push.apply(n,J2(r.props.children,i));return}Tn(r.type===Ki,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=J2(r.props.children,i)),n.push(o)}),n}var mm="get",gm="application/x-www-form-urlencoded";function Yg(e){return e!=null&&typeof e.tagName=="string"}function o$(e){return Yg(e)&&e.tagName.toLowerCase()==="button"}function s$(e){return Yg(e)&&e.tagName.toLowerCase()==="form"}function u$(e){return Yg(e)&&e.tagName.toLowerCase()==="input"}function l$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function c$(e,t){return e.button===0&&(!t||t==="_self")&&!l$(e)}var Rv=null;function f$(){if(Rv===null)try{new FormData(document.createElement("form"),0),Rv=!1}catch{Rv=!0}return Rv}var h$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eb(e){return e!=null&&!h$.has(e)?(ao(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gm}"`),null):e}function d$(e,t){let n,r,a,i,o;if(s$(e)){let s=e.getAttribute("action");r=s?Ss(s,t):null,n=e.getAttribute("method")||mm,a=Eb(e.getAttribute("enctype"))||gm,i=new FormData(e)}else if(o$(e)||u$(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||s.getAttribute("action");if(r=u?Ss(u,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||mm,a=Eb(e.getAttribute("formenctype"))||Eb(s.getAttribute("enctype"))||gm,i=new FormData(s,e),!f$()){let{name:l,type:f,value:d}=e;if(f==="image"){let p=l?`${l}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else l&&i.append(l,d)}}else{if(Yg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mm,r=null,a=gm,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function p$(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ss(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function v$(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function g$(e,t,n){let r=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await v$(i,n);return o.links?o.links():[]}return[]}));return w$(r.flat(1).filter(m$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function y3(e,t,n,r,a,i){let o=(u,l)=>n[l]?u.route.id!==n[l].route.id:!0,s=(u,l)=>n[l].pathname!==u.pathname||n[l].route.path?.endsWith("*")&&n[l].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,l)=>o(u,l)||s(u,l)):i==="data"?t.filter((u,l)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,l)||s(u,l))return!0;if(u.route.shouldRevalidate){let d=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function y$(e,t,{includeHydrateFallback:n}={}){return x$(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function x$(e){return[...new Set(e)]}function b$(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function w$(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let i=JSON.stringify(b$(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function fF(){let e=N.useContext(nh);return zE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _$(){let e=N.useContext(Xg);return zE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var WE=N.createContext(void 0);WE.displayName="FrameworkContext";function hF(){let e=N.useContext(WE);return zE(e,"You must render this element inside a <HydratedRouter> element"),e}function E$(e,t){let n=N.useContext(WE),[r,a]=N.useState(!1),[i,o]=N.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:l,onMouseLeave:f,onTouchStart:d}=t,p=N.useRef(null);N.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let x=w=>{w.forEach(E=>{o(E.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),N.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{a(!0)},g=()=>{a(!1),o(!1)};return n?e!=="intent"?[i,p,{}]:[i,p,{onFocus:Sd(s,m),onBlur:Sd(u,g),onMouseEnter:Sd(l,m),onMouseLeave:Sd(f,g),onTouchStart:Sd(d,m)}]:[!1,p,{}]}function Sd(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function S$({page:e,...t}){let{router:n}=fF(),r=N.useMemo(()=>nF(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?N.createElement(A$,{page:e,matches:r,...t}):null}function T$(e){let{manifest:t,routeModules:n}=hF(),[r,a]=N.useState([]);return N.useEffect(()=>{let i=!1;return g$(e,t,n).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,n]),r}function A$({page:e,matches:t,...n}){let r=Ns(),{manifest:a,routeModules:i}=hF(),{basename:o}=fF(),{loaderData:s,matches:u}=_$(),l=N.useMemo(()=>y3(e,t,u,a,r,"data"),[e,t,u,a,r]),f=N.useMemo(()=>y3(e,t,u,a,r,"assets"),[e,t,u,a,r]),d=N.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let g=new Set,x=!1;if(t.forEach(w=>{let E=a.routes[w.route.id];!E||!E.hasLoader||(!l.some(S=>S.route.id===w.route.id)&&w.route.id in s&&i[w.route.id]?.shouldRevalidate||E.hasClientLoader?x=!0:g.add(w.route.id))}),g.size===0)return[];let b=p$(e,o,"data");return x&&g.size>0&&b.searchParams.set("_routes",t.filter(w=>g.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[o,s,r,a,l,t,e,i]),p=N.useMemo(()=>y$(f,a),[f,a]),m=T$(f);return N.createElement(N.Fragment,null,d.map(g=>N.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),p.map(g=>N.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),m.map(({key:g,link:x})=>N.createElement("link",{key:g,...x})))}function C$(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var dF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dF&&(window.__reactRouterVersion="7.7.1")}catch{}function O$({basename:e,children:t,window:n}){let r=N.useRef();r.current==null&&(r.current=vH({window:n,v5Compat:!0}));let a=r.current,[i,o]=N.useState({action:a.action,location:a.location}),s=N.useCallback(u=>{N.startTransition(()=>o(u))},[o]);return N.useLayoutEffect(()=>a.listen(s),[a,s]),N.createElement(a$,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var pF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Am=N.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:o,state:s,target:u,to:l,preventScrollReset:f,viewTransition:d,...p},m){let{basename:g}=N.useContext(oo),x=typeof l=="string"&&pF.test(l),b,w=!1;if(typeof l=="string"&&x&&(b=l,dF))try{let k=new URL(window.location.href),I=l.startsWith("//")?new URL(k.protocol+l):new URL(l),F=Ss(I.pathname,g);I.origin===k.origin&&F!=null?l=F+I.search+I.hash:w=!0}catch{ao(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=WH(l,{relative:a}),[S,A,T]=E$(r,p),R=k$(l,{replace:o,state:s,target:u,preventScrollReset:f,relative:a,viewTransition:d});function D(k){t&&t(k),k.defaultPrevented||R(k)}let P=N.createElement("a",{...p,...T,href:b||E,onClick:w||i?t:D,ref:C$(m,A),target:u,"data-discover":!x&&n==="render"?"true":void 0});return S&&!x?N.createElement(N.Fragment,null,P,N.createElement(S$,{page:E})):P});Am.displayName="Link";var R$=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:o,viewTransition:s,children:u,...l},f){let d=Pp(o,{relative:l.relative}),p=Ns(),m=N.useContext(Xg),{navigator:g,basename:x}=N.useContext(oo),b=m!=null&&B$(d)&&s===!0,w=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,E=p.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(E=E.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&x&&(S=Ss(S,x)||S);const A=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let T=E===w||!a&&E.startsWith(w)&&E.charAt(A)==="/",R=S!=null&&(S===w||!a&&S.startsWith(w)&&S.charAt(w.length)==="/"),D={isActive:T,isPending:R,isTransitioning:b},P=T?t:void 0,k;typeof r=="function"?k=r(D):k=[r,T?"active":null,R?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(D):i;return N.createElement(Am,{...l,"aria-current":P,className:k,ref:f,style:I,to:o,viewTransition:s},typeof u=="function"?u(D):u)});R$.displayName="NavLink";var D$=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:i,method:o=mm,action:s,onSubmit:u,relative:l,preventScrollReset:f,viewTransition:d,...p},m)=>{let g=I$(),x=F$(s,{relative:l}),b=o.toLowerCase()==="get"?"get":"post",w=typeof s=="string"&&pF.test(s),E=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let A=S.nativeEvent.submitter,T=A?.getAttribute("formmethod")||o;g(A||S.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:a,state:i,relative:l,preventScrollReset:f,viewTransition:d})};return N.createElement("form",{ref:m,method:b,action:x,onSubmit:r?u:E,...p,"data-discover":!w&&e==="render"?"true":void 0})});D$.displayName="Form";function N$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vF(e){let t=N.useContext(nh);return Tn(t,N$(e)),t}function k$(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:o}={}){let s=LE(),u=Ns(),l=Pp(e,{relative:i});return N.useCallback(f=>{if(c$(f,t)){f.preventDefault();let d=n!==void 0?n:tp(u)===tp(l);s(e,{replace:d,state:r,preventScrollReset:a,relative:i,viewTransition:o})}},[u,s,l,n,r,t,e,a,i,o])}var P$=0,M$=()=>`__${String(++P$)}__`;function I$(){let{router:e}=vF("useSubmit"),{basename:t}=N.useContext(oo),n=JH();return N.useCallback(async(r,a={})=>{let{action:i,method:o,encType:s,formData:u,body:l}=d$(r,t);if(a.navigate===!1){let f=a.fetcherKey||M$();await e.fetch(f,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:l,formMethod:a.method||o,formEncType:a.encType||s,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:l,formMethod:a.method||o,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function F$(e,{relative:t}={}){let{basename:n}=N.useContext(oo),r=N.useContext(zo);Tn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...Pp(e||".",{relative:t})},o=Ns();if(e==null){i.search=o.search;let s=new URLSearchParams(i.search),u=s.getAll("index");if(u.some(f=>f==="")){s.delete("index"),u.filter(d=>d).forEach(d=>s.append("index",d));let f=s.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:ys([n,i.pathname])),tp(i)}function B$(e,{relative:t}={}){let n=N.useContext(oF);Tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vF("useViewTransitionState"),a=Pp(e,{relative:t});if(!n.isTransitioning)return!1;let i=Ss(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ss(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tm(a.pathname,o)!=null||Tm(a.pathname,i)!=null}var mF=tF();function x3(){const[e,t]=N.useState(""),[n,r]=N.useState(""),[a,i]=N.useState(""),[o,s]=N.useState(!1),[u,l]=N.useState(!1),f=LE(),d=async()=>{s(!0),i("");try{const m=await fetch("https://marqueebackend.onrender.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})}),g=await m.json();m.status===200?(localStorage.setItem("token",g.token),localStorage.setItem("role",g.role),l(!0),setTimeout(()=>{g.role==="admin"?f("/admin"):f("/dashboard")},2e3)):i(g.message||"Invalid credentials")}catch{i("Server error. Please try again later.")}finally{s(!1)}},p=m=>{m.preventDefault(),d()};return O.jsx("div",{className:"container d-flex justify-content-center align-items-center",style:{height:"100vh"},children:O.jsxs("div",{className:"login-container",children:[O.jsxs("div",{className:"login-card animate__animated animate__fadeIn",children:[O.jsxs("div",{className:"login-header",children:[O.jsx("h2",{children:"LOGIN"}),O.jsx("p",{children:"Please enter your credentials to continue"})]}),O.jsxs("form",{onSubmit:p,children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"username",children:"Username"}),O.jsx("input",{id:"username",type:"text",className:"form-control",value:e,onChange:m=>t(m.target.value),placeholder:"Enter your username",required:!0})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"password",children:"Password"}),O.jsx("input",{id:"password",type:"password",className:"form-control",value:n,onChange:m=>r(m.target.value),placeholder:"Enter your password",required:!0})]}),O.jsx("button",{type:"submit",className:"login-btn",disabled:o,children:o?O.jsxs(O.Fragment,{children:[O.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),O.jsx("span",{className:"ms-2",children:"Authenticating..."})]}):"Login"}),a&&O.jsx("div",{className:"error-modal animate__animated animate__headShake",children:O.jsxs("div",{className:"error-content",children:[O.jsx("i",{className:"bi bi-exclamation-circle"}),O.jsx("span",{children:a})]})})]})]}),u&&O.jsx("div",{className:"success-modal animate__animated animate__fadeIn",children:O.jsxs("div",{className:"success-content animate__animated animate__zoomIn",children:[O.jsx("div",{className:"success-icon",children:O.jsx("i",{className:"bi bi-check-circle"})}),O.jsx("h3",{children:"Login Successful!"}),O.jsx("p",{children:"You will be redirected to your dashboard shortly..."}),O.jsx("div",{className:"progress-bar",children:O.jsx("div",{className:"progress"})})]})})]})})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var gF=function(e,t){return(gF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])})(e,t)};function so(e,t){function n(){this.constructor=e}gF(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function ot(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(l){try{u(r.next(l))}catch(f){i(f)}}function s(l){try{u(r.throw(l))}catch(f){i(f)}}function u(l){l.done?a(l.value):new n(function(f){f(l.value)}).then(o,s)}u((r=r.apply(e,[])).next())})}function st(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(l){return function(f){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&f[0]?r.return:f[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,f[1])).done)return a;switch(r=0,a&&(f=[2&f[0],a.value]),f[0]){case 0:case 1:a=f;break;case 4:return o.label++,{value:f[1],done:!1};case 5:o.label++,r=f[1],f=[0];continue;case 7:f=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){o=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){o.label=f[1];break}if(f[0]===6&&o.label<a[1]){o.label=a[1],a=f;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(f);break}a[2]&&o.ops.pop(),o.trys.pop();continue}f=t.call(e,o)}catch(d){f=[6,d],r=0}finally{n=a=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([u,l])}}}var L$=function(){function e(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(t,n){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+n+"."),this.platformName=t,this.platform=n},e.prototype.registerFlag=function(t,n,r){if(this.flagRegistry[t]={evaluationFn:n,setHook:r},this.urlFlags[t]!=null){var a=this.urlFlags[t];console.warn("Setting feature override from URL "+t+": "+a+"."),this.set(t,a)}},e.prototype.get=function(t){return t in this.flags?this.flags[t]:(this.flags[t]=this.evaluateFlag(t),this.flags[t])},e.prototype.getNumber=function(t){return this.get(t)},e.prototype.getBool=function(t){return this.get(t)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(t,n){if(this.flagRegistry[t]==null)throw new Error("Cannot set flag "+t+" as it has not been registered.");this.flags[t]=n,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(n)},e.prototype.evaluateFlag=function(t){if(this.flagRegistry[t]==null)throw new Error("Cannot evaluate flag '"+t+"': no evaluation function found.");return this.flagRegistry[t].evaluationFn()},e.prototype.setFlags=function(t){this.flags=Object.assign({},t)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var t=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var n,r,a=(n=this.global.location.search,r={},n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return j$(r,o[0],o[1]),o.join("=")}),r);"tfjsflags"in a&&a.tfjsflags.split(",").forEach(function(i){var o=i.split(":"),s=o[0],u=o[1];t.urlFlags[s]=function(l,f){if((f=f.toLowerCase())==="true"||f==="false")return f==="true";if(""+ +f===f)return+f;throw new Error("Could not parse value flag value "+f+" for flag "+l+".")}(s,u)})}},e}();function j$(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function Me(){return yF}var yF=null,Cm=new Map,e_=new Map;function xF(e,t){var n=wF(e,t);return Cm.get(n)}function U$(e){return e_.get(e)}function b3(e){for(var t=Cm.entries(),n=[];;){var r=t.next(),a=r.done,i=r.value;if(a)break;var o=i[0],s=i[1];o.split("_")[0]===e&&n.push(s)}return n}function bF(e){var t=e.kernelName,n=e.backendName,r=wF(t,n);if(Cm.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");Cm.set(r,e)}function z$(e){var t=e.kernelName;e_.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),e_.set(t,e)}function wF(e,t){return t+"_"+e}function t_(e,t,n){return Math.max(e,Math.min(t,n))}function _F(e){return e%2==0?e:e+1}function W$(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function Q(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function Kt(e,t,n){n===void 0&&(n=""),Q(Er(e,t),function(){return n+" Shapes "+e+" and "+t+" must match"})}function ah(e){Q(e!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function Bf(e,t,n){if(t===void 0&&(t=[]),n===void 0&&(n=!1),t==null&&(t=[]),Array.isArray(e)||No(e)&&!n)for(var r=0;r<e.length;++r)Bf(e[r],t,n);else t.push(e);return t}function lt(e){if(e.length===0)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function Er(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Un(e){return e%1==0}function H$(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function n_(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function Sf(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function w3(e,t,n){return t===void 0&&(t=function(r){return 0}),new Promise(function(r,a){var i=0,o=function(){if(e())r();else{i++;var s=t(i);n!=null&&i>=n?a():setTimeout(o,s)}};o()})}function $$(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(e[a]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+a);r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found "+e[a]+" at dim "+a);if(r===-1){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(n===0)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var i=e.slice();return i[r]=t/n,i}function lr(e,t){var n=t.length;return Q((e=e==null?t.map(function(r,a){return a}):[].concat(e)).every(function(r){return r>=-n&&r<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e}),Q(e.every(function(r){return Un(r)}),function(){return"All values in axis param must be integers but got axis "+e}),e.map(function(r){return r<0?n+r:r})}function El(e,t){for(var n=[],r=[],a=t!=null&&Array.isArray(t)&&t.length===0,i=t==null||a?null:lr(t,e).sort(),o=0,s=0;s<e.length;++s){if(i!=null){if(i[o]===s&&e[s]!==1)throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(i[o]==null||i[o]>s)&&e[s]===1&&(n.push(e[s]),r.push(s)),i[o]<=s&&o++}e[s]!==1&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function np(e,t){var n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else{if(e!=="bool")throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function Om(e,t){var n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else{if(e!=="string")throw new Error("Unknown data type "+e);n=new Array(t)}return n}function V$(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function q$(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function G$(e,t){return t!=="complex64"&&(t!=="float32"||e==="complex64")&&(t!=="int32"||e==="float32"||e==="complex64")&&(t!=="bool"||e!=="bool")}function No(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function EF(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error("Unknown dtype "+e)}function K$(e){if(e==null)return 0;var t=0;return e.forEach(function(n){return t+=n.length}),t}function HE(e){return typeof e=="string"||e instanceof String}function X$(e){return typeof e=="boolean"}function Y$(e){return typeof e=="number"}function Mp(e){return Array.isArray(e)?Mp(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":Y$(e)?"float32":HE(e)?"string":X$(e)?"bool":"float32"}function r_(e){return!!(e&&e.constructor&&e.call&&e.apply)}function a_(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function ko(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function SF(e,t,n){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Bf(e)),n&&V$(e,t),function(i,o){return i instanceof Float32Array&&o==="float32"||i instanceof Int32Array&&o==="int32"||i instanceof Uint8Array&&o==="bool"}(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){for(var r=new Uint8Array(e.length),a=0;a<r.length;++a)Math.round(e[a])!==0&&(r[a]=1);return r}throw new Error("Unknown data type "+t)}function _3(e,t){if(e.length===0)return t[0];var n=e.reduce(function(r,a){return r*a});if(n===0)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function r(a,i,o){var s=new Array;if(i.length===1)for(var u=i[0],l=0;l<u;l++)s[l]=o[a+l];else{u=i[0];var f=i.slice(1),d=f.reduce(function(p,m){return p*m});for(l=0;l<u;l++)s[l]=r(a+l*d,f,o)}return s}(0,e,t)}function TF(e,t){for(var n=Ip(e,t),r=0;r<n.length;r++)n[r]=1;return n}function Ip(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error("Unknown data type "+t)}function Ao(){return Me().platform.now()}function AF(e){e.forEach(function(t){Q(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."})})}function Q$(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",Me().platform.encode(e,t)}function Rm(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",Me().platform.decode(e,t)}function E3(e,t,n){if(t===0)return 0;if(t===1)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function Z$(e,t,n){if(t===0)return[];if(t===1)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}var J$=function(){function e(t,n){this.backendTimer=t,this.logger=n,n==null&&(this.logger=new eV)}return e.prototype.profileKernel=function(t,n,r){var a,i=this,o=this.backendTimer.time(function(){a=r()});return a.forEach(function(s){s.data().then(function(u){(function(l,f,d){if(f!=="float32")return!1;for(var p=0;p<l.length;p++){var m=l[p];if(isNaN(m)||!isFinite(m))return console.warn("Found "+m+" in the result of '"+d+"'"),!0}})(u,s.dtype,t),o.then(function(l){var f="";l.getExtraProfileInfo!=null&&(f=l.getExtraProfileInfo()),i.logger.logKernelProfile(t,s,u,l.kernelMs,n,f)})})}),a},e}(),eV=function(){function e(){}return e.prototype.logKernelProfile=function(t,n,r,a,i,o){var s=typeof a=="number"?Sf(a+"ms",9):a.error,u=Sf(t,25),l=n.rank,f=n.size,d=Sf(n.shape.toString(),14),p="";for(var m in i){var g=i[m].shape||n.shape,x=g.length;p+=m+": "+x+"D "+(x>0?g:"")+" "}console.log("%c"+u+"	%c"+s+"	%c"+l+"D "+d+"	%c"+f+"	%c"+p+"	%c"+o,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),S3=20,Td=3,Sb=7;function tV(e,t,n,r){var a=ko(t),i=function(l,f,d,p){var m=lt(f),g=p[p.length-1],x=new Array(g).fill(0),b=f.length,w=d==="complex64"?Cd(l):l;if(b>1)for(var E=0;E<m/g;E++)for(var S=E*g,A=0;A<g;A++)x[A]=Math.max(x[A],Ad(w[S+A],0,d).length);return x}(e,t,n,a),o=t.length,s=function l(f,d,p,m,g,x){x===void 0&&(x=!0);var b=p==="complex64"?2:1,w=d[0],E=d.length;if(E===0)return p==="complex64"?[Ad(Cd(f)[0],0,p)]:p==="bool"?[CF(f[0])]:[f[0].toString()];if(E===1){if(w>S3){var S=Td*b,A=Array.from(f.slice(0,S)),T=Array.from(f.slice((w-Td)*b,w*b));return p==="complex64"&&(A=Cd(A),T=Cd(T)),["["+A.map(function(V,H){return Ad(V,g[H],p)}).join(", ")+", ..., "+T.map(function(V,H){return Ad(V,g[w-Td+H],p)}).join(", ")+"]"]}return["["+(p==="complex64"?Cd(f):Array.from(f)).map(function(V,H){return Ad(V,g[H],p)}).join(", ")+"]"]}var R=d.slice(1),D=m.slice(1),P=m[0]*b,k=[];if(w>S3){for(var I=0;I<Td;I++){var F=(B=I*P)+P;k.push.apply(k,l(f.slice(B,F),R,p,D,g,!1))}for(k.push("..."),I=w-Td;I<w;I++)F=(B=I*P)+P,k.push.apply(k,l(f.slice(B,F),R,p,D,g,I===w-1))}else for(I=0;I<w;I++){var B;F=(B=I*P)+P,k.push.apply(k,l(f.slice(B,F),R,p,D,g,I===w-1))}var te=E===2?",":"";for(k[0]="["+k[0]+te,I=1;I<k.length-1;I++)k[I]=" "+k[I]+te;var ae=`,
`;for(I=2;I<E;I++)ae+=`
`;return k[k.length-1]=" "+k[k.length-1]+"]"+(x?"":ae),k}(e,t,n,a,i),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+o),u.push("  shape: ["+t+"]"),u.push("  values:")),u.push(s.map(function(l){return"    "+l}).join(`
`)),u.join(`
`)}function Ad(e,t,n){return Sf(Array.isArray(e)?parseFloat(e[0].toFixed(Sb))+" + "+parseFloat(e[1].toFixed(Sb))+"j":HE(e)?"'"+e+"'":n==="bool"?CF(e):parseFloat(e.toFixed(Sb)).toString(),t)}function CF(e){return e===0?"false":"true"}function Cd(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var rp=function(){function e(t,n,r){var a=this;if(this.dtype=n,this.shape=t.slice(),this.size=lt(t),r!=null){var i=r.length;Q(i===this.size,function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+a.size+"'."})}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Om(n,this.size),this.strides=ko(t)}return e.prototype.set=function(t){for(var n=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];r.length===0&&(r=[0]),Q(r.length===this.rank,function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+n.rank+")"});var i=this.locToIndex(r);this.values[i]=t},e.prototype.get=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.length===0&&(t=[0]);for(var r=0,a=0,i=t;a<i.length;a++){var o=i[a];if(o<0||o>=this.shape[r]){var s="Requested out of range element at "+t+".   Buffer shape="+this.shape;throw new Error(s)}r++}for(var u=t[t.length-1],l=0;l<t.length-1;++l)u+=this.strides[l]*t[l];return this.values[u]},e.prototype.locToIndex=function(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return n},e.prototype.indexToLoc=function(t){if(this.rank===0)return[];if(this.rank===1)return[t];for(var n=new Array(this.shape.length),r=0;r<n.length-1;++r)n[r]=Math.floor(t/this.strides[r]),t-=n[r]*this.strides[r];return n[n.length-1]=t,n},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return Co().makeTensor(this.values,this.shape,this.dtype)},e}(),Co=null,Ce=null,OF=null,On=function(){function e(t,n,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=lt(t),this.strides=ko(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),Q(this.size===1,function(){return"The array must have only 1 element."}),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(t,n){return this.throwIfDisposed(),this.reshape([t,n])},e.prototype.as3D=function(t,n,r){return this.throwIfDisposed(),this.reshape([t,n,r])},e.prototype.as4D=function(t,n,r,a){return this.throwIfDisposed(),this.reshape([t,n,r,a])},e.prototype.as5D=function(t,n,r,a,i){return this.throwIfDisposed(),this.reshape([t,n,r,a,i])},e.prototype.asType=function(t){return this.throwIfDisposed(),Ce.cast(this,t)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return ot(this,void 0,void 0,function(){var t;return st(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return t=n.sent(),[2,Ce.buffer(this.shape,this.dtype,t)]}})})},e.prototype.bufferSync=function(){return Ce.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return ot(this,void 0,void 0,function(){var t;return st(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return t=n.sent(),[2,_3(this.shape,t)]}})})},e.prototype.arraySync=function(){return _3(this.shape,this.dataSync())},e.prototype.data=function(){return ot(this,void 0,void 0,function(){var t,n;return st(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),t=Co().read(this.dataId),this.dtype!=="string"?[3,2]:[4,t];case 1:n=r.sent();try{return[2,n.map(function(a){return Rm(a)})]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,t]}})})},e.prototype.dataSync=function(){this.throwIfDisposed();var t=Co().readSync(this.dataId);if(this.dtype==="string")try{return t.map(function(n){return Rm(n)})}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t},e.prototype.bytes=function(){return ot(this,void 0,void 0,function(){var t;return st(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),[4,Co().read(this.dataId)];case 1:return t=n.sent(),this.dtype==="string"?[2,t]:[2,new Uint8Array(t.buffer)]}})})},e.prototype.dispose=function(){this.isDisposed||(Co().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(t){return t===void 0&&(t=!1),Ce.print(this,t)},e.prototype.reshape=function(t){return this.throwIfDisposed(),Ce.reshape(this,t)},e.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},e.prototype.expandDims=function(t){return t===void 0&&(t=0),Ce.expandDims(this,t)},e.prototype.cumsum=function(t,n,r){return t===void 0&&(t=0),n===void 0&&(n=!1),r===void 0&&(r=!1),Ce.cumsum(this,t,n,r)},e.prototype.squeeze=function(t){return this.throwIfDisposed(),Ce.squeeze(this,t)},e.prototype.clone=function(){return this.throwIfDisposed(),Ce.clone(this)},e.prototype.oneHot=function(t,n,r){return this.throwIfDisposed(),Ce.oneHot(this,t,n,r)},e.prototype.toString=function(t){return t===void 0&&(t=!1),tV(this.dataSync(),this.shape,this.dtype,t)},e.prototype.tile=function(t){return this.throwIfDisposed(),Ce.tile(this,t)},e.prototype.gather=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),Ce.gather(this,t,n)},e.prototype.matMul=function(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!1),this.throwIfDisposed(),Ce.matMul(this,t,n,r)},e.prototype.dot=function(t){return this.throwIfDisposed(),Ce.dot(this,t)},e.prototype.norm=function(t,n,r){return t===void 0&&(t="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1),this.throwIfDisposed(),Ce.norm(this,t,n,r)},e.prototype.slice=function(t,n){return this.throwIfDisposed(),Ce.slice(this,t,n)},e.prototype.reverse=function(t){return this.throwIfDisposed(),Ce.reverse(this,t)},e.prototype.concat=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),Ce.concat([this].concat(t),n)},e.prototype.split=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),Ce.split(this,t,n)},e.prototype.stack=function(t,n){return n===void 0&&(n=0),Ce.stack([this,t],n)},e.prototype.unstack=function(t){return t===void 0&&(t=0),Ce.unstack(this,t)},e.prototype.pad=function(t,n){return n===void 0&&(n=0),Ce.pad(this,t,n)},e.prototype.batchNormalization=function(t,n,r,a,i){return r===void 0&&(r=.001),OF("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(t,n,i,a,r)},e.prototype.batchNorm=function(t,n,r,a,i){return i===void 0&&(i=.001),this.throwIfDisposed(),Ce.batchNorm(this,t,n,r,a,i)},e.prototype.all=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),Ce.all(this,t,n)},e.prototype.any=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),Ce.any(this,t,n)},e.prototype.logSumExp=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),Ce.logSumExp(this,t,n)},e.prototype.sum=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),Ce.sum(this,t,n)},e.prototype.prod=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),Ce.prod(this,t,n)},e.prototype.mean=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),Ce.mean(this,t,n)},e.prototype.min=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),Ce.min(this,t,n)},e.prototype.max=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),Ce.max(this,t,n)},e.prototype.argMin=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),Ce.argMin(this,t)},e.prototype.argMax=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),Ce.argMax(this,t)},e.prototype.cast=function(t){return this.throwIfDisposed(),Ce.cast(this,t)},e.prototype.add=function(t){return this.throwIfDisposed(),Ce.add(this,t)},e.prototype.addStrict=function(t){return this.throwIfDisposed(),Ce.addStrict(this,t)},e.prototype.atan2=function(t){return this.throwIfDisposed(),Ce.atan2(this,t)},e.prototype.sub=function(t){return this.throwIfDisposed(),Ce.sub(this,t)},e.prototype.subStrict=function(t){return this.throwIfDisposed(),Ce.subStrict(this,t)},e.prototype.pow=function(t){return this.throwIfDisposed(),Ce.pow(this,t)},e.prototype.powStrict=function(t){return this.throwIfDisposed(),Ce.powStrict(this,t)},e.prototype.mul=function(t){return this.throwIfDisposed(),Ce.mul(this,t)},e.prototype.mulStrict=function(t){return this.throwIfDisposed(),Ce.mulStrict(this,t)},e.prototype.div=function(t){return this.throwIfDisposed(),Ce.div(this,t)},e.prototype.divNoNan=function(t){return this.throwIfDisposed(),Ce.divNoNan(this,t)},e.prototype.floorDiv=function(t){return this.throwIfDisposed(),Ce.floorDiv(this,t)},e.prototype.divStrict=function(t){return this.throwIfDisposed(),Ce.divStrict(this,t)},e.prototype.minimum=function(t){return this.throwIfDisposed(),Ce.minimum(this,t)},e.prototype.minimumStrict=function(t){return this.throwIfDisposed(),Ce.minimumStrict(this,t)},e.prototype.maximum=function(t){return this.throwIfDisposed(),Ce.maximum(this,t)},e.prototype.maximumStrict=function(t){return this.throwIfDisposed(),Ce.maximumStrict(this,t)},e.prototype.mod=function(t){return this.throwIfDisposed(),Ce.mod(this,t)},e.prototype.modStrict=function(t){return this.throwIfDisposed(),Ce.modStrict(this,t)},e.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),Ce.squaredDifferenceStrict(this,t)},e.prototype.transpose=function(t){return this.throwIfDisposed(),Ce.transpose(this,t)},e.prototype.notEqual=function(t){return this.throwIfDisposed(),Ce.notEqual(this,t)},e.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),Ce.notEqualStrict(this,t)},e.prototype.less=function(t){return this.throwIfDisposed(),Ce.less(this,t)},e.prototype.lessStrict=function(t){return this.throwIfDisposed(),Ce.lessStrict(this,t)},e.prototype.equal=function(t){return this.throwIfDisposed(),Ce.equal(this,t)},e.prototype.equalStrict=function(t){return this.throwIfDisposed(),Ce.equalStrict(this,t)},e.prototype.lessEqual=function(t){return this.throwIfDisposed(),Ce.lessEqual(this,t)},e.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),Ce.lessEqualStrict(this,t)},e.prototype.greater=function(t){return this.throwIfDisposed(),Ce.greater(this,t)},e.prototype.greaterStrict=function(t){return this.throwIfDisposed(),Ce.greaterStrict(this,t)},e.prototype.greaterEqual=function(t){return this.throwIfDisposed(),Ce.greaterEqual(this,t)},e.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),Ce.greaterEqualStrict(this,t)},e.prototype.logicalAnd=function(t){return this.throwIfDisposed(),Ce.logicalAnd(this,t)},e.prototype.logicalOr=function(t){return this.throwIfDisposed(),Ce.logicalOr(this,t)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),Ce.logicalNot(this)},e.prototype.logicalXor=function(t){return this.throwIfDisposed(),Ce.logicalXor(this,t)},e.prototype.where=function(t,n){return this.throwIfDisposed(),Ce.where(t,this,n)},e.prototype.neg=function(){return this.throwIfDisposed(),Ce.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),Ce.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),Ce.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),Ce.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),Ce.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),Ce.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),Ce.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),Ce.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),Ce.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),Ce.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),Ce.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),Ce.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),Ce.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),Ce.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),Ce.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),Ce.abs(this)},e.prototype.clipByValue=function(t,n){return this.throwIfDisposed(),Ce.clipByValue(this,t,n)},e.prototype.relu=function(){return this.throwIfDisposed(),Ce.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),Ce.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),Ce.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),Ce.selu(this)},e.prototype.leakyRelu=function(t){return t===void 0&&(t=.2),this.throwIfDisposed(),Ce.leakyRelu(this,t)},e.prototype.prelu=function(t){return this.throwIfDisposed(),Ce.prelu(this,t)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),Ce.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),Ce.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),Ce.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),Ce.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),Ce.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),Ce.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),Ce.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),Ce.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),Ce.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),Ce.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),Ce.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),Ce.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),Ce.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),Ce.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),Ce.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),Ce.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),Ce.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),Ce.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),Ce.round(this)},e.prototype.step=function(t){return t===void 0&&(t=0),this.throwIfDisposed(),Ce.step(this,t)},e.prototype.softmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),Ce.softmax(this,t)},e.prototype.logSoftmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),Ce.logSoftmax(this,t)},e.prototype.resizeBilinear=function(t,n){return n===void 0&&(n=!1),this.throwIfDisposed(),Ce.image.resizeBilinear(this,t,n)},e.prototype.resizeNearestNeighbor=function(t,n){return n===void 0&&(n=!1),this.throwIfDisposed(),Ce.image.resizeNearestNeighbor(this,t,n)},e.prototype.conv1d=function(t,n,r,a,i,o){return a===void 0&&(a="NWC"),i===void 0&&(i=1),this.throwIfDisposed(),Ce.conv1d(this,t,n,r,a,i,o)},e.prototype.conv2d=function(t,n,r,a,i,o){return a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),Ce.conv2d(this,t,n,r,a,i,o)},e.prototype.conv2dTranspose=function(t,n,r,a,i){return this.throwIfDisposed(),Ce.conv2dTranspose(this,t,n,r,a,i)},e.prototype.depthwiseConv2D=function(t,n,r,a,i,o){return a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),Ce.depthwiseConv2d(this,t,n,r,a,i,o)},e.prototype.separableConv2d=function(t,n,r,a,i,o){return i===void 0&&(i=[1,1]),o===void 0&&(o="NHWC"),this.throwIfDisposed(),Ce.separableConv2d(this,t,n,r,a,i,o)},e.prototype.avgPool=function(t,n,r,a){return this.throwIfDisposed(),Ce.avgPool(this,t,n,r,a)},e.prototype.maxPool=function(t,n,r,a){return this.throwIfDisposed(),Ce.maxPool(this,t,n,r,a)},e.prototype.localResponseNormalization=function(t,n,r,a){return t===void 0&&(t=5),n===void 0&&(n=1),r===void 0&&(r=1),a===void 0&&(a=.5),Ce.localResponseNormalization(this,t,n,r,a)},e.prototype.pool=function(t,n,r,a,i){return this.throwIfDisposed(),Ce.pool(this,t,n,r,a,i)},e.prototype.variable=function(t,n,r){return t===void 0&&(t=!0),this.throwIfDisposed(),Co().makeVariable(this,t,n,r)},e.prototype.unsortedSegmentSum=function(t,n){return this.throwIfDisposed(),Ce.unsortedSegmentSum(this,t,n)},e.prototype.batchToSpaceND=function(t,n){return this.throwIfDisposed(),Ce.batchToSpaceND(this,t,n)},e.prototype.spaceToBatchND=function(t,n){return this.throwIfDisposed(),Ce.spaceToBatchND(this,t,n)},e.prototype.topk=function(t,n){return t===void 0&&(t=1),n===void 0&&(n=!0),this.throwIfDisposed(),Ce.topk(this,t,n)},e.prototype.stridedSlice=function(t,n,r,a,i,o,s,u){return a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o=0),s===void 0&&(s=0),u===void 0&&(u=0),this.throwIfDisposed(),Ce.stridedSlice(this,t,n,r,a,i,o,s,u)},e.prototype.depthToSpace=function(t,n){return this.throwIfDisposed(),Ce.depthToSpace(this,t,n)},e.prototype.fft=function(){return this.throwIfDisposed(),Ce.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),Ce.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),Ce.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),Ce.spectral.irfft(this)},e}();Object.defineProperty(On,Symbol.hasInstance,{value:function(e){return!!e&&e.dataId!=null&&e.shape!=null&&e.dtype!=null}});var T3,i_,o_,s_,u_,Lf=function(e){function t(n,r,a,i){var o=e.call(this,n.shape,n.dtype,n.dataId,i)||this;return o.trainable=r,o.name=a,o}return so(t,e),t.prototype.assign=function(n){if(n.dtype!==this.dtype)throw new Error("dtype of the new value ("+n.dtype+") and previous value ("+this.dtype+") must match");if(!Er(n.shape,this.shape))throw new Error("shape of the new value ("+n.shape+") and previous value ("+this.shape+") must match");Co().disposeTensor(this),this.dataId=n.dataId,Co().incRef(this,null)},t.prototype.dispose=function(){Co().disposeVariable(this),this.isDisposedInternal=!0},t}(On);Object.defineProperty(Lf,Symbol.hasInstance,{value:function(e){return e instanceof On&&e.assign!=null&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(T3||(T3={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(i_||(i_={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(o_||(o_={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(s_||(s_={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(u_||(u_={}));var nV={float32:s_,int32:i_,bool:o_,complex64:u_};function Mr(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error("Can not upcast "+e+" with "+t)}return nV[e][t]}function Tb(e){return Mr(e,"int32")}function Dn(e,t){if(e.dtype===t.dtype)return[e,t];var n=Mr(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function rV(e,t){Q(e.dtype===t.dtype,function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"})}function RF(e){var t=[];return function n(r,a,i){if(r!=null){if(r instanceof On)return void a.push(r);if(o=r,!(!Array.isArray(o)&&typeof o!="object")){var o,s=r;for(var u in s){var l=s[u];i.has(l)||(i.add(l),n(l,a,i))}}}}(e,t,new Set),t}var Ab,A3=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()},e}(),aV=function(){function e(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new A3}return e.prototype.ready=function(){return ot(this,void 0,void 0,function(){var t,n,r;return st(this,function(a){switch(a.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];t=this.getSortedBackends(),n=0,a.label=1;case 1:return n<t.length?(r=t[n],[4,this.initializeBackend(r).success]):[3,5];case 2:return a.sent()?[4,this.setBackend(r)]:[3,4];case 3:return a.sent(),[2];case 4:return n++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(e.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var t=this.initializeBackendsAndReturnBest(),n=t.name;if(t.asyncInit)throw new Error("The highest priority backend '"+n+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(n)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(t){return!(t in this.registry)&&(!(t in this.registryFactory)||this.initializeBackend(t).asyncInit)?null:this.registry[t]},e.prototype.findBackendFactory=function(t){return t in this.registryFactory?this.registryFactory[t].factory:null},e.prototype.registerBackend=function(t,n,r){return r===void 0&&(r=1),t in this.registryFactory?(console.warn(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:n,priority:r},!0)},e.prototype.setBackend=function(t){return ot(this,void 0,void 0,function(){var n,r,a;return st(this,function(i){switch(i.label){case 0:if(this.registryFactory[t]==null)throw new Error("Backend name '"+t+"' not found in registry");return this.backendName=t,this.registry[t]!=null?[3,4]:(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,n.asyncInit?[4,r]:[3,2]);case 1:return a=i.sent(),[3,3];case 2:a=r,i.label=3;case 3:if(!a)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new J$(this.backendInstance),[2,!0]}})})},e.prototype.setupRegisteredKernels=function(){var t=this;b3(this.backendName).forEach(function(n){n.setupFunc!=null&&n.setupFunc(t.backendInstance)})},e.prototype.disposeRegisteredKernels=function(t){var n=this;b3(t).forEach(function(r){r.disposeFunc!=null&&r.disposeFunc(n.registry[t])})},e.prototype.initializeBackend=function(t){var n=this,r=this.registryFactory[t];if(r==null)throw new Error("Cannot initialize backend "+t+", no registration found.");try{var a=r.factory();if(Promise.resolve(a)===a){var i=++this.pendingBackendInitId,o=a.then(function(s){return!(i<n.pendingBackendInitId)&&(n.registry[t]=s,n.pendingBackendInit=null,!0)}).catch(function(s){return!(i<n.pendingBackendInitId)&&(n.pendingBackendInit=null,console.warn("Initialization of backend "+t+" failed"),console.warn(s.stack||s.message),!1)});return this.pendingBackendInit=o,{success:o,asyncInit:!0}}return this.registry[t]=a,{success:!0,asyncInit:!1}}catch(s){return console.warn("Initialization of backend "+t+" failed"),console.warn(s.stack||s.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(t){if(!(t in this.registryFactory))throw new Error(t+" backend not found in registry");this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var t=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(n,r){return t.registryFactory[r].priority-t.registryFactory[n].priority})},e.prototype.initializeBackendsAndReturnBest=function(){for(var t=this.getSortedBackends(),n=0;n<t.length;n++){var r=t[n],a=this.initializeBackend(r),i=a.success,o=a.asyncInit;if(o||i)return{name:r,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(t,n){var r=this.state.tensorInfo.get(n),a=r.backend,i=this.readSync(n);a.disposeData(n),r.backend=t,t.move(n,i,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(t,n){var r,a=this,i=null;if(n==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");n=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=t}return this.scopedRun(function(){return a.startScope(i)},function(){return a.endScope(r)},function(){return(r=n())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})},e.prototype.scopedRun=function(t,n,r){t();try{var a=r();return n(),a}catch(i){throw n(),i}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(t){var n=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),r={x:t};return this.addTapeNode(this.state.activeScope.name,r,[n],function(a){return{x:function(){return a.toFloat()}}},[]),n},e.prototype.runKernel=function(t,n,r,a,i){return this.runKernelFunc(null,n,null,t,r,a,i)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(t,n,r){var a=this.backend.numDataIds(),i=0;r.forEach(function(u){i+=u.dtype==="complex64"?3:1});var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=a-n-i-o;if(s>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+s+" data ids) after running '"+t+"'")},e.prototype.runKernelFunc=function(t,n,r,a,i,o,s){var u,l=this;o===void 0&&(o=[]),s===void 0&&(s=[]);var f=[],d=this.isTapeOn();a==null&&(a=this.state.activeScope!=null?this.state.activeScope.name:"");var p,m=function(E){d&&(f=E.map(function(S){return l.keep(l.clone(S))}))},g=this.state.numBytes,x=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var b,w=xF(a,this.backendName);return p=w!=null?function(){var E=l.backend.numDataIds();b=w.kernelFunc({inputs:n,attrs:i,backend:l.backend});var S=Array.isArray(b)?b:[b];l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(a,E,S);var A=S.map(function(R){var D=R.dataId,P=R.shape,k=R.dtype;return l.makeTensorFromDataId(D,P,k)}),T=A.filter(function(R,D){return s[D]});return m((o||[]).slice().concat(T)),A}:function(){var E=l.backend.numDataIds();b=l.tidy(function(){return t(l.backend,m)});var S=Array.isArray(b)?b:[b];return l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(a,E,S),S},this.scopedRun(function(){return l.state.kernelDepth++},function(){return l.state.kernelDepth--},function(){u=l.ENV.getBool("DEBUG")?l.profiler.profileKernel(a,n,function(){return p()}):p()}),d&&this.addTapeNode(a,n,u,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:a,bytesAdded:this.state.numBytes-g,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-x,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(n).map(function(E){return n[E].shape}),outputShapes:u.map(function(E){return E.shape})}),Array.isArray(b)?u:u[0]},e.prototype.makeTensor=function(t,n,r,a){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;var i=t;r==="string"&&HE(t[0])&&(i=t.map(function(f){return Q$(f)}));var o=a.write(i,n,r),s=new On(n,r,o,this.nextTensorId());if(this.incRef(s,a),r==="string"){var u=this.state.tensorInfo.get(o),l=K$(i);this.state.numBytes+=l-u.bytes,u.bytes=l}return s},e.prototype.makeTensorFromDataId=function(t,n,r,a){var i=new On(n,r=r||"float32",t,this.nextTensorId());return this.incRef(i,a),i},e.prototype.makeVariable=function(t,n,r,a){n===void 0&&(n=!0),r=r||this.nextVariableId().toString(),a!=null&&a!==t.dtype&&(t=t.asType(a));var i=new Lf(t,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},e.prototype.incRef=function(t,n){var r=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++,r===0){this.state.numDataBuffers++;var a=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(a=t.size*EF(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:a,refCount:0}),this.state.numBytes+=a}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof Lf||this.track(t)},e.prototype.disposeTensor=function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,t.dtype==="string"&&this.state.numStringTensors--;var n=this.state.tensorInfo.get(t.dataId);n.refCount<=1?(t.dtype!=="complex64"&&(this.state.numBytes-=n.bytes),this.state.numDataBuffers--,n.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var t in this.state.registeredVariables){var n=this.state.registeredVariables[t];this.disposeVariable(n)}},e.prototype.disposeVariable=function(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]},e.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t},e.prototype.profile=function(t){return ot(this,void 0,void 0,function(){var n,r;return st(this,function(a){return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(i){return i.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]})})},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},e.prototype.addTapeNode=function(t,n,r,a,i){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:r,saved:i},u=U$(t);u!=null&&(a=u.gradFunc),a!=null&&(s.gradient=function(l){return l=l.map(function(f,d){if(f==null){var p=r[d],m=Ip(p.size,p.dtype);return o.makeTensor(m,p.shape,p.dtype)}return f}),a(l.length>1?l:l[0],i)}),this.state.activeTape.push(s)},e.prototype.keep=function(t){return t.kept=!0,t},e.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(t){var n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n},e.prototype.endScope=function(t){for(var n=this,r=RF(t),a=new Set(r.map(function(u){return u.id})),i=0;i<this.state.activeScope.track.length;i++){var o=this.state.activeScope.track[i];o.kept||a.has(o.id)||o.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(u){u.kept||u.scopeId!==s.id||n.track(u)})},e.prototype.gradients=function(t,n,r,a){var i=this;if(a===void 0&&(a=!1),Q(n.length>0,function(){return"gradients() received an empty list of xs."}),r!=null&&r.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var o=this.scopedRun(function(){return i.startTape()},function(){return i.endTape()},function(){return i.tidy("forward",t)});Q(o instanceof On,function(){return"The result y returned by f() must be a tensor."});var s=function(u,l,f){for(var d={},p={},m=0;m<l.length;m++)d[l[m].id]=!0;for(m=0;m<u.length;m++){var g=(R=u[m]).inputs;for(var x in g){for(var b=g[x],w=!1,E=0;E<l.length;E++)if(d[b.id]){R.outputs.forEach(function(I){return d[I.id]=!0}),w=!0,p[R.id]=!0;break}if(w)break}}var S={};S[f.id]=!0;var A={};for(m=u.length-1;m>=0;m--)for(g=(R=u[m]).inputs,E=0;E<R.outputs.length;E++)if(S[R.outputs[E].id]){for(var x in g)S[g[x].id]=!0,A[R.id]=!0;break}var T=[];for(m=0;m<u.length;m++){var R;if(p[(R=u[m]).id]&&A[R.id]){var D={};for(var x in R.inputs){var P=R.inputs[x];d[P.id]&&(D[x]=P)}var k=Object.assign({},R);k.inputs=D,k.outputs=R.outputs,T.push(k)}}return T}(this.state.activeTape,n,o);if(!a&&s.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var u,l,f={};f[o.id]=r??(u=o.shape,l=TF(lt(u),"float32"),de.makeTensor(l,u,"float32")),function(p,m,g){for(var x=function(w){var E=m[w],S=[];if(E.outputs.forEach(function(D){var P=p[D.id];P!=null?S.push(P):S.push(null)}),E.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+E.kernelName+".");var A=E.gradient(S),T=function(D){if(!(D in A))throw new Error("Cannot backprop through input "+D+". Available gradients found: "+Object.keys(A)+".");var P=g(function(){return A[D]()});if(P.dtype!=="float32")throw new Error("Error in gradient for op "+E.kernelName+". The gradient of input "+D+" must have 'float32' dtype, but has '"+P.dtype+"'");var k=E.inputs[D];if(!Er(P.shape,k.shape))throw new Error("Error in gradient for op "+E.kernelName+". The gradient of input '"+D+"' has shape '"+P.shape+"', which does not match the shape of the input '"+k.shape+"'");if(p[k.id]==null)p[k.id]=P;else{var I=p[k.id];p[k.id]=I.add(P),I.dispose()}};for(var R in E.inputs)T(R)},b=m.length-1;b>=0;b--)x(b)}(f,s,function(p){return i.tidy(p)});var d=n.map(function(p){return f[p.id]});return i.state.gradientDepth===0&&(i.state.activeTape.forEach(function(p){for(var m=0,g=p.saved;m<g.length;m++)g[m].dispose()}),i.state.activeTape=null),{value:o,grads:d}})},e.prototype.customGrad=function(t){var n=this;return Q(r_(t),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];Q(a.every(function(s){return s instanceof On}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var o={};return a.forEach(function(s,u){o[u]=s}),n.runKernelFunc(function(s,u){return Q((r=t.apply(void 0,a.concat([u]))).value instanceof On,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),Q(r_(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},o,function(s,u){var l=r.gradFunc(s,u),f=Array.isArray(l)?l:[l];Q(f.length===a.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),Q(f.every(function(p){return p instanceof On}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var d={};return f.forEach(function(p,m){d[m]=function(){return p}}),d})}},e.prototype.readSync=function(t){return this.state.tensorInfo.get(t).backend.readSync(t)},e.prototype.read=function(t){return this.state.tensorInfo.get(t).backend.read(t)},e.prototype.time=function(t){return ot(this,void 0,void 0,function(){var n,r;return st(this,function(a){switch(a.label){case 0:return n=Ao(),[4,this.backend.time(t)];case 1:return(r=a.sent()).wallMs=Ao()-n,[2,r]}})})},e.prototype.track=function(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new A3,this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),de=function(){var e=function(){if(Ab==null){var n=void 0;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else{if(typeof self>"u")throw new Error("Could not find a global object");n=self}Ab=n}return Ab}();if(e._tfengine==null){var t=new L$(e);e._tfengine=new aV(t)}return function(n){yF=n}(e._tfengine.ENV),Co=function(){return e._tfengine},e._tfengine}();function DF(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var us=Me();us.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),us.registerFlag("IS_BROWSER",function(){return DF()}),us.registerFlag("IS_NODE",function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0}),us.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),us.registerFlag("PROD",function(){return!1}),us.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return us.getBool("DEBUG")}),us.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),us.registerFlag("IS_TEST",function(){return!1});var ap,Qa,qa,gl={},Cb={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function iV(e,t){gl[e]=t}function Wo(e){e in gl||(gl[e]=function(n){if(n!==1&&n!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=function(a){if(typeof OffscreenCanvas<"u"&&a===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(n);return r.addEventListener("webglcontextlost",function(a){a.preventDefault(),delete gl[n]},!1),n===1?r.getContext("webgl",Cb)||r.getContext("experimental-webgl",Cb):r.getContext("webgl2",Cb)}(e));var t=gl[e];return t.isContextLost()?(delete gl[e],Wo(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),gl[e])}function Qg(e,t){return[t,e]}function Hd(e){var t=lt(e);return n_(Math.ceil(t/4))}function Fp(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function $E(e,t){var n,r,a,i,o,s,u,l,f,d=e;return Me().getNumber("WEBGL_VERSION")===2?(n=d.R32F,r=d.R16F,a=d.RGBA16F,i=d.RGBA32F,o=d.RED,s=4,u=1,l=d.HALF_FLOAT,f=d.FLOAT):(n=e.RGBA,r=e.RGBA,a=e.RGBA,i=d.RGBA,o=e.RGBA,s=4,u=4,l=t!=null?t.HALF_FLOAT_OES:null,f=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:l,textureTypeFloat:f}}function ct(e,t,n){var r=n();return t&&function(a){var i=a.getError();if(i!==a.NO_ERROR)throw new Error("WebGL Error: "+lV(a,i))}(e),r}(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(ap||(ap={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Qa||(Qa={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(qa||(qa={}));var oV=596e-10,sV=65504;function uV(e){return!!(Me().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||oV<Math.abs(e)&&Math.abs(e)<sV)}function lV(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function Dv(e,t,n){return ks(e,t,function(){return e.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function cV(e,t,n){var r=ks(e,t,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(ct(e,t,function(){return e.shaderSource(r,n)}),ct(e,t,function(){return e.compileShader(r)}),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function fV(e,t,n){var r=ks(e,t,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(ct(e,t,function(){return e.shaderSource(r,n)}),ct(e,t,function(){return e.compileShader(r)}),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw function(a,i){var o=hV.exec(i);if(o==null)return console.log("Couldn't parse line number in error: "+i),void console.log(a);for(var s=+o[1],u=a.split(`
`),l=u.length.toString().length+2,f=u.map(function(b,w){return Sf((w+1).toString(),l)+b}),d=0,p=0;p<f.length;p++)d=Math.max(f[p].length,d);var m=f.slice(0,s-1),g=f.slice(s-1,s),x=f.slice(s);console.log(m.join(`
`)),console.log(i.split(`
`)[0]),console.log("%c "+Sf(g[0],d),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(x.join(`
`))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var Ob,Rb,hV=/ERROR: [0-9]+:([0-9]+):/g;function dV(e,t){return ks(e,t,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function pV(e,t,n){if(ct(e,t,function(){return e.linkProgram(n)}),e.getProgramParameter(n,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function Db(e,t,n){if(ct(e,t,function(){return e.validateProgram(n)}),e.getProgramParameter(n,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function vV(e,t,n){var r=ks(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return ct(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),ct(e,t,function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function mV(e,t,n){var r=ks(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return ct(e,t,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)}),ct(e,t,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function gV(e,t){return ks(e,t,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function yV(e,t){var n=Me().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+n+"x"+n+"]")+".")}function xV(e,t){return ks(e,t,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function C3(e,t,n,r,a,i,o,s){var u=e.getAttribLocation(n,r);return u!==-1&&(ct(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,a)}),ct(e,t,function(){return e.vertexAttribPointer(u,i,e.FLOAT,!1,o,s)}),ct(e,t,function(){return e.enableVertexAttribArray(u)}),!0)}function bV(e,t,n,r){TV(e,r),ct(e,t,function(){return e.activeTexture(e.TEXTURE0+r)}),ct(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)})}function wV(e,t,n,r){return ks(e,t,function(){return e.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function _V(e,t,n){return e.getUniformLocation(t,n)}function EV(e,t,n,r,a,i){ct(e,t,function(){return bV(e,t,r,i)}),ct(e,t,function(){return e.uniform1i(a,i)})}function Nb(e,t,n,r){ct(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),ct(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)})}function O3(e,t,n){ct(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),ct(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function Nv(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+SV(e,t))}function SV(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function ks(e,t,n,r){var a=ct(e,t,function(){return n()});if(a==null)throw new Error(r);return a}function TV(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+n+"]")+".")}function Dm(e,t){return t===void 0&&(t=2),lt(e.slice(0,e.length-t))}function Nm(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function kb(e){var t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[Dm(e)].concat(Nm(e))),t}function AV(e,t){var n;t===void 0&&(t=!1);var r=Me().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,(e=e.map(function(l,f){return f>=e.length-2?_F(e[f]):e[f]})).length===1&&(e=[2,e[0]])),e.length!==2){var a=El(e);e=a.newShape}var i=lt(e);if(e.length<=1&&i<=r)return[1,i];if(e.length===2&&e[0]<=r&&e[1]<=r)return e;if(e.length===3&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(e.length===3&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(e.length===4&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(e.length===4&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var o=Dm(e),s=2,u=2;return e.length&&(s=(n=Nm(e))[0],u=n[1]),n_(i=o*(s/2)*(u/2)).map(function(l){return 2*l})}return n_(i)}function kv(e){return e%2==0}function Pv(e,t){if(Er(e=e.slice(-2),t=t.slice(-2))||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r||kv(n)&&kv(r)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&kv(e[0])&&kv(t[0])}function CV(e){if(Ob==null){var t=Wo(e);Ob=t.getParameter(t.MAX_TEXTURE_SIZE)}return Ob}function OV(e){if(Rb==null){var t=Wo(e);Rb=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Rb)}function RV(e){if(e===0)return 0;var t=Wo(e);return Ri(t,"EXT_disjoint_timer_query_webgl2")&&e===2?2:Ri(t,"EXT_disjoint_timer_query")?1:0}function Ri(e,t){return e.getExtension(t)!=null}function R3(e){try{if(Wo(e)!=null)return!0}catch{return!1}return!1}function DV(e){if(e===0)return!1;var t=Wo(e);if(e===1){if(!Ri(t,"OES_texture_float"))return!1}else if(!Ri(t,"EXT_color_buffer_float"))return!1;return l_(t)}function NV(e){if(e===0)return!1;var t=Wo(e);if(e!==1){if(Ri(t,"EXT_color_buffer_float"))return l_(t);if(Ri(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(r,a){var i=$E(r,a),o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texImage2D(r.TEXTURE_2D,0,i.internalFormatHalfFloat,1,1,0,i.textureFormatFloat,i.textureTypeHalfFloat,null);var s=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,s),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,o,0);var u=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(o),r.deleteFramebuffer(s),u}(t,n)}return!1}return!!Ri(t,"OES_texture_float")&&!!Ri(t,"WEBGL_color_buffer_float")&&l_(t)}function l_(e){var t=$E(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function kV(e){return e===2&&Wo(e).fenceSync!=null}var _t=Me();function NF(e){Me().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function rt(e,t){return de.tidy(e,t)}function Ea(e){RF(e).forEach(function(t){return t.dispose()})}function PV(e){return de.keep(e)}function km(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Me().getBool("IS_TEST")||console.warn.apply(console,e)}function zu(e,t){var n=e;if(No(e))return t==="string"?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||No(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&Me().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function a(i,o,s){if(s=s||[],!Array.isArray(i)&&!No(i))return void Q(o.length===0,function(){return"Element arr["+s.join("][")+"] is a primitive, but should be an array/TypedArray of "+o[0]+" elements"});Q(o.length>0,function(){return"Element arr["+s.join("][")+"] should be a primitive, but is an array of "+i.length+" elements"}),Q(i.length===o[0],function(){return"Element arr["+s.join("][")+"] should have "+o[0]+" elements, but has "+i.length+" elements"});for(var u=o.slice(1),l=0;l<i.length;++l)a(i[l],u,s.concat(l))}(e,r,[]),r}function D3(e,t,n,r){if(e!=null&&(e!=="numeric"&&e!==t||e==="numeric"&&t==="string"))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function W(e,t,n,r){if(r===void 0&&(r="numeric"),e instanceof On)return D3(r,e.dtype,t,n),e;var a=Mp(e);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),D3(r,a,t,n),e==null||!No(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){var i=e==null?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+i+"'")}var o=zu(e,a);No(e)||Array.isArray(e)||(e=[e]);var s=a!=="string"?SF(e,a,Me().getBool("DEBUG")):Bf(e,[],!0);return de.makeTensor(s,o,a)}function Pm(e,t,n,r){if(r===void 0&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map(function(a,i){return W(a,t+"["+i+"]",n)},r)}function kF(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function MV(e,t,n){for(var r=e.length+t.length,a=[],i=0,o=0,s=0;s<r;s++)n.indexOf(s)===-1?a.push(e[i++]):a.push(t[o++]);return a}function qr(e,t){for(var n=[],r=e.length,a=0;a<r;a++)t.indexOf(a)===-1&&n.push(e[a]);return[n,t.map(function(i){return e[i]})]}function Ca(e,t){return MV(e,t.map(function(n){return 1}),t)}function Ha(e,t,n){Q(kF(t,n),function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."})}function Ho(e,t){if(kF(e,t))return null;for(var n=[],r=0;r<t;++r)e.indexOf(r)===-1&&n.push(r);return e.forEach(function(a){return n.push(a)}),n}function VE(e){return e.map(function(t,n){return[n,t]}).sort(function(t,n){return t[1]-n[1]}).map(function(t){return t[0]})}function $o(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function IV(e,t){var n=e[0].length;e.forEach(function(a,i){Q(a.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+i+"] must be the same as the rank of the rest ("+n+")"})}),Q(t>=0&&t<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=e[0];e.forEach(function(a,i){for(var o=0;o<n;o++)Q(o===t||a[o]===r[o],function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+a+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."})})}function jf(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function ue(e){var t=Object.keys(e);if(t.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];de.startScope(n);try{var s=r.apply(void 0,i);return s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),de.endScope(s),s}catch(u){throw de.endScope(null),u}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}_t.registerFlag("HAS_WEBGL",function(){return _t.getNumber("WEBGL_VERSION")>0}),_t.registerFlag("WEBGL_VERSION",function(){return R3(2)?2:R3(1)?1:0}),_t.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return _t.get("WEBGL_VERSION")===2}),_t.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),_t.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),_t.registerFlag("WEBGL_PACK",function(){return _t.getBool("HAS_WEBGL")}),_t.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return _t.getBool("WEBGL_PACK")}),_t.registerFlag("WEBGL_PACK_CLIP",function(){return _t.getBool("WEBGL_PACK")}),_t.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),_t.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return _t.getBool("WEBGL_PACK")}),_t.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return _t.getBool("WEBGL_PACK")}),_t.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return _t.getBool("WEBGL_PACK")}),_t.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return _t.getBool("WEBGL_PACK")}),_t.registerFlag("WEBGL_PACK_REDUCE",function(){return _t.getBool("WEBGL_PACK")}),_t.registerFlag("WEBGL_LAZILY_UNPACK",function(){return _t.getBool("WEBGL_PACK")}),_t.registerFlag("WEBGL_CONV_IM2COL",function(){return _t.getBool("WEBGL_PACK")}),_t.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return CV(_t.getNumber("WEBGL_VERSION"))}),_t.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return OV(_t.getNumber("WEBGL_VERSION"))}),_t.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=_t.getNumber("WEBGL_VERSION");return e===0?0:RV(e)}),_t.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return _t.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e}),_t.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return DV(_t.getNumber("WEBGL_VERSION"))}),_t.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!_t.getBool("WEBGL_FORCE_F16_TEXTURES")&&_t.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),_t.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return NV(_t.getNumber("WEBGL_VERSION"))}),_t.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return kV(_t.getNumber("WEBGL_VERSION"))}),_t.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return _t.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),OF=NF;var kr=ue({complex_:function(e,t){var n=W(e,"real","complex"),r=W(t,"imag","complex");return Kt(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),de.runKernelFunc(function(a){return a.complex(n,r)},{$real:n,$imag:r})}}),Oi=ue({real_:function(e){var t=W(e,"input","real");return de.runKernelFunc(function(n){return n.real(t)},{$input:t})}}),Oo=ue({imag_:function(e){var t=W(e,"input","imag");return de.runKernelFunc(function(n){return n.imag(t)},{$input:t})}});function Fr(e,t,n){return Wu(e,t,zu(e,n),n)}function Wu(e,t,n,r){if(r==null&&(r=Mp(e)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!No(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){AF(t);var a=lt(t),i=lt(n);Q(a===i,function(){return"Based on the provided shape, ["+t+"], the tensor should have "+a+" values but has "+i});for(var o=0;o<n.length;++o){var s=n[o],u=o!==n.length-1||s!==lt(t.slice(o));Q(n[o]===t[o]||!u,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "})}}return No(e)||Array.isArray(e)||(e=[e]),t=t||n,e=r!=="string"?SF(e,r,Me().getBool("DEBUG")):Bf(e,[],!0),de.makeTensor(e,t,r)}function Ze(e,t){if((No(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&No(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Wu(e,[],[],t)}function Kn(e,t){ah(e);var n=zu(e,t);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Wu(e,null,n,t)}function Ru(e,t,n){if(ah(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var r=zu(e,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Wu(e,t,r,n)}function qE(e,t,n){if(ah(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var r=zu(e,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Wu(e,t,r,n)}function ya(e,t,n){if(ah(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var r=zu(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Wu(e,t,r,n)}function FV(e,t,n){if(ah(e),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var r=zu(e,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Wu(e,t,r,n)}function BV(e,t,n){if(ah(e),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var r=zu(e,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Wu(e,t=t||r,r,n)}function LV(e,t,n,r){return t===void 0&&(t=!0),de.makeVariable(e,t,n,r)}function ih(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var n=ih(e,"float32"),r=bn(e,"float32");return kr(n,r)}var a=TF(lt(e),t);return de.makeTensor(a,e,t)}function bn(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var n=bn(e,"float32"),r=bn(e,"float32");return kr(n,r)}var a=Ip(lt(e),t);return de.makeTensor(a,e,t)}function Po(e,t,n){return de.runKernelFunc(function(r){return r.fill(e,t,n)},{})}function jV(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return de.runKernelFunc(function(r){return r.linspace(e,t,n)},{})}function Mm(e,t,n,r){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n===0)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return bn([0],r);var a=Ip(Math.abs(Math.ceil((t-e)/n)),r);t<e&&n===1&&(n=-1),a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+n;return Kn(a,r)}var PF=ue({onesLike_:function(e){var t=W(e,"x","onesLike");if(t.dtype==="complex64"){var n=PF(Oi(t)),r=Lt(Oo(t));return kr(n,r)}return de.runKernelFunc(function(a){return a.onesLike(t)},{$x:t},function(a,i){return{$x:function(){return Lt(a)}}})}}),Lt=ue({zerosLike_:function(e){var t=W(e,"x","zerosLike");return de.runKernelFunc(function(n){return n.zerosLike(t)},{$x:t},function(n,r){return{$x:function(){return Lt(n)}}})}}),ir=ue({concat_:function(e,t){t===void 0&&(t=0),Q(e.length>=1,function(){return"Pass at least one tensor to concat"});var n=Pm(e,"tensors","concat");n[0].dtype==="complex64"&&n.forEach(function(s){if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+s.dtype+". ")}),t=lr(t,n[0].shape)[0];var r=jf(n.map(function(s){return s.shape}),t);if(lt(r)===0)return Fr([],r);if((n=n.filter(function(s){return s.size>0})).length===1)return n[0];var a=n.map(function(s){return s.shape});IV(a,t);var i=n,o={axis:t};return de.runKernelFunc(function(s){return s.concat(n,t)},i,function(s){var u=a.map(function(l){return l[t]});return GE(s,u,t).map(function(l){return function(){return l}})},"Concat",o)}}),UV=ue({concat1d_:function(e){return ir(e,0)}}),zV=ue({concat2d_:function(e,t){return ir(e,t)}}),WV=ue({concat3d_:function(e,t){return ir(e,t)}}),HV=ue({concat4d_:function(e,t){return ir(e,t)}}),GE=ue({split_:function(e,t,n){n===void 0&&(n=0);var r,a=W(e,"x","split");return n=lr(n,a.shape)[0],typeof t=="number"?(Q(a.shape[n]%t==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(t).fill(a.shape[n]/t)):(Q(a.shape[n]===t.reduce(function(i,o){return i+o}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=t),de.runKernelFunc(function(i){return i.split(a,r,n)},{$x:a},function(i){return{$x:function(){return ir(i,n)}}})}});function tc(e,t){return e(t={exports:{}},t.exports),t.exports}var $V=tc(function(e){(function(t,n,r){function a(s){var u,l=this,f=(u=4022871197,function(d){d=d.toString();for(var p=0;p<d.length;p++){var m=.02519603282416938*(u+=d.charCodeAt(p));m-=u=m>>>0,u=(m*=u)>>>0,u+=4294967296*(m-=u)}return 23283064365386963e-26*(u>>>0)});l.next=function(){var d=2091639*l.s0+23283064365386963e-26*l.c;return l.s0=l.s1,l.s1=l.s2,l.s2=d-(l.c=0|d)},l.c=1,l.s0=f(" "),l.s1=f(" "),l.s2=f(" "),l.s0-=f(s),l.s0<0&&(l.s0+=1),l.s1-=f(s),l.s1<0&&(l.s1+=1),l.s2-=f(s),l.s2<0&&(l.s2+=1),f=null}function i(s,u){return u.c=s.c,u.s0=s.s0,u.s1=s.s1,u.s2=s.s2,u}function o(s,u){var l=new a(s),f=u&&u.state,d=l.next;return d.int32=function(){return 4294967296*l.next()|0},d.double=function(){return d()+11102230246251565e-32*(2097152*d()|0)},d.quick=d,f&&(typeof f=="object"&&i(f,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.alea=o})(0,e)}),VV=tc(function(e){(function(t,n,r){function a(s){var u=this,l="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var d=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^d^d>>>8},s===(0|s)?u.x=s:l+=s;for(var f=0;f<l.length+64;f++)u.x^=0|l.charCodeAt(f),u.next()}function i(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function o(s,u){var l=new a(s),f=u&&u.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var p=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(p===0);return p},d.int32=l.next,d.quick=d,f&&(typeof f=="object"&&i(f,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xor128=o})(0,e)}),qV=tc(function(e){(function(t,n,r){function a(s){var u=this,l="";u.next=function(){var d=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^d^d<<1)|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(0|s)?u.x=s:l+=s;for(var f=0;f<l.length+64;f++)u.x^=0|l.charCodeAt(f),f==l.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function i(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function o(s,u){var l=new a(s),f=u&&u.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var p=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(p===0);return p},d.int32=l.next,d.quick=d,f&&(typeof f=="object"&&i(f,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xorwow=o})(0,e)}),GV=tc(function(e){(function(t,n,r){function a(s){var u=this;u.next=function(){var l,f,d=u.x,p=u.i;return l=d[p],f=(l^=l>>>7)^l<<24,f^=(l=d[p+1&7])^l>>>10,f^=(l=d[p+3&7])^l>>>3,f^=(l=d[p+4&7])^l<<7,l=d[p+7&7],f^=(l^=l<<13)^l<<9,d[p]=f,u.i=p+1&7,f},function(l,f){var d,p=[];if(f===(0|f))p[0]=f;else for(f=""+f,d=0;d<f.length;++d)p[7&d]=p[7&d]<<15^f.charCodeAt(d)+p[d+1&7]<<13;for(;p.length<8;)p.push(0);for(d=0;d<8&&p[d]===0;++d);for(d==8?p[7]=-1:p[d],l.x=p,l.i=0,d=256;d>0;--d)l.next()}(u,s)}function i(s,u){return u.x=s.x.slice(),u.i=s.i,u}function o(s,u){s==null&&(s=+new Date);var l=new a(s),f=u&&u.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var p=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(p===0);return p},d.int32=l.next,d.quick=d,f&&(f.x&&i(f,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xorshift7=o})(0,e)}),KV=tc(function(e){(function(t,n,r){function a(s){var u=this;u.next=function(){var l,f,d=u.w,p=u.X,m=u.i;return u.w=d=d+1640531527|0,f=p[m+34&127],l=p[m=m+1&127],f^=f<<13,l^=l<<17,f^=f>>>15,l^=l>>>12,f=p[m]=f^l,u.i=m,f+(d^d>>>16)|0},function(l,f){var d,p,m,g,x,b=[],w=128;for(f===(0|f)?(p=f,f=null):(f+="\0",p=0,w=Math.max(w,f.length)),m=0,g=-32;g<w;++g)f&&(p^=f.charCodeAt((g+32)%f.length)),g===0&&(x=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,g>=0&&(x=x+1640531527|0,m=(d=b[127&g]^=p+x)==0?m+1:0);for(m>=128&&(b[127&(f&&f.length||0)]=-1),m=127,g=512;g>0;--g)p=b[m+34&127],d=b[m=m+1&127],p^=p<<13,d^=d<<17,p^=p>>>15,d^=d>>>12,b[m]=p^d;l.w=x,l.X=b,l.i=m}(u,s)}function i(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function o(s,u){s==null&&(s=+new Date);var l=new a(s),f=u&&u.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var p=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(p===0);return p},d.int32=l.next,d.quick=d,f&&(f.X&&i(f,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xor4096=o})(0,e)}),XV=tc(function(e){(function(t,n,r){function a(s){var u=this,l="";u.next=function(){var d=u.b,p=u.c,m=u.d,g=u.a;return d=d<<25^d>>>7^p,p=p-m|0,m=m<<24^m>>>8^g,g=g-d|0,u.b=d=d<<20^d>>>12^p,u.c=p=p-m|0,u.d=m<<16^p>>>16^g,u.a=g-d|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=0|s):l+=s;for(var f=0;f<l.length+20;f++)u.b^=0|l.charCodeAt(f),u.next()}function i(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function o(s,u){var l=new a(s),f=u&&u.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var p=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(p===0);return p},d.int32=l.next,d.quick=d,f&&(typeof f=="object"&&i(f,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.tychei=o})(0,e)}),yl=tc(function(e){(function(t,n){var r,a=this,i=256,o=6,s="random",u=n.pow(i,o),l=n.pow(2,52),f=2*l,d=i-1;function p(w,E,S){var A=[],T=x(function P(k,I){var F,B=[],te=typeof k;if(I&&te=="object")for(F in k)try{B.push(P(k[F],I-1))}catch{}return B.length?B:te=="string"?k:k+"\0"}((E=E==1?{entropy:!0}:E||{}).entropy?[w,b(t)]:w??function(){try{var P;return r&&(P=r.randomBytes)?P=P(i):(P=new Uint8Array(i),(a.crypto||a.msCrypto).getRandomValues(P)),b(P)}catch{var k=a.navigator,I=k&&k.plugins;return[+new Date,a,I,a.screen,b(t)]}}(),3),A),R=new m(A),D=function(){for(var P=R.g(o),k=u,I=0;P<l;)P=(P+I)*i,k*=i,I=R.g(1);for(;P>=f;)P/=2,k/=2,I>>>=1;return(P+I)/k};return D.int32=function(){return 0|R.g(4)},D.quick=function(){return R.g(4)/4294967296},D.double=D,x(b(R.S),t),(E.pass||S||function(P,k,I,F){return F&&(F.S&&g(F,R),P.state=function(){return g(R,{})}),I?(n[s]=P,k):P})(D,T,"global"in E?E.global:this==n,E.state)}function m(w){var E,S=w.length,A=this,T=0,R=A.i=A.j=0,D=A.S=[];for(S||(w=[S++]);T<i;)D[T]=T++;for(T=0;T<i;T++)D[T]=D[R=d&R+w[T%S]+(E=D[T])],D[R]=E;(A.g=function(P){for(var k,I=0,F=A.i,B=A.j,te=A.S;P--;)k=te[F=d&F+1],I=I*i+te[d&(te[F]=te[B=d&B+k])+(te[B]=k)];return A.i=F,A.j=B,I})(i)}function g(w,E){return E.i=w.i,E.j=w.j,E.S=w.S.slice(),E}function x(w,E){for(var S,A=w+"",T=0;T<A.length;)E[d&T]=d&(S^=19*E[d&T])+A.charCodeAt(T++);return b(E)}function b(w){return String.fromCharCode.apply(0,w)}if(n["seed"+s]=p,x(n.random(),t),e.exports){e.exports=p;try{r=require("crypto")}catch{}}})([],Math)});yl.alea=$V,yl.xor128=VV,yl.xorwow=qV,yl.xorshift7=GV,yl.xor4096=KV,yl.tychei=XV;var Zg=yl.alea,KE=function(){function e(t,n,r,a,i){this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=Zg(o.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var n,r,a=!1;!a;){var i=void 0,o=void 0,s=void 0;do s=(i=2*this.random()-1)*i+(o=2*this.random()-1)*o;while(s>=1||s===0);var u=Math.sqrt(-2*Math.log(s)/s);n=this.mean+this.stdDev*i*u,r=this.mean+this.stdDev*o*u,this.truncated&&!this.isValidTruncated(n)||(a=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(n)},e.prototype.convertValue=function(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)},e.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},e}(),YV=function(){function e(t,n,r,a){this.alpha=t,this.beta=1/n,this.dtype=r;var i=a||Math.random();this.randu=Zg(i.toString()),this.randn=new KE(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var t,n,r,a,i,o;;){do a=this.randn.nextValue(),o=1+this.c*a;while(o<=0);if(o*=o*o,n=1-.331*(t=a*a)*t,r=.5*t+this.d*(1-o+Math.log(o)),(i=this.randu())<n||Math.log(i)<r)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)},e.prototype.convertValue=function(t){return this.dtype==="float32"?t:Math.round(t)},e}(),QV=function(){function e(t,n,r,a){var i=this;if(t===void 0&&(t=0),n===void 0&&(n=1),this.canReturnFloat=function(){return i.dtype==null||i.dtype==="float32"},this.min=t,this.range=n-t,this.dtype=r,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+t+" - "+n+" <= 1 and dtype is not float");this.random=Zg(a)}return e.prototype.convertValue=function(t){return this.canReturnFloat()?t:Math.round(t)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function Tt(e,t,n){return t===void 0&&(t="float32"),t=t||"float32",AF(e),new rp(e,t,n)}function ZV(e,t){t===void 0&&(t=!1),console.log(e.toString(t))}var MF=ue({batchToSpaceND_:function(e,t,n){var r=W(e,"x","batchToSpaceND"),a=t.reduce(function(i,o){return i*o});return Q(r.rank>=1+t.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length}),Q(n.length===t.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length}),Q(r.shape[0]%a==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+a}),de.runKernelFunc(function(i){return i.batchToSpaceND(r,t,n)},{$x:r},function(i){return{$x:function(){return i.spaceToBatchND(t,n)}}})}}),JV=ue({broadcastTo_:function(e,t){var n=W(e,"broadcastTo","x"),r=n.shape;if(t.some(function(u){return!(u>0)||u%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var a=n.shape.slice();a.length<t.length;)a.unshift(1);n=n.reshape(a)}for(var i=Array.from(t),o=t.length-1;o>=0;o--)if(n.shape[o]===t[o])i[o]=1;else if(n.shape[o]!==1)throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=i.map(function(u,l){return u>1?l:-1}).filter(function(u){return u>=0});return s.length===0?n.clone():de.runKernelFunc(function(u){return u.tile(n,i)},{input:n},function(u){return{input:function(){return u.sum(s,!0)}}})}}),eq=ue({cast_:function(e,t){var n=W(e,"x","cast");if(!q$(t))throw new Error("Failed to cast to unknown dtype "+t);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");var r={dtype:t};return de.runKernelFunc(function(a){return a.cast(n,t)},{x:n},function(a){return{x:function(){return a.clone()}}},"Cast",r)}}),tq=ue({clone_:function(e){var t=W(e,"x","clone",null);return de.runKernelFunc(function(){return de.makeTensorFromDataId(t.dataId,t.shape,t.dtype)},{$x:t},function(n){return{$x:function(){return n.toFloat()}}})}}),nq=ue({cumsum_:function(e,t,n,r){t===void 0&&(t=0),n===void 0&&(n=!1),r===void 0&&(r=!1);var a=W(e,"x","cumsum"),i=Ho([t|=0],a.rank),o=a;i!=null&&(o=a.transpose(i));var s=$o(1,a.rank)[0],u=de.runKernelFunc(function(l){return l.cumsum(o,s,n,r)},{permutedX:o},function(l){return{permutedX:function(){return l.cumsum(t,n,!r)}}});return i!=null&&(u=u.transpose(i)),u}}),rq=ue({depthToSpace_:function(e,t,n){n===void 0&&(n="NHWC");var r=W(e,"x","depthToSpace"),a=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],o=n==="NHWC"?r.shape[3]:r.shape[1];return Q(a*t>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+a+" and "+t+`  for depthToSpace with input shape
      `+r.shape}),Q(i*t>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+i+" and "+t+` for depthToSpace with input shape
          `+r.shape}),Q(o%(t*t)==0,function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+o+" for depthToSpace with input shape "+r.shape}),de.runKernelFunc(function(s){return s.depthToSpace(r,t,n)},{$x:r})}}),Ai=ue({expandDims_:function(e,t){t===void 0&&(t=0);var n=W(e,"x","expandDims",null);Q(t<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return t<0&&(Q(-(n.rank+1)<=t,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),t=n.rank+t+1),r.splice(t,0,1),eo(n,r)}}),IF=ue({eye_:function(e,t,n,r){r===void 0&&(r="float32"),t==null&&(t=e);for(var a=Tt([e,t],r),i=e<=t?e:t,o=0;o<i;++o)a.set(1,o,o);var s=a.toTensor().as2D(e,t);if(n==null)return s;if(n.length===1)return Tf(Ai(s,0),[n[0],1,1]);if(n.length===2)return Tf(Ai(Ai(s,0),0),[n[0],n[1],1,1]);if(n.length===3)return Tf(Ai(Ai(Ai(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),aq=ue({multinomial_:function(e,t,n,r){r===void 0&&(r=!1);var a=W(e,"logits","multinomial"),i=a.size,o=a.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);n=n||Math.random();var s=o===1?a.as2D(1,-1):a,u=de.runKernelFunc(function(l){return l.multinomial(s,r,t,n)},{logits2D:s});return o===1?u.as1D():u}}),c_=ue({oneHot_:function(e,t,n,r){if(n===void 0&&(n=1),r===void 0&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var a=W(e,"indices","oneHot","int32"),i=a.shape.concat([t]);return a=a.flatten(),de.runKernelFunc(function(o){return o.oneHot(a,t,n,r)},{$indices:a},function(o){return{$indices:function(){return bn(a.shape,"float32")}}}).reshape(i)}}),nc=ue({pad_:function(e,t,n){n===void 0&&(n=0);var r=W(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:t,constantValue:n};return de.runKernelFunc(function(i){return i.pad(r,t,n)},{x:r},function(i){var o=t.map(function(s){return s[0]});return{x:function(){return i.slice(o,r.shape)}}},"PadV2",a)}}),iq=ue({pad1d_:function(e,t,n){return n===void 0&&(n=0),Q(t.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),nc(e,[t],n)}}),oq=ue({pad2d_:function(e,t,n){return n===void 0&&(n=0),Q(t.length===2&&t[0].length===2&&t[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),nc(e,t,n)}}),sq=ue({pad3d_:function(e,t,n){return n===void 0&&(n=0),Q(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),nc(e,t,n)}}),uq=ue({pad4d_:function(e,t,n){return n===void 0&&(n=0),Q(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),nc(e,t,n)}}),lq=ue({rand_:function(e,t,n){var r=lt(e),a=null;if(n==null||n==="float32")a=new Float32Array(r);else if(n==="int32")a=new Int32Array(r);else{if(n!=="bool")throw new Error("Unknown data type "+n);a=new Uint8Array(r)}for(var i=0;i<r;i++)a[i]=t();return de.makeTensor(a,e,n)}}),cq=ue({randomNormal_:function(e,t,n,r,a){if(t===void 0&&(t=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var i=new KE(t,n,r,!1,a),o=Tt(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),fq=ue({randomGamma_:function(e,t,n,r,a){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error("Unsupported data type "+r);for(var i=new YV(t,n,r,a),o=Tt(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),FF=ue({randomUniform_:function(e,t,n,r,a){t===void 0&&(t=0),n===void 0&&(n=1),r===void 0&&(r="float32");for(var i=Tt(e,r),o=new QV(t,n,null,a),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),eo=ue({reshape_:function(e,t){var n=W(e,"x","reshape",null);t=$$(t,n.size),Q(n.size===lt(t),function(){return"new shape and old shape must have the same number of elements."});var r={shape:t};return de.runKernelFunc(function(a){return a.reshape(n,t)},{x:n},function(a){return{x:function(){return a.reshape(n.shape)}}},"Reshape",r)}}),BF=ue({spaceToBatchND_:function(e,t,n){var r=W(e,"x","spaceToBatchND");return Q(r.rank>=1+t.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length}),Q(n.length===t.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length}),Q(r.shape.reduce(function(a,i,o){return o>0&&o<=t.length?a&&(i+n[o-1][0]+n[o-1][1])%t[o-1]==0:a},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()}),de.runKernelFunc(function(a){return a.spaceToBatchND(r,t,n)},{$x:r},function(a){return{$x:function(){return a.batchToSpaceND(t,n)}}})}}),LF=ue({squeeze_:function(e,t){var n=W(e,"x","squeeze");return eo(n,El(n.shape,t).newShape)}}),ti=ue({stack_:function(e,t){t===void 0&&(t=0);var n=Pm(e,"tensors","stack");if(Q(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),n.length===1)return n[0].expandDims(t);var r=n[0].rank,a=n[0].shape,i=n[0].dtype;Q(t<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(s){Kt(a,s.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(s){Q(i===s.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var o=n.map(function(s){return s.expandDims(t)});return ir(o,t)}}),Tf=ue({tile_:function(e,t){var n=W(e,"x","tile",null);Q(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."});var r=[n],a={reps:t};return de.runKernelFunc(function(i,o){var s=i.tile(n,t);return o([n]),s},{x:n},function(i,o){var s=o[0];return{x:function(){var u=Lt(s);if(s.rank===1)for(var l=0;l<t[0];++l)u=u.add(i.slice([l*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(l=0;l<t[0];++l)for(var f=0;f<t[1];++f)u=u.add(i.slice([l*s.shape[0],f*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(l=0;l<t[0];++l)for(f=0;f<t[1];++f)for(var d=0;d<t[2];++d)u=u.add(i.slice([l*s.shape[0],f*s.shape[1],d*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(s.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+s.rank+" tensors yet.");for(l=0;l<t[0];++l)for(f=0;f<t[1];++f)for(d=0;d<t[2];++d)for(var p=0;p<t[3];++p)u=u.add(i.slice([l*s.shape[0],f*s.shape[1],d*s.shape[2],p*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return u}}},"Tile",a,r)}}),hq=ue({truncatedNormal_:function(e,t,n,r,a){if(t===void 0&&(t=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var i=new KE(t,n,r,!0,a),o=Tt(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),or=ue({unstack_:function(e,t){t===void 0&&(t=0),t=t||0;var n=W(e,"x","unstack");Q(t>=-n.shape.length&&t<n.shape.length,function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),t<0&&(t+=n.shape.length);var r={axis:t};return de.runKernelFunc(function(a){return a.unstack(n,t)},{x:n},function(a){return{x:function(){return ti(a,t)}}},"Unpack",r)}}),dq=function(e,t){return ot(this,void 0,void 0,function(){var n,r,a,i,o,s,u,l,f,d;return st(this,function(p){switch(p.label){case 0:return n=W(e,"x","setdiff1d"),r=W(t,"y","setdiff1d"),Q(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),Q(n.rank===1,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),Q(r.rank===1,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return a=p.sent(),[4,r.data()];case 2:for(i=p.sent(),o=new Set(i),s=0,f=0;f<a.length;f++)o.has(a[f])||s++;for(u=new rp([s],n.dtype),l=new rp([s],"int32"),f=0,d=0;f<a.length;f++)o.has(a[f])||(u.values[d]=a[f],l.values[d]=f,d++);return[2,[u.toTensor(),l.toTensor()]]}})})};function Im(e,t,n,r){r===void 0&&(r=!0);var a=[];if(r)(a=a.concat(t.slice(0))).push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var i=t.length,o=0;o<i;++o)a=a.concat([e[o+1]/t[o],t[o]]);a=a.concat(e.slice(i+1))}return a}function Fm(e,t,n){n===void 0&&(n=!0);var r=[];if(n){r.push(t);for(var a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{var i=[],o=[];for(a=1;a<e;++a)a>=2*t+1||a%2==1?o.push(a):i.push(a);r.push.apply(r,i),r.push(0),r.push.apply(r,o)}return r}function Bm(e,t,n,r){r===void 0&&(r=!0);var a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function jF(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function UF(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function zF(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(t.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(e.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],a=1,i=0;i<n.length-1;++i)a*=n[i];var o=e.shape,s=n.slice();s.pop();var u=1;for(i=r;i<e.rank;++i)u*=o[i],s.push(o[i]);var l=ko(e.shape).map(function(f){return f/u}).concat([1]).slice(0,r);return[s,a,u,l]}var WF=30;function Pb(e){return e<=WF?e:a_(e,Math.floor(Math.sqrt(e)))}function pq(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+a+".";if(n.rank<a)throw new Error(i+" update.rank < "+a+". ");if(e.length<r+(n.rank-a))throw new Error(i+" Output shape length < "+(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(i+" update.rank != "+(a+e.length-r));for(var o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(i+" updates.shape["+o+"] ("+n.shape[o]+") != indices.shape["+o+"] ("+t.shape[o]+").");for(o=0;o<n.rank-a;++o)if(n.shape[o+a]!==e[o+r])throw new Error(i+" updates.shape["+(o+a)+"] ("+n.shape[o+a]+") != shape["+(o+a)+"] ("+e[o+a]+")")}function vq(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if(t.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(n.length===0){if(t.size===0)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(e.size===0)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}pq(n,t,e)}function Lm(e,t,n){for(var r=t.shape.length,a=r>1?t.shape[r-1]:1,i=n.length,o=1,s=a;s<i;++s)o*=n[s];var u=a<1?1:a;return{sliceRank:a,numUpdates:lt(t.shape)/u,sliceSize:o,strides:ko(n.slice(0,a)).concat([1]),outputSize:lt(n)}}function mq(e,t,n){Q(e.rank===t.length,function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."}),Q(e.rank===n.length,function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."});for(var r=function(i){Q(t[i]+n[i]<=e.shape[i],function(){return"Error in slice"+e.rank+"D: begin["+i+"] + size["+i+"] ("+(t[i]+n[i])+") would overflow input.shape["+i+"] ("+e.shape[i]+")"})},a=0;a<e.rank;++a)r(a)}function N3(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function XE(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function gq(e,t,n,r,a){var i=t[a],o=n[a]||1;(e&1<<a||i==null)&&(i=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[a];return i<0&&(i+=s),i=t_(0,i,s-1)}function yq(e,t,n,r,a){var i=t[a],o=n[a]||1;(e&1<<a||i==null)&&(i=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[a];return i<0&&(i+=s),i=o>0?t_(0,i,s):t_(-1,i,s-1)}function HF(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function $F(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function xq(e,t){Q(r_(e),function(){return"The f passed in variableGrads(f) must be a function"}),Q(t==null||Array.isArray(t)&&t.every(function(f){return f instanceof Lf}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=t!=null;if(!n)for(var r in t=[],de.registeredVariables)t.push(de.registeredVariables[r]);var a=n?t.filter(function(f){return!f.trainable}):null,i=t.length;Q((t=t.filter(function(f){return f.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+i+" variables is trainable."});var o=de.gradients(e,t,null,!0),s=o.value,u=o.grads;Q(u.some(function(f){return f!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),Q(s.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var l={};return t.forEach(function(f,d){u[d]!=null&&(l[f.name]=u[d])}),a?.forEach(function(f){return l[f.name]=null}),{value:s,grads:l}}function Jg(e){return de.customGrad(e)}var Ps=ue({softmax_:function(e,t){t===void 0&&(t=-1);var n=W(e,"logits","softmax","float32");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return de.runKernelFunc(function(r,a){var i=r.softmax(n,t);return a([i]),i},{logits:n},function(r,a){var i=a[0],o=r.mul(i);return{logits:function(){return o.sub(o.sum([t],!0).mul(i))}}},"Softmax",{dim:t},[],[!0])}}),bq=ue({logSoftmax_:function(e,t){t===void 0&&(t=-1);var n=W(e,"logits","logSoftmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Jg(function(r,a){var i=r.max(t,!0),o=r.sub(i),s=o.toFloat().sub(o.exp().sum(t,!0).log());return a([s]),{value:s,gradFunc:function(u,l){var f=l[0].exp();return u.sub(u.sum(t,!0).mul(f))}}})(n)}}),VF=function(){function e(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)},e.prototype.set=function(t,n){this.dataIdsCount++,this.data.set(t,n)},e.prototype.has=function(t){return this.data.has(t)},e.prototype.delete=function(t){return this.dataIdsCount--,this.data.delete(t)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),qF=function(){function e(){}return e.prototype.time=function(t){return Ae("time")},e.prototype.read=function(t){return Ae("read")},e.prototype.readSync=function(t){return Ae("readSync")},e.prototype.numDataIds=function(){return Ae("numDataIds")},e.prototype.disposeData=function(t){return Ae("disposeData")},e.prototype.write=function(t,n,r){return Ae("write")},e.prototype.move=function(t,n,r,a){return Ae("move")},e.prototype.memory=function(){return Ae("memory")},e.prototype.floatPrecision=function(){return Ae("floatPrecision")},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.batchMatMul=function(t,n,r,a){return Ae("batchMatMul")},e.prototype.fusedBatchMatMul=function(t){return t.a,t.b,t.transposeA,t.transposeB,t.bias,t.activation,t.preluActivationWeights,Ae("fusedBatchMatMul")},e.prototype.slice=function(t,n,r){return Ae("slice")},e.prototype.stridedSlice=function(t,n,r,a){return Ae("stridedSlice")},e.prototype.unstack=function(t,n){return Ae("unstack")},e.prototype.reverse=function(t,n){return Ae("reverse")},e.prototype.concat=function(t,n){return Ae("concat")},e.prototype.neg=function(t){return Ae("neg")},e.prototype.add=function(t,n){return Ae("add")},e.prototype.addN=function(t){return Ae("addN")},e.prototype.subtract=function(t,n){return Ae("subtract")},e.prototype.multiply=function(t,n){return Ae("multiply")},e.prototype.realDivide=function(t,n){return Ae("realDivide")},e.prototype.floorDiv=function(t,n){return Ae("floorDiv")},e.prototype.sum=function(t,n){return Ae("sum")},e.prototype.prod=function(t,n){return Ae("prod")},e.prototype.unsortedSegmentSum=function(t,n,r){return Ae("unsortedSegmentSum")},e.prototype.argMin=function(t,n){return Ae("argMin")},e.prototype.argMax=function(t,n){return Ae("argMax")},e.prototype.equal=function(t,n){return Ae("equal")},e.prototype.notEqual=function(t,n){return Ae("notEqual")},e.prototype.less=function(t,n){return Ae("less")},e.prototype.lessEqual=function(t,n){return Ae("lessEqual")},e.prototype.greater=function(t,n){return Ae("greater")},e.prototype.greaterEqual=function(t,n){return Ae("greaterEqual")},e.prototype.logicalNot=function(t){return Ae("logicalNot")},e.prototype.logicalAnd=function(t,n){return Ae("logicalAnd")},e.prototype.logicalOr=function(t,n){return Ae("logicalOr")},e.prototype.where=function(t){return Ae("where")},e.prototype.select=function(t,n,r){return Ae("select")},e.prototype.topk=function(t,n,r){return Ae("topk")},e.prototype.min=function(t,n){return Ae("min")},e.prototype.minimum=function(t,n){return Ae("minimum")},e.prototype.mod=function(t,n){return Ae("mod")},e.prototype.max=function(t,n){return Ae("max")},e.prototype.maximum=function(t,n){return Ae("maximum")},e.prototype.all=function(t,n){return Ae("all")},e.prototype.any=function(t,n){return Ae("any")},e.prototype.squaredDifference=function(t,n){return Ae("squaredDifference")},e.prototype.ceil=function(t){return Ae("ceil")},e.prototype.floor=function(t){return Ae("floor")},e.prototype.round=function(t){return Ae("round")},e.prototype.sign=function(t){return Ae("sign")},e.prototype.isNaN=function(t){return Ae("isNaN")},e.prototype.isInf=function(t){return Ae("isInf")},e.prototype.isFinite=function(t){return Ae("isFinite")},e.prototype.pow=function(t,n){return Ae("pow")},e.prototype.exp=function(t){return Ae("exp")},e.prototype.expm1=function(t){return Ae("expm1")},e.prototype.softmax=function(t,n){return Ae("softmax")},e.prototype.log=function(t){return Ae("log")},e.prototype.log1p=function(t){return Ae("log1p")},e.prototype.sqrt=function(t){return Ae("sqrt")},e.prototype.rsqrt=function(t){return Ae("rsqrt")},e.prototype.square=function(t){return Ae("square")},e.prototype.reciprocal=function(t){return Ae("reciprocal")},e.prototype.relu=function(t){return Ae("relu")},e.prototype.relu6=function(t){return Ae("relu6")},e.prototype.prelu=function(t,n){return Ae("prelu")},e.prototype.elu=function(t){return Ae("elu")},e.prototype.eluDer=function(t,n){return Ae("eluDer")},e.prototype.selu=function(t){return Ae("selu")},e.prototype.int=function(t){return Ae("int")},e.prototype.clip=function(t,n,r){return Ae("clip")},e.prototype.abs=function(t){return Ae("abs")},e.prototype.complexAbs=function(t){return Ae("complexAbs")},e.prototype.sigmoid=function(t){return Ae("sigmoid")},e.prototype.softplus=function(t){return Ae("softplus")},e.prototype.sin=function(t){return Ae("sin")},e.prototype.cos=function(t){return Ae("cos")},e.prototype.tan=function(t){return Ae("tan")},e.prototype.asin=function(t){return Ae("asin")},e.prototype.acos=function(t){return Ae("acos")},e.prototype.atan=function(t){return Ae("atan")},e.prototype.atan2=function(t,n){return Ae("atan2")},e.prototype.sinh=function(t){return Ae("sinh")},e.prototype.cosh=function(t){return Ae("cosh")},e.prototype.tanh=function(t){return Ae("tanh")},e.prototype.asinh=function(t){return Ae("asinh")},e.prototype.acosh=function(t){return Ae("acosh")},e.prototype.atanh=function(t){return Ae("atanh")},e.prototype.erf=function(t){return Ae("erf")},e.prototype.step=function(t,n){return Ae("step")},e.prototype.fusedConv2d=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,Ae("fusedConv2d")},e.prototype.conv2d=function(t,n,r){return Ae("conv2d")},e.prototype.conv2dDerInput=function(t,n,r){return Ae("conv2dDerInput")},e.prototype.conv2dDerFilter=function(t,n,r){return Ae("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,Ae("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(t,n,r){return Ae("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(t,n,r){return Ae("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(t,n,r){return Ae("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(t,n,r){return Ae("conv3d")},e.prototype.conv3dDerInput=function(t,n,r){return Ae("conv3dDerInput")},e.prototype.conv3dDerFilter=function(t,n,r){return Ae("conv3dDerFilter")},e.prototype.maxPool=function(t,n){return Ae("maxPool")},e.prototype.maxPoolBackprop=function(t,n,r,a){return Ae("maxPoolBackprop")},e.prototype.avgPool=function(t,n){return Ae("avgPool")},e.prototype.avgPoolBackprop=function(t,n,r){return Ae("avgPoolBackprop")},e.prototype.avgPool3d=function(t,n){return Ae("avgPool3d")},e.prototype.avgPool3dBackprop=function(t,n,r){return Ae("avgPool3dBackprop")},e.prototype.maxPool3d=function(t,n){return Ae("maxPool3d")},e.prototype.maxPool3dBackprop=function(t,n,r,a){return Ae("maxPool3dBackprop")},e.prototype.reshape=function(t,n){return Ae("reshape")},e.prototype.cast=function(t,n){return Ae("cast")},e.prototype.tile=function(t,n){return Ae("tile")},e.prototype.pad=function(t,n,r){return Ae("pad")},e.prototype.transpose=function(t,n){return Ae("transpose")},e.prototype.gather=function(t,n,r){return Ae("gather")},e.prototype.gatherND=function(t,n){return Ae("gatherND")},e.prototype.scatterND=function(t,n,r){return Ae("scatterND")},e.prototype.batchToSpaceND=function(t,n,r){return Ae("batchToSpaceND")},e.prototype.spaceToBatchND=function(t,n,r){return Ae("spaceToBatchND")},e.prototype.resizeBilinear=function(t,n,r,a){return Ae("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(t,n,r){return Ae("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(t,n,r,a){return Ae("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(t,n,r){return Ae("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(t,n,r,a,i,o){return Ae("batchNormalization")},e.prototype.localResponseNormalization4D=function(t,n,r,a,i){return Ae("localResponseNormalization4D")},e.prototype.LRNGrad=function(t,n,r,a,i,o,s){return Ae("LRNGrad")},e.prototype.multinomial=function(t,n,r,a){return Ae("multinomial")},e.prototype.oneHot=function(t,n,r,a){return Ae("oneHot")},e.prototype.cumsum=function(t,n,r,a){return Ae("cumsum")},e.prototype.nonMaxSuppression=function(t,n,r,a,i){return Ae("nonMaxSuppression")},e.prototype.fft=function(t){return Ae("fft")},e.prototype.ifft=function(t){return Ae("ifft")},e.prototype.complex=function(t,n){return Ae("complex")},e.prototype.real=function(t){return Ae("real")},e.prototype.imag=function(t){return Ae("imag")},e.prototype.cropAndResize=function(t,n,r,a,i,o){return Ae("cropAndResize")},e.prototype.depthToSpace=function(t,n,r){return Ae("depthToSpace")},e.prototype.split=function(t,n,r){return Ae("split")},e.prototype.sparseToDense=function(t,n,r,a){return Ae("sparseToDense")},e.prototype.diag=function(t){return Ae("diag")},e.prototype.fill=function(t,n,r){return Ae("fill")},e.prototype.onesLike=function(t){return Ae("onesLike")},e.prototype.zerosLike=function(t){return Ae("zerosLike")},e.prototype.linspace=function(t,n,r){return Ae("linspace")},e.prototype.dispose=function(){return Ae("dispose")},e}();function Ae(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Su(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&o===1&&r.unshift(i)}return r}function sr(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],i=t.length-r-1,o=t[i];(a==null||a===1&&o>1)&&n.unshift(i)}return n}function It(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var i=e[e.length-a-1];i==null&&(i=1);var o=t[t.length-a-1];if(o==null&&(o=1),i===1)n.unshift(o);else if(o===1)n.unshift(i);else{if(i!==o)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(i)}}return n}function ip(e,t,n,r,a,i,o){o===void 0&&(o="channelsLast");var s,u=zm(t),l=u[0],f=u[1];if(o==="channelsLast")s=[l,f,e[3],e[3]];else{if(o!=="channelsFirst")throw new Error("Unknown dataFormat "+o);s=[l,f,e[1],e[1]]}return rc(e,s,n,r,a,i,!1,o)}function jm(e,t,n,r,a,i,o){o===void 0&&(o="NDHWC");var s,u,l=f_(t),f=l[0],d=l[1],p=l[2];if(o==="NDHWC")u="channelsLast",s=[f,d,p,e[4],e[4]];else{if(o!=="NCDHW")throw new Error("Unknown dataFormat "+o);u="channelsFirst",s=[f,d,p,e[1],e[1]]}return Um(e,s,n,r,a,!1,u,i)}function rc(e,t,n,r,a,i,o,s){o===void 0&&(o=!1),s===void 0&&(s="channelsLast");var u=[-1,-1,-1,-1],l=u[0],f=u[1],d=u[2],p=u[3];if(s==="channelsLast")l=e[0],f=e[1],d=e[2],p=e[3];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);l=e[0],p=e[1],f=e[2],d=e[3]}var m,g=t[0],x=t[1],b=t[3],w=zm(n),E=w[0],S=w[1],A=zm(r),T=A[0],R=A[1],D=Af(g,T),P=Af(x,R),k=function(ae,V,H,Z,ie,he,z,se){var L,G,X;if(typeof ae=="number"){L={top:ae,bottom:ae,left:ae,right:ae,type:ae===0?"VALID":"NUMBER"};var Y=function(Oe,ve,Ye,$e,nt){$e==null&&($e=GF(Oe,ve,Ye));var et=Oe[0],He=Oe[1],Ft=$d((et-ve+2*$e)/Ye+1,nt);Q(Un(Ft),function(){return"The output # of rows ("+Ft+") must be an integer. Change the stride and/or zero pad parameters"});var jt=$d((He-ve+2*$e)/Ye+1,nt);return Q(Un(jt),function(){return"The output # of columns ("+jt+") must be an integer. Change the stride and/or zero pad parameters"}),[Ft,jt]}([V,H],he,Z,ae,se);G=Y[0],X=Y[1]}else if(ae==="same"){G=Math.ceil(V/Z),X=Math.ceil(H/ie);var ce=Math.max(0,(G-1)*Z+he-V),Pe=Math.max(0,(X-1)*ie+z-H),le=Math.floor(ce/2),oe=ce-le,ye=Math.floor(Pe/2);L={top:le,bottom:oe,left:ye,right:Pe-ye,type:"SAME"}}else{if(ae!=="valid")throw Error("Unknown padding parameter: "+ae);L={top:0,bottom:0,left:0,right:0,type:"VALID"},G=Math.ceil((V-he+1)/Z),X=Math.ceil((H-z+1)/ie)}return{padInfo:L,outHeight:G,outWidth:X}}(a,f,d,E,S,D,P,i),I=k.padInfo,F=k.outHeight,B=k.outWidth,te=o?b*p:b;return s==="channelsFirst"?m=[l,te,F,B]:s==="channelsLast"&&(m=[l,F,B,te]),{batchSize:l,dataFormat:s,inHeight:f,inWidth:d,inChannels:p,outHeight:F,outWidth:B,outChannels:te,padInfo:I,strideHeight:E,strideWidth:S,filterHeight:g,filterWidth:x,effectiveFilterHeight:D,effectiveFilterWidth:P,dilationHeight:T,dilationWidth:R,inShape:e,outShape:m,filterShape:t}}function Um(e,t,n,r,a,i,o,s){i===void 0&&(i=!1),o===void 0&&(o="channelsLast");var u=[-1,-1,-1,-1,-1],l=u[0],f=u[1],d=u[2],p=u[3],m=u[4];if(o==="channelsLast")l=e[0],f=e[1],d=e[2],p=e[3],m=e[4];else{if(o!=="channelsFirst")throw new Error("Unknown dataFormat "+o);l=e[0],m=e[1],f=e[2],d=e[3],p=e[4]}var g,x=t[0],b=t[1],w=t[2],E=t[4],S=f_(n),A=S[0],T=S[1],R=S[2],D=f_(r),P=D[0],k=D[1],I=D[2],F=Af(x,P),B=Af(b,k),te=Af(w,I),ae=function(z,se,L,G,X,Y,ce,Pe,le,oe,ye){var Oe,ve,Ye,$e;if(typeof z=="number"){Oe={top:z,bottom:z,left:z,right:z,front:z,back:z,type:z===0?"VALID":"NUMBER"};var nt=function(qe,Qe,ut,pt,wt,Ht){wt==null&&(wt=GF(qe,Qe,pt));var ji=qe[0],Ui=qe[1],fo=qe[2],ca=$d((ji-Qe+2*wt)/pt+1,Ht);Q(Un(ca),function(){return"The output # of depths ("+ca+") must be an integer. Change the stride and/or zero pad parameters"});var Na=$d((Ui-Qe+2*wt)/pt+1,Ht);Q(Un(Na),function(){return"The output # of rows ("+Na+") must be an integer. Change the stride and/or zero pad parameters"});var fa=$d((fo-Qe+2*wt)/pt+1,Ht);return Q(Un(fa),function(){return"The output # of columns ("+fa+") must be an integer. Change the stride and/or zero pad parameters"}),[ca,Na,fa,ut]}([se,L,G,1],Pe,1,X,z,ye);ve=nt[0],Ye=nt[1],$e=nt[2]}else if(z==="same"){ve=Math.ceil(se/X),Ye=Math.ceil(L/Y),$e=Math.ceil(G/ce);var et=(ve-1)*X+Pe-se,He=(Ye-1)*Y+le-L,Ft=($e-1)*ce+oe-G,jt=Math.floor(et/2),ze=et-jt,dt=Math.floor(He/2),ge=He-dt,Be=Math.floor(Ft/2);Oe={top:dt,bottom:ge,left:Be,right:Ft-Be,front:jt,back:ze,type:"SAME"}}else{if(z!=="valid")throw Error("Unknown padding parameter: "+z);Oe={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},ve=Math.ceil((se-Pe+1)/X),Ye=Math.ceil((L-le+1)/Y),$e=Math.ceil((G-oe+1)/ce)}return{padInfo:Oe,outDepth:ve,outHeight:Ye,outWidth:$e}}(a,f,d,p,A,T,R,F,B,te,s),V=ae.padInfo,H=ae.outDepth,Z=ae.outHeight,ie=ae.outWidth,he=i?E*m:E;return o==="channelsFirst"?g=[l,he,H,Z,ie]:o==="channelsLast"&&(g=[l,H,Z,ie,he]),{batchSize:l,dataFormat:o,inDepth:f,inHeight:d,inWidth:p,inChannels:m,outDepth:H,outHeight:Z,outWidth:ie,outChannels:he,padInfo:V,strideDepth:A,strideHeight:T,strideWidth:R,filterDepth:x,filterHeight:b,filterWidth:w,effectiveFilterDepth:F,effectiveFilterHeight:B,effectiveFilterWidth:te,dilationDepth:P,dilationHeight:k,dilationWidth:I,inShape:e,outShape:g,filterShape:t}}function GF(e,t,n,r){r===void 0&&(r=1);var a=Af(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function zm(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function f_(e){return typeof e=="number"?[e,e,e]:e}function Af(e,t){return t<=1?e:e+(e-1)*(t-1)}function $d(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function Uf(e){var t=zm(e),n=t[0],r=t[1],a=t[2];return n===1&&r===1&&a===1}function Oa(e,t){return Uf(e)||Uf(t)}function YE(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function KF(e,t,n){if(t==="complex64"){if(e.dtype==="complex64")return e.clone();var r=bn(e.shape),a=e.toFloat(),i=n.complex(a,r);return r.dispose(),a.dispose(),i}if(!G$(e.dtype,t))return de.makeTensorFromDataId(e.dataId,e.shape,t);if(e.dtype==="complex64"){var o=n.real(e);return i=o.cast(t),o.dispose(),i}if(t==="int32")return n.int(e);if(t==="bool"){var s=Ze(0,e.dtype);return i=n.notEqual(e,s),s.dispose(),i}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function h_(e,t){return de.makeTensorFromDataId(e.dataId,t,e.dtype)}function XF(e,t,n){var r=(t-e)/(n-1),a=Ip(n,"float32");a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+r;return Kn(a,"float32")}function d_(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function k3(e,t){return{real:e[2*t],imag:e[2*t+1]}}function wq(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function _q(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function Eq(e,t,n){var r=function(i,o,s){return function(u,l,f){for(var d=0,p=u.length,m=0,g=!1;d<p;){var x=f(l,u[m=d+(p-d>>>1)]);x>0?d=m+1:(p=m,g=!x)}return g?d:-d-1}(i,o,s||Sq)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function Sq(e,t){return e>t?1:e<t?-1:0}function QE(e,t,n,r,a){return YF(e,t,n,r,a,0).selectedIndices}function ZE(e,t,n,r,a,i){var o=YF(e,t,n,r,a,i);return o.numValidOutputs.dispose(),{selectedIndices:o.selectedIndices,selectedScores:o.selectedScores}}function YF(e,t,n,r,a,i,o,s){s===void 0&&(s=!1);for(var u=Array.from(t).map(function(A,T){return{score:A,boxIndex:T,suppressBeginIndex:0}}).filter(function(A){return A.score>a}).sort(P3),l=i>0?-.5/i:0,f=[],d=[];f.length<n&&u.length>0;){var p=u.pop(),m=p.score,g=p.boxIndex,x=p.suppressBeginIndex;if(m<a)break;for(var b=!1,w=f.length-1;w>=x;--w){var E=Tq(e,g,f[w]);if(E>=r){b=!0;break}if(p.score=p.score*Aq(r,l,E),p.score<=a)break}p.suppressBeginIndex=f.length,b||(p.score===m?(f.push(g),d.push(p.score)):p.score>a&&Eq(u,p,P3))}var S=f.length;return s&&(f.fill(0,S),d.fill(0,S)),{selectedIndices:Kn(f,"int32"),selectedScores:Kn(d,"float32"),numValidOutputs:Ze(S,"int32")}}function Tq(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(a[0],a[2]),f=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),m=(s-i)*(u-o),g=(d-l)*(p-f);if(m<=0||g<=0)return 0;var x=Math.max(i,l),b=Math.max(o,f),w=Math.min(s,d),E=Math.min(u,p),S=Math.max(w-x,0)*Math.max(E-b,0);return S/(m+g-S)}function Aq(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function P3(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function QF(e,t,n){var r=new Array(e.rank).fill(0),a=e.shape.slice();return t.map(function(i){a[n]=i;var o=e.slice(r,a);return r[n]+=i,o})}function ZF(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var a=Tt(n,e.dtype);for(r=0;r<a.values.length;++r){for(var i=a.indexToLoc(r),o=new Array(e.rank),s=0;s<o.length;s++)o[s]=i[s]%e.shape[s];var u=e.locToIndex(o);a.values[r]=e.values[u]}return a.toTensor()}function JF(e,t,n,r,a){for(var i=t[t.length-1],o=[e.length/i,i],s=o[0],u=o[1],l=np(n,s*r),f=np("int32",s*r),d=0;d<s;d++){for(var p=d*u,m=e.subarray(p,p+u),g=[],x=0;x<m.length;x++)g.push({value:m[x],index:x});g.sort(function(A,T){return T.value-A.value});var b=d*r,w=l.subarray(b,b+r),E=f.subarray(b,b+r);for(x=0;x<r;x++)w[x]=g[x].value,E[x]=g[x].index}var S=t.slice();return S[S.length-1]=r,[Fr(l,S,n),Fr(f,S,"int32")]}function JE(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var a=Tt(e,"int32"),i=Tt([n.length,e.length],"int32");for(r=0;r<n.length;r++){var o=a.indexToLoc(n[r]),s=r*e.length;i.values.set(o,s)}return i.toTensor()}var Cq=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(function(a,i){return"T"+i});var n=[];this.variableNames.forEach(function(a){n.push("float v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        float result = `+r+`;
        setOutput(result);
      }
    `},Oq=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(function(a,i){return"T"+i});var n=[];this.variableNames.forEach(function(a){n.push("vec4 v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        vec4 result = `+r+`;
        setOutput(result);
      }
    `},Rq=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,a=e.batchSize,i=e.inSize,o=Math.ceil(i/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,o];var s=t==="max"?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+r+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+r+`; i++) {
          int inIdx = `+u+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+s+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function eB(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(n){return e+"."+n})}function ba(e,t){return t===1?[e]:eB(e,t)}function Xr(){var e,t,n,r,a,i,o,s,u,l;return Me().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",o="out vec4 outputColor;",s=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,u="",l=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",o="",s=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,u=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,l=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:u,defineRound:l}}function Tl(e,t,n){n===void 0&&(n="index");var r=ko(t);return r.map(function(a,i){return"int "+e[i]+" = "+n+" / "+a+"; "+(i===r.length-1?"int "+e[i+1]+" = "+n+" - "+e[i]+" * "+a:"index -= "+e[i]+" * "+a)+";"}).join("")}function eS(e){var t=ko(e).map(function(n){return n.toString()});return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+t[0]+" + coords.y * "+t[1]+` + coords.z;
  }
`}var tB=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function Dq(e,t,n,r){var a=[];e.forEach(function(m){var g=lt(m.shapeInfo.logicalShape);m.shapeInfo.isUniform?a.push("uniform float "+m.name+(g>1?"["+g+"]":"")+";"):(a.push("uniform sampler2D "+m.name+";"),a.push("uniform int offset"+m.name+";"))});var i,o,s=a.join(`
`),u=e.map(function(m){return function(g,x,b){b===void 0&&(b=!1);var w="";w+=b?nB(g):vf(g);var E=g.shapeInfo.logicalShape,S=x.logicalShape;return E.length<=S.length&&(w+=b?function(A,T){var R,D=A.name,P=D.charAt(0).toUpperCase()+D.slice(1),k="get"+P+"AtOutCoords",I=A.shapeInfo.logicalShape.length,F=T.logicalShape.length,B=Su(A.shapeInfo.logicalShape,T.logicalShape),te=yn(F),ae=F-I,V=["x","y","z","w","u","v"];R=I===0?"":F<2&&B.length>=1?"coords = 0;":B.map(function(L){return"coords."+V[L+ae]+" = 0;"}).join(`
`);var H="";H=F<2&&I>0?"coords":A.shapeInfo.logicalShape.map(function(L,G){return"coords."+V[G+ae]}).join(", ");var Z="return outputValue;",ie=lt(A.shapeInfo.logicalShape)===1,he=lt(T.logicalShape)===1;if(I!==1||ie||he){if(ie&&!he)Z=F===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(B.length){var z=I-2,se=I-1;B.indexOf(z)>-1&&B.indexOf(se)>-1?Z="return vec4(outputValue.x);":B.indexOf(z)>-1?Z="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":B.indexOf(se)>-1&&(Z="return vec4(outputValue.xx, outputValue.zz);")}}else Z=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+k+`() {
      `+te+` coords = getOutputCoords();
      `+R+`
      vec4 outputValue = get`+P+"("+H+`);
      `+Z+`
    }
  `}(g,x):function(A,T){var R=A.name,D=R.charAt(0).toUpperCase()+R.slice(1),P="get"+D+"AtOutCoords",k=T.texShape,I=A.shapeInfo.texShape,F=A.shapeInfo.logicalShape.length,B=T.logicalShape.length;if(!A.shapeInfo.isUniform&&F===B&&A.shapeInfo.flatOffset==null&&Er(I,k))return`
      float `+P+`() {
        return sampleTexture(`+R+`, resultUV);
      }
    `;var te,ae=yn(B),V=Su(A.shapeInfo.logicalShape,T.logicalShape),H=B-F,Z=["x","y","z","w","u","v"];te=F===0?"":B<2&&V.length>=1?"coords = 0;":V.map(function(he){return"coords."+Z[he+H]+" = 0;"}).join(`
`);var ie="";return ie=B<2&&F>0?"coords":A.shapeInfo.logicalShape.map(function(he,z){return"coords."+Z[z+H]}).join(", "),`
    float `+P+`() {
      `+ae+` coords = getOutputCoords();
      `+te+`
      return get`+D+"("+ie+`);
    }
  `}(g,x)),w}(m,t,r)}).join(`
`),l=t.texShape,f=Xr(),d=function(m){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+m.texture2D+`(textureSampler, uv).r;
    }
  `}(f),p=function(m){return m.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+m.varyingFs+` vec2 resultUV;
    `+m.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+m.defineSpecialNaN+`
    `+m.defineSpecialInf+`
    `+m.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+Nq+`
    `+kq+`
    `+Pq+`
  `}(f);return t.isPacked?(i=function(m,g){switch(m.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(A,T){var R=[Math.ceil(T[0]/2),Math.ceil(T[1]/2)];return R[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+R[1]+`.0);
      }
    `:R[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+R[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+R[0]+", "+R[1]+`));
      return 2 * (resTexRC.x * `+R[1]+` + resTexRC.y);
    }
  `}(0,g);case 2:return function(A,T){var R=[Math.ceil(T[0]/2),Math.ceil(T[1]/2)];if(Er(A,T))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+R[0]+", "+R[1]+`));
      }
    `;var D=Math.ceil(A[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+R[0]+", "+R[1]+`));

      int index = resTexRC.x * `+R[1]+` + resTexRC.y;
      int r = 2 * (index / `+D+`);
      int c = imod(index, `+D+`) * 2;

      return ivec2(r, c);
    }
  `}(m,g);case 3:return x=m,b=g,w=[Math.ceil(b[0]/2),Math.ceil(b[1]/2)],E=Math.ceil(x[2]/2),S=E*Math.ceil(x[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+w[0]+", "+w[1]+`));
      int index = resTexRC.x * `+w[1]+` + resTexRC.y;

      int b = index / `+S+`;
      index -= b * `+S+`;

      int r = 2 * (index / `+E+`);
      int c = imod(index, `+E+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return function(A,T){for(var R=[Math.ceil(T[0]/2),Math.ceil(T[1]/2)],D=Math.ceil(A[A.length-1]/2),P=D*Math.ceil(A[A.length-2]/2),k=P,I="",F="b, r, c",B=2;B<A.length-1;B++)k*=A[A.length-B-1],I=`
      int b`+B+" = index / "+k+`;
      index -= b`+B+" * "+k+`;
    `+I,F="b"+B+", "+F;return`
    ivec`+A.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+R[0]+", "+R[1]+`));
      int index = resTexRC.x * `+R[1]+` + resTexRC.y;

      `+I+`

      int b = index / `+P+`;
      index -= b * `+P+`;

      int r = 2 * (index / `+D+`);
      int c = imod(index, `+D+`) * 2;

      return ivec`+A.length+"("+F+`);
    }
  `}(m,g)}var x,b,w,E,S}(t.logicalShape,l),o=function(m){return`
    void setOutput(vec4 val) {
      `+m.output+` = val;
    }
  `}(f)):(i=function(m,g){switch(m.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(w,E){return E[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+E[1]+`.0);
      }
    `:E[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+E[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+E[0]+", "+E[1]+`));
      return resTexRC.x * `+E[1]+` + resTexRC.y;
    }
  `}(0,g);case 2:return function(w,E){return Er(w,E)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+E[0]+", "+E[1]+`));
      }
    `:w[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+E[0]+", "+E[1]+`));
        int index = resTexRC.x * `+E[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:w[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+E[0]+", "+E[1]+`));
        int index = resTexRC.x * `+E[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+E[0]+", "+E[1]+`));
      int index = resTexRC.x * `+E[1]+` + resTexRC.y;
      int r = index / `+w[1]+`;
      int c = index - r * `+w[1]+`;
      return ivec2(r, c);
    }
  `}(m,g);case 3:return x=g,b=Tl(["r","c","d"],m),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+x[0]+", "+x[1]+`));
      int index = resTexRC.x * `+x[1]+` + resTexRC.y;
      `+b+`
      return ivec3(r, c, d);
    }
  `;case 4:return function(w,E){var S=Tl(["r","c","d","d2"],w);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+E[0]+", "+E[1]+`));
      int index = resTexRC.x * `+E[1]+` + resTexRC.y;
      `+S+`
      return ivec4(r, c, d, d2);
    }
  `}(m,g);case 5:return function(w,E){var S=Tl(["r","c","d","d2","d3"],w);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+E[0]+`,
                             `+E[1]+`));

      int index = resTexRC.x * `+E[1]+` + resTexRC.y;

      `+S+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}(m,g);case 6:return function(w,E){var S=Tl(["r","c","d","d2","d3","d4"],w);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+E[0]+", "+E[1]+`));
      int index = resTexRC.x * `+E[1]+` + resTexRC.y;

      `+S+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}(m,g);default:throw new Error(m.length+"-D output sampling is not yet supported")}var x,b}(t.logicalShape,l),o=function(m){return`
    void setOutput(float val) {
      `+m.output+` = vec4(val, 0, 0, 0);
    }
  `}(f)),r&&(p+=Mq),[p,d,o,s,i,u,n].join(`
`)}function vf(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(n){var r=n.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return"float "+a+"() {return "+r+";}";var i=n.shapeInfo.texShape,o=i[0],s=i[1];if(o===1&&s===1)return`
      float `+a+`() {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var u=n.shapeInfo.texShape,l=u[0],f=u[1],d=pl(r);return`
    float `+a+`() {
      vec2 uv = uvFromFlat(`+l+", "+f+", "+d+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(e);case 1:return function(n){var r=n.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return`
      float `+a+`(int index) {
        `+rf(n)+`
      }
    `;var i=n.shapeInfo.texShape,o=i[0],s=i[1];if(s===1&&o===1)return`
      float `+a+`(int index) {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var u=pl(r);return s===1?`
      float `+a+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+u+") + 0.5) / "+o+`.0);
        return sampleTexture(`+r+`, uv);
      }
    `:o===1?`
      float `+a+`(int index) {
        vec2 uv = vec2((float(index + `+u+") + 0.5) / "+s+`.0, 0.5);
        return sampleTexture(`+r+`, uv);
      }
    `:`
    float `+a+`(int index) {
      vec2 uv = uvFromFlat(`+o+", "+s+", index + "+u+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(e);case 2:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n.shapeInfo.texShape;if(o!=null&&Er(r,o)){var s=o[0],u=o[1];return`
    float `+i+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+u+".0, "+s+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `}var l=El(r),f=l.newShape,d=l.keptDims,p=f;if(p.length<r.length){var m=mf(n,p);return`
      `+vf(m)+`
      float `+i+`(int row, int col) {
        return `+i+"("+gf(["row","col"],d)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+r[1]+`, 1)));
        `+rf(n)+`
      }
    `;var g=o[0],x=o[1],b=pl(a);return x===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+b+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+g+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `:g===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+b+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+x+`.0, 0.5);
      return sampleTexture(`+a+`, uv);
    }
  `:`
  float `+i+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+r[1]+" + col + "+b+`;
    vec2 uv = uvFromFlat(`+g+", "+x+`, index);
    return sampleTexture(`+a+`, uv);
  }
`}(e);case 3:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[1]*r[2],s=r[2],u=El(r),l=u.newShape,f=u.keptDims,d=l;if(d.length<r.length){var p=mf(n,d);return`
        `+vf(p)+`
        float `+i+`(int row, int col, int depth) {
          return `+i+"("+gf(["row","col","depth"],f)+`);
        }
      `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+o+", "+s+`, 1)));
        `+rf(n)+`
      }
    `;var m=n.shapeInfo.texShape,g=m[0],x=m[1],b=n.shapeInfo.flatOffset;if(x===o&&b==null)return`
        float `+i+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+s+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+x+".0, "+g+`.0);
          return sampleTexture(`+a+`, uv);
        }
      `;if(x===s&&b==null)return`
    float `+i+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+r[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+x+".0, "+g+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `;var w=pl(a);return`
      float `+i+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+o+" + col * "+s+" + depth + "+w+`;
        vec2 uv = uvFromFlat(`+g+", "+x+`, index);
        return sampleTexture(`+a+`, uv);
      }
  `}(e);case 4:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[3],s=r[2]*o,u=r[1]*s,l=El(r),f=l.newShape,d=l.keptDims;if(f.length<r.length){var p=mf(n,f);return`
      `+vf(p)+`
      float `+i+`(int row, int col, int depth, int depth2) {
        return `+i+"("+gf(["row","col","depth","depth2"],d)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+u+", "+s+", "+o+`, 1)));
        `+rf(n)+`
      }
    `;var m=n.shapeInfo.flatOffset,g=n.shapeInfo.texShape,x=g[0],b=g[1];if(b===u&&m==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+s+", "+o+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+b+".0, "+x+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(b===o&&m==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+r[1]*r[2]+", "+r[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+b+".0, "+x+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var w=pl(a);return`
    float `+i+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+u+" + col * "+s+` +
          depth * `+o+` + depth2;
      vec2 uv = uvFromFlat(`+x+", "+b+", index + "+w+`);
      return sampleTexture(`+a+`, uv);
    }
  `}(e);case 5:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[4],s=r[3]*o,u=r[2]*s,l=r[1]*u,f=El(r),d=f.newShape,p=f.keptDims;if(d.length<r.length){var m=mf(n,d);return`
      `+vf(m)+`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        return `+i+"("+gf(["row","col","depth","depth2","depth3"],p)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+l+", "+u+", "+s+", "+o+`)) +
          depth3;
        `+rf(n)+`
      }
    `;var g=n.shapeInfo.flatOffset,x=n.shapeInfo.texShape,b=x[0],w=x[1];if(w===l&&g==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+u+", "+s+", "+o+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+w+".0, "+b+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(w===o&&g==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]+`,
               `+r[2]*r[3]+", "+r[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+w+".0, "+b+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var E=pl(a);return`
    float `+i+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+l+" + col * "+u+" + depth * "+s+` +
          depth2 * `+o+" + depth3 + "+E+`;
      vec2 uv = uvFromFlat(`+b+", "+w+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `}(e);case 6:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=El(r),s=o.newShape,u=o.keptDims;if(s.length<r.length){var l=mf(n,s);return`
      `+vf(l)+`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+i+"("+gf(["row","col","depth","depth2","depth3","depth4"],u)+`);
      }
    `}var f=r[5],d=r[4]*f,p=r[3]*d,m=r[2]*p,g=r[1]*m;if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+g+", "+m+", "+p+", "+d+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+f+`, 1)));
        `+rf(n)+`
      }
    `;var x=n.shapeInfo.flatOffset,b=n.shapeInfo.texShape,w=b[0],E=b[1];if(E===g&&x==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+m+", "+p+", "+d+", "+f+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+E+".0, "+w+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(E===f&&x==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]*r[4]+`,
               `+r[2]*r[3]*r[4]+`,
               `+r[3]*r[4]+`,
               `+r[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+E+".0, "+w+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var S=pl(a);return`
    float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+g+" + col * "+m+" + depth * "+p+` +
          depth2 * `+d+" + depth3 * "+f+" + depth4 + "+S+`;
      vec2 uv = uvFromFlat(`+w+", "+E+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function nB(e){var t,n,r;switch(e.shapeInfo.logicalShape.length){case 0:return t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=Xr(),`
    vec4 `+n+`() {
      return `+r.texture2D+"("+t+`, halfCR);
    }
  `;case 1:return function(a){var i=a.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),s=a.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],l=Xr();return`
    vec4 `+o+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+u[0]+", "+u[1]+`, index);
      return `+l.texture2D+"("+i+`, uv);
    }
  `}(e);case 2:return function(a){var i=a.shapeInfo.logicalShape,o=a.name,s="get"+o.charAt(0).toUpperCase()+o.slice(1),u=a.shapeInfo.texShape,l=u[0],f=u[1],d=Xr();if(u!=null&&Er(i,u))return`
      vec4 `+s+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+f+".0, "+l+`.0);

        return `+d.texture2D+"("+o+`, uv);
      }
    `;var p=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],m=Math.ceil(i[1]/2);return`
    vec4 `+s+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+m+", "+p[0]+", "+p[1]+`, row, col);
      return `+d.texture2D+"("+o+`, uv);
    }
  `}(e);case 3:return function(a){var i=a.shapeInfo.logicalShape,o=a.name,s="get"+o.charAt(0).toUpperCase()+o.slice(1),u=a.shapeInfo.texShape,l=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)];if(i[0]===1){var f=i.slice(1),d=mf(a,f);return`
        `+nB(d)+`
        vec4 `+s+`(int b, int row, int col) {
          return `+s+"("+gf(["b","row","col"],[1,2])+`);
        }
      `}var p=l[0],m=l[1],g=Math.ceil(i[2]/2),x=g*Math.ceil(i[1]/2),b=Xr();return`
    vec4 `+s+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+p+", "+m+", "+x+", "+g+`, b, row, col);
      return `+b.texture2D+"("+o+`, uv);
    }
  `}(e);default:return function(a){for(var i=a.shapeInfo.logicalShape,o=i.length,s=a.name,u="get"+s.charAt(0).toUpperCase()+s.slice(1),l=a.shapeInfo.texShape,f=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],d=f[0],p=f[1],m=Math.ceil(i[o-1]/2),g=m*Math.ceil(i[o-2]/2),x="int b, int row, int col",b="b * "+g+" + (row / 2) * "+m+" + (col / 2)",w=2;w<o-1;w++)x="int b"+w+", "+x,g*=i[o-w-1],b="b"+w+" * "+g+" + "+b;var E=Xr();return`
    vec4 `+u+"("+x+`) {
      int index = `+b+`;
      int texR = index / `+p+`;
      int texC = index - texR * `+p+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+p+", "+d+`);
      return `+E.texture2D+"("+s+`, uv);
    }
  `}(e)}}var Nq=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,kq=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Pq=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Mq=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function pl(e){return"offset"+e}function rf(e){var t=e.name,n=lt(e.shapeInfo.logicalShape);return n<2?"return "+t+";":`
    for (int i = 0; i < `+n+`; i++) {
      if (i == index) {
        return `+t+`[i];
      }
    }
  `}function yn(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function mf(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function gf(e,t){return t.map(function(n){return e[n]}).join(", ")}var Iq=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Q(e.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var a=e[e.length-1],i=Math.ceil(a/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");var o,s,u=this.outputShape,l=u.length,f=yn(l),d=ba("coords",l);if(i===1){var p=yn(s=l+1);o=`
        `+p+" sourceLocR = "+p+"("+d.join()+`, 0);
        ++`+d[l-1]+`;
        `+p+" sourceLocG = "+p+"("+d.join()+`, 0);
        ++`+d[l-2]+`;
        `+p+" sourceLocA = "+p+"("+d.join()+`, 0);
        --`+d[l-1]+`;
        `+p+" sourceLocB = "+p+"("+d.join()+`, 0);
        --`+d[l-2]+";"}else s=l,o=`
        `+f+` sourceLocR = coords;
        ++`+d[l-1]+`;
        `+f+` sourceLocG = coords;
        ++`+d[l-2]+`;
        `+f+` sourceLocA = coords;
        --`+d[l-1]+`;
        `+f+` sourceLocB = coords;
        --`+d[l-2]+";";var m=["x","y","z","w","u","v"].slice(0,s),g="."+m[s-1],x=m.map(function(P){return"int "+P}),b=ba("sourceLocR",s-1).concat("inIdx.r"),w=ba("sourceLocG",s-1).concat("inIdx.g"),E=ba("sourceLocB",s-1).concat("inIdx.b"),S=ba("sourceLocA",s-1).concat("inIdx.a"),A=n==="max"?"greaterThan":"lessThan",T=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+b.join()+`),
                             getBestIndicesAChannel(`+w.join()+`),
                             getBestIndicesAChannel(`+E.join()+`),
                             getBestIndicesAChannel(`+S.join()+")));",R=`vec4(
            getAChannel(`+b.join()+`),
            hasNextCol ? getAChannel(`+w.join()+`) : 0.,
            hasNextRow ? getAChannel(`+E.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+S.join()+") : 0.)",D=r?"":`
      float getBestIndicesAChannel(`+x.join()+`) {
        return getChannel(getBestIndicesA(`+m.join()+`),
                                          vec2(`+m.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+x.join()+`) {
        return getChannel(getA(`+m.join()+`),
                               vec2(`+m.slice(-2).join()+`));
      }
      `+D+`
      void main() {
        `+f+` coords = getOutputCoords();
        bool hasNextCol = `+d[l-1]+" < "+(u[l-1]-1)+`;
        bool hasNextRow = `+d[l-2]+" < "+(u[l-2]-1)+`;
        `+o+`
        ivec4 srcIdx = ivec4(sourceLocR`+g+", sourceLocG"+g+`,
          sourceLocB`+g+", sourceLocA"+g+") * "+t+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+R+`;

        for (int i = 0; i < `+t+`; i++) {
          inIdx = srcIdx;
          `+T+`
          vec4 candidate = `+R+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+A+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},Fq=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=s-1-e.padInfo.top,f=u-1-e.padInfo.left,d=1/(t*n);this.userCode=`
      const ivec2 pads = ivec2(`+l+", "+f+`);
      const float avgMultiplier = float(`+d+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+s+`;
            wR += `+i+`) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+u+`;
            wC+= `+o+`) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},Bq=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,f=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,m=f-1-e.padInfo.front,g=d-1-e.padInfo.top,x=p-1-e.padInfo.left,b=1/(t*n*r);this.userCode=`
      const ivec3 pads = ivec3(`+m+", "+g+", "+x+`);
      const float avgMultiplier = float(`+b+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+f+`;
            wD += `+s+`) {
          float dyD = float(dyDCorner + wD) / `+a+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+d+`;
              wR += `+u+`) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+p+`;
                wC += `+l+`) {
              float dyC = float(dyCCorner + wC) / `+o+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},Lq=function(e,t,n,r,a,i){this.outputShape=[],this.variableNames=["x","mean","variance"],It(e,t),It(e,n);var o="0.0";r!=null&&(It(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="1.0";a!=null&&(It(e,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+o+`;
        float scale = `+s+`;
        float inv = scale * inversesqrt(variance + float(`+i+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},jq=function(e,t,n,r,a,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],It(e,t),It(e,n);var o="vec4(0.0)";r!=null&&(It(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="vec4(1.0)";a!=null&&(It(e,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = `+o+`;
        vec4 scale = `+s+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+i+`));

        setOutput((x - mean) * inv + offset);
      }
    `},Uq="return areal * breal - aimag * bimag;",zq="return areal * bimag + aimag * breal;",M3=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=It(t,n),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+e+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},Mb="return a + b;",Ib="return a - b;",I3="return a * b;",rB="return (a < 0.) ? b * a : a;",Pn=function(e,t,n){this.variableNames=["A","B"],this.outputShape=It(t,n),this.userCode=`
      float binaryOperation(float a, float b) {
        `+e+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},aB=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,cs=function(e,t,n,r){r===void 0&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=It(t,n);var a=this.outputShape.length,i="";if(r)if(a===0||lt(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          `+yn(a)+` coords = getOutputCoords();
        `,a===1)i+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var o=ba("coords",a);i+=`
            bool nextRowOutOfBounds =
              (`+o[a-2]+" + 1) >= "+this.outputShape[a-2]+`;
            bool nextColOutOfBounds =
              (`+o[a-1]+" + 1) >= "+this.outputShape[a-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+e+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+i+`

        setOutput(result);
      }
    `},Wq=function(){function e(t){this.variableNames=["A"],this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,n){var r=this;return function(a,i){r.minLoc==null&&(r.minLoc=a.getUniformLocationNoThrow(i,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(i,"maxVal")),a.gl.uniform1f(r.minLoc,t),a.gl.uniform1f(r.maxLoc,n)}},e}(),Hq=function(){function e(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,n){var r=this;return function(a,i){r.minLoc==null&&(r.minLoc=a.getUniformLocationNoThrow(i,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(i,"maxVal")),a.gl.uniform1f(r.minLoc,t),a.gl.uniform1f(r.maxLoc,n)}},e}(),$q=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},Vq=function(e){this.outputShape=[],this.outputShape=jf(e,1),this.variableNames=e.map(function(s,u){return"T"+u});var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var a=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+a+"));")}var i=t.length,o=t[t.length-1];r.push("else setOutput(getT"+i+"(yR, yC-"+o+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+r.join(`
        `)+`
      }
    `},qq=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=jf(e,t);var n=this.outputShape,r=n.length,a=yn(r),i=ba("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(function(b,w){return"T"+w});var s=new Array(e.length-1);s[0]=e[0][t];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][t];var l=o[t],f=o.slice(-2),d=o.join(),p="if ("+l+" < "+s[0]+`) {
        return getChannel(
            getT0(`+d+"), vec2("+f.join()+`));
        }`;for(u=1;u<s.length;u++){var m=s[u-1];p+=`
        if (`+l+" < "+s[u]+"  && "+l+" >= "+s[u-1]+`) {
          return getChannel(
            getT`+u+"("+Mv(o,l,m)+`),
            vec2(`+Mv(f,l,m)+`));
        }`}var g=s.length,x=s[s.length-1];p+=`
        return getChannel(
          getT`+g+"("+Mv(o,l,x)+`),
          vec2(`+Mv(f,l,x)+"));",this.userCode=`
      float getValue(`+o.map(function(b){return"int "+b})+`) {
        `+p+`
      }

      void main() {
        `+a+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+i+`), 0., 0., 0.);

        `+i[r-1]+" = "+i[r-1]+` + 1;
        if (`+i[r-1]+" < "+n[r-1]+`) {
          result.g = getValue(`+i+`);
        }

        `+i[r-2]+" = "+i[r-2]+` + 1;
        if (`+i[r-2]+" < "+n[r-2]+`) {
          result.a = getValue(`+i+`);
        }

        `+i[r-1]+" = "+i[r-1]+` - 1;
        if (`+i[r-2]+" < "+n[r-2]+` &&
            `+i[r-1]+" < "+n[r-1]+`) {
          result.b = getValue(`+i+`);
        }
        setOutput(result);
      }
    `};function Mv(e,t,n){var r=e.indexOf(t);return e.map(function(a,i){return i===r?a+" - "+n:a}).join()}var Gq=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+r+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+a+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              if (`+i+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},Kq=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=e.dataFormat==="channelsLast",o=t-1-e.padInfo.top,s=n-1-e.padInfo.left,u=i?1:2,l=i?2:3,f=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+f+`];

        ivec2 dyCorner = ivec2(coords[`+u+"], coords["+l+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {

              if (`+i+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},Xq=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.padInfo.front,i=e.padInfo.top,o=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yF = 0; yF < `+e.outDepth+`; yF++) {
            int xF = wF + yF * `+t+" - "+a+`;

            if (xF < 0 || xF >= `+e.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+e.outHeight+`; yR++) {
              int xR = wR + yR * `+n+" - "+i+`;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+e.outWidth+`; yC++) {
                int xC = wC + yC * `+r+" - "+o+`;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},Yq=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,o=e.strideWidth,s=t-1-e.padInfo.front,u=n-1-e.padInfo.top,l=r-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+s+", "+u+", "+l+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+t+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+a+`.0;

          if (dyF < 0.0 || dyF >= `+e.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+t+` - 1 - wF;

          for (int wR = 0; wR < `+n+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+n+` - 1 - wR;

            for (int wC = 0; wC < `+r+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+o+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+r+` - 1 - wC;

              for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},Qq=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+i+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+r+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+a+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},Zq=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=t-1-e.padInfo.top,o=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+o+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+s+`; dm++) {
              int d2 = d1 * `+s+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},F3=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var a=e.padInfo.top,i=e.padInfo.left,o=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,l=e.dilationWidth,f=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),m=e.inChannels%4,g=e.dataFormat==="channelsLast",x=g?1:2,b=g?2:3,w=g?3:1,E="",S="";n&&(E=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,S="result = activation(result);");var A=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+E+`

      const ivec2 strides = ivec2(`+o+", "+s+`);
      const ivec2 pads = ivec2(`+a+", "+i+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+w+`];

        ivec2 xRCCorner =
            ivec2(coords[`+x+"], coords["+b+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+f+`; wR++) {
          int xR = xRCorner + wR * `+u+`;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+d+`; wC++) {
            int xC = xCCorner + wC * `+l+`;

            if (xC < 0 || xC >= `+e.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+p+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+g+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(m===1)+`) {

              if (`+g+`) {
                dotProd +=
                    getX(batch, xR, xC, `+p+`) *
                    getW(wR, wC, `+p+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+p+`, xR, xC) *
                    getW(wR, wC, `+p+`, d2);
              }

            } else if (`+(m===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+p+`, d2),
                getW(wR, wC, `+p+` + 1, d2)
              );

              if (`+g+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+p+`),
                  getX(batch, xR, xC, `+p+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+p+`, xR, xC),
                  getX(batch, `+p+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(m===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+p+`, d2),
                getW(wR, wC, `+p+` + 1, d2),
                getW(wR, wC, `+p+` + 2, d2)
              );

              if (`+g+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+p+`),
                  getX(batch, xR, xC, `+p+` + 1),
                  getX(batch, xR, xC, `+p+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+p+`, xR, xC),
                  getX(batch, `+p+` + 1, xR, xC),
                  getX(batch, `+p+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+A+`
        `+S+`
        setOutput(result);
      }
    `},Jq=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,a=e.strideDepth,i=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,f=e.filterDepth,d=e.filterHeight,p=e.filterWidth,m=4*Math.floor(e.inChannels/4),g=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+a+", "+i+", "+o+`);
      const ivec3 pads = ivec3(`+t+", "+n+", "+r+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+f+`; wF++) {
          int xF = xFCorner + wF * `+s+`;

          if (xF < 0 || xF >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+d+`; wR++) {
            int xR = xRCorner + wR * `+u+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+p+`; wC++) {
              int xC = xCCorner + wC * `+l+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+m+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(g===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+m+`) *
                  getW(wF, wR, wC, `+m+`, d2);
              } else if (`+(g===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+m+`),
                  getX(batch, xF, xR, xC, `+m+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+m+`, d2),
                  getW(wF, wR, wC, `+m+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(g===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+m+`),
                  getX(batch, xF, xR, xC, `+m+` + 1),
                  getX(batch, xF, xR, xC, `+m+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+m+`, d2),
                  getW(wF, wR, wC, `+m+` + 1, d2),
                  getW(wF, wR, wC, `+m+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},B3=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var a=e.inHeight,i=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,f=e.dilationHeight,d=e.dilationWidth,p=e.filterHeight,m=e.filterWidth,g=e.outChannels/e.inChannels,x="",b="";n&&(x=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,b="result = activation(result);");var w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+x+`

      const ivec2 strides = ivec2(`+u+", "+l+`);
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+g+`;
        int q = d2 - d1 * `+g+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+p+`; wR++) {
          int xR = xRCorner + wR * `+f+`;

          if (xR < 0 || xR >= `+a+`) {
            continue;
          }

          for (int wC = 0; wC < `+m+`; wC++) {
            int xC = xCCorner + wC * `+d+`;

            if (xC < 0 || xC >= `+i+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+w+`
        `+b+`
        setOutput(result);
      }
    `},L3=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var a=e.inHeight,i=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,f=e.dilationHeight,d=e.dilationWidth,p=e.filterHeight,m=e.filterWidth,g=m,x="int xR; int xC; int xCOffset;",b=0;b<p;b++)for(var w=0;w<m;w++)x+=`
          vec4 xTexelR`+b+"C"+2*w+` = vec4(0.);
          vec4 wR`+b+"C"+w+` = vec4(0.);
          vec4 xR`+b+"C"+w+" = vec4(0.);";for(b=0;b<p;b++)for(var E=0;E<g;E++){if(x+=`
          xR = xRCorner + `+b*f+`;
          xC = xCCorner + `+(w=2*E)*d+`;
        `,l===1){if(w<m&&(x+=s%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  xTexelR`+b+"C"+w+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    xTexelR`+b+"C"+w+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+b+"C"+w+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+b+"C"+w+" = vec4(previous.zw, xTexelR"+b+"C"+w+`.xy);
                } else {
                  xR`+b+"C"+w+" = vec4(0, 0, xTexelR"+b+"C"+w+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+a+" && xC >= 0 && xC < "+i+`) {
                  xTexelR`+b+"C"+w+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+b+"C"+w+` = vec4(0.);
                }

                xR`+b+"C"+w+" = xTexelR"+b+"C"+w+`;
              `,w+1<m)){var S=s%2==0?_F(d):d;d%2==0&&s%2==1||d%2!=0&&s%2!=1?(x+=`
                  xCOffset = xC + `+s%2+" + "+S+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+b+"C"+(w+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,d>1&&(x+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+a+` &&
                      xCOffset >= 0 && xCOffset < `+i+`) {
                      xTexelR`+b+"C"+w+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+b+"C"+w+` = vec4(0.);
                    }
                  `),x+=`
                  xR`+b+"C"+(w+1)+` = vec4(
                    xTexelR`+b+"C"+w+".zw, xTexelR"+b+"C"+(w+2)+`.xy);
                `):x+=`
                  xCOffset = xC + `+S+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+b+"C"+(w+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+b+"C"+(w+1)+" = xTexelR"+b+"C"+(w+2)+`;
                `}}else w<m&&(x+=`
              if(xR >= 0 && xR < `+a+`) {
            `,s%2==1?(x+=`
                xCOffset = xC + 1 - `+l+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+b+"C"+w+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+b+"C"+w+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+i+`) {
                  xTexelR`+b+"C"+(w+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+b+"C"+(w+2)+` = vec4(0.);
                }

                xR`+b+"C"+w+` = vec4(
                  xTexelR`+b+"C"+w+".zw, xTexelR"+b+"C"+(w+2)+`.zw);
              `,w+1<m&&(x+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+l+`;
                  if(xCOffset >= 0 && xCOffset < `+i+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+b+"C"+(w+1)+" = vec4(xTexelR"+b+"C"+(w+2)+`.xy, final.xy);
                `)):(x+=`
                if(xC >= 0 && xC < `+i+`) {
                  xTexelR`+b+"C"+w+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+b+"C"+w+` = vec4(0.);
                }

                xCOffset = xC + `+l+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+b+"C"+(w+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+b+"C"+(w+2)+` = vec4(0.);
                }

                xR`+b+"C"+w+` = vec4(
                  xTexelR`+b+"C"+w+".xy, xTexelR"+b+"C"+(w+2)+`.xy);
              `,w+1<m&&(x+=`
                  xR`+b+"C"+(w+1)+` = vec4(
                    xTexelR`+b+"C"+w+".zw, xTexelR"+b+"C"+(w+2)+`.zw);
                `)),x+="}");w<m&&(x+=`
            vec4 wTexelR`+b+"C"+w+" = getW("+b+", "+w+`, d1, q);
            wR`+b+"C"+w+" = vec4(wTexelR"+b+"C"+w+".xz, wTexelR"+b+"C"+w+`.xz);
          `,w+1<m&&(x+=`
              vec4 wTexelR`+b+"C"+(w+1)+" = getW("+b+", "+(w+1)+`, d1, q);
              wR`+b+"C"+(w+1)+` =
                vec4(wTexelR`+b+"C"+(w+1)+".xz, wTexelR"+b+"C"+(w+1)+".xz);"))}for(b=0;b<p;b++)for(w=0;w<m;w++)x+="dotProd += xR"+b+"C"+w+" * wR"+b+"C"+w+";";var A="",T="";n&&(A=r?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`vec4 activation(vec4 x) {
          `+n+`
        }`,T="result = activation(result);");var R=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+A+`

      const ivec2 strides = ivec2(`+u+", "+l+`);
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+x+`

        vec4 result = dotProd;
        `+R+`
        `+T+`
        setOutput(result);
      }
    `},eG=function(e,t,n,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=e[0],o=e[1],s=e[2],u=e[3],l=t[0],f=n[0],d=n[1];this.outputShape=[l,f,d,u];var p=r==="bilinear"?1:0,m=[o-1+".0",s-1+".0"],g=m[0],x=m[1],b=f>1?[""+(o-1)/(f-1),"(y2-y1) * height_ratio","y1*"+g+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+g],w=b[0],E=b[1],S=b[2],A=d>1?[""+(s-1)/(d-1),"(x2-x1) * width_ratio","x1*"+x+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+x],T=A[0],R=A[1],D=A[2];this.userCode=`
      const float height_ratio = float(`+w+`);
      const float width_ratio = float(`+T+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+i+`) {
          return;
        }

        float height_scale = `+E+`;
        float width_scale = `+R+`;

        float in_y = `+S+`;
        if( in_y < 0.0 || in_y > `+g+` ) {
          setOutput(float(`+a+`));
          return;
        }
        float in_x = `+D+`;
        if( in_x < 0.0 || in_x > `+x+` ) {
          setOutput(float(`+a+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+p+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},tG=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,a=e[e.length-1],i=n?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(n?"return "+a+" -i - 1;":"return i;")+`
      }

      void main() {
        `+yn(r)+` coords = getOutputCoords();
        int end = `+j3(r,"coords")+`;
        float val = 0.0;
        for (int i = `+a+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+i+` end) {
            continue;
          }
          if (idx == end && `+t+`) {
            continue;
          }
          `+j3(r,"coords")+` = idx;
          val += getX(`+function(o,s){if(o===1)return""+s;if(o===2)return s+".x, "+s+".y";if(o===3)return s+".x, "+s+".y, "+s+".z";if(o===4)return s+".x, "+s+".y, "+s+".z, "+s+".w";throw Error("Cumulative sum for rank "+o+" is not yet supported")}(r,"coords")+`);
        }
        setOutput(val);
      }
    `};function j3(e,t){if(e===1)return""+t;if(e===2)return t+".y";if(e===3)return t+".z";if(e===4)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var nG=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=ap.DENSE;var t=Hd(e),n=Xr();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Tl(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+n.output+` = result;
      }
    `},rG=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=ap.DENSE;var t=Hd(e),n=Xr();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Tl(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+n.output+` = result;
      }
    `},aG=function(){function e(t,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+n+`;
      int offset_h = imod(h, `+n+`);
      int in_w = w / `+n+`;
      int offset_w = imod(w, `+n+`);
      int offset_d = (offset_h * `+n+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return e.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),iG=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},oG=function(e){this.variableNames=["A"],this.outTexUsage=Qa.DOWNLOAD;var t=Xr();this.outputShape=e,this.userCode=`
      `+tB+`

      void main() {
        float x = getAAtOutCoords();
        `+t.output+` = encode_float(x);
      }
    `},sG=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Qa.DOWNLOAD;var t=Xr();this.outputShape=e,this.userCode=`
      `+tB+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+t.output+` = encode_float(x);
      }
    `},uG=function(e,t,n){n===void 0&&(n=!1),this.variableNames=["A"];var r=Xr(),a=t[0],i=t[1];this.outputShape=e;var o="result";n&&(o="floor(result * 255. + 0.5)"),this.userCode=`
      `+eS(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+i+`;
        int c = imod(flatIndex, `+i+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+a+`.0);
        vec4 values = `+r.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+r.output+" = vec4("+o+`, 0., 0., 0.);
      }
    `},lG=function(e,t,n){n===void 0&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Xr(),a=t[0],i=t[1];this.outputShape=e;var o="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var l=0;l<=1;l++){var f=2*u+l;o+=`
          localCoords = coords;
          if(localCoords[2] + `+l+" < "+e[2]+`) {
            localCoords[2] += `+l+`;
            if(localCoords[1] + `+u+" < "+e[1]+`) {
              localCoords[1] += `+u+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+i+`;
              c = imod(flatIndex, `+i+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+a+`.0);
              values = `+r.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+f+`] = values[0];
              } else if(offset == 1) {
                result[`+f+`] = values[1];
              } else if(offset == 2) {
                result[`+f+`] = values[2];
              } else {
                result[`+f+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+eS(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+o+`

        `+r.output+" = "+s+`;
      }
    `},cG="return real * expR - imag * expI;",fG="return real * expI + imag * expR;",U3=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var a=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=n?r+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+a+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+e+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+r+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+r+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+i+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},hG=function(){function e(t,n){this.outputShape=[],this.variableNames=["x"],this.outputShape=t,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;return function(r,a){n.valueLoc==null&&(n.valueLoc=r.getUniformLocationNoThrow(a,"value")),r.gl.uniform1f(n.valueLoc,t)}},e}(),dG=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var a=yn(this.rank),i=function(o,s){var u=o.length;if(u>4)throw Error("Gather for rank "+u+" is not yet supported");if(u===1)return"int(getIndices(resRC))";for(var l=["resRC.x","resRC.y","resRC.z","resRC.w"],f=[],d=0;d<o.length;d++)d===s?f.push("int(getIndices("+l[d]+"))"):f.push(""+l[d]);return f.join()}(e,n);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},pG=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=yn(t.length),a=yn(n.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+r+" strides = "+r+"("+this.strides+`);
         void main() {
          `+a+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+i+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function vG(e,t){var n=Xr();return cV(e,t,n.version+`
    precision highp float;
    `+n.attribute+` vec3 clipSpacePos;
    `+n.attribute+` vec2 uv;
    `+n.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function mG(e,t){return vV(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function gG(e,t){return mV(e,t,new Uint16Array([0,1,2,2,1,3]))}function Bp(e,t,n,r,a,i,o){yV(n,r);var s=gV(e,t),u=e.TEXTURE_2D;return ct(e,t,function(){return e.bindTexture(u,s)}),ct(e,t,function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),ct(e,t,function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),ct(e,t,function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)}),ct(e,t,function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)}),ct(e,t,function(){return e.texImage2D(u,0,a,n,r,0,i,o,null)}),ct(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)}),s}function yG(e,t,n,r,a){var i=Qg(n,r);return Bp(e,t,i[0],i[1],a.internalFormatFloat,a.textureFormatFloat,e.FLOAT)}function xG(e,t,n,r,a){var i=Qg(n,r);return Bp(e,t,i[0],i[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}function bG(e,t,n,r,a){var i=Qg(n,r);return Bp(e,t,i[0],i[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function wG(e,t,n,r,a){var i=Fp(n,r);return Bp(e,t,i[0],i[1],a.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function _G(e,t,n,r,a){var i=Fp(n,r);return Bp(e,t,i[0],i[1],a.internalFormatPackedHalfFloat,e.RGBA,a.textureTypeHalfFloat)}function EG(e,t,n,r){return ct(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),C3(e,t,n,"clipSpacePos",r,3,20,0)&&C3(e,t,n,"uv",r,2,20,12)}function SG(e,t,n,r,a,i,o){var s,u,l;ct(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),i instanceof Uint8Array?(s=new Uint8Array(r*a*4),u=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(r*a*4),u=e.FLOAT,l=o.internalFormatPackedFloat),s.set(i),ct(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,l,r,a,0,e.RGBA,u,s)}),ct(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function TG(e,t,n,r){ct(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),r.data instanceof Uint8Array?ct(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)}):ct(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}),ct(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function AG(e,t,n,r,a){var i=e.createBuffer();ct(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)});var o=16*n*r;return ct(e,t,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)}),ct(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)}),ct(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),i}function CG(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function OG(e,t,n,r,a){var i=Qg(n,r),o=i[0],s=i[1],u=new Uint8Array(n*r*4);return ct(e,t,function(){return e.readPixels(0,0,o,s,a.downloadTextureFormat,e.UNSIGNED_BYTE,u)}),new Float32Array(u.buffer)}function RG(e,t,n,r,a,i,o,s){var u=e,l=new Float32Array(function(f,d){var p=Fp(f,d);return p[0]*p[1]*4}(i,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function DG(e,t,n,r){var a=new Float32Array(n*r*4);return ct(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,a)}),a}var NG=function(){function e(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=Me().getNumber("WEBGL_VERSION");t!=null?(this.gl=t,iV(n,t)):this.gl=Wo(n);var r="WEBGL_color_buffer_float";if(Me().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=Dv(this.gl,this.debug,"OES_texture_float"),Ri(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=Dv(this.gl,this.debug,"OES_texture_half_float");else if(Me().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Ri(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=Dv(this.gl,this.debug,"EXT_color_buffer_half_float");else if(Me().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Ri(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!Ri(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=mG(this.gl,this.debug),this.indexBuffer=gG(this.gl,this.debug),this.framebuffer=xV(this.gl,this.debug),this.textureConfig=$E(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return Me().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var t=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var n=this.gl;ct(n,this.debug,function(){return n.finish()}),ct(n,this.debug,function(){return n.bindFramebuffer(n.FRAMEBUFFER,null)}),ct(n,this.debug,function(){return n.deleteFramebuffer(t.framebuffer)}),ct(n,this.debug,function(){return n.bindBuffer(n.ARRAY_BUFFER,null)}),ct(n,this.debug,function(){return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null)}),ct(n,this.debug,function(){return n.deleteBuffer(t.indexBuffer)}),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(t,n){return this.throwIfDisposed(),yG(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(t,n){return this.throwIfDisposed(),xG(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(t,n){return this.throwIfDisposed(),bG(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(t,n){this.throwIfDisposed(),TG(this.gl,this.debug,t,n)},e.prototype.uploadDenseMatrixToTexture=function(t,n,r,a){this.throwIfDisposed(),SG(this.gl,this.debug,t,n,r,a,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(t,n){return this.throwIfDisposed(),_G(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(t,n){return this.throwIfDisposed(),wG(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.deleteMatrixTexture=function(t){var n=this;this.throwIfDisposed(),this.outputTexture===t&&(O3(this.gl,this.debug,this.framebuffer),this.outputTexture=null),ct(this.gl,this.debug,function(){return n.gl.deleteTexture(t)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,n,r){var a=this;return this.downloadMatrixDriver(t,function(){return OG(a.gl,a.debug,n,r,a.textureConfig)})},e.prototype.downloadPackedMatrixFromBuffer=function(t,n,r,a,i,o){return RG(this.gl,t,0,0,0,i,o,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(t,n){return CG(this.gl,t,n)},e.prototype.createBufferFromTexture=function(t,n,r){this.bindTextureToFrameBuffer(t);var a=AG(this.gl,this.debug,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),a},e.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},e.prototype.createFence=function(t){var n,r,a=this;if(Me().getBool("WEBGL_FENCE_API_ENABLED")){var i=t,o=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),r=function(){var s=i.clientWaitSync(o,0,0);return s===i.ALREADY_SIGNALED||s===i.CONDITION_SATISFIED},n=o}else Me().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=function(){return a.isQueryAvailable(n,Me().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:n,isFencePassed:r}},e.prototype.downloadMatrixFromPackedTexture=function(t,n,r){var a=this;return this.downloadMatrixDriver(t,function(){return DG(a.gl,a.debug,n,r)})},e.prototype.createProgram=function(t){this.throwIfDisposed();var n=this.gl,r=fV(n,this.debug,t),a=vG(n,this.debug),i=dV(n,this.debug);return ct(n,this.debug,function(){return n.attachShader(i,a)}),ct(n,this.debug,function(){return n.attachShader(i,r)}),pV(n,this.debug,i),this.debug&&Db(n,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=EG(n,this.debug,this.program,this.vertexBuffer)),i},e.prototype.deleteProgram=function(t){var n=this;this.throwIfDisposed(),t===this.program&&(this.program=null),t!=null&&ct(this.gl,this.debug,function(){return n.gl.deleteProgram(t)})},e.prototype.setProgram=function(t){var n=this;this.throwIfDisposed(),this.program=t,this.program!=null&&this.debug&&Db(this.gl,this.debug,this.program),ct(this.gl,this.debug,function(){return n.gl.useProgram(t)})},e.prototype.getUniformLocation=function(t,n,r){return r===void 0&&(r=!0),this.throwIfDisposed(),r?wV(this.gl,this.debug,t,n):_V(this.gl,t,n)},e.prototype.getAttributeLocation=function(t,n){var r=this;return this.throwIfDisposed(),ct(this.gl,this.debug,function(){return r.gl.getAttribLocation(t,n)})},e.prototype.getUniformLocationNoThrow=function(t,n){return this.throwIfDisposed(),this.gl.getUniformLocation(t,n)},e.prototype.setInputMatrixTexture=function(t,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),EV(this.gl,this.debug,this.program,t,n,r)},e.prototype.setOutputMatrixTexture=function(t,n,r){this.setOutputMatrixTextureDriver(t,r,n)},e.prototype.setOutputPackedMatrixTexture=function(t,n,r){this.throwIfDisposed();var a=Fp(n,r),i=a[0],o=a[1];this.setOutputMatrixTextureDriver(t,i,o)},e.prototype.setOutputMatrixWriteRegion=function(t,n,r,a){this.setOutputMatrixWriteRegionDriver(r,t,a,n)},e.prototype.setOutputPackedMatrixWriteRegion=function(t,n,r,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){this.program!=null&&Db(this.gl,this.debug,this.program),Nv(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.debug&&this.debugValidate(),ct(t,this.debug,function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),ct(this.gl,this.debug,function(){return t.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=Dv(this.gl,this.debug,Me().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(Me().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.createQuery();return t.beginQuery(n.TIME_ELAPSED_EXT,r),r}var a=this.getQueryTimerExtensionWebGL1(),i=a.createQueryEXT();return a.beginQueryEXT(a.TIME_ELAPSED_EXT,i),i},e.prototype.endQuery=function(){if(Me().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(t){return ot(this,void 0,void 0,function(){var n=this;return st(this,function(r){switch(r.label){case 0:return[4,w3(function(){return n.disposed||n.isQueryAvailable(t,Me().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(t,Me().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(t,n){if(n===0)return null;if(n===2){var r=this.gl;return r.getQueryParameter(t,r.QUERY_RESULT)/1e6}var a=this.getQueryTimerExtensionWebGL1();return a.getQueryObjectEXT(t,a.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(t,n){if(n===0)return!0;if(n===2){var r=this.gl,a=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(a=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,a.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint},e.prototype.pollFence=function(t){var n=this;return new Promise(function(r){n.addItemToPoll(function(){return t.isFencePassed()},function(){return r()})})},e.prototype.pollItems=function(){for(var t=function(r){for(var a=0;a<r.length&&r[a]();++a);return a-1}(this.itemsToPoll.map(function(r){return r.isDoneFn})),n=0;n<=t;++n)(0,this.itemsToPoll[n].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)},e.prototype.addItemToPoll=function(t,n){var r=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:n}),this.itemsToPoll.length>1||w3(function(){return r.pollItems(),r.itemsToPoll.length===0})},e.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),Nb(this.gl,this.debug,t,this.framebuffer),this.debug&&Nv(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(Nb(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Nv(this.gl)):O3(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(t,n){this.bindTextureToFrameBuffer(t);var r=n();return this.unbindTextureToFrameBuffer(),r},e.prototype.setOutputMatrixTextureDriver=function(t,n,r){this.throwIfDisposed();var a=this.gl;Nb(a,this.debug,t,this.framebuffer),this.debug&&Nv(a),this.outputTexture=t,ct(a,this.debug,function(){return a.viewport(0,0,n,r)}),ct(a,this.debug,function(){return a.scissor(0,0,n,r)})},e.prototype.setOutputMatrixWriteRegionDriver=function(t,n,r,a){var i=this;this.throwIfDisposed(),ct(this.gl,this.debug,function(){return i.gl.scissor(t,n,r,a)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},e}();function z3(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach(function(n,r){var a=n.logicalShape,i=t[r],o=i.shape;if(!Er(a,o))throw Error("Binary was compiled with different shapes than the current args. Shapes "+a+" and "+o+" must match");if(!n.isUniform||!i.isUniform){var s=n.texShape,u=i.isUniform?null:i.texData.texShape;if(!Er(s,u))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+s+" and "+u+" must match")}})}var kG=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,a=n.inChannels,i=n.strideWidth,o=n.strideHeight,s=n.padInfo,u=n.outWidth,l=n.dilationWidth,f=n.dilationHeight,d=n.dataFormat,p=s.left,m=s.top,g=a*r,x=Xr(),b=d==="channelsLast",w=b?0:1,E=b?1:2,S="",A=0;A<=1;A++)for(var T=0;T<=1;T++)S+=`
          blockIndex = rc.y + `+T+`;
          pos = rc.x + `+A+`;

          if(blockIndex < `+e[1]+" && pos < "+e[0]+`) {
            offsetY = int(blockIndex / (`+u+")) * "+o+" - "+m+`;
            d0 = offsetY + `+f+" * (pos / "+g+`);

            if(d0 < `+t[w]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+u+".) * "+i+". - "+p+`.);
              d1 = offsetX + `+l+" * (int(mod(float(pos), "+g+".) / "+a+`.));

              if(d1 < `+t[E]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+a+`.));

                if (`+b+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*A+T)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*A+T)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+S+`

        `+x.output+` = result;
      }
    `},PG=function(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[];var i,o=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=a===.5?"inversesqrt("+u+")":a===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+o+"; j <= "+o+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+s+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+i+`;
        setOutput(val);
      }
    `},MG=function(e,t,n,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=a,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+t+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+t+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+r+") * norm + float("+n+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+r+`)
                * float(`+a+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+a+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},IG=function(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,o=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=a===.5?"inversesqrt("+u+")":a===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+o+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+o+"; j <= "+o+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+s+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+i+`;
        setOutput(result);
      }
    `},FG=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,a=e.effectiveFilterHeight,i=e.effectiveFilterWidth,o=a-1-e.padInfo.top,s=i-1-e.padInfo.left,u=a*i-1;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+a+`;
          wR += `+r+`) {
          float dyR = float(dyRCorner + wR) / `+t+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+i+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+n+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+u+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+i+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},BG=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.dilationDepth,i=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,f=s-1-e.padInfo.front,d=u-1-e.padInfo.top,p=l-1-e.padInfo.left,m=s*u*l-1;this.userCode=`
      const ivec3 pads = ivec3(`+f+", "+d+", "+p+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+s+`;
           wD += `+a+`) {
          float dyD = float(dyDCorner + wD) / `+t+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+u+`;
              wR += `+i+`) {
            float dyR = float(dyRCorner + wR) / `+n+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+l+`;
                wC += `+o+`) {
              float dyC = float(dyCCorner + wC) / `+r+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+m+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+u+" * "+l+` +
                  wR * `+l+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},Fb=function(e,t,n,r,a,i,o){n===void 0&&(n=!1),r===void 0&&(r=!1),a===void 0&&(a=!1),i===void 0&&(i=null),o===void 0&&(o=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],u=Math.ceil(s/2),l=n?"i * 2, rc.y":"rc.y, i * 2",f=r?"rc.z, i * 2":"i * 2, rc.z",d=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],p=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],m="",g="";i&&(m=o?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+i+`
        }`:`vec4 activation(vec4 x) {
          `+i+`
        }`,g="result = activation(result);");var x=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+m+`

      const float sharedDimension = `+u+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+u+`; i++) {
          vec4 a = getMatrixA(rc.x, `+l+`);
          vec4 b = getMatrixB(rc.x, `+f+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+d[0]+" * "+p[0]+`);
          result += (`+d[1]+" * "+p[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+x+`

        `+g+`

        setOutput(result);
      }
    `},LG=function(){function e(t,n,r){this.variableNames=["probs"],this.outputShape=[t,r],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(n-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(n-1)+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;return function(r,a){n.seedLoc==null&&(n.seedLoc=r.getUniformLocation(a,"seed")),r.gl.uniform1f(n.seedLoc,t)}},e}(),jG=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+r+"), float("+n+`),
                      float(index == coords.y)));
      }
    `},UG=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(t===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var n=ba("rc",t),r=yn(t),a=function(s,u,l){if(s===1)return"rc > "+u[0];for(var f="",d=s-2;d<s;d++)f+=l[d]+" >= "+u[d],d<s-1&&(f+="||");return f}(t,e,n),i=function(s,u,l,f){if(s===1)return"";var d=f.slice(-2);return`
    int r = `+d[0]+`;
    int c = `+d[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+u+`;
    bool rEdge = rp1 >= `+l+`;
  `}(t,e[e.length-1],e[e.length-2],n),o=function(s,u){var l=s.length,f=function(d,p){for(var m=[],g=0;g<=1;g++)for(var x=0;x<=1;x++){for(var b=(g===0?"r":"rp1")+", "+(x===0?"c":"cp1"),w=2;w<d;w++)b=p[p.length-1-w]+","+b;m.push(b)}return m}(l,u);return l===1?`getA(rc),
            rc + 1 >= `+s[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+f[0]+`),
          cEdge ? 0. : getA(`+f[1]+`),
          rEdge ? 0. : getA(`+f[2]+`),
          rEdge || cEdge ? 0. : getA(`+f[3]+")"}(e,n);this.userCode=`
        void main() {
          `+r+` rc = getOutputCoords();

          if(`+a+`) {
            setOutput(vec4(0));
          } else {
            `+i+`

            setOutput(vec4(`+o+`));
          }
        }
      `}},zG=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map(function(u,l){return u[0]+e[l]+u[1]});var r=e.length,a=yn(r),i=t.map(function(u){return u[0]}).join(","),o=t.map(function(u,l){return u[0]+e[l]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=r!==1?`
      `+a+" start = "+a+"("+i+`);
      `+a+" end = "+a+"("+o+`);

      void main() {
        `+a+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+n+`));
        } else {
          `+a+` coords = outC - start;
          setOutput(getX(`+s+`));
        }
      }
    `:`
        int start = `+i+`;
        int end = `+o+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+n+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},WG=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(function(b,w){return b[0]+e[w]+b[1]});for(var r=e.length,a=yn(r),i=t.map(function(b){return b[0]}).join(","),o=t.map(function(b,w){return b[0]+e[w]}).join(","),s=ba("rc",r),u=ba("source",r),l=s[r-1]+" < "+this.outputShape[r-1],f=r===1?"source":"vec2("+u.slice(-2).join()+")",d=[a+" rc = outputLoc;",s[r-1]+` += 1;
       if(`+l+`) {
      `,r===1?"":`}
       rc = outputLoc;
       `+s[r-2]+` += 1;
       if(`+s[r-2]+" < "+this.outputShape[r-2]+") {",r===1?"":"  "+s[r-1]+` += 1;
         if(`+l+") {"],p=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",m="",g=0,x=r===1?2:4;g<x;g++)m+=`
        `+d[g]+`
        if (`+p+`) {
          result[`+g+"] = float("+n+`);
        } else {
          `+a+` source = rc - start;
          result[`+g+"] = getChannel(getX("+u.join()+"), "+f+`);
        }
      `;m+=r===1?"} ":"}}",this.userCode=`
      const `+a+" start = "+a+"("+i+`);
      const `+a+" end = "+a+"("+o+`);

      void main() {
        `+a+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+m+`
        setOutput(result);
      }
    `},Bb=function(e,t,n){if(this.variableNames=["x"],t==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,a=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,s=e.dilationWidth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,f=e.padInfo.top,d=e.padInfo.left;this.outputShape=e.outShape;var p=t==="avg",m="0.0";if(p||(m="-1.0 / 1e-20"),n)this.userCode=`
        const ivec2 strides = ivec2(`+a+", "+i+`);
        const ivec2 pads = ivec2(`+f+", "+d+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+u+`;
              wR += `+o+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+l+`;
                wC += `+s+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+l+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var g=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(g="avgValue / count");var x=4*Math.floor(r/4),b=r%4,w=`
      if (`+p+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+a+", "+i+`);
      const ivec2 pads = ivec2(`+f+", "+d+`);
      const float initializationValue = `+m+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+m+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+u+`;
            wR += `+o+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+x+`; wC += 4) {
            int xC = xCCorner + wC * `+s+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              getValue(batch, xR, xC + 3 * `+s+`, d)
            );

            `+w+`
          }

          int xC = xCCorner + `+x+`;
          if (`+(b===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+w+`
          } else if (`+(b===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              initializationValue,
              initializationValue
            );

            `+w+`
          } else if (`+(b===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              initializationValue
            );

            `+w+`
          }
        }
        setOutput(`+g+`);
      }
    `}},Lb=function(e,t,n){if(this.variableNames=["x"],t==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,f=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,x=e.padInfo.left;this.outputShape=e.outShape;var b=t==="avg",w="0.0";if(b||(w="-1.0 / 1e-20"),n)this.userCode=`
        const ivec3 strides =
            ivec3(`+a+", "+i+", "+o+`);
        const ivec3 pads = ivec3(`+m+", "+g+", "+x+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+f+`;
              wD += `+s+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+e.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+d+`;
                wR += `+u+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+p+`;
                  wC += `+l+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+d+" * "+p+` +
                      wR * `+p+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var E=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(E="avgValue / count");var S=4*Math.floor(r/4),A=r%4,T=`
      if (`+b+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+a+", "+i+", "+o+`);
      const ivec3 pads = ivec3(`+m+", "+g+", "+x+`);
      const float initializationValue = `+w+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+w+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+f+`;
            wD += `+s+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+d+`;
            wR += `+u+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+S+`; wC += 4) {
              int xC = xCCorner + wC * `+l+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+l+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+l+`, ch)
              );

              `+T+`
            }

            int xC = xCCorner + `+S+`;
            if (`+(A===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+T+`
            } else if (`+(A===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                initializationValue,
                initializationValue
              );

              `+T+`
            } else if (`+(A===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+l+`, ch),
                initializationValue
              );

              `+T+`
            }
          }
          setOutput(`+E+`);
        }
      }
    `}},HG=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,a=e.inSize,i=Math.ceil(a/n);this.outputShape=[r,i];var o="0.0",s="";t==="prod"?o="1.0":t==="min"?(o="1.0 / 1e-20",s="min"):t==="max"&&(o="-1.0 / 1e-20",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="sum"?u="sumValue":t==="prod"?u="prodValue":t==="all"?u="allValue":t==="any"&&(u="anyValue");var l=4*Math.floor(n/4),f=n%4,d=`
      if (`+(t==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(t==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+s+`(values, minMaxValue);
      }
    `,p="vec4";t==="all"?(o="1.0",d=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,p="bvec4"):t==="any"&&(o="0.0",d=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,p="bvec4");var m="";a%n>0&&(m=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+o+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+m+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+n+`;

        vec4 minMaxValue = vec4(`+o+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+l+`; i += 4) {
          int inIdx = inOffset + i;
          `+p+" values = "+p+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+d+`
        }

        int inIdx = inOffset + `+l+`;
        if (`+(f===1)+`) {
          `+p+" values = "+p+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+d+`
        } else if (`+(f===2)+`) {
          `+p+" values = "+p+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+d+`
        } else if (`+(f===3)+`) {
          `+p+" values = "+p+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+d+`
        }
        setOutput(`+u+`);
      }
    `},$G=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),n+=`
        `+a+`
        `+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+r+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(r>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+Tl(["r","c","d"],t)+`
      return ivec3(r, c, d);
    }
  
      `+eS(e)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+e[1]+`;
        int cols = `+e[2]+`;

        `+n+`

        setOutput(result);
      }
    `},VG=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,a=r[1],i=r[2],o=e.shape,s=o[1],u=o[2],l=[n&&s>1?a-1:a,n&&u>1?i-1:i],f=[n&&s>1?s-1:s,n&&u>1?u-1:u],d=l[0]/f[0],p=l[1]/f[1],m=1/d,g=1/p,x=2*Math.ceil(m)+2,b=2*Math.ceil(g)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+d+`);
        const float widthScale = float(`+p+`);

        const float invHeightScale = float(`+m+`);
        const float invWidthScale = float(`+g+`);

        const int winHeight = int(`+x+`);
        const int winWidth = int(`+b+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(a-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(i-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},qG=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var a=e[0],i=e[1],o=e[2],s=e[3];this.outputShape=[a,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?o-1:o],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/l[0]+`,
          `+u[1]/l[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+o+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},GG=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var a=e[0],i=e[1],o=e[2],s=e[3];this.outputShape=[a,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?o-1:o],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+u[0]/l[0]+`,
          `+u[1]/l[1]+`,
          `+u[1]/l[1]+`);
      const vec3 inputShapeRC = vec3(`+i+".0, "+o+`.0,
                                     `+o+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(s-1)+`;
        bool hasNextRow = coords.z < `+(n-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},KG=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,a=r[1],i=r[2],o=e.shape,s=o[1],u=o[2],l=[n&&s>1?a-1:a,n&&u>1?i-1:i],f=[n&&s>1?s-1:s,n&&u>1?u-1:u],d=l[0]/f[0],p=l[1]/f[1],m=1/d,g=1/p,x=2*Math.ceil(m)+2,b=2*Math.ceil(g)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+d+`);
        const float widthScale = float(`+p+`);

        const float invHeightScale = float(`+m+`);
        const float invWidthScale = float(`+g+`);

        const int winHeight = int(`+x+`);
        const int winWidth = int(`+b+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float sourceFracRow =
              float(`+l[0]+`) *
                (float(dyR) / float(`+f[0]+`));

            float sourceFracCol =
                float(`+l[1]+`) *
                  (float(dyC) / float(`+f[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+a+`) - 1),
                `+n+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+i+`) - 1),
                `+n+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},XG=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var a=e[0],i=e[1],o=e[2],s=e[3];this.outputShape=[a,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?o-1:o],l=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=r?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/l[0]+`,
          `+u[1]/l[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+o+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+f+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},YG=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,n!==1){var r=e.map(function(i,o){return function(s){return t.indexOf(s)!==-1&&e[s]!==1?e[s]+" - coords["+s+"] - 1":"coords["+s+"]"}(o)}).join(","),a=yn(n);this.userCode=`
      void main() {
        `+a+` coords = getOutputCoords();
        setOutput(getX(`+r+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+e[0]+` - coord - 1));
        }
      `},QG=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=ba("rc",n),a=r[n-1]+" + 1 < "+this.outputShape[n-1],i=r[n-2]+" + 1 < "+this.outputShape[n-2],o=yn(n);function s(u){var l=e.map(function(f,d){return function(p,m){return t.indexOf(p)!==-1&&e[p]!==1?e[p]+" - "+m[p]+" - 1":""+m[p]}(d,u)});return"getChannel(getX("+l.join(",")+"), vec2("+l.slice(-2).join(",")+"))"}this.userCode=n===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+e[0]+` - rc - 1),
            `+e[0]+` - rc - 1);
          if(`+a+`){
              result.g = getChannel(getX(`+e[0]+` - (rc  + 1) - 1),
                `+e[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+o+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+function(u){return s(u)}(r.slice())+`;
          if(`+a+`){
            result.g = `+function(u){return u[n-1]="("+u[n-1]+" + 1)",s(u)}(r.slice())+`;
          }
          if(`+i+`) {
            result.b = `+function(u){return u[n-2]="("+u[n-2]+" + 1)",s(u)}(r.slice())+`;
            if(`+a+`) {
              result.a = `+function(u){return u[n-1]="("+u[n-1]+" + 1)",u[n-2]="("+u[n-2]+" + 1)",s(u)}(r.slice())+`;
            }
          }
          setOutput(result);
        }
    `},W3=function(e,t,n,r,a,i,o){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var s=yn(a.length),u=yn(i.length),l="";n===1?l="i":n===2&&(l="i, j");var f="getIndices("+l+")",d="";r===1?d="i":r===2&&(d="i, coords[1]");var p="getUpdates("+d+")",m=t>1?"strides[j]":"strides";this.userCode=`
        `+s+" strides = "+s+"("+a+`);

        void main() {
          `+u+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+e+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+t+`; j++) {
              int index = round(`+f+`);
              flattenedIndex += index * `+m+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+p+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},ZG=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,a=e.inSize,i=e.numSegments,o=i*Math.ceil(a/n);this.outputShape=[r,o];var s=4*Math.floor(n/4),u=n%4,l=`
        sumValue += dot(values, segFilter);
    `,f="";a%n>0&&(f=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `);var d="";a%n>0&&(d=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+f+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+d+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+i+")) * float("+n+`));
        int currentSeg = int(mod(float(outIdx), float(`+i+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+s+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+l+`
        }

        int inIdx = inOffset + `+s+`;
        if (`+(u===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+l+`
        } else if (`+(u===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+l+`
        } else if (`+(u===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+l+`
        }
        setOutput(sumValue);
      }
    `},JG=function(e,t,n){var r,a;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(n===1)a="resRC",r="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[],u=0;u<t.length;u++)s.push(""+i[u]),u<e&&o.push(""+i[u]);r=o.join(),a=s.join()}var l=yn(n);this.userCode=`
      void main() {
        `+l+` resRC = getOutputCoords();
        float cVal = getC(`+r+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+a+`));
        } else {
          setOutput(getB(`+a+`));
        }
      }
    `},eK=function(){function e(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n,r=yn(this.rank),a="uniform int start["+this.rank+"];",i=function(o){if(o===1)return"sourceLoc";if(o<=6)return jb.slice(0,o).map(function(s){return"sourceLoc."+s}).join(",");throw Error("Slicing for rank "+o+" is not yet supported")}(this.rank);n=`
        `+r+` sourceLoc;
        `+r+` coords = getOutputCoords();
        `+t.map(function(o,s){return"sourceLoc."+jb[s]+" = start["+s+"] + coords."+jb[s]+";"}).join(`
`)+`
      `,this.userCode=`
      `+a+`
      void main() {
        `+n+`
        setOutput(getSource(`+i+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(r,a){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(a,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,t)}},e}(),jb=["x","y","z","w","u","v"],tK=function(){function e(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length;var n=yn(this.rank),r=ba("coords",this.rank),a=ba("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":"vec2("+a.slice(-2).join()+")",o="getChannel(getSource("+a.join()+"), "+i+")",s=`
      result.x = `+o+`;
      if (++`+r[this.rank-1]+" < "+t[this.rank-1]+`) {
        ++`+a[this.rank-1]+`;
        result.y = `+o+`;
        --`+a[this.rank-1]+`;
      }
    `,u=this.rank===1?"":`
      --`+r[this.rank-1]+`;
      if (++`+r[this.rank-2]+" < "+t[this.rank-2]+`) {
        ++`+a[this.rank-2]+`;
        result.z = `+o+`;
        if (++`+r[this.rank-1]+" < "+t[this.rank-1]+`) {
          ++`+a[this.rank-1]+`;
          result.w = `+o+`;
        }
      }
    `,l=this.rank<=4?`sourceLoc = coords +
            `+n+"("+t.map(function(f,d){return"start["+d+"]"}).join()+");":t.map(function(f,d){return a[d]+" = "+r[d]+" + start["+d+"];"}).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+n+` coords = getOutputCoords();
        `+n+` sourceLoc;
        `+l+`
        vec4 result = vec4(0.);
        `+s+`
        `+u+`
        setOutput(result);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(r,a){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(a,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,t)}},e}(),nK=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,a=yn(n.length),i=yn(n.length),o="";if(r===1)o="coords * strides + begin";else{var s=0;o=n.map(function(u,l){return s++,n.length===1?"coords * strides["+l+"] + begin["+l+"]":"coords["+(s-1)+"] * strides["+l+"] + begin["+l+"]"}).join(",")}this.userCode=`
      `+a+" begin = "+a+"("+e+`);
      `+a+" strides = "+a+"("+t+`);

      void main() {
        `+i+` coords = getOutputCoords();
        setOutput(getX(`+o+`));
      }
    `},rK=function(){function e(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(t,n,r){var a,i=H3(n,r),o=$3(t,i,r);if(o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]),this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[o].shift();return this.usedTextures[o].push(s),s}return this.numUsedTextures++,this.log(),i===qa.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):i===qa.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):i===qa.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):i===qa.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):i===qa.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[o].push(a),a},e.prototype.releaseTexture=function(t,n,r,a){if(this.freeTextures!=null){var i=$3(n,H3(r,a),a);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(t),this.numFreeTextures++,this.numUsedTextures--;var o=this.usedTextures[i],s=o.indexOf(t);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");o.splice(s,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var t=this;if(this.freeTextures!=null){for(var n in this.freeTextures)this.freeTextures[n].forEach(function(r){t.gpgpu.deleteMatrixTexture(r)});for(var n in this.usedTextures)this.usedTextures[n].forEach(function(a){t.gpgpu.deleteMatrixTexture(a)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function H3(e,t){if(e===Qa.UPLOAD)return qa.PACKED_2X2_FLOAT32;if(e===Qa.RENDER||e==null)return function(n){return Me().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?qa.PACKED_2X2_FLOAT32:qa.UNPACKED_FLOAT32:n?qa.PACKED_2X2_FLOAT16:qa.UNPACKED_FLOAT16}(t);if(e===Qa.DOWNLOAD||e===Qa.PIXELS)return qa.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function $3(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var aK=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var a=yn(this.rank),i=function(o){var s=o.length;if(s>5)throw Error("Tile for rank "+s+" is not yet supported");if(s===1)return"imod(resRC, "+o[0]+")";for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],l=[],f=0;f<o.length;f++)l.push("imod("+u[f]+", "+o[f]+")");return l.join()}(e);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},iK=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var a=yn(this.rank),i=function(o){var s=o.length;if(s>6)throw Error("Transpose for rank "+s+" is not yet supported");for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],l=new Array(s),f=0;f<o.length;f++)l[o[f]]=u[f];return l.join()}(t);this.userCode=`
    void main() {
      `+a+` resRC = getOutputCoords();
      setOutput(getA(`+i+`));
    }
    `},oK=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var a=yn(this.rank),i=eB("rc",this.rank),o=new Array(this.rank);for(r=0;r<t.length;r++)o[t[r]]=i[r];var s="vec2("+o.slice(-2).join()+")",u="++"+i[this.rank-1]+" < "+n[this.rank-1],l="getChannel(getA("+o.join()+"), "+s+")";this.userCode=`
    void main() {
      `+a+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+l+`;
      if(`+u+`) {
        result[1] = `+l+`;
      }
      --`+i[this.rank-1]+`;
      if(++`+i[this.rank-2]+" < "+n[this.rank-2]+`) {
        result[2] = `+l+`;
        if(`+u+`) {
          result[3] = `+l+`;
        }
      }
      setOutput(result);
    }
    `},tS=1.7580993408473768,nS=1.0507009873554805,Ot=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      float unaryOperation(float x) {
        `+t+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},uo="if (isnan(x)) return x;",sK="return x;",V3="return abs(x);",iB=uo+`
  return (x < 0.0) ? 0.0 : x;
`,oB=uo+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,sB="return (x >= 0.0) ? x : (exp(x) - 1.0);",uK=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+tS+`;
  float scale = `+nS+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,q3="return -x;",G3="return ceil(x);",K3="return floor(x);",X3="return exp(x);",Y3="return exp(x) - 1.0;",lK=uo+`
  return sin(x);
`,cK=uo+`
  return cos(x);
`,fK=uo+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,hK=uo+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,dK=uo+`
  return atan(x);
`,pK=uo+"return log(x + sqrt(x * x + 1.0));",vK=uo+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,mK=uo+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,Iv="return x;",gK="return x;",uB=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,lB=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,cB=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Od=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+t+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},yK=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=ba("rc",t),r=yn(t),a=function(s,u){if(s===1)return"rc";for(var l="",f=0;f<s;f++)l+=u[f],f<s-1&&(l+=",");return l}(t,n),i=n.slice(-2),o=t<=1?"rc":"vec2("+i.join(",")+")";this.userCode=`
      void main() {
        `+r+` rc = getOutputCoords();
        vec4 packedInput = getA(`+a+`);

        setOutput(getChannel(packedInput, `+o+`));
      }
    `},Fv={};function Bv(e,t){if(t===void 0&&(t=!1),e==="linear")return t?gK:sK;if(e==="relu")return t?uB:iB;if(e==="elu")return t?cB:sB;if(e==="relu6")return t?lB:oB;if(e==="prelu")return t?aB:rB;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var xK=600,bK=function(e){function t(n){var r,a=e.call(this)||this;if(a.pendingRead=new WeakMap,a.pendingDisposal=new WeakSet,a.dataRefCount=new WeakMap,a.numBytesInGPU=0,a.uploadWaitMs=0,a.downloadWaitMs=0,a.warnedAboutMemory=!1,a.pendingDeletes=0,a.disposed=!1,!Me().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(n==null){var i=Wo(Me().getNumber("WEBGL_VERSION"));a.binaryCache=((r=Me().getNumber("WEBGL_VERSION"))in Fv||(Fv[r]={}),Fv[r]),a.gpgpu=new NG(i),a.canvas=i.canvas,a.gpgpuCreatedLocally=!0}else a.gpgpu=n,a.binaryCache={},a.gpgpuCreatedLocally=!1,a.canvas=n.gl.canvas;return a.textureManager=new rK(a.gpgpu),a.numMBBeforeWarning=Me().global.screen==null?1024:Me().global.screen.height*Me().global.screen.width*window.devicePixelRatio*xK/1024/1024,a.texData=new VF(a,de),a}return so(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(n,r,a){if(Me().getBool("DEBUG")&&this.checkNumericalProblems(n),a==="complex64"&&n!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var i={};return this.texData.set(i,{shape:r,dtype:a,values:n,usage:Qa.UPLOAD}),i},t.prototype.move=function(n,r,a,i){if(Me().getBool("DEBUG")&&this.checkNumericalProblems(r),i==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(n,{shape:a,dtype:i,values:r,usage:Qa.UPLOAD})},t.prototype.readSync=function(n){var r=this.texData.get(n),a=r.values,i=r.dtype,o=r.complexTensors,s=r.slice,u=r.shape,l=r.isPacked;if(s!=null){var f=void 0;f=l?new Od(u,Iv):new Ot(u,Iv);var d=this.runWebGLProgram(f,[{dataId:n,shape:u,dtype:i}],i),p=this.readSync(d.dataId);return this.disposeData(d.dataId),p}if(a!=null)return this.convertAndCacheOnCPU(n);if(i==="string")return a;var m,g,x=this.activeTimers!=null;return x&&(m=Ao()),i==="complex64"?g=d_(o.real.dataSync(),o.imag.dataSync()):g=this.getValuesFromTexture(n),x&&(this.downloadWaitMs+=Ao()-m),this.convertAndCacheOnCPU(n,g)},t.prototype.read=function(n){return ot(this,void 0,void 0,function(){var r,a,i,o,s,u,l,f,d,p,m,g,x,b,w,E,S,A,T,R,D,P;return st(this,function(k){switch(k.label){case 0:if(this.pendingRead.has(n))return r=this.pendingRead.get(n),[2,new Promise(function(I){return r.push(I)})];if(a=this.texData.get(n),i=a.values,o=a.shape,s=a.slice,u=a.dtype,l=a.complexTensors,f=a.isPacked,s!=null)return d=void 0,d=f?new Od(o,Iv):new Ot(o,Iv),p=this.runWebGLProgram(d,[{dataId:n,shape:o,dtype:u}],u),m=this.read(p.dataId),this.disposeData(p.dataId),[2,m];if(i!=null)return[2,this.convertAndCacheOnCPU(n)];if(!Me().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Me().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return g=null,u!=="complex64"&&Me().get("WEBGL_BUFFER_SUPPORTED")&&(x=this.decode(n),b=this.texData.get(x.dataId),g=(P=this.gpgpu).createBufferFromTexture.apply(P,[b.texture].concat(Hd(o)))),this.pendingRead.set(n,[]),u==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:k.sent(),k.label=2;case 2:return u!=="complex64"?[3,4]:[4,Promise.all([l.real.data(),l.imag.data()])];case 3:return E=k.sent(),S=E[0],A=E[1],w=d_(S,A),[3,5];case 4:g==null?w=this.getValuesFromTexture(n):(T=lt(o),w=this.gpgpu.downloadFloat32MatrixFromBuffer(g,T)),k.label=5;case 5:return x!=null&&this.disposeData(x.dataId),R=this.convertAndCacheOnCPU(n,w),D=this.pendingRead.get(n),this.pendingRead.delete(n),D.forEach(function(I){return I(R)}),this.pendingDisposal.has(n)&&(this.pendingDisposal.delete(n),this.disposeData(n),this.pendingDeletes--),[2,R]}})})},t.prototype.checkNumericalProblems=function(n){if(n!=null)for(var r=0;r<n.length;r++){var a=n[r];if(!uV(a))throw Me().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+a+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+a+" cannot be represented on this device.")}},t.prototype.getValuesFromTexture=function(n){var r,a=this.texData.get(n),i=a.shape,o=a.dtype,s=a.isPacked,u=lt(i);if(Me().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var l=this.decode(n),f=this.texData.get(l.dataId),d=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[f.texture].concat(Hd(i))).subarray(0,u);return this.disposeData(l.dataId),d}var p=Me().getBool("WEBGL_PACK")&&s===!0,m=p?kb(i):i,g=p?new sG(m):new oG(m),x=this.runWebGLProgram(g,[{shape:m,dtype:o,dataId:n}],"float32"),b=this.texData.get(x.dataId),w=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(b.texture,b.texShape[0],b.texShape[1]).subarray(0,u);return this.disposeData(x.dataId),w},t.prototype.time=function(n){return ot(this,void 0,void 0,function(){var r,a,i,o,s,u,l;return st(this,function(f){switch(f.label){case 0:return r=this.activeTimers,a=[],i=!1,this.programTimersStack==null?(this.programTimersStack=a,i=!0):this.activeTimers.push(a),this.activeTimers=a,n(),o=Bf(this.activeTimers.map(function(d){return d.query})).filter(function(d){return d!=null}),s=Bf(this.activeTimers.map(function(d){return d.name})).filter(function(d){return d!=null}),this.activeTimers=r,i&&(this.programTimersStack=null),u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},Me().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(o)]:[3,2];case 1:return l=f.sent(),u.kernelMs=W$(l),u.getExtraProfileInfo=function(){return l.map(function(d,p){return{name:s[p],ms:d}}).map(function(d){return d.name+": "+d.ms}).join(", ")},[3,3];case 2:u.kernelMs={error:"WebGL query timers are not supported in this environment."},f.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,u]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return Me().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Ao(),endMs:null}},t.prototype.endTimer=function(n){return Me().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),n):(n.endMs=Ao(),n)},t.prototype.getQueryTime=function(n){return ot(this,void 0,void 0,function(){var r;return st(this,function(a){return Me().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(n)]:[2,(r=n).endMs-r.startMs]})})},t.prototype.disposeData=function(n){if(!this.pendingDisposal.has(n)){if(this.pendingRead.has(n))return this.pendingDisposal.add(n),void this.pendingDeletes++;if(this.texData.has(n)){this.releaseGPUData(n);var r=this.texData.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(n)}}},t.prototype.releaseGPUData=function(n){var r=this.texData.get(n),a=r.texture,i=r.dtype,o=r.texShape,s=r.usage,u=r.isPacked,l=r.slice,f=l&&l.origDataId||n,d=this.dataRefCount.get(f);d>1?this.dataRefCount.set(f,d-1):(this.dataRefCount.delete(f),a!=null&&(this.numBytesInGPU-=this.computeBytes(o,i),this.textureManager.releaseTexture(a,o,s,u)));var p=this.texData.get(n);p.texture=null,p.texShape=null,p.isPacked=!1,p.slice=null},t.prototype.getTexture=function(n){return this.uploadToGPU(n),this.texData.get(n).texture},t.prototype.getDataInfo=function(n){return this.texData.get(n)},t.prototype.getCPUBackend=function(){return Me().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=de.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(n,r){var a=this;return r===void 0&&(r=128),this.getCPUBackend()!=null&&n.every(function(i){return a.texData.get(i.dataId).texture==null&&i.size<r})},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(n,r){var a=this.makeOutput(n.shape,"complex64");return this.texData.get(a.dataId).complexTensors={real:de.keep(n.clone()),imag:de.keep(r.clone())},a},t.prototype.real=function(n){return this.texData.get(n.dataId).complexTensors.real.clone()},t.prototype.imag=function(n){return this.texData.get(n.dataId).complexTensors.imag.clone()},t.prototype.slice=function(n,r,a){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.slice(n,r,a);if(lt(a)===0)return Fr([],a,n.dtype);var i=this.texData.get(n.dataId).isPacked,o=HF(n.shape,r,a);if(i||!o){var s=Me().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new tK(a):new eK(a),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[n],null,u)}return this.uploadToGPU(n.dataId),this.shallowSlice(n,r,a)},t.prototype.shallowSlice=function(n,r,a){var i=this.texData.get(n.dataId),o=this.makeOutput(a,n.dtype),s=this.texData.get(o.dataId);Object.assign(s,i),s.shape=a,s.dtype=n.dtype;var u=$F(r,n.strides);i.slice&&(u+=i.slice.flatOffset),s.slice={flatOffset:u,origDataId:i.slice&&i.slice.origDataId||n.dataId};var l=this.dataRefCount.get(s.slice.origDataId)||1;return this.dataRefCount.set(s.slice.origDataId,l+1),o},t.prototype.stridedSlice=function(n,r,a,i){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.stridedSlice(n,r,a,i);var o=XE(r,a,i);if(o.some(function(u){return u===0}))return Fr([],o);var s=new nK(r,i,o);return this.compileAndRun(s,[n])},t.prototype.reverse=function(n,r){var a=Me().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new QG(n.shape,r):new YG(n.shape,r);return this.compileAndRun(a,[n])},t.prototype.concat=function(n,r){if(n[0].dtype==="complex64"){var a=n.map(function(m){return Oi(m)}),i=n.map(function(m){return Oo(m)});return kr(this.concat(a,r),this.concat(i,r))}if(this.shouldExecuteOnCPU(n))return this.cpuBackend.concat(n,r);if(n.length===1)return n[0];if(n.length>Me().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(n.length/2),s=this.concat(n.slice(0,o),r),u=this.concat(n.slice(o),r);return this.concat([s,u],r)}if(Me().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&n[0].rank>1){var l=new qq(n.map(function(m){return m.shape}),r);return this.compileAndRun(l,n)}var f=jf(n.map(function(m){return m.shape}),r),d=n.map(function(m){return m.as2D(-1,lt(m.shape.slice(r)))}),p=new Vq(d.map(function(m){return m.shape}));return this.compileAndRun(p,d).reshape(f)},t.prototype.neg=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.neg(n);if(Me().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,q3,n.dtype);var r=new Ot(n.shape,q3);return this.compileAndRun(r,[n])},t.prototype.batchMatMul=function(n,r,a,i){var o=a?n.shape[2]:n.shape[1],s=i?r.shape[1]:r.shape[2],u=a?n.shape[1]:n.shape[2],l=n.shape[0];if((o===1||s===1)&&u>1e3){a&&(n=n.transpose([0,2,1])),i&&(r=r.transpose([0,2,1]));var f=s===1?n:n.as3D(l,u,1),d=s===1?2:1,p=s===1?r.as3D(l,1,u):r;return this.multiply(f,p).sum(d,!0)}var m=Mr(n.dtype,r.dtype),g=new Fb(n.shape,[l,o,s],a,i);return this.compileAndRun(g,[n,r],m)},t.prototype.fusedBatchMatMul=function(n){var r=n.a,a=n.b,i=n.transposeA,o=n.transposeB,s=n.bias,u=n.activation,l=n.preluActivationWeights,f=i?r.shape[2]:r.shape[1],d=o?a.shape[1]:a.shape[2],p=r.shape[0],m=Mr(r.dtype,a.dtype),g=s!=null,x=l!=null,b=u?Bv(u,!0):null,w=new Fb(r.shape,[p,f,d],i,o,g,b,x),E=[r,a];return s&&E.push(s),l&&E.push(l),this.compileAndRun(w,E,m)},t.prototype.multiply=function(n,r){if(n.dtype==="complex64"){var a=this.texData.get(n.dataId),i=this.texData.get(r.dataId),o=new M3(Uq,n.shape,r.shape),s=new M3(zq,n.shape,r.shape),u=[this.makeComplexComponentTensorInfo(n,a.complexTensors.real),this.makeComplexComponentTensorInfo(n,a.complexTensors.imag),this.makeComplexComponentTensorInfo(r,i.complexTensors.real),this.makeComplexComponentTensorInfo(r,i.complexTensors.imag)],l=this.compileAndRun(o,u),f=this.compileAndRun(s,u),d=this.complex(l,f);return l.dispose(),f.dispose(),d}if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.multiply(n,r);if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,I3,n.dtype);var p=new Pn(I3,n.shape,r.shape);return this.compileAndRun(p,[n,r],n.dtype)},t.prototype.batchNormalization=function(n,r,a,i,o,s){var u=[n,r,a],l=null;s!=null&&(l=s.shape,u.push(s));var f=null;if(o!=null&&(f=o.shape,u.push(o)),Me().getBool("WEBGL_PACK_NORMALIZATION")){var d=new jq(n.shape,r.shape,a.shape,l,f,i);return this.compileAndRun(d,u)}var p=new Lq(n.shape,r.shape,a.shape,l,f,i);return this.compileAndRun(p,u)},t.prototype.localResponseNormalization4D=function(n,r,a,i,o){var s=Me().getBool("WEBGL_PACK_NORMALIZATION")?new IG(n.shape,r,a,i,o):new PG(n.shape,r,a,i,o);return this.compileAndRun(s,[n])},t.prototype.LRNGrad=function(n,r,a,i,o,s,u){var l=new MG(r.shape,i,o,s,u);return this.compileAndRun(l,[r,a,n])},t.prototype.tile=function(n,r){if(n.dtype==="string"){var a=this.readSync(n.dataId).map(function(o){return Rm(o)});return ZF(Tt(n.shape,n.dtype,a),r)}var i=new aK(n.shape,r);return this.compileAndRun(i,[n])},t.prototype.pad=function(n,r,a){var i=Me().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new WG(n.shape,r,a):new zG(n.shape,r,a);return this.compileAndRun(i,[n])},t.prototype.transpose=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.transpose(n,r);var a=Me().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new oK(n.shape,r):new iK(n.shape,r);return this.compileAndRun(a,[n])},t.prototype.gather=function(n,r,a){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.gather(n,r,a);var i=new dG(n.shape,r.size,a);return this.compileAndRun(i,[n,r])},t.prototype.batchToSpaceND=function(n,r,a){Q(n.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var i=r.reduce(function(d,p){return d*p}),o=Im(n.shape,r,i),s=Fm(o.length,r.length),u=Bm(n.shape,r,i),l=jF(a,r.length),f=UF(u,a,r.length);return n.reshape(o).transpose(s).reshape(u).slice(l,f)},t.prototype.spaceToBatchND=function(n,r,a){Q(n.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var i=r.reduce(function(p,m){return p*m}),o=[[0,0]];o.push.apply(o,a);for(var s=1+r.length;s<n.shape.length;++s)o.push([0,0]);var u=n.pad(o),l=Im(u.shape,r,i,!1),f=Fm(l.length,r.length,!1),d=Bm(u.shape,r,i,!1);return u.reshape(l).transpose(f).reshape(d)},t.prototype.reduce=function(n,r,a){var i=n.shape[0],o=n.shape[1],s=Pb(o),u=new HG({windowSize:s,inSize:o,batchSize:i},r),l=this.compileAndRun(u,[n],a);return l.shape[1]===1?l:this.reduce(l,r,a)},t.prototype.argReduce=function(n,r,a){a===void 0&&(a=null);var i=n.shape[0],o=n.shape[1];a!=null&&(i=a.shape[0],o=a.shape[1]);var s=Pb(o),u=new Rq({windowSize:s,inSize:o,batchSize:i},r,a==null),l=[n];a!=null&&l.push(a);var f=this.compileAndRun(u,l,"int32");return f.shape[1]===1?f:this.argReduce(n,r,f)},t.prototype.argReducePacked=function(n,r,a){a===void 0&&(a=null);var i=a!=null?a.shape:n.shape,o=Pb(i[i.length-1]),s=new Iq(i,o,r,a==null),u=a==null?[n]:[n,a],l=this.compileAndRun(s,u,"int32");return l.rank===n.rank?this.argReducePacked(n,r,l):l},t.prototype.sum=function(n,r){Ha("sum",r,n.rank);var a=qr(n.shape,r),i=a[0],o=lt(a[1]),s=n.as2D(-1,o),u=Tb(n.dtype);return this.reduce(s,"sum",u).reshape(i)},t.prototype.prod=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.prod(n,r);var a=qr(n.shape,r),i=a[0],o=lt(a[1]),s=n.as2D(-1,o),u=Tb(n.dtype);return this.reduce(s,"prod",u).reshape(i)},t.prototype.unsortedSegmentSum=function(n,r,a){var i=0,o=Ho([i],n.rank),s=n;o!=null&&(s=n.transpose(o),i=$o(1,n.rank)[0]);var u=function(m,g,x){for(var b=[],w=m.length,E=0;E<w;E++)E!==g?b.push(m[E]):b.push(x);return b}(s.shape,i,a),l=lt([s.shape[i]]),f=s.as2D(-1,l),d=Tb(n.dtype),p=this.segOpCompute(f,"unsortedSegmentSum",r,d,a).reshape(u);return o!=null&&(p=p.transpose(VE(o))),p},t.prototype.segOpCompute=function(n,r,a,i,o){var s=n.shape[0],u=n.shape[1],l=function(p,m){var g,x=!1;for(p<=WF?(g=p,x=!0):g=a_(p,Math.floor(Math.sqrt(p)));!x;)g>m||g===p?x=!0:g=a_(p,g+1);return g}(u,o),f=new ZG({windowSize:l,inSize:u,batchSize:s,numSegments:o}),d=this.compileAndRun(f,[n,a],i);return d.shape[1]===o?d:(a=Mm(0,o).tile([u/l]),this.segOpCompute(d,r,a,i,o))},t.prototype.argMinMaxReduce=function(n,r,a){var i=[r];if(Ha("arg"+a.charAt(0).toUpperCase()+a.slice(1),i,n.rank),!Me().getBool("WEBGL_PACK_REDUCE")||n.rank<=2){var o=qr(n.shape,i),s=o[0],u=lt(o[1]),l=n.as2D(-1,u);return this.argReduce(l,a).reshape(s)}return this.argReducePacked(n,a)},t.prototype.argMin=function(n,r){return this.argMinMaxReduce(n,r,"min")},t.prototype.argMax=function(n,r){return this.argMinMaxReduce(n,r,"max")},t.prototype.cumsum=function(n,r,a,i){if(r!==n.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(n.rank-1)+" but got axis="+r);var o=new tG(n.shape,a,i);return this.compileAndRun(o,[n])},t.prototype.equal=function(n,r){if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(equal(a, b));
`,"bool");var a=new Pn("return float(a == b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.notEqual=function(n,r){if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(notEqual(a, b));
`,"bool");var a=new Pn("return float(a != b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.less=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.less(n,r);if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThan(a, b));
`,"bool");var a=new Pn("return float(a < b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.lessEqual=function(n,r){if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThanEqual(a, b));
`,"bool");var a=new Pn("return float(a <= b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.greater=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.greater(n,r);if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThan(a, b));
`,"bool");var a=new Pn("return float(a > b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.greaterEqual=function(n,r){if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var a=new Pn("return float(a >= b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.logicalNot=function(n){var r=new Ot(n.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[n])},t.prototype.logicalAnd=function(n,r){if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var a=new Pn("return float(a >= 1.0 && b >= 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.logicalOr=function(n,r){if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var a=new Pn("return float(a >= 1.0 || b >= 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.select=function(n,r,a){var i=new JG(n.rank,r.shape,r.rank);return this.compileAndRun(i,[n,r,a],Mr(r.dtype,a.dtype))},t.prototype.where=function(n){km("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=n.dataSync();return JE(n.shape,r)},t.prototype.topk=function(n,r,a){return JF(n.dataSync(),n.shape,n.dtype,r)},t.prototype.min=function(n,r){Ha("min",r,n.rank);var a=qr(n.shape,r),i=a[0],o=lt(a[1]),s=n.as2D(-1,o);return this.reduce(s,"min",s.dtype).reshape(i)},t.prototype.minimum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.minimum(n,r);var a=Me().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cs(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new Pn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.mod=function(n,r){var a=Me().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cs(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new Pn(`if (b == 0.0) return NAN;
  return mod(a, b);`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.max=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.max(n,r);Ha("max",r,n.rank);var a=qr(n.shape,r),i=a[0],o=lt(a[1]),s=n.as2D(-1,o);return this.reduce(s,"max",s.dtype).reshape(i)},t.prototype.maximum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.maximum(n,r);var a=Me().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cs(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new Pn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.all=function(n,r){Ha("all",r,n.rank);var a=qr(n.shape,r),i=a[0],o=lt(a[1]),s=n.as2D(-1,o);return this.reduce(s,"all",s.dtype).reshape(i)},t.prototype.any=function(n,r){Ha("any",r,n.rank);var a=qr(n.shape,r),i=a[0],o=lt(a[1]),s=n.as2D(-1,o);return this.reduce(s,"any",s.dtype).reshape(i)},t.prototype.realDivide=function(n,r){if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var a=new Pn(`
if (a == b) {
  return 1.0;
};
return a / b;`,n.shape,r.shape);return this.compileAndRun(a,[n,r],"float32")},t.prototype.floorDiv=function(n,r){if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var a=new Pn(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,n.shape,r.shape);return this.compileAndRun(a,[n,r],"int32")},t.prototype.add=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,Mb);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.add(n,r);var a=Mr(n.dtype,r.dtype);if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,Mb,a);var i=new Pn(Mb,n.shape,r.shape);return this.compileAndRun(i,[n,r],a)},t.prototype.packedUnaryOp=function(n,r,a){var i=new Od(n.shape,r);return this.compileAndRun(i,[n],a)},t.prototype.packedBinaryOp=function(n,r,a,i,o){o===void 0&&(o=!1);var s=new cs(a,n.shape,r.shape,o);return this.compileAndRun(s,[n,r],i)},t.prototype.complexSeparableBinaryOp=function(n,r,a){var i=this,o=this.texData.get(n.dataId),s=this.texData.get(r.dataId),u=[[o.complexTensors.real,s.complexTensors.real],[o.complexTensors.imag,s.complexTensors.imag]].map(function(p){var m=p[0],g=p[1],x=i.makeComplexComponentTensorInfo(n,m),b=i.makeComplexComponentTensorInfo(r,g),w=new Pn(a,n.shape,r.shape);return i.compileAndRun(w,[x,b],Mr(m.dtype,g.dtype))}),l=u[0],f=u[1],d=this.complex(l,f);return l.dispose(),f.dispose(),d},t.prototype.makeComplexComponentTensorInfo=function(n,r){return{dataId:r.dataId,dtype:r.dtype,shape:n.shape}},t.prototype.addN=function(n){if(n.length===1)return n[0];if(n.length>Me().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(n.length/2),a=this.addN(n.slice(0,r)),i=this.addN(n.slice(r));return this.addN([a,i])}var o=n.map(function(l){return l.dtype}).reduce(function(l,f){return Mr(l,f)}),s=n.map(function(l){return l.shape}),u=Me().getBool("WEBGL_PACK")?new Oq(n[0].shape,s):new Cq(n[0].shape,s);return this.compileAndRun(u,n,o)},t.prototype.subtract=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,Ib);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.subtract(n,r);var a=Mr(n.dtype,r.dtype);if(Me().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,Ib,n.dtype);var i=new Pn(Ib,n.shape,r.shape);return this.compileAndRun(i,[n,r],a)},t.prototype.pow=function(n,r){var a=Me().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cs(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new Pn(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,n.shape,r.shape),i=Mr(n.dtype,r.dtype);return this.compileAndRun(a,[n,r],i)},t.prototype.ceil=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.ceil(n);if(Me().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,G3,n.dtype);var r=new Ot(n.shape,G3);return this.compileAndRun(r,[n])},t.prototype.floor=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.floor(n);if(Me().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,K3,n.dtype);var r=new Ot(n.shape,K3);return this.compileAndRun(r,[n])},t.prototype.sign=function(n){var r=new Ot(n.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(r,[n])},t.prototype.isNaN=function(n){var r=new Ot(n.shape,"return float(isnan(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.isInf=function(n){var r=new Ot(n.shape,"return float(isinf(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.isFinite=function(n){var r=new Ot(n.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.round=function(n){var r=new Ot(n.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(r,[n])},t.prototype.exp=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.exp(n);if(Me().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,X3,n.dtype);var r=new Ot(n.shape,X3);return this.compileAndRun(r,[n])},t.prototype.expm1=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.expm1(n);if(Me().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,Y3,n.dtype);var r=new Ot(n.shape,Y3);return this.compileAndRun(r,[n])},t.prototype.softmax=function(n,r){var a=lr([r],n.shape),i=this.max(n,a),o=Ca(i.shape,a),s=this.subtract(n,i.reshape(o)),u=this.exp(s),l=this.sum(u,a).reshape(o);return this.realDivide(u,l)},t.prototype.log=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.log(n);if(Me().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,n.dtype);var r=new Ot(n.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(r,[n])},t.prototype.log1p=function(n){var r=new Ot(n.shape,"return log(1.0 + x);");return this.compileAndRun(r,[n])},t.prototype.sqrt=function(n){var r=new Ot(n.shape,"return sqrt(x);");return this.compileAndRun(r,[n])},t.prototype.rsqrt=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.rsqrt(n);var r=new Ot(n.shape,"return inversesqrt(x);");return this.compileAndRun(r,[n])},t.prototype.reciprocal=function(n){var r=new Ot(n.shape,"return 1.0 / x;");return this.compileAndRun(r,[n])},t.prototype.relu=function(n){var r;return r=Me().getBool("WEBGL_PACK")?new Od(n.shape,uB):new Ot(n.shape,iB),this.compileAndRun(r,[n])},t.prototype.relu6=function(n){var r;return r=Me().getBool("WEBGL_PACK")?new Od(n.shape,lB):new Ot(n.shape,oB),this.compileAndRun(r,[n])},t.prototype.prelu=function(n,r){var a=Me().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cs(aB,n.shape,r.shape):new Pn(rB,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.elu=function(n){if(Me().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,cB,n.dtype);var r=new Ot(n.shape,sB);return this.compileAndRun(r,[n])},t.prototype.eluDer=function(n,r){var a=Me().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cs(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,n.shape,r.shape):new Pn("return (b >= 1.0) ? a : a * (b + 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.selu=function(n){var r=new Ot(n.shape,uK);return this.compileAndRun(r,[n])},t.prototype.int=function(n){var r=new Ot(n.shape,"return float(int(x));");return this.compileAndRun(r,[n],"int32")},t.prototype.clip=function(n,r,a){var i,o=(i=Me().getBool("WEBGL_PACK_CLIP")?new Hq(n.shape):new Wq(n.shape)).getCustomSetupFunc(r,a);return this.compileAndRun(i,[n],null,o)},t.prototype.abs=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.abs(n);if(Me().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,V3,n.dtype);var r=new Ot(n.shape,V3);return this.compileAndRun(r,[n])},t.prototype.complexAbs=function(n){var r=this.texData.get(n.dataId),a=new $q(n.shape),i=[this.makeComplexComponentTensorInfo(n,r.complexTensors.real),this.makeComplexComponentTensorInfo(n,r.complexTensors.imag)];return this.compileAndRun(a,i)},t.prototype.sigmoid=function(n){var r=new Ot(n.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[n])},t.prototype.softplus=function(n){var r=new Ot(n.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(r,[n])},t.prototype.sin=function(n){var r=new Ot(n.shape,lK);return this.compileAndRun(r,[n])},t.prototype.cos=function(n){var r=new Ot(n.shape,cK);return this.compileAndRun(r,[n])},t.prototype.tan=function(n){var r=new Ot(n.shape,"return tan(x);");return this.compileAndRun(r,[n])},t.prototype.asin=function(n){var r=new Ot(n.shape,fK);return this.compileAndRun(r,[n])},t.prototype.acos=function(n){var r=new Ot(n.shape,hK);return this.compileAndRun(r,[n])},t.prototype.atan=function(n){var r=new Ot(n.shape,dK);return this.compileAndRun(r,[n])},t.prototype.atan2=function(n,r){var a=Me().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cs(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new Pn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.sinh=function(n){var r=new Ot(n.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},t.prototype.cosh=function(n){var r=new Ot(n.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},t.prototype.tanh=function(n){var r=new Ot(n.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(r,[n])},t.prototype.asinh=function(n){var r=new Ot(n.shape,pK);return this.compileAndRun(r,[n])},t.prototype.acosh=function(n){var r=new Ot(n.shape,vK);return this.compileAndRun(r,[n])},t.prototype.atanh=function(n){var r=new Ot(n.shape,mK);return this.compileAndRun(r,[n])},t.prototype.erf=function(n){var r=new Ot(n.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(r,[n])},t.prototype.step=function(n,r){var a=new Ot(n.shape,function(i){return i===void 0&&(i=0),uo+`
    return x > 0.0 ? 1.0 : float(`+i+`);
  `}(r));return this.compileAndRun(a,[n])},t.prototype.conv2dByMatMul=function(n,r,a,i,o,s){var u=n.shape,l=this.texData.get(n.dataId),f=a.inChannels,d=u[0]*u[1]*u[2],p=a.outChannels,m=a.dataFormat==="channelsLast",g=(d===1||p===1)&&f>1e3,x=u[2]%2!=0&&!!l.isPacked;if(g||!Me().getBool("WEBGL_LAZILY_UNPACK")||!Me().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!x){var b=m?u[0]*u[1]*u[2]:u[0]*u[2]*u[3],w=this.reshape(n,[1,b,a.inChannels]),E=this.reshape(r,[1,a.inChannels,a.outChannels]);return this.reshape(this.fusedBatchMatMul({a:w,b:E,transposeA:!1,transposeB:!1,bias:i,activation:o,preluActivationWeights:s}),a.outShape)}var S=m?u[0]*u[1]*(u[2]+1):u[0]*u[2]*(u[3]+1),A={dataId:n.dataId,shape:[1,S,a.inChannels],dtype:n.dtype},T=l.shape;l.shape=l.shape.slice(),l.shape[l.shape.length-2]++,Q(Pv(l.shape,A.shape),function(){return"packed reshape "+l.shape+" to "+A.shape+" isn't free"});var R=this.reshape(r,[1,a.inChannels,a.outChannels]),D=this.fusedBatchMatMul({a:A,b:R,transposeA:!1,transposeB:!1,bias:i,activation:o,preluActivationWeights:s}),P=this.texData.get(D.dataId);return Q(P.isPacked,function(){return"batchMatMul result is expected to be packed"}),l.shape=T,P.shape=a.outShape,de.makeTensorFromDataId(D.dataId,a.outShape,D.dtype)},t.prototype.conv2dWithIm2Row=function(n,r,a,i,o,s){var u=a.filterWidth,l=a.filterHeight,f=a.inChannels,d=a.outWidth,p=a.outHeight,m=a.dataFormat==="channelsLast",g=u*l*f,x=p*d,b=[g,x],w=n.squeeze([0]),E=r.reshape([1,g,-1]),S=new kG(b,w.shape,a),A=this.compileAndRun(S,[w]).reshape([1,b[0],b[1]]),T=i!=null,R=s!=null,D=o?Bv(o,!0):null,P=new Fb(A.shape,[1,x,a.outChannels],!0,!1,T,D,R),k=[A,E];i&&k.push(i),R&&k.push(s);var I=this.compileAndRun(P,k);return m?I.reshape([1,p,d,a.outChannels]):I.reshape([1,a.outChannels,p,d])},t.prototype.fusedConv2d=function(n){var r=n.input,a=n.filter,i=n.convInfo,o=n.bias,s=n.activation,u=n.preluActivationWeights;if(i.filterHeight===1&&i.filterWidth===1&&i.dilationHeight===1&&i.dilationWidth===1&&i.strideHeight===1&&i.strideWidth===1&&(i.padInfo.type==="SAME"||i.padInfo.type==="VALID"))return this.conv2dByMatMul(r,a,i,o,s,u);if(Me().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,a,i,o,s,u);var l=o!=null,f=u!=null,d=s?Bv(s,!1):null,p=new F3(i,l,d,f),m=[r,a];return o&&m.push(o),u&&m.push(u),this.compileAndRun(p,m)},t.prototype.conv2d=function(n,r,a){if(a.filterHeight===1&&a.filterWidth===1&&a.dilationHeight===1&&a.dilationWidth===1&&a.strideHeight===1&&a.strideWidth===1&&(a.padInfo.type==="SAME"||a.padInfo.type==="VALID"))return this.conv2dByMatMul(n,r,a);if(Me().getBool("WEBGL_CONV_IM2COL")&&n.shape[0]===1)return this.conv2dWithIm2Row(n,r,a);var i=new F3(a);return this.compileAndRun(i,[n,r])},t.prototype.conv2dDerInput=function(n,r,a){var i=new Kq(a);return this.compileAndRun(i,[n,r])},t.prototype.conv2dDerFilter=function(n,r,a){var i=new Gq(a);return this.compileAndRun(i,[n,r])},t.prototype.fusedDepthwiseConv2D=function(n){var r,a=n.input,i=n.filter,o=n.convInfo,s=n.bias,u=n.activation,l=n.preluActivationWeights,f=Me().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,d=u?Bv(u,f):null,p=[a,i],m=s!=null,g=l!=null;return m&&p.push(s),g&&p.push(l),f?(r=new L3(o,m,d,g),this.compileAndRun(r,p)):(r=new B3(o,m,d,g),this.compileAndRun(r,p))},t.prototype.depthwiseConv2D=function(n,r,a){var i;return Me().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1?(i=new L3(a),this.compileAndRun(i,[n,r])):(i=new B3(a),this.compileAndRun(i,[n,r]))},t.prototype.depthwiseConv2DDerInput=function(n,r,a){var i=new Zq(a);return this.compileAndRun(i,[n,r])},t.prototype.depthwiseConv2DDerFilter=function(n,r,a){var i=new Qq(a);return this.compileAndRun(i,[n,r])},t.prototype.conv3d=function(n,r,a){var i=new Jq(a);return this.compileAndRun(i,[n,r])},t.prototype.conv3dDerInput=function(n,r,a){var i=new Yq(a);return this.compileAndRun(i,[n,r])},t.prototype.conv3dDerFilter=function(n,r,a){var i=new Xq(a);return this.compileAndRun(i,[n,r])},t.prototype.maxPool=function(n,r){var a=new Bb(r,"max",!1);return this.compileAndRun(a,[n])},t.prototype.avgPool=function(n,r){var a=new Bb(r,"avg",!1);return this.compileAndRun(a,[n],"float32")},t.prototype.maxPoolBackprop=function(n,r,a,i){var o=new Bb(i,"max",!0),s=this.compileAndRun(o,[r]),u=new FG(i),l=this.compileAndRun(u,[n,s],r.dtype);return s.dispose(),l},t.prototype.avgPoolBackprop=function(n,r,a){var i=new Fq(a);return this.compileAndRun(i,[n],r.dtype)},t.prototype.cast=function(n,r){return KF(n,r,this)},t.prototype.unstack=function(n,r){for(var a=n.shape[r],i=new Array(n.rank-1),o=0,s=0;s<n.rank;s++)s!==r&&(i[o++]=n.shape[s]);var u=new Array(n.rank).fill(0),l=n.shape.slice();l[r]=1;var f=new Array(a);for(s=0;s<f.length;s++)u[r]=s,f[s]=this.slice(n,u,l).reshape(i);return f},t.prototype.avgPool3d=function(n,r){var a=new Lb(r,"avg",!1);return this.compileAndRun(a,[n],"float32")},t.prototype.avgPool3dBackprop=function(n,r,a){var i=new Bq(a);return this.compileAndRun(i,[n],r.dtype)},t.prototype.maxPool3d=function(n,r){var a=new Lb(r,"max",!1);return this.compileAndRun(a,[n],"float32")},t.prototype.maxPool3dBackprop=function(n,r,a,i){var o=new Lb(i,"max",!0),s=this.compileAndRun(o,[r]),u=new BG(i),l=this.compileAndRun(u,[n,s],r.dtype);return s.dispose(),l},t.prototype.reshape=function(n,r){var a=this.texData.get(n.dataId);if(a.isPacked&&!Pv(n.shape,r)&&(a.texture===null||!Pv(a.shape,r))){var i=this.packedReshape(n,r);return de.makeTensorFromDataId(i.dataId,i.shape,i.dtype)}return h_(n,r)},t.prototype.resizeBilinear=function(n,r,a,i){var o=Me().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new GG(n.shape,r,a,i):new qG(n.shape,r,a,i);return this.compileAndRun(o,[n],"float32")},t.prototype.resizeBilinearBackprop=function(n,r,a){var i=new VG(n,r,a);return this.compileAndRun(i,[n])},t.prototype.resizeNearestNeighbor=function(n,r,a,i){var o=new XG(n.shape,r,a,i);return this.compileAndRun(o,[n])},t.prototype.resizeNearestNeighborBackprop=function(n,r,a){var i=new KG(n,r,a);return this.compileAndRun(i,[n])},t.prototype.multinomial=function(n,r,a,i){var o=r?n:Ps(n),s=o.shape[0],u=o.shape[1],l=new LG(s,u,a),f=l.getCustomSetupFunc(i);return this.compileAndRun(l,[o],"int32",f)},t.prototype.oneHot=function(n,r,a,i){var o=new jG(n.size,r,a,i);return this.compileAndRun(o,[n])},t.prototype.diag=function(n){var r=new iG(n.size);return this.compileAndRun(r,[n])},t.prototype.nonMaxSuppression=function(n,r,a,i,o){return km("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),QE(n.dataSync(),r.dataSync(),a,i,o)},t.prototype.cropAndResize=function(n,r,a,i,o,s){var u=new eG(n.shape,r.shape,i,o,s);return this.compileAndRun(u,[n,r,a],"float32")},t.prototype.depthToSpace=function(n,r,a){Q(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});var i=n.shape[0],o=a==="NHWC"?n.shape[1]:n.shape[2],s=a==="NHWC"?n.shape[2]:n.shape[3],u=a==="NHWC"?n.shape[3]:n.shape[1],l=o*r,f=s*r,d=u/(r*r),p=new aG(a==="NHWC"?[i,l,f,d]:[i,d,l,f],r,a);return this.compileAndRun(p,[n])},t.prototype.split=function(n,r,a){return QF(n,r,a)},t.prototype.scatterND=function(n,r,a){var i=Lm(0,n,a),o=i.sliceRank,s=i.numUpdates,u=i.sliceSize,l=i.strides,f=i.outputSize,d=[f/u,u],p=n.reshape([s,o]),m=r.reshape([s,u]);if(f===0)return h_(Fr([]),a);var g=Ze(0),x=new W3(s,o,p.rank,m.rank,l,d);return this.compileAndRun(x,[m,p,g]).reshape(a)},t.prototype.sparseToDense=function(n,r,a,i){var o=Lm(0,n,a),s=o.sliceRank,u=o.numUpdates,l=o.strides,f=o.outputSize,d=new W3(u,s,n.rank,r.rank,l,[f,1]);return this.compileAndRun(d,[r,n,i]).reshape(a)},t.prototype.fft=function(n){return this.fftImpl(n,!1)},t.prototype.ifft=function(n){return this.fftImpl(n,!0)},t.prototype.fftImpl=function(n,r){var a=this.texData.get(n.dataId),i=new U3(cG,n.shape,r),o=new U3(fG,n.shape,r),s=[this.makeComplexComponentTensorInfo(n,a.complexTensors.real),this.makeComplexComponentTensorInfo(n,a.complexTensors.imag)],u=this.compileAndRun(i,s),l=this.compileAndRun(o,s),f=this.complex(u,l).as2D(n.shape[0],n.shape[1]);return u.dispose(),l.dispose(),f},t.prototype.gatherND=function(n,r){var a=r.shape,i=a[a.length-1],o=zF(n,r),s=o[0],u=o[1],l=o[2],f=o[3],d=r.reshape([u,i]),p=n.reshape([n.size/l,l]),m=new pG(i,f,[u,l]);return this.compileAndRun(m,[p,d]).reshape(s)},t.prototype.fill=function(n,r,a){if((a=a||Mp(r))==="string"){var i=Om(a,lt(n));return i.fill(r),de.makeTensor(i,n,a,this)}var o=new hG(n,r),s=o.getCustomSetupFunc(r);return this.compileAndRun(o,[],a,s)},t.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(n.shape,1,n.dtype)},t.prototype.zerosLike=function(n){return this.fill(n.shape,n.dtype==="string"?"":0,n.dtype)},t.prototype.linspace=function(n,r,a){return XF(n,r,a)},t.prototype.makeTensorInfo=function(n,r){var a=this.write(null,n,r);return this.texData.get(a).usage=null,{dataId:a,shape:n,dtype:r}},t.prototype.makeOutput=function(n,r){var a=this.makeTensorInfo(n,r).dataId;return de.makeTensorFromDataId(a,n,r,this)},t.prototype.unpackTensor=function(n){var r=new yK(n.shape);return this.runWebGLProgram(r,[n],n.dtype)},t.prototype.packTensor=function(n){var r=new UG(n.shape);return this.runWebGLProgram(r,[n],n.dtype,null,!0)},t.prototype.packedReshape=function(n,r){var a=[Dm(n.shape)].concat(Nm(n.shape)),i={dtype:n.dtype,shape:a,dataId:n.dataId},o=[Dm(r)].concat(Nm(r)),s=new $G(o,a),u=this.runWebGLProgram(s,[i],n.dtype,null,!0);return{dataId:u.dataId,shape:r,dtype:u.dtype}},t.prototype.decode=function(n){var r,a=this.texData.get(n),i=a.isPacked,o=a.shape,s=a.dtype,u=kb(o);return r=i?new rG(u):new nG(u),{dtype:s,shape:o,dataId:this.runWebGLProgram(r,[{shape:u,dtype:s,dataId:n}],s,null,!0).dataId}},t.prototype.runWebGLProgram=function(n,r,a,i,o){var s=this;o===void 0&&(o=!1);var u=this.makeTensorInfo(n.outputShape,a),l=this.texData.get(u.dataId);if(n.packedOutput&&(l.isPacked=!0),n.outPackingScheme===ap.DENSE){var f=Hd(n.outputShape);l.texShape=f.map(function(S){return 2*S})}if(n.outTexUsage!=null&&(l.usage=n.outTexUsage),lt(u.shape)===0)return l.values=np(u.dtype,0),u;var d=[],p=r.map(function(S){if(S.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var A=s.texData.get(S.dataId);if(A.texture==null){if(!n.packedInputs&&lt(S.shape)<=Me().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:S.shape,texData:null,isUniform:!0,uniformValues:A.values};n.packedInputs&&(A.isPacked=!0,A.shape=S.shape)}else if(!!A.isPacked!=!!n.packedInputs)S=A.isPacked?s.unpackTensor(S):s.packTensor(S),d.push(S),A=s.texData.get(S.dataId);else if(A.isPacked&&!Pv(A.shape,S.shape)){var T=S,R=S.shape;S.shape=A.shape,S=s.packedReshape(S,R),d.push(S),A=s.texData.get(S.dataId),T.shape=R}return s.uploadToGPU(S.dataId),{shape:S.shape,texData:A,isUniform:!1}});this.uploadToGPU(u.dataId);var m,g={shape:u.shape,texData:l,isUniform:!1},x=function(S,A,T){var R="";A.concat(T).forEach(function(k){var I=k.texData!=null&&k.texData.slice!=null&&k.texData.slice.flatOffset>0,F=k.isUniform?"uniform":k.texData.texShape;R+=k.shape+"_"+F+"_"+I});var D=S.userCode,P=S.constructor.name;return P+="_"+R+"_"+D}(n,p,g),b=this.getAndSaveBinary(x,function(){return function(S,A,T,R){var D=A.userCode,P=T.map(function(ie,he){var z={logicalShape:ie.shape,texShape:ie.isUniform?null:ie.texData.texShape,isUniform:ie.isUniform,isPacked:!ie.isUniform&&ie.texData.isPacked,flatOffset:null};return ie.texData!=null&&ie.texData.slice!=null&&ie.texData.slice.flatOffset>0&&(z.flatOffset=ie.texData.slice.flatOffset),{name:A.variableNames[he],shapeInfo:z}}),k=P.map(function(ie){return ie.shapeInfo}),I={logicalShape:R.shape,texShape:R.texData.texShape,isUniform:!1,isPacked:R.texData.isPacked,flatOffset:null},F=Dq(P,I,D,A.packedInputs),B=S.createProgram(F),te=null,ae=S.getUniformLocation(B,"NAN",!1);Me().getNumber("WEBGL_VERSION")===1&&(te=S.getUniformLocation(B,"INFINITY",!1));for(var V={},H=0;H<A.variableNames.length;H++){var Z=A.variableNames[H];V[Z]=S.getUniformLocation(B,Z,!1),V["offset"+Z]=S.getUniformLocation(B,"offset"+Z,!1)}return{program:A,source:F,webGLProgram:B,uniformLocations:V,inShapeInfos:k,outShapeInfo:I,infLoc:te,nanLoc:ae}}(s.gpgpu,n,p,g)}),w=this.activeTimers!=null;if(w&&(m=this.startTimer()),function(S,A,T,R,D){z3(A.inShapeInfos,T),z3([A.outShapeInfo],[R]);var P=R.texData.texture,k=R.texData.texShape;R.texData.isPacked?S.setOutputPackedMatrixTexture(P,k[0],k[1]):S.setOutputMatrixTexture(P,k[0],k[1]),S.setProgram(A.webGLProgram),Me().getNumber("WEBGL_VERSION")===1&&A.infLoc!==null&&S.gl.uniform1f(A.infLoc,1/0),A.nanLoc!==null&&S.gl.uniform1f(A.nanLoc,NaN),T.forEach(function(I,F){var B=A.program.variableNames[F],te=A.uniformLocations[B],ae=A.uniformLocations["offset"+B];if(te!=null)if(I.isUniform)if(lt(I.shape)<2)S.gl.uniform1f(te,I.uniformValues[0]);else{var V=I.uniformValues;V instanceof Float32Array||(V=new Float32Array(V)),S.gl.uniform1fv(te,V)}else I.texData.slice!=null&&ae!=null&&S.gl.uniform1i(ae,I.texData.slice.flatOffset),S.setInputMatrixTexture(I.texData.texture,te,F)}),D?.(S,A.webGLProgram),S.executeProgram()}(this.gpgpu,b,p,g,i),d.forEach(function(S){return s.disposeData(S.dataId)}),w&&(m=this.endTimer(m),this.activeTimers.push({name:n.constructor.name,query:this.getQueryTime(m)})),!Me().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&o===!1){var E=this.unpackTensor(u);return this.disposeData(u.dataId),E}return u},t.prototype.compileAndRun=function(n,r,a,i,o){o===void 0&&(o=!1),a=a||r[0].dtype;var s=this.runWebGLProgram(n,r,a,i,o);return de.makeTensorFromDataId(s.dataId,s.shape,s.dtype)},t.prototype.getAndSaveBinary=function(n,r){return n in this.binaryCache||(this.binaryCache[n]=r()),this.binaryCache[n]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var n=this;this.disposed||(Me().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(r){n.gpgpu.deleteProgram(n.binaryCache[r].webGLProgram),delete n.binaryCache[r]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var n=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=rt(function(){if(!Me().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=Me().getBool("DEBUG");Me().set("DEBUG",!1);var a=n.abs(Ze(1e-8)).dataSync()[0];if(Me().set("DEBUG",r),a>0)return 32}return 16})),this.floatPrecisionValue},t.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},t.prototype.uploadToGPU=function(n){var r,a=this.texData.get(n),i=a.shape,o=a.dtype,s=a.values,u=a.texture,l=a.usage,f=a.isPacked;if(u==null){var d,p=this.activeTimers!=null;p&&(d=Ao());var m=a.texShape;if(m==null&&(m=AV(i,f),a.texShape=m),s!=null){var g=kb(i),x=void 0,b=m[1],w=m[0],E=s instanceof Uint8Array;f?(b=(r=Fp(m[0],m[1]))[0],w=r[1],x=new lG(g,[w,b],E)):x=new uG(g,[w,b],E);var S=this.makeTensorInfo([w,b],o);this.texData.get(S.dataId).usage=E?Qa.PIXELS:Qa.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(S.dataId),b,w,s);var A=this.runWebGLProgram(x,[S],o,null,!0),T=this.texData.get(A.dataId);a.texture=T.texture,a.texShape=T.texShape,a.isPacked=T.isPacked,a.usage=T.usage,this.disposeData(S.dataId),this.texData.delete(A.dataId),a.values=null,p&&(this.uploadWaitMs+=Ao()-d)}else{var R=this.acquireTexture(m,l,o,f);a.texture=R}}},t.prototype.convertAndCacheOnCPU=function(n,r){var a=this.texData.get(n),i=a.dtype;return this.releaseGPUData(n),r!=null&&(a.values=function(o,s){if(s==="float32"||s==="complex64")return o;if(s==="int32"||s==="bool"){for(var u=s==="int32"?new Int32Array(o.length):new Uint8Array(o.length),l=0;l<u.length;++l)u[l]=Math.round(o[l]);return u}throw new Error("Unknown dtype "+s)}(r,i)),a.values},t.prototype.acquireTexture=function(n,r,a,i){if(this.numBytesInGPU+=this.computeBytes(n,a),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+o+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(n,r,i)},t.prototype.computeBytes=function(n,r){return n[0]*n[1]*EF(r)},t}(qF);DF()&&de.registerBackend("webgl",function(){return new bK},2);var wK=ue({square_:function(e){var t=W(e,"x","square"),n=[t];return de.runKernelFunc(function(r,a){return a([t]),r.square(t)},{x:t},null,"Square",{},n,[])}}),op="SquaredDifference",fB=ue({squaredDifference_:function(e,t){var n,r=W(e,"a","squaredDifference"),a=W(t,"b","squaredDifference");n=Dn(r,a),r=n[0],a=n[1],It(r.shape,a.shape);var i={a:r,b:a},o=[r,a];return de.runKernelFunc(function(s,u){var l=s.squaredDifference(r,a);return u([r,a]),l},i,function(s,u){var l=u[0],f=u[1],d=Ze(2);return{a:function(){return s.mul(l.sub(f).mul(d))},b:function(){return s.mul(f.sub(l).mul(d))}}},op,{},o,[])}}),_K=ue({abs_:function(e){var t=W(e,"x","abs");return t.dtype==="complex64"?de.runKernelFunc(function(n){return n.complexAbs(t)},{$x:t}):de.runKernelFunc(function(n,r){var a=n.abs(t);return r([t]),a},{x:t},function(n,r){var a=r[0];return{x:function(){return n.mul(a.toFloat().step(-1))}}},"Abs")}}),EK=ue({acos_:function(e){var t=W(e,"x","acos");return de.runKernelFunc(function(n,r){var a=n.acos(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(Ze(1).sub(a.toFloat().square()).sqrt()).neg()}}})}}),SK=ue({acosh_:function(e){var t=W(e,"x","acosh");return de.runKernelFunc(function(n,r){var a=n.acosh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(a.toFloat().square().sub(1).sqrt())}}})}}),TK=ue({asin_:function(e){var t=W(e,"x","asin");return de.runKernelFunc(function(n,r){var a=n.asin(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(Ze(1).sub(a.toFloat().square()).sqrt())}}})}}),AK=ue({asinh_:function(e){var t=W(e,"x","asinh");return de.runKernelFunc(function(n,r){var a=n.asinh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(Ze(1).add(a.toFloat().square()).sqrt())}}})}}),CK=ue({atan_:function(e){var t=W(e,"x","atan");return de.runKernelFunc(function(n,r){var a=n.atan(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.toFloat().square().add(1))}}})}}),OK=ue({atanh_:function(e){var t=W(e,"x","atanh");return de.runKernelFunc(function(n,r){var a=n.atanh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(Ze(1).sub(a.toFloat().square()))}}})}}),RK=ue({ceil_:function(e){var t=W(e,"x","ceil");return de.runKernelFunc(function(n){return n.ceil(t)},{$x:t},function(n){return{$x:function(){return Lt(n)}}})}}),rS=ue({clipByValue_:function(e,t,n){var r=W(e,"x","clipByValue");Q(t<=n,function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."});var a=[r],i={min:t,max:n};return de.runKernelFunc(function(o,s){var u=o.clip(r,t,n);return s([r]),u},{x:r},function(o,s){var u=s[0];return{x:function(){return o.where(u.greaterEqual(t).logicalAnd(u.lessEqual(n)),Lt(o))}}},"ClipByValue",i,a)}}),DK=ue({cos_:function(e){var t=W(e,"x","cos"),n=[t];return de.runKernelFunc(function(r,a){var i=r.cos(t);return a([t]),i},{x:t},function(r,a){var i=a[0];return{x:function(){return i.toFloat().sin().neg().mul(r)}}},"Cos",{},n)}}),NK=ue({cosh_:function(e){var t=W(e,"x","cosh");return de.runKernelFunc(function(n,r){var a=n.cosh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return a.toFloat().sinh().mulStrict(n)}}})}}),kK=ue({erf_:function(e){var t=W(e,"x","erf");return Q(t.dtype==="int32"||t.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),t.dtype==="int32"&&(t=t.toFloat()),de.runKernelFunc(function(n,r){var a=n.erf(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),p_=ue({exp_:function(e){var t=W(e,"x","exp");return de.runKernelFunc(function(n,r){var a=n.exp(t);return r([a]),a},{x:t},function(n,r){return{x:function(){return n.mulStrict(r[0])}}},"Exp",{},[],[!0])}}),PK=ue({expm1_:function(e){var t=W(e,"x","expm1");return de.runKernelFunc(function(n,r){var a=n.expm1(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.exp())}}})}}),MK=ue({floor_:function(e){var t=W(e,"x","floor");return de.runKernelFunc(function(n){return n.floor(t)},{$x:t},function(n){return{$x:function(){return Lt(n)}}})}}),IK=ue({log_:function(e){var t=W(e,"x","log"),n=[t];return de.runKernelFunc(function(r,a){var i=r.log(t);return a([t]),i},{x:t},function(r,a){var i=a[0];return{x:function(){return r.div(i.toFloat())}}},"Log",{},n)}}),FK=ue({log1p_:function(e){var t=W(e,"x","log1p");return de.runKernelFunc(function(n,r){var a=n.log1p(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.add(1))}}})}}),BK=ue({logSigmoid_:function(e){var t=W(e,"x","logSigmoid");return de.runKernelFunc(function(n,r){var a=n.softplus(t.neg()).neg();return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.neg().sigmoid())}}})}}),Wm=ue({neg_:function(e){var t=W(e,"x","neg"),n=[t];return de.runKernelFunc(function(r){return r.neg(t)},{x:t},function(r){return{x:function(){return r.neg()}}},"Neg",{},n)}}),LK=ue({reciprocal_:function(e){var t=W(e,"x","reciprocal");return de.runKernelFunc(function(n,r){var a=n.reciprocal(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.square().neg())}}})}}),jK=ue({round_:function(e){var t=W(e,"x","round");return de.runKernelFunc(function(n){return n.round(t)},{$x:t},function(n){return{$x:function(){return Lt(n)}}})}}),hB=ue({rsqrt_:function(e){var t=W(e,"x","rsqrt"),n=[t];return de.runKernelFunc(function(r,a){var i=r.rsqrt(t);return a([t]),i},{x:t},function(r,a){var i=a[0];return{x:function(){return r.div(i.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),dB=ue({sigmoid_:function(e){var t=W(e,"x","sigmoid");return de.runKernelFunc(function(n,r){var a=n.sigmoid(t);return r([a]),a},{x:t},function(n,r){var a=r[0];return{x:function(){return n.mul(a.mul(Ze(1).sub(a)))}}},"Sigmoid")}}),UK=ue({sign_:function(e){var t=W(e,"x","sign");return de.runKernelFunc(function(n){return n.sign(t)},{$x:t},function(n){return{$x:function(){return Lt(n)}}})}}),zK=ue({isNaN_:function(e){var t=W(e,"x","isNaN");return de.runKernelFunc(function(n){return n.isNaN(t)},{$x:t},function(n){return{$x:function(){return Lt(n)}}})}}),WK=ue({isInf_:function(e){var t=W(e,"x","isInf");return de.runKernelFunc(function(n){return n.isInf(t)},{$x:t},function(n){return{$x:function(){return Lt(n)}}})}}),HK=ue({isFinite_:function(e){var t=W(e,"x","isFinite");return de.runKernelFunc(function(n){return n.isFinite(t)},{$x:t},function(n){return{$x:function(){return Lt(n)}}})}}),$K=ue({sin_:function(e){var t=W(e,"x","sin"),n=[t];return de.runKernelFunc(function(r,a){var i=r.sin(t);return a([t]),i},{x:t},function(r,a){var i=a[0];return{x:function(){return i.toFloat().cos().mul(r)}}},"Sin",{},n)}}),VK=ue({sinh_:function(e){var t=W(e,"x","sinh");return de.runKernelFunc(function(n,r){var a=n.sinh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return a.toFloat().cosh().mulStrict(n)}}})}}),qK=ue({softplus_:function(e){var t=W(e,"x","softplus");return de.runKernelFunc(function(n,r){var a=n.softplus(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.sigmoid())}}})}}),GK=ue({sqrt_:function(e){var t=W(e,"x","sqrt");return de.runKernelFunc(function(n,r){var a=n.sqrt(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.toFloat().sqrt().mul(2))}}})}}),KK=ue({step_:function(e,t){t===void 0&&(t=0);var n=W(e,"x","step");return de.runKernelFunc(function(r){return r.step(n,t)},{$x:n},function(r){return{$x:function(){return Lt(r)}}})}}),XK=ue({tan_:function(e){var t=W(e,"x","tan");return de.runKernelFunc(function(n,r){var a=n.tan(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.cos().square())}}})}}),YK=ue({tanh_:function(e){var t=W(e,"x","tanh");return de.runKernelFunc(function(n,r){var a=n.tanh(t);return r([a]),a},{x:t},function(n,r){var a=r[0];return{x:function(){return Ze(1).sub(a.square()).mulStrict(n)}}},"Tanh",{},null,[!0])}});function pB(e,t,n,r,a,i){var o,s,u=W(e,"x","batchNorm"),l=W(t,"mean","batchNorm"),f=W(n,"variance","batchNorm");return a!=null&&(o=W(a,"scale","batchNorm")),r!=null&&(s=W(r,"offset","batchNorm")),Q(u.rank===2,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),Q(l.rank===2||l.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+l.rank+"."}),Q(f.rank===2||f.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+f.rank+"."}),o!=null&&Q(o.rank===2||o.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."}),s!=null&&Q(s.rank===2||s.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),Lp(u,l,f,s,o,i)}function vB(e,t,n,r,a,i){var o,s,u=W(e,"x","batchNorm"),l=W(t,"mean","batchNorm"),f=W(n,"variance","batchNorm");return a!=null&&(o=W(a,"scale","batchNorm")),r!=null&&(s=W(r,"offset","batchNorm")),Q(u.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),Q(l.rank===3||l.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+l.rank+"."}),Q(f.rank===3||f.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+f.rank+"."}),o!=null&&Q(o.rank===3||o.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."}),s!=null&&Q(s.rank===3||s.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),Lp(u,l,f,s,o,i)}function mB(e,t,n,r,a,i){var o,s,u=W(e,"x","batchNorm"),l=W(t,"mean","batchNorm"),f=W(n,"variance","batchNorm");return a!=null&&(o=W(a,"scale","batchNorm")),r!=null&&(s=W(r,"offset","batchNorm")),Q(u.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."}),Q(l.rank===4||l.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+l.rank+"."}),Q(f.rank===4||f.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+f.rank+"."}),o!=null&&Q(o.rank===4||o.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+o.rank+"."}),s!=null&&Q(s.rank===4||s.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),Lp(u,l,f,s,o,i)}function Lp(e,t,n,r,a,i){i==null&&(i=.001);var o,s,u,l=W(e,"x","batchNorm"),f=W(t,"mean","batchNorm"),d=W(n,"variance","batchNorm");a!=null&&(o=W(a,"scale","batchNorm")),r!=null&&(s=W(r,"offset","batchNorm")),Q(f.rank===d.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),Q(s==null||f.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),Q(o==null||f.rank===o.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),u=l.rank===0||l.rank===1?l.as4D(1,1,1,l.size):l.rank===2?l.as4D(1,1,l.shape[0],l.shape[1]):l.rank===3?l.as4D(1,l.shape[0],l.shape[1],l.shape[2]):l;var p=[l,f,d,o];return de.runKernelFunc(function(m,g){var x=m.batchNormalization(u,Lv(f),Lv(d),i,Lv(o),Lv(s));return g([l,f,d,o]),x},{x:l,mean:f,variance:d,scale:o,offset:s},function(m,g){var x=g,b=x[0],w=x[1],E=x[2],S=x[3],A=S??Ze(1),T=sr(w.shape,u.shape),R=[];if(w.rank===1){for(var D=0;D<u.shape.length-1;++D)R.push(u.shape[D]);R.push(1)}var P=b.sub(w),k=m.mul(A),I=hB(E.add(Ze(i))),F=I.mul(I).mul(I).mul(Ze(-.5));return{x:function(){return w.rank===1?m.mul(Tf(I.as4D(1,1,1,w.shape[0]),R)).mul(A).reshape(b.shape):m.mul(I).mul(A).reshape(b.shape)},mean:function(){var B=I.mul(Ze(-1)).mul(k);return w.rank===1&&(B=B.sum(T)),B.reshape(w.shape)},variance:function(){var B=F.mul(P).mul(k);return w.rank===1&&(B=B.sum(T)),B.reshape(w.shape)},scale:function(){var B=P.mul(I),te=m.mul(B);return w.rank===1&&(te=te.sum(T)),te.reshape(w.shape)},offset:function(){var B=m;return w.rank===1&&(B=B.sum(T)),B.reshape(w.shape)}}},"BatchNormalization",{varianceEpsilon:i},p).reshape(l.shape)}function Lv(e){return e==null?null:e.rank===0?e.as1D():e.rank===1?e:e.rank===2?e.as4D(1,1,e.shape[0],e.shape[1]):e.rank===3?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function ey(){NF("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var QK=ue({batchNormalization2d_:function(e,t,n,r,a,i){return r===void 0&&(r=.001),ey(),pB(e,t,n,i,a,r)}}),ZK=ue({batchNormalization3d_:function(e,t,n,r,a,i){return r===void 0&&(r=.001),ey(),vB(e,t,n,i,a,r)}}),JK=ue({batchNormalization4d_:function(e,t,n,r,a,i){return r===void 0&&(r=.001),ey(),mB(e,t,n,i,a,r)}}),eX=ue({batchNormalization_:function(e,t,n,r,a,i){return r===void 0&&(r=.001),ey(),Lp(e,t,n,i,a,r)}}),gB=ue({batchNorm_:Lp}),tX=ue({batchNorm2d_:pB}),nX=ue({batchNorm3d_:vB}),rX=ue({batchNorm4d_:mB}),ty=ue({logicalAnd_:function(e,t){var n=W(e,"a","logicalAnd","bool"),r=W(t,"b","logicalAnd","bool");return It(n.shape,r.shape),de.runKernelFunc(function(a){return a.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),aX=ue({logicalNot_:function(e){var t=W(e,"x","logicalNot","bool");return de.runKernelFunc(function(n){return n.logicalNot(t)},{$x:t})}}),yB=ue({logicalOr_:function(e,t){var n=W(e,"a","logicalOr","bool"),r=W(t,"b","logicalOr","bool");return It(n.shape,r.shape),de.runKernelFunc(function(a){return a.logicalOr(n,r)},{$a:n,$b:r})}}),iX=ue({logicalXor_:function(e,t){var n=W(e,"a","logicalXor","bool"),r=W(t,"b","logicalXor","bool");return It(n.shape,r.shape),yB(e,t).logicalAnd(ty(e,t).logicalNot())}}),Hl=ue({where_:function(e,t,n){var r=W(t,"a","where"),a=W(n,"b","where"),i=W(e,"condition","where","bool");return Kt(r.shape,a.shape,"Error in where: "),i.rank===1?Q(i.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):Kt(i.shape,a.shape,"Error in where: "),de.runKernelFunc(function(o,s){var u=o.select(i,r,a);return s([i]),u},{$condition:i,$a:r,$b:a},function(o,s){var u=s[0];return{$condition:function(){return Lt(u).toFloat()},$a:function(){return o.mul(u.cast(o.dtype))},$b:function(){return o.mul(u.logicalNot().cast(o.dtype))}}})}}),xB=function(e){return ot(this,void 0,void 0,function(){var t,n,r;return st(this,function(a){switch(a.label){case 0:return[4,(t=W(e,"condition","whereAsync","bool")).data()];case 1:return n=a.sent(),r=JE(t.shape,n),e!==t&&t.dispose(),[2,r]}})})},kt=ue({add_:function(e,t){var n,r=W(e,"a","add"),a=W(t,"b","add");n=Dn(r,a),r=n[0],a=n[1];var i=It(r.shape,a.shape);return de.runKernelFunc(function(o){return o.add(r,a)},{a:r,b:a},function(o){return{a:function(){var s=o,u=sr(r.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)},b:function(){var s=o,u=sr(a.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(a.shape)}}},"Add")}}),oX=ue({addN_:function(e){Q(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),Q(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(a,i){return W(a,"tensors"+i,"addN")}),n=t[0];t.forEach(function(a){if(a.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(a){if(!Er(a.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=t;return de.runKernelFunc(function(a){return a.addN(t)},r,function(a){var i={};return t.forEach(function(o,s){i[s]=function(){return a.clone()}}),i},"AddN")}}),sX=ue({addStrict_:function(e,t){var n=W(e,"a","addStrict"),r=W(t,"b","addStrict");return Kt(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),uX=ue({atan2_:function(e,t){var n,r=W(e,"a","atan2"),a=W(t,"b","atan2");n=Dn(r,a),r=n[0],a=n[1];var i=It(r.shape,a.shape);return de.runKernelFunc(function(o,s){var u=o.atan2(r,a);return s([r,a]),u},{$a:r,$b:a},function(o,s){var u=s[0],l=s[1];return{$a:function(){var f=kt(u.square(),l.square()),d=o.mul(l.div(f)),p=sr(u.shape,i);return p.length>0&&(d=d.sum(p)),d.reshape(u.shape)},$b:function(){var f=kt(u.square(),l.square()),d=Wm(o.mul(u.div(f))),p=sr(l.shape,i);return p.length>0&&(d=d.sum(p)),d.reshape(l.shape)}}})}}),Yi=ue({div_:function(e,t){var n,r=W(e,"a","div"),a=W(t,"b","div");if(n=Dn(r,a),r=n[0],a=n[1],r.dtype==="int32"&&a.dtype==="int32")return bB(r,a);var i=It(r.shape,a.shape);return de.runKernelFunc(function(o,s){var u=o.realDivide(r,a);return s([r,a]),u},{a:r,b:a},function(o,s){var u=s[0],l=s[1];return{a:function(){var f=o.div(l.toFloat()),d=sr(u.shape,i);return d.length>0?f.sum(d).reshape(u.shape):f},b:function(){var f=o.mul(u.toFloat()),d=sr(l.shape,i);d.length>0&&(f=f.sum(d).reshape(l.shape));var p=l.square();return f.div(p.toFloat()).neg()}}},"Div")}}),lX=ue({divNoNan_:function(e,t){var n,r=W(e,"a","div"),a=W(t,"b","div");r=(n=Dn(r,a))[0],a=n[1];var i=Yi(r,a),o=Lt(i),s=a.equal(o);return Hl(s,o,i)}}),cX=ue({divStrict_:function(e,t){var n=W(e,"a","div"),r=W(t,"b","div");return Kt(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),bB=ue({floorDiv_:function(e,t){var n,r=W(e,"a","floorDiv"),a=W(t,"b","floorDiv");n=Dn(r,a),r=n[0],a=n[1];var i=It(r.shape,a.shape);return de.runKernelFunc(function(o,s){var u=o.floorDiv(r,a);return s([r,a]),u},{a:r,b:a},function(o,s){var u=s[0],l=s[1];return{a:function(){var f=o.div(l.toFloat()),d=sr(u.shape,i);return d.length>0?f.sum(d).reshape(u.shape):f},b:function(){var f=o.mul(u.toFloat()),d=sr(l.shape,i);d.length>0&&(f=f.sum(d).reshape(l.shape));var p=l.square();return f.div(p.toFloat()).neg()}}},"FloorDiv")}}),aS=ue({maximum_:function(e,t){var n,r=W(e,"a","maximum"),a=W(t,"b","maximum");return n=Dn(r,a),r=n[0],a=n[1],r.dtype==="bool"&&(r=r.toInt(),a=a.toInt()),It(r.shape,a.shape),de.runKernelFunc(function(i,o){var s=i.maximum(r,a);return o([r,a]),s},{a:r,b:a},function(i,o){var s=o[0],u=o[1];return{a:function(){return i.mul(s.greaterEqual(u).toFloat())},b:function(){return i.mul(s.less(u).toFloat())}}},"Maximum")}}),fX=ue({maximumStrict_:function(e,t){var n=W(e,"a","maximumStrict"),r=W(t,"b","maximumStrict");return Kt(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),wB=ue({minimum_:function(e,t){var n,r=W(e,"a","minimum"),a=W(t,"b","minimum");return n=Dn(r,a),r=n[0],a=n[1],r.dtype==="bool"&&(r=r.toInt(),a=a.toInt()),It(r.shape,a.shape),de.runKernelFunc(function(i,o){var s=i.minimum(r,a);return o([r,a]),s},{a:r,b:a},function(i,o){var s=o[0],u=o[1];return{a:function(){return i.mul(s.lessEqual(u).toFloat())},b:function(){return i.mul(s.greater(u).toFloat())}}},"Minimum")}}),hX=ue({minimumStrict_:function(e,t){var n=W(e,"a","minimumStrict"),r=W(t,"b","minimumStrict");return Kt(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),dX=ue({mod_:function(e,t){var n,r=W(e,"a","mod"),a=W(t,"b","mod");n=Dn(r,a),r=n[0],a=n[1];var i=It(r.shape,a.shape);return de.runKernelFunc(function(o,s){var u=o.mod(r,a);return s([r,a]),u},{$a:r,$b:a},function(o,s){var u=s[0],l=s[1];return{$a:function(){var f=sr(u.shape,i);return f.length>0?o.sum(f).reshape(u.shape):o},$b:function(){var f=o.mul(u.div(l).floor().neg()),d=sr(l.shape,i);return d.length>0?f.sum(d).reshape(l.shape):f}}})}}),pX=ue({modStrict_:function(e,t){var n=W(e,"a","modStrict"),r=W(t,"b","modStrict");return Kt(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),Zr=ue({mul_:function(e,t){var n,r=W(e,"a","mul"),a=W(t,"b","mul");n=Dn(r,a),r=n[0],a=n[1];var i=It(r.shape,a.shape);return de.runKernelFunc(function(o,s){var u=o.multiply(r,a);return s([r,a]),u},{a:r,b:a},function(o,s){var u=s[0],l=s[1];return{a:function(){var f=o.mul(l.toFloat()),d=sr(u.shape,i);return d.length>0?f.sum(d).reshape(u.shape):f},b:function(){var f=o.mul(u.toFloat()),d=sr(l.shape,i);return d.length>0?f.sum(d).reshape(l.shape):f}}},"Mul")}}),vX=ue({mulStrict_:function(e,t){var n=W(e,"a","mul"),r=W(t,"b","mul");return Kt(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Hm=ue({pow_:function(e,t){var n,r=W(e,"base","pow"),a=W(t,"exp","pow");n=Dn(r,a),r=n[0],a=n[1];var i=It(r.shape,a.shape),o=[r,a];return de.runKernelFunc(function(s,u){var l=s.pow(r,a);return u([r,a,l]),l},{a:r,b:a},function(s,u){var l=u[0],f=u[1],d=u[2];return{a:function(){var p=f.toFloat(),m=s.mul(p.mul(l.pow(p.sub(Ze(1))))),g=sr(l.shape,i);return g.length>0&&(m=m.sum(g)),m.reshape(l.shape)},b:function(){var p=l.greater(0),m=l.log().where(p,Lt(l)),g=s.mul(d.mul(m)),x=sr(f.shape,i);return x.length>0&&(g=g.sum(x)),g.reshape(f.shape)}}},"Pow",{},o,[!0])}}),mX=ue({powStrict_:function(e,t){return Kt(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),gX=ue({squaredDifferenceStrict_:function(e,t){var n=W(e,"a","squaredDifferenceStrict"),r=W(t,"b","squaredDifferenceStrict");return Kt(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),ur=ue({sub_:function(e,t){var n,r=W(e,"a","sub"),a=W(t,"b","sub");n=Dn(r,a),r=n[0],a=n[1];var i=It(r.shape,a.shape);return de.runKernelFunc(function(o){return o.subtract(r,a)},{a:r,b:a},function(o){return{a:function(){var s=o,u=sr(r.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)},b:function(){var s=o,u=sr(a.shape,i);return u.length>0&&(s=s.sum(u)),s.neg().reshape(a.shape)}}},"Sub")}}),yX=ue({subStrict_:function(e,t){var n=W(e,"a","subStrict"),r=W(t,"b","subStrict");return Kt(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),_B=ue({equal_:function(e,t){var n,r=W(e,"a","equal"),a=W(t,"b","equal");return n=Dn(r,a),r=n[0],a=n[1],It(r.shape,a.shape),de.runKernelFunc(function(i){return i.equal(r,a)},{$a:r,$b:a})}}),xX=ue({equalStrict_:function(e,t){var n=W(e,"a","equalStrict"),r=W(t,"b","equalStrict");return Kt(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),bX=ue({greater_:function(e,t){var n,r=W(e,"a","greater"),a=W(t,"b","greater");return n=Dn(r,a),r=n[0],a=n[1],It(r.shape,a.shape),de.runKernelFunc(function(i){return i.greater(r,a)},{a:r,b:a},null,"Greater")}}),EB=ue({greaterEqual_:function(e,t){var n,r=W(e,"a","greaterEqual"),a=W(t,"b","greaterEqual");return n=Dn(r,a),r=n[0],a=n[1],It(r.shape,a.shape),de.runKernelFunc(function(i,o){var s=i.greaterEqual(r,a);return o([r,a]),s},{a:r,b:a},function(i,o){var s=o[0],u=o[1];return{a:function(){return Lt(s)},b:function(){return Lt(u)}}},"GreaterEqual")}}),wX=ue({greaterEqualStrict_:function(e,t){var n=W(e,"a","greaterEqualStrict"),r=W(t,"b","greaterEqualStrict");return Kt(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),_X=ue({greaterStrict_:function(e,t){var n=W(e,"a","greaterStrict"),r=W(t,"b","greaterStrict");return Kt(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),EX=ue({less_:function(e,t){var n,r=W(e,"a","less"),a=W(t,"b","less");return n=Dn(r,a),r=n[0],a=n[1],It(r.shape,a.shape),de.runKernelFunc(function(i){return i.less(r,a)},{a:r,b:a},null,"Less")}}),SX=ue({lessEqual_:function(e,t){var n,r=W(e,"a","lessEqual"),a=W(t,"b","lessEqual");return n=Dn(r,a),r=n[0],a=n[1],It(r.shape,a.shape),de.runKernelFunc(function(i,o){var s=i.lessEqual(r,a);return o([r,a]),s},{a:r,b:a},null,"LessEqual")}}),TX=ue({lessEqualStrict_:function(e,t){var n=W(e,"a","lessEqualStrict"),r=W(t,"b","lessEqualStrict");return Kt(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),AX=ue({lessStrict_:function(e,t){var n=W(e,"a","lessStrict"),r=W(t,"b","lessStrict");return Kt(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),CX=ue({notEqual_:function(e,t){var n,r=W(e,"a","notEqual"),a=W(t,"b","notEqual");return n=Dn(r,a),r=n[0],a=n[1],It(r.shape,a.shape),de.runKernelFunc(function(i){return i.notEqual(r,a)},{a:r,b:a},null,"NotEqual")}}),OX=ue({notEqualStrict_:function(e,t){var n=W(e,"a","notEqualStrict"),r=W(t,"b","notEqualStrict");return Kt(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function Q3(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function Z3(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var iS=ue({gather_:function(e,t,n){n===void 0&&(n=0);var r=W(e,"x","gather"),a=W(t,"indices","gather","int32");n=lr(n,r.shape)[0];var i=function(o,s,u){for(var l=o.shape[u],f=[],d=1,p=1,m=0;m<u;m++)f.push(o.shape[m]),d*=o.shape[m];for(m=0;m<s.rank;m++)f.push(s.shape[m]);for(m=u+1;m<o.rank;m++)f.push(o.shape[m]),p*=o.shape[m];return{batchSize:d,sliceSize:p,dimSize:l,outputShape:f}}(r,a,n);return de.runKernelFunc(function(o,s){var u=o.gather(r,a.flatten(),n);return s([a]),u},{x:r,indices:a},function(o,s){var u=s[0];return{x:function(){var l=r.shape,f=u.size,d=l.slice(0,n),p=d.length,m=l.slice(n,l.length).slice(1),g=m.length,x=Q3(0,p),b=Q3(p+1,p+1+g),w=Z3([d,[f],m]),E=o.reshape(w),S=u.reshape([f]),A=Z3([[p],x,b]),T=E.transpose(A),R=SB(T,S,r.shape[n]),D=VE(A);return R=R.transpose(D)},indices:function(){return u}}},"Gather",{axis:n}).reshape(i.outputShape)}}),SB=ue({unsortedSegmentSum_:function(e,t,n){var r=W(e,"x","unsortedSegmentSum"),a=W(t,"segmentIds","unsortedSegmentSum","int32");return Q(Un(n),function(){return"numSegments must be of dtype int"}),de.runKernelFunc(function(i,o){var s=i.unsortedSegmentSum(r,a,n);return o([a]),s},{$x:r},function(i,o){var s=o[0];return{$x:function(){return function(u,l){for(var f=aS(l,Lt(l)),d=iS(u,f),p=EB(l,Ze(0,"int32")),m=d.rank-p.rank,g=0;g<m;++g)p=Ai(p,g+1);p=ty(p,ih(d.shape,"bool"));var x=Lt(d);return Hl(p,d,x)}(i,s)}}})}}),RX=function(e,t,n){return ot(this,void 0,void 0,function(){var r,a,i,o,s,u,l,f,d,p,m,g,x;return st(this,function(b){switch(b.label){case 0:for(r=W(e,"tensor","boolMask"),a=W(t,"mask","boolMask","bool"),i=n??0,o=a.rank,s=r.shape,Q(o>0,function(){return"mask cannot be scalar"}),Kt(s.slice(i,i+o),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,l=i;l<i+o;l++)u*=s[l];return f=s.slice(0,i).concat([u],s.slice(i+o)),d=r.reshape(f),p=a.reshape([-1]),[4,xB(p)];case 1:return m=b.sent(),g=m.squeeze([1]),x=iS(d,g,i),e!==r&&r.dispose(),t!==a&&a.dispose(),g.dispose(),d.dispose(),p.dispose(),m.dispose(),[2,x]}})})};function TB(e,t,n,r,a,i,o){i===void 0&&(i="NHWC"),Q(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var s=e,u=t,l=!1;t.rank===3&&(l=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),Q(s.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),Q(u.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank}),Q(n.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var f=i==="NHWC"?s[3]:s[1],d=i==="NHWC"?u.shape[3]:u.shape[1];Q(f===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+f+") must match input depth for filter "+n.shape[2]+"."}),Q(d===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+d+") must match output depth for filter "+n.shape[3]+"."}),o!=null&&Q(Un(a),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."});var p=YE(i),m=rc(s,n.shape,r,1,a,o,!1,p),g=de.runKernelFunc(function(x,b){var w=x.conv2dDerInput(u,n,m);return b([n,u]),w},{dy4D:u,filter:n},function(x,b){var w=b[0],E=b[1];return{dy4D:function(){return Ii(x,w,r,a,i,1,o)},filter:function(){return oS(x,E,w.shape,r,a,i,o)}}});return l?g.as3D(g.shape[1],g.shape[2],g.shape[3]):g}function Ub(e){var t=function(i){return typeof i=="number"?[i,i,i]:i.length===2?[i[0],i[1],1]:i}(e),n=t[0],r=t[1],a=t[2];return n===1&&r===1&&a===1}function AB(e,t,n,r,a){Q(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var i=e,o=t,s=!1;t.rank===4&&(s=!0,o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),i=[1,e[0],e[1],e[2],e[3]]);var u=i[4],l=o.shape[4];Q(i.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+i.length+"."}),Q(o.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+o.rank}),Q(n.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),Q(u===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."}),Q(l===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+l+") must match output depth for filter "+n.shape[4]+"."});var f=Um(i,n.shape,r,1,a),d=de.runKernelFunc(function(p){return p.conv3dDerInput(o,n,f)},{dy5D:o});return s?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}var DX=ue({conv1d_:function(e,t,n,r,a,i,o){a===void 0&&(a="NWC"),i===void 0&&(i=1);var s=W(e,"x","conv1d"),u=W(t,"filter","conv1d"),l=s,f=!1;s.rank===2&&(f=!0,l=s.as3D(1,s.shape[0],s.shape[1])),Q(l.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."}),Q(u.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."}),o!=null&&Q(Un(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}),Q(l.shape[2]===u.shape[1],function(){return"Error in conv1d: depth of input ("+l.shape[2]+") must match input depth for filter "+u.shape[1]+"."}),Q(Oa(n,i),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+i+"'"}),Q(a==="NWC",function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."});var d=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),p=l.as4D(l.shape[0],1,l.shape[1],l.shape[2]),m=Ii(p,d,[1,n],r,"NHWC",[1,i],o);return f?m.as2D(m.shape[2],m.shape[3]):m.as3D(m.shape[0],m.shape[2],m.shape[3])}}),Ii=ue({conv2d_:function(e,t,n,r,a,i,o){a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]);var s=W(e,"x","conv2d"),u=W(t,"filter","conv2d"),l=s,f=!1;s.rank===3&&(f=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),Q(l.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."}),Q(u.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."}),o!=null&&Q(Un(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var d=a==="NHWC"?l.shape[3]:l.shape[1];Q(d===u.shape[2],function(){return"Error in conv2d: depth of input ("+d+") must match input depth for filter "+u.shape[2]+"."}),Q(Oa(n,i),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"});var p=YE(a),m=rc(l.shape,u.shape,n,i,r,o,!1,p),g=[u,l],x=de.runKernelFunc(function(b,w){var E=b.conv2d(l,u,m);return w([u,l]),E},{x:l,filter:u},function(b,w){var E=w,S=E[0],A=E[1];return Q(Uf(i),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"}),{x:function(){return CB(A.shape,b,S,n,r,a)},filter:function(){return oS(A,b,S.shape,n,r,a)}}},"Conv2D",m,g);return f?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),NX=ue({conv3d_:function(e,t,n,r,a,i){a===void 0&&(a="NDHWC"),i===void 0&&(i=[1,1,1]);var o=W(e,"x","conv3d"),s=W(t,"filter","conv3d"),u=o,l=!1;o.rank===4&&(l=!0,u=o.as5D(1,o.shape[0],o.shape[1],o.shape[2],o.shape[3])),Q(u.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."}),Q(s.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),Q(u.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),Q(function(p,m){return Ub(p)||Ub(m)}(n,i),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),Q(a==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."});var f=Um(u.shape,s.shape,n,i,r),d=de.runKernelFunc(function(p,m){var g=p.conv3d(u,s,f);return m([u,s]),g},{x:u,$filter:s},function(p,m){Q(Ub(i),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"});var g=m[0],x=m[1];return{x:function(){return AB(g.shape,p,x,n,r)},$filter:function(){return function(b,w,E,S,A){var T=b;b.rank===4&&(T=b.as5D(1,b.shape[0],b.shape[1],b.shape[2],b.shape[3]));var R=w;R.rank===4&&(R=w.as5D(1,w.shape[0],w.shape[1],w.shape[2],w.shape[3])),Q(T.rank===5,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+T.shape+"."}),Q(R.rank===5,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+R.shape+"."}),Q(E.length===5,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+E+"."}),Q(T.shape[4]===E[3],function(){return"Error in conv3dDerFilter: depth of input "+T.shape[4]+") must match input depth in filter ("+E[3]+"."}),Q(R.shape[4]===E[4],function(){return"Error in conv3dDerFilter: depth of dy ("+R.shape[4]+") must match output depth for filter ("+E[4]+")."});var D=Um(T.shape,E,S,1,A);return de.runKernelFunc(function(P){return P.conv3dDerFilter(T,R,D)},{x5D:T,dy5D:R})}(g,p,x.shape,n,r)}}});return l?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),oS=ue({conv2dDerFilter_:function(e,t,n,r,a,i,o){i===void 0&&(i="NHWC");var s=e;e.rank===3&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=t;u.rank===3&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Q(s.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),Q(u.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."}),Q(n.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var l=i==="NHWC"?s.shape[3]:s.shape[1],f=i==="NHWC"?u.shape[3]:u.shape[1];Q(l===n[2],function(){return"Error in conv2dDerFilter: depth of input "+l+") must match input depth in filter ("+n[2]+"."}),Q(f===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+f+") must match output depth for filter ("+n[3]+")."}),o!=null&&Q(Un(a),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."});var d=YE(i),p=rc(s.shape,n,r,1,a,o,!1,d);return de.runKernelFunc(function(m){return m.conv2dDerFilter(s,u,p)},{x4D:s,dy4D:u})}}),CB=ue({conv2dDerInput_:TB}),ny=ue({depthwiseConv2d_:function(e,t,n,r,a,i,o){i===void 0&&(i=[1,1]);var s=W(e,"x","depthwiseConv2d"),u=W(t,"filter","depthwiseConv2d"),l=s,f=!1;s.rank===3&&(f=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),Q(l.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+l.rank+"."}),Q(u.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."}),Q(l.shape[3]===u.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+l.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."}),i==null&&(i=[1,1]),Q(Oa(n,i),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),o!=null&&Q(Un(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var d=rc(l.shape,u.shape,n,i,r,o,!0),p=[l,u],m=de.runKernelFunc(function(g,x){var b=g.depthwiseConv2D(l,u,d);return x([l,u]),b},{x:l,filter:u},function(g,x){Q(Uf(i),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"});var b=x[0],w=x[1];return{x:function(){return OB(b.shape,g,w,d)},filter:function(){return RB(b,g,w.shape,d)}}},"DepthwiseConv2dNative",d,p);return f?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),OB=ue({depthwiseConv2dDerInput_:function(e,t,n,r){var a=t,i=!1;t.rank===3&&(i=!0,a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=de.runKernelFunc(function(s){return s.depthwiseConv2DDerInput(a,n,r)},{dy4D:a});return i?o.as3D(o.shape[1],o.shape[2],o.shape[3]):o}}),RB=ue({depthwiseConv2dDerFilter_:function(e,t,n,r){var a=e;e.rank===3&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=t;return i.rank===3&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),de.runKernelFunc(function(o){return o.depthwiseConv2DDerFilter(a,i,r)},{x4D:a,dy4D:i})}}),sS=ue({separableConv2d_:function(e,t,n,r,a,i,o){i===void 0&&(i=[1,1]),o===void 0&&(o="NHWC");var s=W(e,"x","separableConv2d"),u=W(t,"depthwiseFilter","separableConv2d"),l=W(n,"pointwiseFilter","separableConv2d"),f=s,d=!1;if(s.rank===3&&(d=!0,f=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Q(f.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+f.rank+"."}),Q(u.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."}),Q(l.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."}),Q(l.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+l.shape[0]+"."}),Q(l.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+l.shape[1]+"."});var p=u.shape[2],m=u.shape[3];Q(l.shape[2]===p*m,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+p*m+", but got "+l.shape[2]+"."});var g=ny(f,u,r,a,o,i),x=Ii(g,l,1,"valid",o);return d?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),kX=ue({conv2dTranspose_:function(e,t,n,r,a,i){return TB(n,W(e,"x","conv2dTranspose"),W(t,"filter","conv2dTranspose"),r,a,"NHWC",i)}}),PX=ue({conv3dTranspose_:function(e,t,n,r,a){return AB(n,W(e,"x","conv3dTranspose"),W(t,"filter","conv3dTranspose"),r,a)}}),ry=ue({matMul_:function(e,t,n,r){var a;n===void 0&&(n=!1),r===void 0&&(r=!1);var i=W(e,"a","matMul"),o=W(t,"b","matMul");a=Dn(i,o),i=a[0],o=a[1];var s=n?i.shape[i.rank-2]:i.shape[i.rank-1],u=r?o.shape[o.rank-1]:o.shape[o.rank-2],l=n?i.shape[i.rank-1]:i.shape[i.rank-2],f=r?o.shape[o.rank-2]:o.shape[o.rank-1],d=i.shape.slice(0,-2),p=o.shape.slice(0,-2),m=lt(d),g=lt(p);Q(i.rank>=2&&o.rank>=2&&i.rank===o.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+i.rank+" and "+o.rank+"."}),Q(Er(d,p),function(){return"Error in matMul: outer dimensions ("+d+") and ("+p+") of Tensors with shapes "+i.shape+" and "+o.shape+" must match."}),Q(s===u,function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+i.shape+" and "+o.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var x=i.shape.slice(0,-2).concat([l,f]),b=n?i.as3D(m,s,l):i.as3D(m,l,s),w=r?o.as3D(g,f,u):o.as3D(g,u,f),E={transposeA:n,transposeB:r};return de.runKernelFunc(function(S,A){var T=S.batchMatMul(b,w,n,r);return A([b,w]),T},{a:b,b:w},function(S,A){var T=A,R=T[0],D=T[1];return n||r?!n&&r?{a:function(){return S.matMul(D,!1,!1)},b:function(){return S.matMul(R,!0,!1)}}:n&&!r?{a:function(){return D.matMul(S,!1,!0)},b:function(){return R.matMul(S,!1,!1)}}:{a:function(){return D.matMul(S,!0,!0)},b:function(){return S.matMul(R,!0,!0)}}:{a:function(){return S.matMul(D,!1,!0)},b:function(){return R.matMul(S,!0,!1)}}},"BatchMatMul",E).reshape(x)}}),MX=ue({dot_:function(e,t){var n=W(e,"t1","dot"),r=W(t,"t2","dot");Q(!(n.rank!==1&&n.rank!==2||r.rank!==1&&r.rank!==2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var a=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];return Q(a===i,function(){return"Error in dot: inner dimensions of inputs must match, but got "+a+" and "+i+"."}),n.rank===1&&r.rank===1?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():n.rank===1&&r.rank===2?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():n.rank===2&&r.rank===1?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),IX=ue({outerProduct_:function(e,t){var n=W(e,"v1","outerProduct"),r=W(t,"v2","outerProduct");return Q(n.rank===1&&r.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),jp=ue({reverse_:function(e,t){var n=W(e,"x","reverse");if(n.rank===0)return n.clone();var r=lr(t,n.shape);return de.runKernelFunc(function(a){return a.reverse(n,r)},{$x:n},function(a){return{$x:function(){return a.reverse(r)}}}).reshapeAs(n)}}),FX=ue({reverse1d_:function(e){var t=W(e,"x","reverse");return Q(t.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."}),jp(t,0)}}),BX=ue({reverse2d_:function(e,t){var n=W(e,"x","reverse");return Q(n.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),jp(n,t)}}),LX=ue({reverse3d_:function(e,t){var n=W(e,"x","reverse");return Q(n.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),jp(n,t)}}),jX=ue({reverse4d_:function(e,t){var n=W(e,"x","reverse");return Q(n.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),jp(n,t)}});function DB(e,t,n,r,a,i){var o=W(e,"x","maxPool"),s=o,u=!1;o.rank===3&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),Q(s.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),Q(Oa(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),i!=null&&Q(Un(a),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."});var l=ip(s.shape,t,n,r,a,i);if(l.filterWidth===1&&l.filterHeight===1&&Er(l.inShape,l.outShape))return o.clone();var f=[s],d=de.runKernelFunc(function(p,m){var g=p.maxPool(s,l);return m([s,g]),g},{x:s},function(p,m){var g=m[0],x=m[1];return{x:function(){return function(b,w,E,S,A,T,R,D){var P=W(b,"dy","maxPoolBackprop"),k=W(w,"input","maxPoolBackprop"),I=W(E,"output","maxPoolBackprop");Q(k.rank===P.rank,function(){return"Rank of input ("+k.rank+") does not match rank of dy ("+P.rank+")"}),Q(Oa(A,T),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+A+" and dilations '"+T+"'"}),Q(P.rank===4,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+P.rank+"."}),Q(k.rank===4,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+k.rank+"."});var F=ip(k.shape,S,A,T,R,D);return de.runKernelFunc(function(B){return B.maxPoolBackprop(P,k,I,F)},{$dy:P,$input:k})}(p,g,x,t,n,r,a)}}},"MaxPool",l,f);return u?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}function NB(e,t,n,r,a,i){var o=W(e,"x","avgPool","float32");Q(Oa(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var s=o,u=!1;o.rank===3&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),Q(s.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),i!=null&&Q(Un(a),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."});var l=ip(s.shape,t,n,r,a,i);if(l.filterWidth===1&&l.filterHeight===1&&Er(l.inShape,l.outShape))return o.clone();var f=de.runKernelFunc(function(d){return d.avgPool(s,l)},{x:s},function(d){return{x:function(){return function(p,m,g,x,b,w){var E=W(p,"dy","avgPoolBackprop"),S=W(m,"input","avgPoolBackprop");Q(S.rank===E.rank,function(){return"Rank of input ("+S.rank+") does not match rank of dy ("+E.rank+")"}),Q(Oa(x,b),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+x+" and dilations '"+b+"'"});var A=S,T=E,R=!1;S.rank===3&&(R=!0,A=S.as4D(1,S.shape[0],S.shape[1],S.shape[2]),T=E.as4D(1,E.shape[0],E.shape[1],E.shape[2])),Q(T.rank===4,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+T.rank+"."}),Q(A.rank===4,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+A.rank+"."});var D=ip(A.shape,g,x,b,w),P=de.runKernelFunc(function(k){return k.avgPoolBackprop(T,A,D)},{dy4D:T,input4D:A});return R?P.as3D(P.shape[1],P.shape[2],P.shape[3]):P}(d,s,t,n,r,a)}}},"AvgPool",l);return f=f.cast(o.dtype),u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}var yr=ue({maxPool_:function(e,t,n,r,a){return DB(e,t,n,1,r,a)}}),Up=ue({avgPool_:function(e,t,n,r,a){return NB(e,t,n,1,r,a)}}),UX=ue({pool_:function(e,t,n,r,a,i){a==null&&(a=[1,1]),i==null&&(i=1),r===0&&(r="valid");var o=W(e,"x","maxPool"),s=o,u=!1;o.rank===3&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),Q(Oa(i,a),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"});var l,f=ip(s.shape,t,i,a,r),d=[f.dilationHeight,f.dilationWidth];l=r==="same"?function(A,T){var R=A.map(function(k,I){return k+(k-1)*(T[I]-1)}).map(function(k){return k-1}),D=R.map(function(k){return Math.floor(k/2)}),P=R.map(function(k,I){return k-D[I]});return R.map(function(k,I){return[D[I],P[I]]})}([f.filterHeight,f.filterWidth],d):[[0,0],[0,0]];var p=d[0]===1&&d[1]===1,m=function(A,T,R){var D=R.map(function(ae){return ae[0]}),P=R.map(function(ae){return ae[1]}),k=A.concat(D,P),I=T.map(function(ae,V){return(ae-k[V]%ae)%ae}),F=P.map(function(ae,V){return ae+I[V]}),B=T.map(function(ae,V){return[D[V],F[V]]}),te=T.map(function(ae,V){return[0,I[V]]});return[B,te]}([f.inHeight,f.inWidth],d,l),g=m[0],x=m[1],b=p?r:"valid",w=p?s:BF(s,d,g),E=(n==="avg"?function(){return NB(w,t,i,1,b)}:function(){return DB(w,t,i,1,b)})(),S=p?E:MF(E,d,x);return u?S.as3D(S.shape[1],S.shape[2],S.shape[3]):S}}),zX=ue({maxPool3d_:function(e,t,n,r,a,i,o){i===void 0&&(i="NDHWC");var s=W(e,"x","maxPool3d"),u=s,l=!1;s.rank===4&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),o==null&&(o=[1,1,1]),Q(u.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."}),Q(i==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),Q(Oa(n,o),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),a!=null&&Q(Un(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var f=jm(u.shape,t,n,o,r,a,i),d=de.runKernelFunc(function(p,m){var g=p.maxPool3d(u,f);return m([u,g]),g},{x:u},function(p,m){var g=m[0],x=m[1];return{x:function(){return function(b,w,E,S,A,T,R,D){var P=W(b,"dy","maxPool3dBackprop"),k=W(w,"input","maxPool3dBackprop"),I=W(E,"output","maxPool3dBackprop"),F=P,B=k,te=I,ae=!1;k.rank===4&&(ae=!0,F=P.as5D(1,P.shape[0],P.shape[1],P.shape[2],P.shape[3]),B=k.as5D(1,k.shape[0],k.shape[1],k.shape[2],k.shape[3]),te=I.as5D(1,I.shape[0],I.shape[1],I.shape[2],I.shape[3])),Q(F.rank===5,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+F.rank+"."}),Q(B.rank===5,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+B.rank+"."}),Q(te.rank===5,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+te.rank+"."}),T==null&&(T=[1,1,1]),Q(Oa(A,T),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+A+" and dilations '"+T+"'"}),D!=null&&Q(Un(R),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+D+" but got pad "+R+"."});var V=jm(B.shape,S,A,T,R,D),H=de.runKernelFunc(function(Z){return Z.maxPool3dBackprop(F,B,te,V)},{dy5D:F,input5D:B});return ae?H.as4D(H.shape[1],H.shape[2],H.shape[3],H.shape[4]):H}(p,g,x,t,n,o,r,a)}}});return l?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),WX=ue({avgPool3d_:function(e,t,n,r,a,i,o){i===void 0&&(i="NDHWC");var s=W(e,"x","avgPool3d","float32"),u=s,l=!1;s.rank===4&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),o==null&&(o=[1,1,1]),Q(u.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."}),Q(i==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),Q(Oa(n,o),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),a!=null&&Q(Un(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var f=jm(u.shape,t,n,o,r,a,i),d=de.runKernelFunc(function(p){return p.avgPool3d(u,f)},{x:u},function(p){return{x:function(){return function(m,g,x,b,w,E,S){var A=W(m,"dy","avgPool3dBackprop"),T=W(g,"input","avgPool3dBackprop"),R=A,D=T,P=!1;T.rank===4&&(P=!0,R=A.as5D(1,A.shape[0],A.shape[1],A.shape[2],A.shape[3]),D=T.as5D(1,T.shape[0],T.shape[1],T.shape[2],T.shape[3])),Q(R.rank===5,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+R.rank+"."}),Q(D.rank===5,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+D.rank+"."}),w==null&&(w=[1,1,1]),Q(Oa(b,w),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+b+" and dilations '"+w+"'"}),S!=null&&Q(Un(E),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+S+" but got pad "+E+"."});var k=jm(D.shape,x,b,w,E,S),I=de.runKernelFunc(function(F){return F.avgPool3dBackprop(R,D,k)},{dy5D:R,input5D:D});return P?I.as4D(I.shape[1],I.shape[2],I.shape[3],I.shape[4]):I}(p,u,t,n,o,r,a)}}});return d=d.cast(u.dtype),l?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),Io=ue({slice_:function(e,t,n){var r,a,i=W(e,"x","slice");if(i.rank===0)throw new Error("Slicing scalar is not possible");(r=typeof t=="number"?[t].concat(new Array(i.rank-1).fill(0)):t.length<i.rank?t.concat(new Array(i.rank-t.length).fill(0)):t.slice()).forEach(function(u){Q(u!==-1,function(){return"slice() does not support negative begin indexing."})}),a=(a=n==null?new Array(i.rank).fill(-1):typeof n=="number"?[n].concat(new Array(i.rank-1).fill(-1)):n.length<i.rank?n.concat(new Array(i.rank-n.length).fill(-1)):n).map(function(u,l){return u>=0?u:(Q(u===-1,function(){return"Negative size values should be exactly -1 but got "+u+" for the slice() size at index "+l+"."}),i.shape[l]-r[l])}),mq(i,r,a);var o=i.shape,s={begin:r,size:a};return de.runKernelFunc(function(u){return u.slice(i,r,a)},{x:i},function(u){for(var l=[],f=0;f<u.rank;f++)l.push([r[f],o[f]-r[f]-a[f]]);return{x:function(){return u.pad(l)}}},"Slice",s)}}),HX=ue({slice1d_:function(e,t,n){var r=W(e,"x","slice1d");return Q(r.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),Io(r,[t],[n])}}),$X=ue({slice2d_:function(e,t,n){var r=W(e,"x","slice2d");return Q(r.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),Io(r,t,n)}}),kB=ue({slice3d_:function(e,t,n){var r=W(e,"x","slice3d");return Q(r.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),Io(r,t,n)}}),VX=ue({slice4d_:function(e,t,n){var r=W(e,"x","slice4d");return Q(r.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),Io(r,t,n)}});function PB(e,t,n,r,a){return t.rank<n.rank&&(t=t.reshape(Ca(t.shape,r))),e.rank<n.rank&&(e=e.reshape(Ca(e.shape,r))),{x:function(){var i=e.mul(n.equal(t).cast(e.dtype));return a==null?i:i.transpose(a)}}}var qX=ue({all_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=W(e,"x","all","bool"),a=lr(t,r.shape),i=a,o=Ho(i,r.rank);o!=null&&(r=r.transpose(o),i=$o(i.length,r.rank));var s=de.runKernelFunc(function(l){return l.all(r,i)},{$x:r});if(n){var u=Ca(s.shape,a);return s.reshape(u)}return s}}),GX=ue({any_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=W(e,"x","any","bool"),a=lr(t,r.shape),i=a,o=Ho(i,r.rank);o!=null&&(r=r.transpose(o),i=$o(i.length,r.rank));var s=de.runKernelFunc(function(l){return l.any(r,i)},{$x:r});if(n){var u=Ca(s.shape,a);return s.reshape(u)}return s}}),KX=ue({argMax_:function(e,t){t===void 0&&(t=0);var n=W(e,"x","argMax");t==null&&(t=0);var r=lr(t,n.shape),a=Ho(r,n.rank);a!=null&&(n=n.transpose(a),r=$o(r.length,n.rank));var i={axis:r[0]},o=[n];return de.runKernelFunc(function(s,u){var l=s.argMax(n,r[0]);return u([n]),l},{x:n},function(s,u){var l=u[0];return{x:function(){return Lt(l)}}},"ArgMax",i,o)}}),XX=ue({argMin_:function(e,t){t===void 0&&(t=0);var n=W(e,"x","argMin");t==null&&(t=0);var r=lr(t,n.shape),a=Ho(r,n.rank);return a!=null&&(n=n.transpose(a),r=$o(r.length,n.rank)),de.runKernelFunc(function(i,o){var s=i.argMin(n,r[0]);return o([n]),s},{$x:n},function(i,o){var s=o[0];return{$x:function(){return Lt(s)}}})}}),YX=ue({logSumExp_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=W(e,"x","logSumExp"),a=lr(t,r.shape),i=r.max(a,!0),o=r.sub(i).exp().sum(a).log(),s=i.reshape(o.shape).add(o);if(n){var u=Ca(s.shape,a);return s.reshape(u)}return s}}),ay=ue({max_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=W(e,"x","max"),a=r,i=lr(t,r.shape),o=i,s=Ho(o,r.rank);s!=null&&(r=r.transpose(s),o=$o(o.length,r.rank));var u=[r],l=de.runKernelFunc(function(d,p){var m=d.max(r,o);return p([a,m]),m},{x:r},function(d,p){return PB(d,p[1],p[0],i,s)},"Max",{axes:o},u,[!0]);if(n){var f=Ca(l.shape,i);l=l.reshape(f)}return l}}),QX=ue({mean_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=W(e,"x","mean"),a=lr(t,r.shape),i=lt(qr(r.shape,a)[1]);return Jg(function(o){var s=Ze(i);return{value:(s.dtype===o.dtype?o:o.cast(s.dtype)).div(s).sum(t,n),gradFunc:function(u){var l=o.shape.slice();return a.forEach(function(f){l[f]=1}),u.reshape(l).mul(ih(o.shape,"float32")).div(i)}}})(r)}}),ZX=ue({min_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=W(e,"x","min"),a=r,i=lr(t,r.shape),o=i,s=Ho(o,r.rank);s!=null&&(r=r.transpose(s),o=$o(o.length,r.rank));var u=[r],l=de.runKernelFunc(function(d,p){var m=d.min(r,o);return p([a,m]),m},{x:r},function(d,p){return PB(d,p[1],p[0],i,s)},"Min",{axes:o},u,[!0]);if(n){var f=Ca(l.shape,i);l=l.reshape(f)}return l}}),JX=ue({moments_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=lr(t,(e=W(e,"x","moments")).shape),a=e.mean(r,n),i=a.shape;n||(i=Ca(a.shape,r));var o=e.toFloat().sub(a.reshape(i)).square();return{mean:a,variance:o.mean(r,n)}}}),MB=ue({sum_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=W(e,"x","sum");r.dtype==="bool"&&(r=r.toInt());var a=lr(t,r.shape);return Jg(function(i){var o=Ho(a,i.rank),s=a,u=i;o!=null&&(u=i.transpose(o),s=$o(s.length,i.rank));var l=function(m){var g=i.shape.slice();return a.forEach(function(x){g[x]=1}),m.reshape(g).mul(ih(i.shape,"float32"))},f={axes:s},d=de.runKernelFunc(function(m){return m.sum(u,s)},{x:u},function(m){return{x:function(){return l(m)}}},"Sum",f);if(n){var p=Ca(d.shape,a);d=d.reshape(p)}return{value:d,gradFunc:l}})(r)}}),eY=ue({prod_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=W(e,"x","prod");r.dtype==="bool"&&(r=r.toInt());var a=lr(t,r.shape),i=Ho(a,r.rank),o=a,s=r;i!=null&&(s=r.transpose(i),o=$o(o.length,r.rank));var u=de.runKernelFunc(function(f){return f.prod(s,o)},{permutedX:s});if(n){var l=Ca(u.shape,a);u=u.reshape(l)}return u}}),IB=ue({elu_:function(e){var t=W(e,"x","elu");return de.runKernelFunc(function(n,r){var a=n.elu(t);return r([a]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return de.runKernelFunc(function(i){return i.eluDer(n,a)},{dy:n,y:a})}}})}}),tY=ue({leakyRelu_:function(e,t){t===void 0&&(t=.2);var n=W(e,"x","leakyRelu");return aS(Ze(t).mul(n),n)}}),FB=ue({prelu_:function(e,t){var n=W(e,"x","prelu"),r=W(t,"alpha","prelu");return de.runKernelFunc(function(a,i){var o=a.prelu(n,r);return i([n,r]),o},{x:n,alpha:r},function(a,i){var o=i[0],s=i[1],u=o.greater(0);return{x:function(){return Hl(u,a,a.mul(s))},alpha:function(){var l=Hl(u,Lt(a),a.mul(o)),f=sr(s.shape,a.shape);return f.length>0&&(l=l.sum(f)),l.reshape(s.shape)}}},"Prelu")}}),Rn=ue({relu_:function(e){var t=W(e,"x","relu");return t.dtype==="bool"?t.toInt():de.runKernelFunc(function(n,r){var a=n.relu(t);return r([t]),a},{x:t},function(n,r){var a=r[0];return{x:function(){return n.mulStrict(a.step().toFloat())}}},"Relu")}}),BB=ue({relu6_:function(e){var t=W(e,"x","relu6");return t.dtype==="bool"?t.toInt():de.runKernelFunc(function(n,r){var a=n.relu6(t);return r([t]),a},{x:t},function(n,r){var a=r[0],i=a.lessEqual(6).mul(a.step());return{x:function(){return n.mulStrict(i.toFloat())}}},"Relu6")}}),nY=ue({selu_:function(e){var t=W(e,"x","selu");return de.runKernelFunc(function(n,r){var a=n.selu(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){var i=a.greater(Ze(0)),o=Ze(tS),s=Ze(nS),u=n.mul(s),l=n.mul(o).mul(a.toFloat().exp());return Hl(i,u,l)}}})}}),Mu=ue({transpose_:function(e,t){var n=W(e,"x","transpose");if(t==null&&(t=n.shape.map(function(a,i){return i}).reverse()),Q(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."}),t.forEach(function(a){Q(a>=0&&a<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t})}),n.rank<=1)return n.clone();var r={perm:t};return de.runKernelFunc(function(a){return a.transpose(n,t)},{x:n},function(a){var i=VE(t);return{x:function(){return a.transpose(i)}}},"Transpose",r)}}),rY=ue({localResponseNormalization_:function(e,t,n,r,a){t===void 0&&(t=5),n===void 0&&(n=1),r===void 0&&(r=1),a===void 0&&(a=.5);var i=W(e,"x","localResponseNormalization");Q(i.rank===4||i.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+i.rank+"."}),Q(Un(t),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."});var o=i,s=!1;i.rank===3&&(s=!0,o=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var u=de.runKernelFunc(function(l,f){var d=l.localResponseNormalization4D(o,t,n,r,a);return f([o,d]),d},{x4D:o},function(l,f){var d=f[0],p=f[1];return{x4D:function(){return de.runKernelFunc(function(m){return m.LRNGrad(l,d,p,t,n,r,a)},{})}}});return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),LB=ue({norm_:function(e,t,n,r){t===void 0&&(t="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1);var a=function s(u,l,f){if(f===void 0&&(f=null),u.rank===0)return u.abs();if(u.rank!==1&&f===null)return s(u.reshape([-1]),l,f);if(u.rank===1||typeof f=="number"||Array.isArray(f)&&f.length===1){if(l===1)return u.abs().sum(f);if(l===1/0)return u.abs().max(f);if(l===-1/0)return u.abs().min(f);if(l==="euclidean"||l===2)return u.abs().pow(Ze(2,"int32")).sum(f).sqrt();throw new Error("Error in norm: invalid ord value: "+l)}if(Array.isArray(f)&&f.length===2){if(l===1)return u.abs().sum(f[0]).max(f[1]-1);if(l===1/0)return u.abs().sum(f[1]).max(f[0]);if(l===-1/0)return u.abs().sum(f[1]).min(f[0]);if(l==="fro"||l==="euclidean")return u.square().sum(f).sqrt();throw new Error("Error in norm: invalid ord value: "+l)}throw new Error("Error in norm: invalid axis: "+f)}(e=W(e,"x","norm"),t,n),i=a.shape;if(r){var o=lr(n,e.shape);i=Ca(a.shape,o)}return a.reshape(i)}}),aY=ue({basicLSTMCell_:function(e,t,n,r,a,i){var o=W(e,"forgetBias","basicLSTMCell"),s=W(t,"lstmKernel","basicLSTMCell"),u=W(n,"lstmBias","basicLSTMCell"),l=W(r,"data","basicLSTMCell"),f=W(a,"c","basicLSTMCell"),d=W(i,"h","basicLSTMCell"),p=l.concat(d,1).matMul(s).add(u),m=p.shape[0],g=p.shape[1]/4,x=[m,g],b=p.slice([0,0],x),w=p.slice([0,g],x),E=p.slice([0,2*g],x),S=p.slice([0,3*g],x),A=b.sigmoid().mulStrict(w.tanh()).addStrict(f.mulStrict(o.add(E).sigmoid())),T=A.tanh().mulStrict(S.sigmoid());return[A,T]}}),iY=ue({multiRNNCell_:function(e,t,n,r){for(var a=W(t,"data","multiRNNCell"),i=Pm(n,"c","multiRNNCell"),o=Pm(r,"h","multiRNNCell"),s=a,u=[],l=0;l<e.length;l++){var f=e[l](s,i[l],o[l]);u.push(f[0]),u.push(f[1]),s=f[1]}var d=[],p=[];for(l=0;l<u.length;l+=2)d.push(u[l]),p.push(u[l+1]);return[d,p]}}),oY=ue({movingAverage_:function(e,t,n,r,a){a===void 0&&(a=!0);var i=W(e,"v","movingAverage"),o=W(t,"x","movingAverage"),s=W(n,"decay","movingAverage");rV(i,o),Q(Er(i.shape,o.shape),function(){return"Shape mismatch in v and x"});var u=Ze(1),l=u.sub(s),f=o.sub(i).mul(l);if(a){Q(r!=null,function(){return"When using zeroDebias: true, step is required."});var d=W(r,"step","movingAverage");f=f.div(u.sub(Hm(s,d)))}return i.add(f)}}),sY=ue({stridedSlice_:function(e,t,n,r,a,i,o,s,u){if(a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o=0),s===void 0&&(s=0),u===void 0&&(u=0),r==null&&(r=new Array(t.length)),o!==0)throw new Error("ellipsis mask is not yet supported");var l=W(e,"x","stridedSlice"),f=N3(s),d=l.shape.slice();f.forEach(function(b){t[b]=0,n[b]=1,d.splice(b,0,1)}),l=l.reshape(d);for(var p=0;p<l.rank;p++)t[p]=gq(a,t,r,l.shape,p),n[p]=yq(i,n,r,l.shape,p),r[p]=r[p]||1;var m=N3(u);m.forEach(function(b){n[b]=t[b]+1,r[b]=1});var g=XE(t,n,r),x=g.filter(function(b,w){return m.indexOf(w)===-1});return r.every(function(b){return b===1})?Io(l,t,g).reshape(x):de.runKernelFunc(function(b){return b.stridedSlice(l,t,n,r)},{$x:l}).reshape(x)}}),uY=ue({topk_:function(e,t,n){t===void 0&&(t=1),n===void 0&&(n=!0);var r=W(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") but got "+t);var i=de.runKernelFunc(function(o){return o.topk(r,t,n)},{$x:r});return{values:i[0],indices:i[1]}}}),lY=ue({scatterND_:function(e,t,n){var r=W(e,"indices","scatterND","int32"),a=W(t,"updates","scatterND");return vq(a,r,n),de.runKernelFunc(function(i){return i.scatterND(r,a,n)},{indices:r,updates:a},null,"ScatterNd",{shape:n})}}),uS=ue({fft_:function(e){Q(e.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return de.runKernelFunc(function(a){return a.fft(r)},{input:e}).reshape(e.shape)}}),$m=ue({ifft_:function(e){Q(e.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return de.runKernelFunc(function(a){return a.ifft(r)},{input:e}).reshape(e.shape)}}),lS=ue({rfft_:function(e,t){Q(e.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+e.dtype});var n,r=e.shape[e.shape.length-1],a=e.size/r;if(t!=null&&t<r){var i=e.shape.map(function(w){return 0}),o=e.shape.map(function(w){return w});o[e.shape.length-1]=t,n=e.slice(i,o),r=t}else if(t!=null&&t>r){var s=e.shape.map(function(w){return w});s[e.shape.length-1]=t-r,n=e.concat(bn(s),e.shape.length-1),r=t}else n=e;var u=n.zerosLike(),l=kr(n,u).as2D(a,r),f=uS(l),d=Math.floor(r/2)+1,p=Oi(f),m=Oo(f),g=p.split([d,r-d],p.shape.length-1),x=m.split([d,r-d],m.shape.length-1),b=n.shape.slice();return b[n.shape.length-1]=d,kr(g[0],x[0]).reshape(b)}}),jB=ue({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),a=$m(r);return Oi(a)}var i=[n,2*(t-1)],o=Oi(e).as2D(n,t),s=Oo(e).as2D(n,t),u=o.slice([0,1],[n,t-2]).reverse(1),l=s.slice([0,1],[n,t-2]).reverse(1).mul(Ze(-1)),f=o.concat(u,1),d=s.concat(l,1);return r=kr(f,d).as2D(i[0],i[1]),a=$m(r),Oi(a)}}),cY=Object.freeze({fft:uS,ifft:$m,rfft:lS,irfft:jB}),fY=ue({sparseToDense_:function(e,t,n,r){r===void 0&&(r=0);var a=W(e,"sparseIndices","sparseToDense","int32"),i=W(t,"sparseValues","sparseToDense"),o=W(r,"defaultValue","sparseToDense",i.dtype);return function(s,u,l,f){if(s.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+s.dtype+".");if(s.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+s.shape+".");var d=s.rank>0?s.shape[0]:1,p=s.rank>1?s.shape[1]:1;if(l.length!==p)throw new Error("outputShape has incorrect number of elements:, "+l.length+", should be: "+p+".");var m=u.size;if(u.rank!==0&&(u.rank!==1||m!==d))throw new Error("sparseValues has incorrect shape "+u.shape+", should be [] or ["+d+"]");if(u.dtype!==f.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,i,n,o),de.runKernelFunc(function(s){return s.sparseToDense(a,i,n,o)},{$sparseIndices:a,$sparseValues:i,$defaultValue:o})}}),hY=ue({gatherND_:function(e,t){var n=W(t,"indices","gatherND","int32"),r=W(e,"x","gatherND");return de.runKernelFunc(function(a){return a.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),dY=ue({diag_:function(e){var t=W(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return de.runKernelFunc(function(r){return r.diag(t)},{$x:t}).reshape(n)}}),pY=ue({dropout_:function(e,t,n,r){var a=W(e,"x","dropout");if(Q(a.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+a.dtype+" tensor instead."}),Q(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got "+t+"."}),t===0)return e instanceof On?a.clone():a;var i=function(u,l){if(l==null)return u.shape.slice();if(Er(u.shape,l))return l;if(u.shape.length===l.length){for(var f=[],d=0;d<u.shape.length;d++)l[d]==null&&u.shape[d]!=null?f.push(u.shape[d]):f.push(l[d]);return f}return l}(a,n),o=1-t,s=FF(i,0,1,"float32",r).add(o).floor().div(o);return a.mul(s)}});function UB(e,t,n){for(var r=1-e%2,a=new Float32Array(e),i=0;i<e;++i){var o=2*Math.PI*i/(e+r-1);a[i]=t-n*Math.cos(o)}return Kn(a,"float32")}var cS=ue({hannWindow_:function(e){return UB(e,.5,.5)}}),zB=ue({hammingWindow_:function(e){return UB(e,.54,.46)}}),fS=ue({frame_:function(e,t,n,r,a){r===void 0&&(r=!1),a===void 0&&(a=0);for(var i=0,o=[];i+t<=e.size;)o.push(Io(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,u=ir([Io(e,i,t-s),Po([s],a)]);o.push(u),i+=n}return o.length===0?Ru([],[0,t]):ir(o).as2D(o.length,t)}}),WB=ue({stft_:function(e,t,n,r,a){var i;a===void 0&&(a=cS),r==null&&(i=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2)))));for(var o=fS(e,t,n),s=Zr(o,a(t)),u=[],l=0;l<o.shape[0];l++)u.push(lS(s.slice([l,0],[1,t]),r));return ir(u)}}),vY=Object.freeze({hannWindow:cS,hammingWindow:zB,frame:fS,stft:WB}),Yr,mY=function(e,t,n){return n===void 0&&(n=1),ot(this,void 0,void 0,function(){var r,a,i,o,s,u,l,f,d,p,m,g,x,b;return st(this,function(w){switch(w.label){case 0:return r=W(e,"predictions","inTopK"),a=W(t,"targets","inTopK"),Q(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),Q(r.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+a.rank}),Kt(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=r.shape[r.shape.length-1],Q(n>0&&n<=i,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+n}),[4,r.data()];case 1:return o=w.sent(),[4,a.data()];case 2:for(s=w.sent(),u=[o.length/i,i],f=u[1],d=np("bool",l=u[0]),p=0;p<l;p++){for(m=p*f,g=o.subarray(m,m+f),x=[],b=0;b<g.length;b++)x.push({value:g[b],index:b});for(x.sort(function(E,S){return S.value-E.value}),d[p]=0,b=0;b<n;b++)if(x[b].index===s[p]){d[p]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),[2,Fr(d,a.shape,"bool")]}})})};(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Yr||(Yr={}));var gY=ue({absoluteDifference_:function(e,t,n,r){r===void 0&&(r=Yr.SUM_BY_NONZERO_WEIGHTS);var a=W(e,"labels","absoluteDifference"),i=W(t,"predictions","absoluteDifference"),o=null;n!=null&&(o=W(n,"weights","absoluteDifference")),Kt(a.shape,i.shape,"Error in absoluteDifference: ");var s=a.sub(i).abs();return Ms(s,o,r)}}),Ms=ue({computeWeightedLoss_:function(e,t,n){n===void 0&&(n=Yr.SUM_BY_NONZERO_WEIGHTS);var r=W(e,"losses","computeWeightedLoss"),a=null;t!=null&&(a=W(t,"weights","computeWeightedLoss"));var i=a==null?r:r.mul(a);if(n===Yr.NONE)return i;if(n===Yr.SUM)return i.sum();if(n===Yr.MEAN){if(a==null)return i.mean();var o=r.size/a.size,s=i.sum().div(a.sum());return o>1?s.div(Ze(o)):s}if(n===Yr.SUM_BY_NONZERO_WEIGHTS){if(a==null)return i.sum().div(Ze(r.size));var u=a.mul(ih(r.shape)).notEqual(Ze(0)).sum().toFloat();return i.sum().div(u)}throw Error("Unknown reduction: "+n)}}),yY=ue({cosineDistance_:function(e,t,n,r,a){a===void 0&&(a=Yr.SUM_BY_NONZERO_WEIGHTS);var i=W(e,"labels","cosineDistance"),o=W(t,"predictions","cosineDistance"),s=null;r!=null&&(s=W(r,"weights","cosineDistance")),Kt(i.shape,o.shape,"Error in cosineDistance: ");var u=Ze(1).sub(i.mul(o).sum(n,!0));return Ms(u,s,a)}}),xY=ue({hingeLoss_:function(e,t,n,r){r===void 0&&(r=Yr.SUM_BY_NONZERO_WEIGHTS);var a=W(e,"labels","hingeLoss"),i=W(t,"predictions","hingeLoss"),o=null;n!=null&&(o=W(n,"weights","hingeLoss")),Kt(a.shape,i.shape,"Error in hingeLoss: ");var s=Ze(1);a=Ze(2).mul(a).sub(s);var u=s.sub(a.mul(i)).relu();return Ms(u,o,r)}}),bY=ue({huberLoss_:function(e,t,n,r,a){r===void 0&&(r=1),a===void 0&&(a=Yr.SUM_BY_NONZERO_WEIGHTS);var i=W(e,"labels","huberLoss"),o=W(t,"predictions","huberLoss"),s=null;n!=null&&(s=W(n,"weights","huberLoss")),Kt(i.shape,o.shape,"Error in huberLoss: ");var u=Ze(r),l=o.sub(i).abs(),f=wB(l,u),d=l.sub(f),p=Ze(.5).mul(f.square()).add(u.mul(d));return Ms(p,s,a)}}),wY=ue({logLoss_:function(e,t,n,r,a){r===void 0&&(r=1e-7),a===void 0&&(a=Yr.SUM_BY_NONZERO_WEIGHTS);var i=W(e,"labels","logLoss"),o=W(t,"predictions","logLoss"),s=null;n!=null&&(s=W(n,"weights","logLoss")),Kt(i.shape,o.shape,"Error in logLoss: ");var u=Ze(1),l=Ze(r),f=i.mul(o.add(l).log()).neg().sub(u.sub(i).mul(u.sub(o).add(l).log()));return Ms(f,s,a)}}),_Y=ue({meanSquaredError_:function(e,t,n,r){r===void 0&&(r=Yr.SUM_BY_NONZERO_WEIGHTS);var a=W(e,"labels","meanSquaredError"),i=W(t,"predictions","meanSquaredError"),o=null;n!=null&&(o=W(n,"weights","meanSquaredError")),Kt(a.shape,i.shape,"Error in meanSquaredError: ");var s=a.squaredDifference(i);return Ms(s,o,r)}}),EY=ue({sigmoidCrossEntropy_:function(e,t,n,r,a){r===void 0&&(r=0),a===void 0&&(a=Yr.SUM_BY_NONZERO_WEIGHTS);var i=W(e,"multiClassLabels","sigmoidCrossEntropy"),o=W(t,"logits","sigmoidCrossEntropy"),s=null;if(n!=null&&(s=W(n,"weights","sigmoidCrossEntropy")),Kt(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=Ze(r),l=Ze(1),f=Ze(.5);i=i.mul(l.sub(u)).add(f.mul(u))}var d=function(p,m){var g=W(p,"labels","sigmoidCrossEntropyWithLogits"),x=W(m,"logits","sigmoidCrossEntropyWithLogits");Kt(g.shape,x.shape,"Error in sigmoidCrossEntropyWithLogits: ");var b=x.relu(),w=x.mul(g),E=x.abs().neg().exp().log1p();return b.sub(w).add(E)}(i,o);return Ms(d,s,a)}}),SY=ue({softmaxCrossEntropy_:function(e,t,n,r,a){r===void 0&&(r=0),a===void 0&&(a=Yr.SUM_BY_NONZERO_WEIGHTS);var i=W(e,"onehotLabels","softmaxCrossEntropy"),o=W(t,"logits","softmaxCrossEntropy"),s=null;if(n!=null&&(s=W(n,"weights","softmaxCrossEntropy")),Kt(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var u=Ze(r),l=Ze(1),f=Ze(i.shape[1]);i=i.mul(l.sub(u)).add(u.div(f))}var d=function(p,m,g){if(g===void 0&&(g=-1),g===-1&&(g=m.rank-1),g!==m.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+m.rank+" and dim was "+g);return Jg(function(x,b,w){var E=b.logSumExp([g],!0),S=b.toFloat().sub(E);return w([x,S]),{value:S.mul(x).neg().sum([g]),gradFunc:function(A,T){var R=T[0],D=T[1],P=Ca(A.shape,[g]);return[A.reshape(P).mul(R.toFloat().sub(D.exp())),A.reshape(P).mul(D.exp().sub(R.toFloat()))]}}})(p,m)}(i,o);return Ms(d,s,a)}}),TY=Object.freeze({get Reduction(){return Yr},absoluteDifference:gY,computeWeightedLoss:Ms,cosineDistance:yY,hingeLoss:xY,huberLoss:bY,logLoss:wY,meanSquaredError:_Y,sigmoidCrossEntropy:EY,softmaxCrossEntropy:SY});function J3(e,t){return t===void 0&&(t=!1),de.tidy(function(){if(e.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],a=IF(n),i=e.clone(),o=Ru([[1]],[1,1]),s=o.clone(),u=n>=r?r:n,l=function(d){var p,m=i,g=s,x=a;p=de.tidy(function(){var b=i.slice([d,d],[n-d,1]),w=b.norm(),E=i.slice([d,d],[1,1]),S=Ru([[-1]]).where(E.greater(0),Ru([[1]])),A=E.sub(S.mul(w)),T=b.div(A);s=T.shape[0]===1?o.clone():o.concat(T.slice([1,0],[T.shape[0]-1,T.shape[1]]),0);var R=S.matMul(A).div(w).neg(),D=i.slice([d,0],[n-d,r]),P=R.mul(s);if(d===0)i=D.sub(P.matMul(s.transpose().matMul(D)));else{var k=D.sub(P.matMul(s.transpose().matMul(D)));i=i.slice([0,0],[d,r]).concat(k,0)}var I=a.slice([0,d],[n,a.shape[1]-d]);if(d===0)a=I.sub(I.matMul(s).matMul(P.transpose()));else{var F=I.sub(I.matMul(s).matMul(P.transpose()));a=a.slice([0,0],[n,d]).concat(F,1)}return[s,i,a]}),s=p[0],i=p[1],a=p[2],Ea([m,g,x])},f=0;f<u;++f)l(f);return!t&&n>r&&(a=a.slice([0,0],[n,r]),i=i.slice([0,0],[r,r])),[a,i]})}var AY=ue({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=W(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var a=r.shape,i=r.shape.slice(-2),o=i[0],s=i[1];if(!(t<=o))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+o+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=o),n<0&&(n=s);var u=Mm(0,o,1,"int32").reshape([-1,1]),l=Mm(0,s,1,"int32"),f=ur(u,l),d=ty(f.lessEqual(Ze(+t,"int32")),f.greaterEqual(Ze(-n,"int32"))),p=bn([o,s],r.dtype);return ti(or(r.reshape([-1,o,s])).map(function(m){return Hl(d,m,p)})).reshape(a)}}),CY=ue({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,Q(e!=null&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=e[0].shape[0],r=function(u){Q(e[u].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[u].shape[0]+" vs. "+n+")"})},a=1;a<e.length;++a)r(a)}else t=!0,e=GE(e,e.shape[0],0).map(function(u){return LF(u,[0])});Q(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."});var i=[],o=e,s=function(u){i.push(de.tidy(function(){var l=o[u];if(u>0)for(var f=0;f<u;++f){var d=MB(i[f].mulStrict(l)).mul(i[f]);l=l.sub(d)}return l.div(LB(l,"euclidean"))}))};for(a=0;a<e.length;++a)s(a);return t?ti(i,0):i}}),OY=ue({qr_:function(e,t){if(t===void 0&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(e.rank===2)return J3(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce(function(o,s){return o*s}),r=or(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];return r.forEach(function(o){var s=J3(o,t),u=s[0],l=s[1];a.push(u),i.push(l)}),[ti(a,0).reshape(e.shape),ti(i,0).reshape(e.shape)]}}),RY=Object.freeze({bandPart:AY,gramSchmidt:CY,qr:OY});function iy(e,t,n,r,a,i){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),i==null&&(i=0);var o=e.shape[0];return n=Math.min(n,o),Q(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),Q(e.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"}),Q(e.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]}),Q(t.rank===1,function(){return"scores must be a 1D tensor"}),Q(t.shape[0]===o,function(){return"scores has incompatible shape with boxes. Expected "+o+", but was "+t.shape[0]}),Q(0<=i&&i<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+i+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}var DY=ue({resizeBilinear_:function(e,t,n){n===void 0&&(n=!1);var r=W(e,"images","resizeBilinear");Q(r.rank===3||r.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),Q(t.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."});var a=r,i=!1;r.rank===3&&(i=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],u=de.runKernelFunc(function(l,f){return f([a]),l.resizeBilinear(a,o,s,n)},{x:a},function(l,f){return{x:function(){return de.runKernelFunc(function(d){return d.resizeBilinearBackprop(l,f[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:o,newWidth:s});return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),NY=ue({resizeNearestNeighbor_:function(e,t,n){n===void 0&&(n=!1);var r=W(e,"images","resizeNearestNeighbor");Q(r.rank===3||r.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),Q(t.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."}),Q(r.dtype==="float32"||r.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"});var a=r,i=!1;r.rank===3&&(i=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],u=de.runKernelFunc(function(l,f){return f([a]),l.resizeNearestNeighbor(a,o,s,n)},{batchImages:a},function(l,f){return{batchImages:function(){return de.runKernelFunc(function(d){return d.resizeNearestNeighborBackprop(l,f[0],n)},{})}}});return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),kY=ue({nonMaxSuppression_:function(e,t,n,r,a){r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY);var i=W(e,"boxes","nonMaxSuppression"),o=W(t,"scores","nonMaxSuppression"),s=iy(i,o,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return de.runKernelFunc(function(l){return l.nonMaxSuppression(i,o,n,r,a)},{boxes:i,scores:o},null,"NonMaxSuppressionV3",u)}}),PY=function(e,t,n,r,a){return r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),ot(this,void 0,void 0,function(){var i,o,s,u,l,f,d;return st(this,function(p){switch(p.label){case 0:return i=W(e,"boxes","nonMaxSuppressionAsync"),o=W(t,"scores","nonMaxSuppressionAsync"),s=iy(i,o,n,r,a),n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold,[4,Promise.all([i.data(),o.data()])];case 1:return u=p.sent(),l=u[0],f=u[1],d=QE(l,f,n,r,a),i!==e&&i.dispose(),o!==t&&o.dispose(),[2,d]}})})},MY=ue({nonMaxSuppressionWithScore_:function(e,t,n,r,a,i){r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),i===void 0&&(i=0);var o=W(e,"boxes","nonMaxSuppression"),s=W(t,"scores","nonMaxSuppression"),u=iy(o,s,n,r,a,i),l={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold,softNmsSigma:i=u.softNmsSigma},f=de.runKernel("NonMaxSuppressionV5",{boxes:o,scores:s},l);return{selectedIndices:f[0],selectedScores:f[1]}}}),IY=function(e,t,n,r,a,i){return r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),i===void 0&&(i=0),ot(this,void 0,void 0,function(){var o,s,u,l,f,d,p;return st(this,function(m){switch(m.label){case 0:return o=W(e,"boxes","nonMaxSuppressionAsync"),s=W(t,"scores","nonMaxSuppressionAsync"),u=iy(o,s,n,r,a,i),n=u.maxOutputSize,r=u.iouThreshold,a=u.scoreThreshold,i=u.softNmsSigma,[4,Promise.all([o.data(),s.data()])];case 1:return l=m.sent(),f=l[0],d=l[1],p=ZE(f,d,n,r,a,i),o!==e&&o.dispose(),s!==t&&s.dispose(),[2,p]}})})},FY=ue({cropAndResize_:function(e,t,n,r,a,i){var o=W(e,"image","cropAndResize"),s=W(t,"boxes","cropAndResize","float32"),u=W(n,"boxInd","cropAndResize","int32");a=a||"bilinear",i=i||0;var l=s.shape[0];return Q(o.rank===4,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+o.rank+"."}),Q(s.rank===2&&s.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+l+",4] but had shape "+s.shape+"."}),Q(u.rank===1&&u.shape[0]===l,function(){return"Error in cropAndResize: boxInd must be have size ["+l+"] but had shape "+s.shape+"."}),Q(r.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),Q(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),Q(a==="bilinear"||a==="nearest",function(){return"method must be bilinear or nearest, but was "+a}),de.runKernelFunc(function(f,d){return f.cropAndResize(o,s,u,r,a,i)},{images:o,boxes:s,boxInd:u},null,"CropAndResize",{method:a,extrapolationValue:i,cropSize:r})}}),hS=Object.freeze({resizeBilinear:DY,resizeNearestNeighbor:NY,nonMaxSuppression:kY,nonMaxSuppressionAsync:PY,nonMaxSuppressionWithScore:MY,nonMaxSuppressionWithScoreAsync:IY,cropAndResize:FY}),dS=function(e,t){return!(e>0)||t==="linear"},pS=function(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},vS=function(e,t){var n=t,r=sr(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},mS=function(e,t,n){if(t==="linear")return e;if(t==="relu")return Rn(e);if(t==="elu")return IB(e);if(t==="relu6")return BB(e);if(t==="prelu")return FB(e,n);throw new Error("Unknown fused activation "+t+".")},BY=ue({fusedMatMul_:function(e){var t,n=e.a,r=e.b,a=e.transposeA,i=a!==void 0&&a,o=e.transposeB,s=o!==void 0&&o,u=e.bias,l=e.activation,f=l===void 0?"linear":l,d=e.preluActivationWeights;if(dS(de.state.gradientDepth,f)===!1){var p=ry(n,r,i,s);return u!=null&&(p=kt(p,u)),mS(p,f,d)}var m=W(n,"a","fused matMul"),g=W(r,"b","fused matMul");t=Dn(m,g),m=t[0],g=t[1];var x=i?m.shape[m.rank-2]:m.shape[m.rank-1],b=s?g.shape[g.rank-1]:g.shape[g.rank-2],w=i?m.shape[m.rank-1]:m.shape[m.rank-2],E=s?g.shape[g.rank-2]:g.shape[g.rank-1],S=m.shape.slice(0,-2),A=g.shape.slice(0,-2),T=lt(S),R=lt(A);Q(m.rank>=2&&g.rank>=2&&m.rank===g.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+m.rank+" and "+g.rank+"."}),Q(Er(S,A),function(){return"Error in fused matMul: outer dimensions ("+S+") and ("+A+") of Tensors with shapes "+m.shape+" and "+g.shape+" must match."}),Q(x===b,function(){return"Error in fused matMul: inner shapes ("+x+") and ("+b+") of Tensors with shapes "+m.shape+" and "+g.shape+" and transposeA="+i+" and transposeB="+s+" must match."});var D,P,k=m.shape.slice(0,-2).concat([w,E]),I=i?m.as3D(T,x,w):m.as3D(T,w,x),F=s?g.as3D(R,E,b):g.as3D(R,b,E);u!=null&&It(k,(D=Dn(D=W(u,"bias","fused matMul"),m)[0]).shape),d!=null&&(P=W(d,"prelu weights","fused matMul"));var B={a:I,b:F};u!=null&&(B.bias=D),d!=null&&(B.preluActivationWeights=P);var te=[I,F];return de.runKernelFunc(function(ae,V){var H=ae.fusedBatchMatMul({a:I,b:F,transposeA:i,transposeB:s,bias:D,activation:f,preluActivationWeights:P});return V([I,F,H]),H},B,function(ae,V){var H=V[0],Z=V[1],ie=V[2],he=pS(ae,ie,f),z={};return u!=null&&(z={bias:function(){return vS(D,he)}}),Object.assign(i||s?!i&&s?{a:function(){return he.matMul(Z,!1,!1)},b:function(){return he.matMul(H,!0,!1)}}:i&&!s?{a:function(){return Z.matMul(he,!1,!0)},b:function(){return H.matMul(he,!1,!1)}}:{a:function(){return Z.matMul(he,!0,!0)},b:function(){return he.matMul(H,!0,!0)}}:{a:function(){return he.matMul(Z,!1,!0)},b:function(){return H.matMul(he,!0,!1)}},z)},"_FusedMatMul",{transposeA:i,transposeB:s,activation:f},te,[!0]).reshape(k)}}),LY=ue({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=i===void 0?"NHWC":i,s=e.dilations,u=s===void 0?[1,1]:s,l=e.dimRoundingMode,f=e.bias,d=e.activation,p=d===void 0?"linear":d,m=e.preluActivationWeights;if(p=p||"linear",dS(de.state.gradientDepth,p)===!1){var g=Ii(t,n,r,a,o,u,l);return f!=null&&(g=kt(g,f)),mS(g,p,m)}var x=W(t,"x","conv2d"),b=W(n,"filter","conv2d"),w=x,E=!1;x.rank===3&&(E=!0,w=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),Q(w.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+w.rank+"."}),Q(b.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+b.rank+"."}),l!=null&&Q(Un(a),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+l+" but got pad "+a+"."}),Q(w.shape[3]===b.shape[2],function(){return"Error in conv2d: depth of input ("+w.shape[3]+") must match input depth for filter "+b.shape[2]+"."}),Q(Oa(r,u),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"}),Q(o==="NHWC",function(){return"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported."});var S,A,T=rc(w.shape,b.shape,r,u,a,l);f!=null&&(S=Dn(S=W(f,"bias","fused conv2d"),x)[0],It(T.outShape,S.shape)),m!=null&&(A=W(m,"prelu weights","fused conv2d"));var R={x:w,filter:b};f!=null&&(R.bias=S),m!=null&&(R.preluActivationWeights=A);var D=[b,w],P=de.runKernelFunc(function(k,I){var F=k.fusedConv2d({input:w,filter:b,convInfo:T,bias:S,activation:p,preluActivationWeights:A});return I([b,w,F]),F},R,function(k,I){var F=I,B=F[0],te=F[1],ae=F[2],V=pS(k,ae,p);Q(Uf(u),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"});var H={};return f!=null&&(H={bias:function(){return vS(S,V)}}),Object.assign({x:function(){return CB(te.shape,V,B,r,a)},filter:function(){return oS(te,V,B.shape,r,a)}},H)},"FusedConv2D",{convInfo:T,activation:p},D,[!0]);return E?P.as3D(P.shape[1],P.shape[2],P.shape[3]):P}}),jY=ue({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=i===void 0?"NHWC":i,s=e.dilations,u=s===void 0?[1,1]:s,l=e.dimRoundingMode,f=e.bias,d=e.activation,p=d===void 0?"linear":d,m=e.preluActivationWeights;if(dS(de.state.gradientDepth,p)===!1){var g=ny(t,n,r,a,o,u,l);return f!=null&&(g=kt(g,f)),mS(g,p,m)}var x=W(t,"x","depthwiseConv2d"),b=W(n,"filter","depthwiseConv2d"),w=x,E=!1;x.rank===3&&(E=!0,w=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),Q(w.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+w.rank+"."}),Q(b.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+b.rank+"."}),Q(w.shape[3]===b.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+w.shape[3]+") must match the inChannels dimension in filter "+b.shape[2]+"."}),u==null&&(u=[1,1]),Q(Oa(r,u),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"}),l!=null&&Q(Un(a),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+l+" but got pad "+a+"."});var S,A,T=rc(w.shape,b.shape,r,u,a,l,!0);f!=null&&(S=Dn(S=W(f,"bias","fused conv2d"),x)[0],It(T.outShape,S.shape)),m!=null&&(A=W(m,"prelu weights","fused depthwiseConv2d"));var R={x:w,filter:b};f!=null&&(R.bias=S),m!=null&&(R.preluActivationWeights=A);var D=[b,w],P=de.runKernelFunc(function(k,I){var F=k.fusedDepthwiseConv2D({input:w,filter:b,convInfo:T,bias:S,activation:p,preluActivationWeights:A});return I([b,w,F]),F},R,function(k,I){Q(Uf(u),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"});var F=I[0],B=I[1],te=I[2],ae=pS(k,te,p),V={};return f!=null&&(V={bias:function(){return vS(S,ae)}}),Object.assign({x:function(){return OB(B.shape,ae,F,T)},filter:function(){return RB(B,ae,F.shape,T)}},V)},"FusedDepthwiseConv2D",{convInfo:T,activation:p},D,[!0]);return E?P.as3D(P.shape[1],P.shape[2],P.shape[3]):P}}),UY=Object.freeze({matMul:BY,conv2d:LY,depthwiseConv2d:jY}),zY=Object.freeze({image:hS,linalg:RY,losses:TY,spectral:cY,fused:UY,signal:vY,square:wK,squaredDifference:fB,conv1d:DX,conv2d:Ii,conv3d:NX,depthwiseConv2d:ny,separableConv2d:sS,conv2dTranspose:kX,conv3dTranspose:PX,op:ue,batchNormalization2d:QK,batchNormalization3d:ZK,batchNormalization4d:JK,batchNormalization:eX,batchNorm:gB,batchNorm2d:tX,batchNorm3d:nX,batchNorm4d:rX,booleanMaskAsync:RX,complex:kr,real:Oi,imag:Oo,concat:ir,concat1d:UV,concat2d:zV,concat3d:WV,concat4d:HV,split:GE,matMul:ry,dot:MX,outerProduct:IX,reverse:jp,reverse1d:FX,reverse2d:BX,reverse3d:LX,reverse4d:jX,maxPool:yr,avgPool:Up,pool:UX,maxPool3d:zX,avgPool3d:WX,slice:Io,slice1d:HX,slice2d:$X,slice3d:kB,slice4d:VX,abs:_K,acos:EK,acosh:SK,asin:TK,asinh:AK,atan:CK,atanh:OK,ceil:RK,clipByValue:rS,cos:DK,cosh:NK,erf:kK,exp:p_,expm1:PK,floor:MK,log:IK,log1p:FK,logSigmoid:BK,neg:Wm,reciprocal:LK,round:jK,rsqrt:hB,sigmoid:dB,sign:UK,isNaN:zK,isInf:WK,isFinite:HK,sin:$K,sinh:VK,softplus:qK,sqrt:GK,step:KK,tan:XK,tanh:YK,all:qX,any:GX,argMax:KX,argMin:XX,logSumExp:YX,max:ay,mean:QX,min:ZX,moments:JX,sum:MB,prod:eY,equal:_B,equalStrict:xX,greater:bX,greaterEqual:EB,greaterEqualStrict:wX,greaterStrict:_X,less:EX,lessEqual:SX,lessEqualStrict:TX,lessStrict:AX,notEqual:CX,notEqualStrict:OX,add:kt,addN:oX,addStrict:sX,atan2:uX,div:Yi,divNoNan:lX,divStrict:cX,floorDiv:bB,maximum:aS,maximumStrict:fX,minimum:wB,minimumStrict:hX,mod:dX,modStrict:pX,mul:Zr,mulStrict:vX,pow:Hm,powStrict:mX,squaredDifferenceStrict:gX,sub:ur,subStrict:yX,elu:IB,leakyRelu:tY,prelu:FB,relu:Rn,relu6:BB,selu:nY,logicalAnd:ty,logicalNot:aX,logicalOr:yB,logicalXor:iX,where:Hl,whereAsync:xB,buffer:Tt,print:ZV,batchToSpaceND:MF,broadcastTo:JV,cast:eq,clone:tq,cumsum:nq,depthToSpace:rq,expandDims:Ai,eye:IF,multinomial:aq,oneHot:c_,pad:nc,pad1d:iq,pad2d:oq,pad3d:sq,pad4d:uq,rand:lq,randomNormal:cq,randomGamma:fq,randomUniform:FF,reshape:eo,spaceToBatchND:BF,squeeze:LF,stack:ti,tile:Tf,truncatedNormal:hq,unstack:or,setdiff1dAsync:dq,fill:Po,linspace:jV,ones:ih,range:Mm,scalar:Ze,tensor:Fr,tensor1d:Kn,tensor2d:Ru,tensor3d:qE,tensor4d:ya,tensor5d:FV,tensor6d:BV,variable:LV,zeros:bn,onesLike:PF,zerosLike:Lt,transpose:Mu,softmax:Ps,logSoftmax:bq,localResponseNormalization:rY,norm:LB,gather:iS,unsortedSegmentSum:SB,basicLSTMCell:aY,multiRNNCell:iY,movingAverage:oY,stridedSlice:sY,topk:uY,scatterND:lY,fft:uS,ifft:$m,rfft:lS,irfft:jB,sparseToDense:fY,gatherND:hY,diag:dY,dropout:pY,hannWindow:cS,hammingWindow:zB,frame:fS,stft:WB,inTopKAsync:mY});function je(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(n){n!=null&&Q(n.dtype!=="complex64",function(){return t+" does not support complex64 tensors."})})}function zb(e,t,n,r){if(n==="linear")return e.linear(t);if(n==="relu")return e.relu(t);if(n==="elu")return e.elu(t);if(n==="relu6")return e.relu6(t);if(n==="prelu")return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var WY=function(e){function t(){var n=e.call(this)||this;return n.blockSize=48,n.firstUse=!0,n.data=new VF(n,de),n}return so(t,e),t.prototype.write=function(n,r,a){this.firstUse&&(this.firstUse=!1,Me().get("IS_NODE")&&km(`
============================
Hi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var i={};return this.data.set(i,{values:n,dtype:a}),i},t.prototype.move=function(n,r,a,i){this.data.set(n,{values:r,dtype:i})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(n){return ot(this,void 0,void 0,function(){return st(this,function(r){return[2,this.readSync(n)]})})},t.prototype.readSync=function(n){var r=this.data.get(n),a=r.dtype,i=r.complexTensors;return a==="complex64"?d_(this.readSync(i.real.dataId),this.readSync(i.imag.dataId)):this.data.get(n).values},t.prototype.bufferSync=function(n){var r=this.readSync(n.dataId),a=r;if(n.dtype==="string")try{a=r.map(function(i){return Rm(i)})}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Tt(n.shape,n.dtype,a)},t.prototype.makeOutput=function(n,r,a){var i=this.write(n,r,a);return de.makeTensorFromDataId(i,r,a,this)},t.prototype.disposeData=function(n){if(this.data.has(n)){var r=this.data.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.data.delete(n)}},t.prototype.time=function(n){return ot(this,void 0,void 0,function(){var r;return st(this,function(a){return r=Ao(),n(),[2,{kernelMs:Ao()-r}]})})},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(n,r){var a=this.makeOutput(null,n.shape,"complex64");return this.data.get(a.dataId).complexTensors={real:de.keep(n.clone()),imag:de.keep(r.clone())},a},t.prototype.real=function(n){return this.data.get(n.dataId).complexTensors.real.clone()},t.prototype.imag=function(n){return this.data.get(n.dataId).complexTensors.imag.clone()},t.prototype.slice=function(n,r,a){if(je(n,"slice"),HF(n.shape,r,a)){var i=$F(r,n.strides),o=lt(a);return Fr(this.readSync(n.dataId).subarray(i,i+o),a,n.dtype)}for(var s=Tt(a,n.dtype),u=this.bufferSync(n),l=0;l<s.size;++l){var f=s.indexToLoc(l).map(function(d,p){return d+r[p]});s.values[l]=u.get.apply(u,f)}return s.toTensor()},t.prototype.stridedSlice=function(n,r,a,i){je(n,"stridedSlice");var o=XE(r,a,i);if(o.some(function(m){return m===0}))return Fr([],o);for(var s=Tt(o,n.dtype),u=this.bufferSync(n),l=0;l<s.size;l++){for(var f=s.indexToLoc(l),d=new Array(f.length),p=0;p<d.length;p++)d[p]=f[p]*i[p]+r[p];s.set.apply(s,[u.get.apply(u,d)].concat(f))}return s.toTensor()},t.prototype.diag=function(n){for(var r=this.readSync(n.dataId),a=Tt([n.size,n.size],n.dtype),i=a.values,o=0;o<r.length;o++)i[o*n.size+o]=r[o];return a.toTensor()},t.prototype.unstack=function(n,r){for(var a=n.shape[r],i=new Array(n.rank-1),o=0,s=0;s<n.rank;s++)s!==r&&(i[o++]=n.shape[s]);var u=new Array(n.rank).fill(0),l=n.shape.slice();l[r]=1;var f=new Array(a);for(s=0;s<f.length;s++)u[r]=s,f[s]=this.slice(n,u,l).reshape(i);return f},t.prototype.reverse=function(n,r){je(n,"reverse");for(var a=Tt(n.shape,n.dtype),i=this.bufferSync(n),o=function(u){var l=a.indexToLoc(u),f=l.slice();r.forEach(function(d){return f[d]=n.shape[d]-1-f[d]}),a.set.apply(a,[i.get.apply(i,f)].concat(l))},s=0;s<a.size;s++)o(s);return a.toTensor()},t.prototype.concat=function(n,r){var a=this;if(n[0].dtype==="complex64"){var i=n.map(function(m){return Oi(m)}),o=n.map(function(m){return Oo(m)});return kr(this.concat(i,r),this.concat(o,r))}var s=n.map(function(m){var g=lt(m.shape.slice(r));return m.as2D(-1,g)}),u=jf(s.map(function(m){return m.shape}),1),l=Tt(u,n[0].dtype).values;if(s[0].shape[0]===1){var f=0;s.forEach(function(m){l.set(a.readSync(m.dataId),f),f+=m.size})}else{var d=0;s.forEach(function(m){for(var g=a.readSync(m.dataId),x=0,b=0;b<m.shape[0];++b)for(var w=b*u[1]+d,E=0;E<m.shape[1];++E)l[w+E]=g[x++];d+=m.shape[1]})}var p=jf(n.map(function(m){return m.shape}),r);return Fr(l,p,n[0].dtype)},t.prototype.neg=function(n){return je(n,"neg"),this.multiply(Ze(-1),n)},t.prototype.add=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,i,o,s){return{real:a+o,imag:i+s}}):this.broadcastedBinaryOp(n,r,Mr(n.dtype,r.dtype),function(a,i){return a+i})},t.prototype.addN=function(n){var r=this;je(n,"addN");for(var a=n.map(function(f){return r.readSync(f.dataId)}),i=Tt(n[0].shape,n[0].dtype),o=i.values,s=0;s<n.length;s++)for(var u=a[s],l=0;l<o.length;l++)o[l]+=u[l];return i.toTensor()},t.prototype.softmax=function(n,r){var a=lr([r],n.shape),i=this.max(n,a),o=Ca(i.shape,a),s=this.subtract(n,i.reshape(o)),u=this.exp(s),l=this.sum(u,a).reshape(o);return this.realDivide(u,l)},t.prototype.subtract=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,i,o,s){return{real:a-o,imag:i-s}}):this.broadcastedBinaryOp(n,r,Mr(n.dtype,r.dtype),function(a,i){return a-i})},t.prototype.pow=function(n,r){return je([n,r],"pow"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.pow(a,i)})},t.prototype.batchMatMul=function(n,r,a,i){je([n,r],"matMul");for(var o=a?n.shape[1]:n.shape[2],s=a?n.shape[2]:n.shape[1],u=i?r.shape[1]:r.shape[2],l=n.shape[0],f=this.readSync(n.dataId),d=this.readSync(r.dataId),p=a?[n.strides[0],1,n.strides[1]]:[n.strides[0],n.strides[1],1],m=p[0],g=p[1],x=p[2],b=i?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],w=b[0],E=b[1],S=b[2],A=s*u,T=Tt([l,s,u],n.dtype),R=T.values,D=this.blockSize,P=0;P<l;P++)for(var k=0;k<s;k+=D)for(var I=0;I<u;I+=D)for(var F=0;F<o;F+=D)for(var B=Math.min(k+D,s),te=Math.min(I+D,u),ae=Math.min(F+D,o),V=k;V<B;V++)for(var H=I;H<te;H++){for(var Z=0,ie=F;ie<ae;ie++)Z+=f[P*m+V*g+ie*x]*d[ie*w+H*E+P*S];R[P*A+(V*u+H)]+=Z}return T.toTensor()},t.prototype.fusedBatchMatMul=function(n){var r=n.a,a=n.b,i=n.transposeA,o=n.transposeB,s=n.bias,u=n.activation,l=n.preluActivationWeights,f=this.batchMatMul(r,a,i,o);return s&&(f=this.add(f,s)),u&&(f=zb(this,f,u,l)),f},t.prototype.multiply=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,i,o,s){return{real:a*o-i*s,imag:a*s+i*o}}):this.broadcastedBinaryOp(n,r,Mr(n.dtype,r.dtype),function(a,i){return a*i})},t.prototype.realDivide=function(n,r){return je([n,r],"realDivide"),this.broadcastedBinaryOp(n,r,"float32",function(a,i){return a/i})},t.prototype.floorDiv=function(n,r){return je([n,r],"floorDiv"),this.broadcastedBinaryOp(n,r,"int32",function(a,i){return Math.floor(a/i)})},t.prototype.sum=function(n,r){je(n,"sum"),Ha("sum",r,n.rank);for(var a=qr(n.shape,r),i=a[0],o=a[1],s=bn(i,Mr(n.dtype,"int32")),u=lt(o),l=this.readSync(s.dataId),f=this.readSync(n.dataId),d=0;d<l.length;++d){for(var p=d*u,m=0,g=0;g<u;++g)m+=f[p+g];l[d]=m}return s},t.prototype.prod=function(n,r){je(n,"sum");for(var a=qr(n.shape,r),i=a[0],o=a[1],s=bn(i,Mr(n.dtype,"int32")),u=lt(o),l=this.readSync(s.dataId),f=this.readSync(n.dataId),d=0;d<l.length;++d){for(var p=d*u,m=1,g=0;g<u;++g)m*=f[p+g];l[d]=m}return s},t.prototype.unsortedSegmentSum=function(n,r,a){je(n,"unsortedSegmentSum");for(var i=[],o=n.rank-r.rank,s=0;s<o;++s)r=r.expandDims(s+1);for(s=0;s<a;++s){var u=Ze(s,"int32"),l=_B(u,r).asType("float32").mul(n).sum(0);i.push(l)}return ti(i)},t.prototype.argMin=function(n,r){je(n,"argMin");var a=[r];Ha("argMin",a,n.rank);for(var i=qr(n.shape,a),o=i[0],s=i[1],u=bn(o,"int32"),l=lt(s),f=this.readSync(u.dataId),d=this.readSync(n.dataId),p=0;p<f.length;++p){for(var m=p*l,g=d[m],x=0,b=0;b<l;++b){var w=d[m+b];w<g&&(g=w,x=b)}f[p]=x}return u},t.prototype.argMax=function(n,r){je(n,"argMax");var a=[r];Ha("argMax",a,n.rank);for(var i=qr(n.shape,a),o=i[0],s=i[1],u=bn(o,"int32"),l=lt(s),f=this.readSync(u.dataId),d=this.readSync(n.dataId),p=0;p<f.length;++p){for(var m=p*l,g=d[m],x=0,b=0;b<l;++b){var w=d[m+b];w>g&&(g=w,x=b)}f[p]=x}return u},t.prototype.cumsum=function(n,r,a,i){if(je(n,"cumsum"),r!==n.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(n.rank-1)+" but got axis="+r);for(var o=Mr(n.dtype,"int32"),s=bn(n.shape,o),u=this.readSync(s.dataId),l=this.readSync(n.dataId),f=n.shape[n.rank-1],d=i?function(b,w){return b+f-w-1}:function(b,w){return b+w},p=0;p<l.length;p+=f)for(var m=0;m<f;m++){var g=d(p,m);if(m===0)u[g]=a?0:l[g];else{var x=d(p,m-1);u[g]=a?l[x]+u[x]:l[g]+u[x]}}return s},t.prototype.equal=function(n,r){return je([n,r],"equal"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a===i?1:0})},t.prototype.notEqual=function(n,r){return je([n,r],"notEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a!==i?1:0})},t.prototype.less=function(n,r){return je([n,r],"less"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a<i?1:0})},t.prototype.lessEqual=function(n,r){return je([n,r],"lessEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a<=i?1:0})},t.prototype.greater=function(n,r){return je([n,r],"greater"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a>i?1:0})},t.prototype.greaterEqual=function(n,r){return je([n,r],"greaterEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a>=i?1:0})},t.prototype.logicalNot=function(n){je(n,"logicalNot");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)a[i]=r[i]?0:1;return this.makeOutput(a,n.shape,"bool")},t.prototype.logicalAnd=function(n,r){return je([n,r],"logicalAnd"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a&&i})},t.prototype.logicalOr=function(n,r){return je([n,r],"logicalOr"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a||i})},t.prototype.select=function(n,r,a){je([n,r,a],"select");for(var i=this.readSync(n.dataId),o=this.readSync(r.dataId),s=this.readSync(a.dataId),u=bn(r.shape,Mr(r.dtype,a.dtype)),l=this.readSync(u.dataId),f=0,d=n.rank===0||n.rank>1||r.rank===1?1:lt(r.shape.slice(1)),p=0;p<i.length;p++)for(var m=0;m<d;m++)i[p]===1?l[f++]=o[p]:l[f++]=s[p];return u},t.prototype.where=function(n){je([n],"where");var r=this.readSync(n.dataId);return JE(n.shape,r)},t.prototype.topk=function(n,r,a){return je(n,"topk"),JF(this.readSync(n.dataId),n.shape,n.dtype,r)},t.prototype.min=function(n,r){je(n,"min"),Ha("min",r,n.rank);for(var a=qr(n.shape,r),i=a[0],o=a[1],s=bn(i,n.dtype),u=lt(o),l=this.readSync(s.dataId),f=this.readSync(n.dataId),d=0;d<l.length;++d){for(var p=d*u,m=f[p],g=0;g<u;++g){var x=f[p+g];x<m&&(m=x)}l[d]=m}return s},t.prototype.minimum=function(n,r){return je([n,r],"minimum"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.min(a,i)})},t.prototype.mod=function(n,r){return je([n,r],"mod"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){var o=a%i;return a<0&&i<0||a>=0&&i>=0?o:(o+i)%i})},t.prototype.max=function(n,r){je(n,"max"),Ha("max",r,n.rank);for(var a=qr(n.shape,r),i=a[0],o=a[1],s=bn(i,n.dtype),u=lt(o),l=this.readSync(s.dataId),f=this.readSync(n.dataId),d=0;d<l.length;++d){for(var p=d*u,m=f[p],g=0;g<u;++g){var x=f[p+g];x>m&&(m=x)}l[d]=m}return s},t.prototype.maximum=function(n,r){return je([n,r],"maximum"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.max(a,i)})},t.prototype.all=function(n,r){je(n,"all"),Ha("all",r,n.rank);for(var a=qr(n.shape,r),i=a[0],o=a[1],s=bn(i,n.dtype),u=lt(o),l=this.readSync(s.dataId),f=this.readSync(n.dataId),d=0;d<l.length;++d){for(var p=d*u,m=f[p],g=0;g<u;++g){var x=f[p+g];m=m&&x}l[d]=m}return s},t.prototype.any=function(n,r){je(n,"any"),Ha("any",r,n.rank);for(var a=qr(n.shape,r),i=a[0],o=a[1],s=bn(i,n.dtype),u=lt(o),l=this.readSync(s.dataId),f=this.readSync(n.dataId),d=0;d<l.length;++d){for(var p=d*u,m=f[p],g=0;g<u;++g){var x=f[p+g];m=m||x}l[d]=m}return s},t.prototype.squaredDifference=function(n,r){return je([n,r],"squaredDifference"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){var o=a-i;return o*o})},t.prototype.ceil=function(n){je(n,"ceil");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.ceil(r[i]);return this.makeOutput(a,n.shape,"float32")},t.prototype.floor=function(n){je(n,"floor");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.floor(r[i]);return this.makeOutput(a,n.shape,"float32")},t.prototype.sign=function(n){je(n,"x");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)r[i]<0?a[i]=-1:r[i]>0?a[i]=1:a[i]=0;return this.makeOutput(a,n.shape,"float32")},t.prototype.isNaN=function(n){je(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)Number.isNaN(r[i])&&(a[i]=1);return this.makeOutput(a,n.shape,"bool")},t.prototype.isInf=function(n){je(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)Math.abs(r[i])===1/0&&(a[i]=1);return this.makeOutput(a,n.shape,"bool")},t.prototype.isFinite=function(n){je(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)Number.isFinite(r[i])&&(a[i]=1);return this.makeOutput(a,n.shape,"bool")},t.prototype.round=function(n){je(n,"round");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=Math.floor(r[i]);r[i]-o<.5?a[i]=Math.floor(r[i]):r[i]-o>.5?a[i]=Math.ceil(r[i]):a[i]=o%2==0?o:o+1}return this.makeOutput(a,n.shape,"float32")},t.prototype.exp=function(n){je(n,"exp");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.exp(r[i]);return this.makeOutput(a,n.shape,"float32")},t.prototype.expm1=function(n){je(n,"expm1");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.expm1(r[i]);return this.makeOutput(a,n.shape,"float32")},t.prototype.log=function(n){je(n,"log");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=Math.log(o)}return this.makeOutput(a,n.shape,"float32")},t.prototype.log1p=function(n){je(n,"log1p");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=Math.log1p(o)}return this.makeOutput(a,n.shape,"float32")},t.prototype.sqrt=function(n){je(n,"sqrt");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=Math.sqrt(o)}return this.makeOutput(a,n.shape,"float32")},t.prototype.rsqrt=function(n){je(n,"rsqrt");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=1/Math.sqrt(o)}return this.makeOutput(a,n.shape,"float32")},t.prototype.reciprocal=function(n){je(n,"reciprocal");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=1/r[i];return this.makeOutput(a,n.shape,"float32")},t.prototype.linear=function(n){return n},t.prototype.relu=function(n){je(n,"relu");for(var r=bn(n.shape,n.dtype),a=this.readSync(r.dataId),i=this.readSync(n.dataId),o=0;o<i.length;++o)a[o]=Math.max(0,i[o]);return r},t.prototype.relu6=function(n){je(n,"relu");for(var r=bn(n.shape,n.dtype),a=this.readSync(r.dataId),i=this.readSync(n.dataId),o=0;o<i.length;++o)a[o]=Math.min(Math.max(0,i[o]),6);return r},t.prototype.prelu=function(n,r){return je([n,r],"prelu"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return a<0?i*a:a})},t.prototype.elu=function(n){je(n,"elu");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i){var o=a[i];r[i]=o>=0?o:Math.exp(o)-1}return this.makeOutput(r,n.shape,"float32")},t.prototype.eluDer=function(n,r){je([n,r],"eluDer");for(var a=new Float32Array(r.size),i=this.readSync(r.dataId),o=this.readSync(n.dataId),s=0;s<i.length;++s){var u=i[s];a[s]=u>=1?o[s]:o[s]*(u+1)}return this.makeOutput(a,r.shape,"float32")},t.prototype.selu=function(n){je(n,"selu");for(var r=tS,a=nS,i=new Float32Array(n.size),o=this.readSync(n.dataId),s=0;s<o.length;++s){var u=o[s];i[s]=u>=0?a*u:r*(Math.exp(u)-1)}return this.makeOutput(i,n.shape,"float32")},t.prototype.clip=function(n,r,a){je(n,"clip");for(var i=new Float32Array(n.size),o=this.readSync(n.dataId),s=0;s<o.length;++s){var u=o[s];i[s]=u>a?a:u<r?r:u}return this.makeOutput(i,n.shape,"float32")},t.prototype.abs=function(n){for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.abs(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.complexAbs=function(n){for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<n.size;++i){var o=a[2*i],s=a[2*i+1];r[i]=Math.hypot(o,s)}return this.makeOutput(r,n.shape,"float32")},t.prototype.int=function(n){je(n,"int");for(var r=new Int32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=a[i];return this.makeOutput(r,n.shape,"int32")},t.prototype.sigmoid=function(n){je(n,"sigmoid");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=1/(1+Math.exp(-a[i]));return this.makeOutput(r,n.shape,"float32")},t.prototype.softplus=function(n){je(n,"softplus");for(var r=Math.log(11920928955078125e-23)+2,a=new Float32Array(n.size),i=this.readSync(n.dataId),o=0;o<i.length;++o){var s=i[o]>-r,u=i[o]<r,l=Math.exp(i[o]),f=void 0;f=u?l:s?i[o]:Math.log(1+l),a[o]=f}return this.makeOutput(a,n.shape,"float32")},t.prototype.sin=function(n){je(n,"sin");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.sin(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.cos=function(n){je(n,"cos");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.cos(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.tan=function(n){je(n,"tan");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.tan(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.asin=function(n){je(n,"asin");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.asin(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.acos=function(n){je(n,"acos");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.acos(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atan=function(n){je(n,"atan");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.atan(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atan2=function(n,r){return je([n,r],"atan2"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.atan2(a,i)})},t.prototype.sinh=function(n){je(n,"sinh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.sinh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.cosh=function(n){je(n,"cosh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.cosh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.tanh=function(n){je(n,"tanh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=H$(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.asinh=function(n){je(n,"asinh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.asinh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.acosh=function(n){je(n,"acosh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.acosh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atanh=function(n){je(n,"atanh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.atanh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.erf=function(n){je(n,"erf");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i){var o=Math.sign(a[i]),s=Math.abs(a[i]),u=1/(1+.3275911*s);r[i]=o*(1-((((1.061405429*u-1.453152027)*u+1.421413741)*u-.284496736)*u+.254829592)*u*Math.exp(-s*s))}return this.makeOutput(r,n.shape,"float32")},t.prototype.step=function(n,r){r===void 0&&(r=0),je(n,"step");for(var a=new Float32Array(n.size),i=this.readSync(n.dataId),o=0;o<i.length;++o){var s=i[o];isNaN(s)?a[o]=NaN:a[o]=s>0?1:r}return this.makeOutput(a,n.shape,"float32")},t.prototype.fusedConv2d=function(n){var r=n.input,a=n.filter,i=n.convInfo,o=n.bias,s=n.activation,u=n.preluActivationWeights,l=this.conv2d(r,a,i);return o&&(l=this.add(l,o)),s&&(l=zb(this,l,s,u)),l},t.prototype.conv2d=function(n,r,a){je([n,r],"conv2d");for(var i=a.filterHeight,o=a.filterWidth,s=a.dilationHeight,u=a.dilationWidth,l=a.padInfo.left,f=a.padInfo.top,d=a.dataFormat==="channelsLast",p=Tt(a.outShape,n.dtype),m=n.strides[0],g=d?n.strides[1]:n.strides[2],x=d?n.strides[2]:1,b=d?1:n.strides[1],w=p.strides[0],E=d?p.strides[1]:p.strides[2],S=d?p.strides[2]:1,A=d?1:p.strides[1],T=this.readSync(n.dataId),R=this.readSync(r.dataId),D=p.values,P=0;P<a.batchSize;++P)for(var k=P*m,I=P*w,F=0;F<a.outHeight;++F)for(var B=I+F*E,te=F*a.strideHeight-f,ae=0;ae<i;ae++){var V=te+ae*s;if(!(V<0||V>=a.inHeight))for(var H=ae*r.strides[0],Z=k+V*g,ie=0;ie<a.outWidth;++ie)for(var he=B+ie*S,z=ie*a.strideWidth-l,se=0;se<o;se++){var L=z+se*u;if(!(L<0||L>=a.inWidth))for(var G=Z+L*x,X=H+se*r.strides[1],Y=0;Y<a.inChannels;++Y){for(var ce=T[G+Y*b],Pe=0;Pe<a.outChannels;++Pe)D[he+Pe*A]+=ce*R[X+Pe];X+=a.outChannels}}}return p.toTensor()},t.prototype.conv3d=function(n,r,a){for(var i=a.filterDepth,o=a.filterHeight,s=a.filterWidth,u=a.dilationDepth,l=a.dilationHeight,f=a.dilationWidth,d=a.padInfo.front,p=a.padInfo.left,m=a.padInfo.top,g=Tt(a.outShape,n.dtype),x=this.readSync(n.dataId),b=this.readSync(r.dataId),w=g.values,E=0;E<a.batchSize;++E)for(var S=E*n.strides[0],A=E*g.strides[0],T=0;T<a.outDepth;++T)for(var R=A+T*g.strides[1],D=T*a.strideDepth-d,P=0;P<i;P++){var k=D+P*u;if(!(k<0||k>=a.inDepth))for(var I=P*r.strides[0],F=S+k*n.strides[1],B=0;B<a.outHeight;++B)for(var te=R+B*g.strides[2],ae=B*a.strideHeight-m,V=0;V<o;V++){var H=ae+V*l;if(!(H<0||H>=a.inHeight))for(var Z=I+V*r.strides[1],ie=F+H*n.strides[2],he=0;he<a.outWidth;++he)for(var z=te+he*a.outChannels,se=he*a.strideWidth-p,L=0;L<s;L++){var G=se+L*f;if(!(G<0||G>=a.inWidth))for(var X=Z+L*r.strides[2],Y=ie+G*a.inChannels,ce=X,Pe=0;Pe<a.inChannels;++Pe){for(var le=x[Y+Pe],oe=0;oe<a.outChannels;++oe)w[z+oe]+=le*b[ce+oe];ce+=a.outChannels}}}}return g.toTensor()},t.prototype.conv2dDerInput=function(n,r,a){je([n,r],"conv2dDerInput");for(var i=Tt(a.inShape,"float32"),o=i.values,s=this.readSync(n.dataId),u=this.readSync(r.dataId),l=r.strides,f=l[0],d=l[1],p=l[2],m=a.batchSize,g=a.filterHeight,x=a.filterWidth,b=a.inChannels,w=a.inHeight,E=a.inWidth,S=a.outChannels,A=a.outHeight,T=a.outWidth,R=a.strideHeight,D=a.strideWidth,P=a.dataFormat,k=g-1-a.padInfo.top,I=x-1-a.padInfo.left,F=P==="channelsLast",B=i.strides[0],te=F?i.strides[1]:i.strides[2],ae=F?i.strides[2]:1,V=F?1:i.strides[1],H=n.strides[0],Z=F?n.strides[1]:n.strides[2],ie=F?n.strides[2]:1,he=F?1:n.strides[1],z=0;z<m;++z)for(var se=0;se<b;++se)for(var L=0;L<w;++L)for(var G=L-k,X=Math.max(0,Math.ceil(G/R)),Y=Math.min(A,(g+G)/R),ce=0;ce<E;++ce){for(var Pe=ce-I,le=Math.max(0,Math.ceil(Pe/D)),oe=Math.min(T,(x+Pe)/D),ye=0,Oe=X;Oe<Y;++Oe)for(var ve=Oe*R-G,Ye=le;Ye<oe;++Ye)for(var $e=H*z+Z*Oe+ie*Ye,nt=f*(g-1-ve)+d*(x-1-(Ye*D-Pe))+p*se,et=0;et<S;++et)ye+=s[$e+he*et]*u[nt+et];o[B*z+te*L+ae*ce+V*se]=ye}return i.toTensor()},t.prototype.conv3dDerInput=function(n,r,a){for(var i=Tt(a.inShape,"float32"),o=i.values,s=i.strides,u=s[0],l=s[1],f=s[2],d=s[3],p=this.readSync(n.dataId),m=n.strides,g=m[0],x=m[1],b=m[2],w=m[3],E=this.readSync(r.dataId),S=r.strides,A=S[0],T=S[1],R=S[2],D=S[3],P=a.batchSize,k=a.filterDepth,I=a.filterHeight,F=a.filterWidth,B=a.inChannels,te=a.inDepth,ae=a.inHeight,V=a.inWidth,H=a.outChannels,Z=a.outDepth,ie=a.outHeight,he=a.outWidth,z=a.strideDepth,se=a.strideHeight,L=a.strideWidth,G=k-1-a.padInfo.front,X=I-1-a.padInfo.top,Y=F-1-a.padInfo.left,ce=0;ce<P;++ce)for(var Pe=0;Pe<B;++Pe)for(var le=0;le<te;++le)for(var oe=le-G,ye=Math.max(0,Math.ceil(oe/z)),Oe=Math.min(Z,(k+oe)/z),ve=0;ve<ae;++ve)for(var Ye=ve-X,$e=Math.max(0,Math.ceil(Ye/se)),nt=Math.min(ie,(I+Ye)/se),et=0;et<V;++et){for(var He=et-Y,Ft=Math.max(0,Math.ceil(He/L)),jt=Math.min(he,(F+He)/L),ze=0,dt=ye;dt<Oe;++dt)for(var ge=dt*z-oe,Be=$e;Be<nt;++Be)for(var qe=Be*se-Ye,Qe=Ft;Qe<jt;++Qe)for(var ut=g*ce+x*dt+b*Be+w*Qe,pt=A*(k-1-ge)+T*(I-1-qe)+R*(F-1-(Qe*L-He))+D*Pe,wt=0;wt<H;++wt)ze+=p[ut+wt]*E[pt+wt];o[u*ce+l*le+f*ve+d*et+Pe]=ze}return i.toTensor()},t.prototype.conv2dDerFilter=function(n,r,a){je([n,r],"conv2dDerFilter");for(var i=a.strideHeight,o=a.strideWidth,s=a.filterHeight,u=a.filterWidth,l=a.dataFormat==="channelsLast",f=Tt(a.filterShape,"float32"),d=a.padInfo.left,p=a.padInfo.top,m=this.bufferSync(n),g=this.bufferSync(r),x=0;x<s;++x)for(var b=Math.max(0,Math.ceil((p-x)/i)),w=Math.min(a.outHeight,(a.inHeight+p-x)/i),E=0;E<u;++E)for(var S=Math.max(0,Math.ceil((d-E)/o)),A=Math.min(a.outWidth,(a.inWidth+d-E)/o),T=0;T<a.inChannels;++T)for(var R=0;R<a.outChannels;++R){for(var D=0,P=0;P<a.batchSize;++P)for(var k=b;k<w;++k)for(var I=x+k*i-p,F=S;F<A;++F){var B=E+F*o-d;D+=l?m.get(P,I,B,T)*g.get(P,k,F,R):m.get(P,T,I,B)*g.get(P,R,k,F)}f.set(D,x,E,T,R)}return f.toTensor()},t.prototype.conv3dDerFilter=function(n,r,a){for(var i=a.strideDepth,o=a.strideHeight,s=a.strideWidth,u=a.filterDepth,l=a.filterHeight,f=a.filterWidth,d=Tt(a.filterShape,"float32"),p=d.values,m=d.strides,g=m[0],x=m[1],b=m[2],w=m[3],E=this.readSync(r.dataId),S=r.strides,A=S[0],T=S[1],R=S[2],D=S[3],P=this.readSync(n.dataId),k=n.strides,I=k[0],F=k[1],B=k[2],te=k[3],ae=a.padInfo.front,V=a.padInfo.left,H=a.padInfo.top,Z=0;Z<u;++Z)for(var ie=Math.max(0,Math.ceil((ae-Z)/i)),he=Math.min(a.outDepth,(a.inDepth+ae-Z)/i),z=Z*g,se=0;se<l;++se)for(var L=Math.max(0,Math.ceil((H-se)/o)),G=Math.min(a.outHeight,(a.inHeight+H-se)/o),X=se*x+z,Y=0;Y<f;++Y)for(var ce=Math.max(0,Math.ceil((V-Y)/s)),Pe=Math.min(a.outWidth,(a.inWidth+V-Y)/s),le=Y*b+X,oe=0;oe<a.inChannels;++oe)for(var ye=oe*w+le,Oe=0;Oe<a.outChannels;++Oe){for(var ve=0,Ye=0;Ye<a.batchSize;++Ye)for(var $e=Ye*I,nt=Ye*A,et=ie;et<he;++et)for(var He=(Z+et*i-ae)*F+$e,Ft=et*T+nt,jt=L;jt<G;++jt)for(var ze=(se+jt*o-H)*B+He,dt=jt*R+Ft,ge=ce;ge<Pe;++ge){var Be=ge*D+dt;ve+=P[(Y+ge*s-V)*te+ze+oe]*E[Be+Oe]}p[ye+Oe]=ve}return d.toTensor()},t.prototype.fusedDepthwiseConv2D=function(n){var r=n.input,a=n.filter,i=n.convInfo,o=n.bias,s=n.activation,u=n.preluActivationWeights,l=this.depthwiseConv2D(r,a,i);return o&&(l=this.add(l,o)),s&&(l=zb(this,l,s,u)),l},t.prototype.depthwiseConv2D=function(n,r,a){je([n,r],"depthwiseConv2D");for(var i=a.filterHeight,o=a.filterWidth,s=a.dilationHeight,u=a.dilationWidth,l=a.padInfo.left,f=a.padInfo.top,d=a.outChannels/a.inChannels,p=Tt(a.outShape,n.dtype),m=this.readSync(n.dataId),g=this.readSync(r.dataId),x=p.values,b=0;b<a.batchSize;++b)for(var w=b*n.strides[0],E=b*p.strides[0],S=0;S<a.outHeight;++S)for(var A=E+S*p.strides[1],T=S*a.strideHeight-l,R=0;R<i;++R){var D=T+R*s;if(!(D<0||D>=a.inHeight))for(var P=R*r.strides[0],k=w+D*n.strides[1],I=0;I<a.outWidth;++I)for(var F=A+I*p.strides[2],B=I*a.strideWidth-f,te=0;te<o;++te){var ae=B+te*u;if(!(ae<0||ae>=a.inWidth))for(var V=P+te*r.strides[1],H=k+ae*a.inChannels,Z=F,ie=V,he=0;he<a.inChannels;++he){for(var z=m[H+he],se=0;se<d;++se)x[Z+se]+=z*g[ie+se];Z+=d,ie+=d}}}return p.toTensor()},t.prototype.depthwiseConv2DDerInput=function(n,r,a){je([n,r],"depthwiseConv2DDerInput");for(var i=Tt(a.inShape,"float32"),o=i.values,s=i.strides,u=s[0],l=s[1],f=s[2],d=this.readSync(n.dataId),p=n.strides,m=p[0],g=p[1],x=p[2],b=this.readSync(r.dataId),w=r.strides,E=w[0],S=w[1],A=w[2],T=a.batchSize,R=a.filterHeight,D=a.filterWidth,P=a.inChannels,k=a.inHeight,I=a.inWidth,F=a.outChannels,B=a.outHeight,te=a.outWidth,ae=a.strideHeight,V=a.strideWidth,H=R-1-a.padInfo.top,Z=D-1-a.padInfo.left,ie=F/P,he=0;he<T;++he)for(var z=0;z<P;++z)for(var se=0;se<k;++se)for(var L=se-H,G=Math.max(0,Math.ceil(L/ae)),X=Math.min(B,(R+L)/ae),Y=0;Y<I;++Y){for(var ce=Y-Z,Pe=Math.max(0,Math.ceil(ce/V)),le=Math.min(te,(D+ce)/V),oe=0,ye=G;ye<X;++ye)for(var Oe=ye*ae-L,ve=Pe;ve<le;++ve)for(var Ye=m*he+g*ye+x*ve,$e=E*(R-1-Oe)+S*(D-1-(ve*V-ce))+A*z,nt=0;nt<ie;++nt)oe+=d[Ye+(z*ie+nt)]*b[$e+nt];o[u*he+l*se+f*Y+z]=oe}return i.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(n,r,a){je([n,r],"depthwiseConv2DDerFilter");for(var i=a.strideHeight,o=a.strideWidth,s=a.filterHeight,u=a.filterWidth,l=Tt(a.filterShape,"float32"),f=a.padInfo.left,d=a.padInfo.top,p=a.outChannels/a.inChannels,m=this.bufferSync(n),g=this.bufferSync(r),x=0;x<s;++x)for(var b=Math.max(0,Math.ceil((d-x)/i)),w=Math.min(a.outHeight,(a.inHeight+d-x)/i),E=0;E<u;++E)for(var S=Math.max(0,Math.ceil((f-E)/o)),A=Math.min(a.outWidth,(a.inWidth+f-E)/o),T=0;T<a.outChannels;++T){for(var R=Math.trunc(T/p),D=T%p,P=0,k=0;k<a.batchSize;++k)for(var I=b;I<w;++I)for(var F=x+I*i-d,B=S;B<A;++B){var te=E+B*o-f;P+=m.get(k,F,te,R)*g.get(k,I,B,T)}l.set(P,x,E,R,D)}return l.toTensor()},t.prototype.tile=function(n,r){return je(n,"tile"),ZF(this.bufferSync(n),r)},t.prototype.pad=function(n,r,a){je(n,"pad");var i=r.map(function(p,m){return p[0]+n.shape[m]+p[1]}),o=r.map(function(p){return p[0]}),s=this.bufferSync(n),u=Tt(i,n.dtype);a!==0&&u.values.fill(a);for(var l=0;l<n.size;l++){var f=s.indexToLoc(l),d=f.map(function(p,m){return p+o[m]});u.set.apply(u,[s.get.apply(s,f)].concat(d))}return u.toTensor()},t.prototype.transpose=function(n,r){je(n,"transpose");for(var a=new Array(n.rank),i=0;i<a.length;i++)a[i]=n.shape[r[i]];var o=this.readSync(n.dataId),s=Tt(a,n.dtype),u=this.bufferSync(n);for(i=0;i<n.size;++i){for(var l=u.indexToLoc(i),f=new Array(l.length),d=0;d<f.length;d++)f[d]=l[r[d]];var p=s.locToIndex(f);s.values[p]=o[i]}return s.toTensor()},t.prototype.gather=function(n,r,a){je([n,r],"gather");var i=n.shape.slice(),o=this.readSync(r.dataId);i[a]=o.length;for(var s=Tt(i,n.dtype),u=this.bufferSync(n),l=0;l<s.size;++l){var f=s.indexToLoc(l),d=f.slice();d[a]=o[f[a]];var p=u.locToIndex(d);s.values[l]=u.values[p]}return s.toTensor()},t.prototype.batchToSpaceND=function(n,r,a){je([n],"batchToSpaceND");var i=r.reduce(function(d,p){return d*p}),o=Im(n.shape,r,i),s=Fm(o.length,r.length),u=Bm(n.shape,r,i),l=jF(a,r.length),f=UF(u,a,r.length);return n.reshape(o).transpose(s).reshape(u).slice(l,f)},t.prototype.spaceToBatchND=function(n,r,a){je([n],"spaceToBatchND");var i=r.reduce(function(p,m){return p*m}),o=[[0,0]];o.push.apply(o,a);for(var s=1+r.length;s<n.shape.length;++s)o.push([0,0]);var u=n.pad(o),l=Im(u.shape,r,i,!1),f=Fm(l.length,r.length,!1),d=Bm(u.shape,r,i,!1);return u.reshape(l).transpose(f).reshape(d)},t.prototype.pool=function(n,r,a){je(n,"pool");for(var i=r.strideHeight,o=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,l=r.effectiveFilterHeight,f=r.effectiveFilterWidth,d=r.padInfo.top,p=r.padInfo.left,m=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(n.dataId),x=Tt(r.outShape,n.dtype),b=x.values,w=r.outShape[1]*r.outShape[2]*r.outShape[3],E=r.outShape[2]*r.outShape[3],S=r.outShape[3],A=0;A<r.batchSize;++A)for(var T=A*w,R=A*n.strides[0],D=0;D<r.inChannels;++D)for(var P=0;P<r.outHeight;++P)for(var k=P*i-d,I=Math.max(0,k),F=Math.min(r.inHeight,l+k),B=T+P*E,te=0;te<r.outWidth;++te){for(var ae=te*o-p,V=Math.max(0,ae),H=Math.min(r.inWidth,f+ae),Z=m,ie=0,he=0,z=I;z<F;z+=s){for(var se=R+z*n.strides[1],L=V;L<H;L+=u){var G=g[se+L*n.strides[2]+D];a==="max"&&G>Z?Z=G:a==="avg"&&(ie+=G,he++)}if(isNaN(Z))break}b[B+te*S+D]=a==="avg"?ie/he:Z}return x.toTensor()},t.prototype.maxPool=function(n,r){return this.pool(n,r,"max")},t.prototype.maxPoolPositions=function(n,r){for(var a=Tt(r.outShape,"int32"),i=r.strideHeight,o=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,l=r.effectiveFilterHeight,f=r.effectiveFilterWidth,d=r.padInfo.top,p=r.padInfo.left,m=this.bufferSync(n),g=0;g<r.batchSize;++g)for(var x=0;x<r.inChannels;++x)for(var b=0;b<r.outHeight;++b){for(var w=b*i-d,E=w;E<0;)E+=s;for(var S=Math.min(r.inHeight,l+w),A=0;A<r.outWidth;++A){for(var T=A*o-p,R=T;R<0;)R+=u;for(var D=Math.min(r.inWidth,f+T),P=Number.NEGATIVE_INFINITY,k=-1,I=E;I<S;I+=s)for(var F=I-w,B=R;B<D;B+=u){var te=B-T,ae=m.get(g,I,B,x);ae>P&&(P=ae,k=F*f+te)}a.set(k,g,b,A,x)}}return a.toTensor()},t.prototype.maxPoolBackprop=function(n,r,a,i){je([r,a],"maxPoolBackprop");for(var o=this.maxPoolPositions(r,i),s=i.strideHeight,u=i.strideWidth,l=i.dilationHeight,f=i.dilationWidth,d=i.effectiveFilterHeight,p=i.effectiveFilterWidth,m=p-1-i.padInfo.left,g=d-1-i.padInfo.top,x=Tt(r.shape,"float32"),b=this.bufferSync(o),w=this.bufferSync(n),E=0;E<i.batchSize;++E)for(var S=0;S<i.inChannels;++S)for(var A=0;A<i.inHeight;++A)for(var T=0;T<i.inWidth;++T){for(var R=A-g,D=T-m,P=0,k=0;k<d;k+=l){var I=(R+k)/s;if(!(I<0||I>=i.outHeight||Math.floor(I)!==I))for(var F=0;F<p;F+=f){var B=(D+F)/u;if(!(B<0||B>=i.outWidth||Math.floor(B)!==B)){var te=d*p-1-b.get(E,I,B,S)===k*p+F?1:0;te!==0&&(P+=w.get(E,I,B,S)*te)}}}x.set(P,E,A,T,S)}return x.toTensor()},t.prototype.avgPoolBackprop=function(n,r,a){je([n,r],"avgPoolBackprop");for(var i=a.strideHeight,o=a.strideWidth,s=a.filterHeight,u=a.filterWidth,l=a.dilationHeight,f=a.dilationWidth,d=a.effectiveFilterHeight,p=a.effectiveFilterWidth,m=p-1-a.padInfo.left,g=d-1-a.padInfo.top,x=Tt(r.shape,"float32"),b=1/(s*u),w=this.bufferSync(n),E=0;E<a.batchSize;++E)for(var S=0;S<a.inChannels;++S)for(var A=0;A<a.inHeight;++A)for(var T=0;T<a.inWidth;++T){for(var R=A-g,D=T-m,P=0,k=0;k<d;k+=l){var I=(R+k)/i;if(!(I<0||I>=a.outHeight||Math.floor(I)!==I))for(var F=0;F<p;F+=f){var B=(D+F)/o;B<0||B>=a.outWidth||Math.floor(B)!==B||(P+=w.get(E,I,B,S))}}x.set(P*b,E,A,T,S)}return x.toTensor()},t.prototype.pool3d=function(n,r,a){je(n,"pool3d");for(var i=r.strideDepth,o=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,l=r.dilationHeight,f=r.dilationWidth,d=r.effectiveFilterDepth,p=r.effectiveFilterHeight,m=r.effectiveFilterWidth,g=r.padInfo.front,x=r.padInfo.top,b=r.padInfo.left,w=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,E=this.readSync(n.dataId),S=Tt(r.outShape,n.dtype),A=S.values,T=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],R=r.outShape[2]*r.outShape[3]*r.outShape[4],D=r.outShape[3]*r.outShape[4],P=r.outShape[4],k=0;k<r.batchSize;++k)for(var I=k*T,F=k*n.strides[0],B=0;B<r.inChannels;++B)for(var te=0;te<r.outDepth;++te){for(var ae=te*i-g,V=ae;V<0;)V+=u;for(var H=Math.min(r.inDepth,d+ae),Z=I+te*R,ie=0;ie<r.outHeight;++ie){for(var he=ie*o-x,z=he;z<0;)z+=l;for(var se=Math.min(r.inHeight,p+he),L=Z+ie*D,G=0;G<r.outWidth;++G){for(var X=G*s-b,Y=X;Y<0;)Y+=f;for(var ce=Math.min(r.inWidth,m+X),Pe=L+G*P,le=w,oe=0,ye=0,Oe=V;Oe<H;Oe+=u){for(var ve=F+Oe*n.strides[1],Ye=z;Ye<se;Ye+=l){for(var $e=ve+Ye*n.strides[2],nt=Y;nt<ce;nt+=f){var et=E[$e+nt*n.strides[3]+B];if(a==="max"&&et>le?le=et:a==="avg"&&(oe+=et,ye++),isNaN(le))break}if(isNaN(le))break}if(isNaN(le))break}A[Pe+B]=a==="avg"?oe/ye:le}}}return S.toTensor()},t.prototype.avgPool3d=function(n,r){return je(n,"avgPool3d"),this.pool3d(n,r,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(n,r,a){je([n,r],"avgPool3dBackprop");for(var i=a.strideDepth,o=a.strideHeight,s=a.strideWidth,u=a.filterDepth,l=a.filterHeight,f=a.filterWidth,d=a.dilationDepth,p=a.dilationHeight,m=a.dilationWidth,g=a.effectiveFilterDepth,x=a.effectiveFilterHeight,b=a.effectiveFilterWidth,w=g-1-a.padInfo.front,E=b-1-a.padInfo.left,S=x-1-a.padInfo.top,A=Tt(r.shape,"float32"),T=1/(u*l*f),R=this.bufferSync(n),D=0;D<a.batchSize;++D)for(var P=0;P<a.inChannels;++P)for(var k=0;k<a.inDepth;++k)for(var I=0;I<a.inHeight;++I)for(var F=0;F<a.inWidth;++F){for(var B=k-w,te=I-S,ae=F-E,V=0,H=0;H<g;H+=d){var Z=(B+H)/i;if(!(Z<0||Z>=a.outDepth||Math.floor(Z)!==Z))for(var ie=0;ie<x;ie+=p){var he=(te+ie)/o;if(!(he<0||he>=a.outHeight||Math.floor(he)!==he))for(var z=0;z<b;z+=m){var se=(ae+z)/s;se<0||se>=a.outWidth||Math.floor(se)!==se||(V+=R.get(D,Z,he,se,P))}}}A.set(V*T,D,k,I,F,P)}return A.toTensor()},t.prototype.maxPool3d=function(n,r){return je(n,"maxPool3d"),this.pool3d(n,r,"max").toFloat()},t.prototype.maxPool3dPositions=function(n,r){for(var a=Tt(r.outShape,"int32"),i=r.strideDepth,o=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,l=r.dilationHeight,f=r.dilationWidth,d=r.effectiveFilterDepth,p=r.effectiveFilterHeight,m=r.effectiveFilterWidth,g=r.padInfo.front,x=r.padInfo.top,b=r.padInfo.left,w=this.bufferSync(n),E=0;E<r.batchSize;++E)for(var S=0;S<r.inChannels;++S)for(var A=0;A<r.outDepth;++A){for(var T=A*i-g,R=T;R<0;)R+=u;for(var D=Math.min(r.inDepth,d+T),P=0;P<r.outHeight;++P){for(var k=P*o-x,I=k;I<0;)I+=l;for(var F=Math.min(r.inHeight,p+k),B=0;B<r.outWidth;++B){for(var te=B*s-b,ae=te;ae<0;)ae+=f;for(var V=Math.min(r.inWidth,m+te),H=Number.NEGATIVE_INFINITY,Z=-1,ie=R;ie<D;ie+=u)for(var he=ie-T,z=I;z<F;z+=l)for(var se=z-k,L=ae;L<V;L+=f){var G=L-te,X=w.get(E,ie,z,L,S);X>=H&&(H=X,Z=he*p*m+se*p+G)}a.set(Z,E,A,P,B,S)}}}return a.toTensor()},t.prototype.maxPool3dBackprop=function(n,r,a,i){je([r,a],"maxPool3dBackprop");for(var o=this.maxPool3dPositions(r,i),s=i.strideDepth,u=i.strideHeight,l=i.strideWidth,f=i.dilationDepth,d=i.dilationHeight,p=i.dilationWidth,m=i.effectiveFilterDepth,g=i.effectiveFilterHeight,x=i.effectiveFilterWidth,b=m-1-i.padInfo.front,w=x-1-i.padInfo.left,E=g-1-i.padInfo.top,S=Tt(r.shape,"float32"),A=this.bufferSync(o),T=this.bufferSync(n),R=0;R<i.batchSize;++R)for(var D=0;D<i.inChannels;++D)for(var P=0;P<i.inDepth;++P)for(var k=0;k<i.inHeight;++k)for(var I=0;I<i.inWidth;++I){for(var F=P-b,B=k-E,te=I-w,ae=0,V=0;V<m;V+=f){var H=(F+V)/s;if(!(H<0||H>=i.outDepth||Math.floor(H)!==H))for(var Z=0;Z<g;Z+=d){var ie=(B+Z)/u;if(!(ie<0||ie>=i.outHeight||Math.floor(ie)!==ie))for(var he=0;he<x;he+=p){var z=(te+he)/l;if(!(z<0||z>=i.outWidth||Math.floor(z)!==z)){var se=m*g*x-1-A.get(R,H,ie,z,D)===V*g*x+Z*x+he?1:0;se!==0&&(ae+=T.get(R,H,ie,z,D)*se)}}}}S.set(ae,R,P,k,I,D)}return S.toTensor()},t.prototype.cast=function(n,r){return KF(n,r,this)},t.prototype.reshape=function(n,r){return h_(n,r)},t.prototype.avgPool=function(n,r){return je(n,"avgPool"),this.pool(n,r,"avg").toFloat()},t.prototype.resizeBilinear=function(n,r,a,i){je(n,"resizeBilinear");for(var o=n.shape,s=o[0],u=o[1],l=o[2],f=o[3],d=this.readSync(n.dataId),p=new Float32Array(lt([s,r,a,f])),m=[i&&r>1?u-1:u,i&&a>1?l-1:l],g=[i&&r>1?r-1:r,i&&a>1?a-1:a],x=0,b=m[0]/g[0],w=m[1]/g[1],E=0;E<s;E++)for(var S=0;S<r;S++)for(var A=b*S,T=Math.floor(A),R=A-T,D=Math.min(u-1,Math.ceil(A)),P=E*n.strides[0]+T*n.strides[1],k=E*n.strides[0]+D*n.strides[1],I=0;I<a;I++)for(var F=w*I,B=Math.floor(F),te=F-B,ae=Math.min(l-1,Math.ceil(F)),V=P+B*n.strides[2],H=k+B*n.strides[2],Z=P+ae*n.strides[2],ie=k+ae*n.strides[2],he=0;he<f;he++){var z=d[V+he],se=d[H+he],L=z+(d[Z+he]-z)*te,G=L+(se+(d[ie+he]-se)*te-L)*R;p[x++]=G}return Fr(p,[s,r,a,f])},t.prototype.resizeBilinearBackprop=function(n,r,a){je([n,r],"resizeBilinearBackprop");for(var i=r.shape,o=i[0],s=i[1],u=i[2],l=i[3],f=n.shape,d=f[1],p=f[2],m=new Float32Array(o*s*u*l),g=[a&&d>1?s-1:s,a&&p>1?u-1:u],x=[a&&d>1?d-1:d,a&&p>1?p-1:p],b=g[0]/x[0],w=g[1]/x[1],E=this.readSync(n.dataId),S=0,A=0;A<o;A++)for(var T=A*r.strides[0],R=0;R<d;R++)for(var D=R*b,P=Math.floor(D),k=Math.min(Math.ceil(D),s-1),I=T+P*r.strides[1],F=T+k*r.strides[1],B=D-P,te=1-B,ae=0;ae<p;ae++)for(var V=ae*w,H=Math.floor(V),Z=Math.min(Math.ceil(V),u-1),ie=V-H,he=1-ie,z=I+H*r.strides[2],se=I+Z*r.strides[2],L=F+H*r.strides[2],G=F+Z*r.strides[2],X=te*he,Y=te*ie,ce=B*he,Pe=B*ie,le=0;le<l;le++){var oe=E[S++];m[z+le]+=oe*X,m[se+le]+=oe*Y,m[L+le]+=oe*ce,m[G+le]+=oe*Pe}return ya(m,[o,u,s,l],r.dtype)},t.prototype.resizeNearestNeighbor=function(n,r,a,i){je(n,"resizeNearestNeighbor");for(var o=n.shape,s=o[0],u=o[1],l=o[2],f=o[3],d=this.readSync(n.dataId),p=new Float32Array(s*r*a*f),m=[i&&r>1?u-1:u,i&&a>1?l-1:l],g=[i&&r>1?r-1:r,i&&a>1?a-1:a],x=m[0]/g[0],b=m[1]/g[1],w=0,E=0;E<s;E++)for(var S=E*n.strides[0],A=0;A<r;A++)for(var T=x*A,R=S+Math.min(u-1,i?Math.round(T):Math.floor(T))*n.strides[1],D=0;D<a;D++)for(var P=b*D,k=R+Math.min(l-1,i?Math.round(P):Math.floor(P))*n.strides[2],I=0;I<f;I++){var F=d[k+I];p[w++]=F}return Fr(p,[s,r,a,f],n.dtype)},t.prototype.resizeNearestNeighborBackprop=function(n,r,a){je([n,r],"resizeNearestNeighborBackprop");for(var i=r.shape,o=i[0],s=i[1],u=i[2],l=i[3],f=n.shape,d=f[1],p=f[2],m=new Float32Array(o*s*u*l),g=this.readSync(n.dataId),x=[a&&d>1?s-1:s,a&&p>1?u-1:u],b=[a&&d>1?d-1:d,a&&p>1?p-1:p],w=x[0]/b[0],E=x[1]/b[1],S=1/w,A=1/E,T=2*Math.ceil(S)+2,R=2*Math.ceil(A)+2,D=0;D<o;D++)for(var P=D*r.strides[0],k=0;k<s;k++)for(var I=P+k*r.strides[1],F=Math.floor(k*S),B=Math.floor(F-T/2),te=0;te<u;te++)for(var ae=I+te*r.strides[2],V=Math.floor(te*A),H=Math.floor(V-R/2),Z=0;Z<l;Z++){for(var ie=0,he=0;he<T;he++){var z=he+B;if(!(z<0||z>=d)){var se=P+z*n.strides[1],L=z*w;if(k===Math.min(s-1,a?Math.round(L):Math.floor(L)))for(var G=0;G<R;G++){var X=G+H;if(!(X<0||X>=p)){var Y=se+X*n.strides[2],ce=X*E;te===Math.min(u-1,a?Math.round(ce):Math.floor(ce))&&(ie+=g[Y+Z])}}}}m[ae+Z]=ie}return ya(m,r.shape,r.dtype)},t.prototype.batchNormalization=function(n,r,a,i,o,s){je([n,r,a,o,s],"batchNorm");for(var u=this.readSync(n.dataId),l=this.readSync(r.dataId),f=this.readSync(a.dataId),d=o?this.readSync(o.dataId):new Float32Array([1]),p=s?this.readSync(s.dataId):new Float32Array([0]),m=new Float32Array(u.length),g=p.length,x=d.length,b=f.length,w=l.length,E=0,S=0,A=0,T=0,R=0;R<u.length;++R)m[R]=p[E++]+(u[R]-l[S++])*d[A++]/Math.sqrt(f[T++]+i),E>=g&&(E=0),S>=w&&(S=0),A>=x&&(A=0),T>=b&&(T=0);return ya(m,n.shape)},t.prototype.localResponseNormalization4D=function(n,r,a,i,o){je(n,"localResponseNormalization4D");var s=n.shape[3],u=s-1,l=this.readSync(n.dataId),f=n.size,d=new Float32Array(f);function p(b){for(var w=b%s,E=b-w+Math.max(0,w-r),S=b-w+Math.min(w+r,u),A=0;E<=S;E++){var T=l[E];A+=T*T}return A}for(var m=0;m<f;m++){var g=p(m),x=l[m]*Math.pow(a+i*g,-o);d[m]=x}return ya(d,n.shape)},t.prototype.LRNGrad=function(n,r,a,i,o,s,u){je(n,"LRNGrad");for(var l=n.shape[3],f=this.readSync(n.dataId),d=this.readSync(r.dataId),p=this.readSync(a.dataId),m=new Float32Array(n.size),g=n.size,x=0;x<g;x++){for(var b=x%l,w=x-b+Math.max(0,b-i),E=x-b+Math.min(l,b+i+1),S=0,A=w;A<E;A++)S+=Math.pow(d[A],2);for(S=s*S+o,A=w;A<E;A++){var T=-2*s*u*d[A]*p[x]/S;x===A&&(T+=Math.pow(S,-u)),T*=f[x],m[A]+=T}}return ya(m,n.shape)},t.prototype.multinomial=function(n,r,a,i){je(n,"multinomial");for(var o=r?n:Ps(n),s=o.shape[0],u=o.shape[1],l=bn([s,a],"int32"),f=this.readSync(l.dataId),d=this.readSync(o.dataId),p=0;p<s;++p){var m=p*u,g=new Float32Array(u-1);g[0]=d[m];for(var x=1;x<g.length;++x)g[x]=g[x-1]+d[m+x];for(var b=Zg(i.toString()),w=p*a,E=0;E<a;++E){var S=b();f[w+E]=g.length;for(var A=0;A<g.length;A++)if(S<g[A]){f[w+E]=A;break}}}return l},t.prototype.oneHot=function(n,r,a,i){je(n,"oneHot");var o=new Float32Array(n.size*r);o.fill(i);for(var s=this.readSync(n.dataId),u=0;u<n.size;++u)s[u]>=0&&s[u]<r&&(o[u*r+s[u]]=a);return Ru(o,[n.size,r],"int32")},t.prototype.nonMaxSuppression=function(n,r,a,i,o){return je(n,"nonMaxSuppression"),QE(this.readSync(n.dataId),this.readSync(r.dataId),a,i,o)},t.prototype.fft=function(n){return this.fftBatch(n,!1)},t.prototype.ifft=function(n){return this.fftBatch(n,!0)},t.prototype.fftBatch=function(n,r){for(var a=n.shape[0],i=n.shape[1],o=Tt(n.shape,"float32"),s=Tt(n.shape,"float32"),u=Oi(n).as2D(a,i),l=Oo(n).as2D(a,i),f=0;f<a;f++)for(var d=u.slice([f,0],[1,i]),p=l.slice([f,0],[1,i]),m=kr(d,p),g=this.readSync(this.fftImpl(m,r).dataId),x=0;x<i;x++){var b=k3(g,x);o.values[f*i+x]=b.real,s.values[f*i+x]=b.imag}return kr(o.toTensor(),s.toTensor()).as2D(a,i)},t.prototype.fftImpl=function(n,r){var a=n.as1D(),i=a.size;if(this.isExponentOf2(i)){var o=this.fftRadix2(a,i,r).as2D(n.shape[0],n.shape[1]);return r&&(o=kr(Oi(o).div(Ze(i)),Oo(o).div(Ze(i)))),o}var s=this.readSync(n.dataId),u=function(l){for(var f=new Float32Array(l.length/2),d=new Float32Array(l.length/2),p=0;p<l.length;p+=2)f[p/2]=l[p],d[p/2]=l[p+1];return{real:f,imag:d}}(this.fourierTransformByMatmul(s,i,r));return kr(u.real,u.imag).as2D(n.shape[0],n.shape[1])},t.prototype.isExponentOf2=function(n){return(n&n-1)==0},t.prototype.fftRadix2=function(n,r,a){if(r===1)return n;var i=this.readSync(n.dataId),o=r/2,s=function(w){for(var E=Math.ceil(w.length/4),S=new Float32Array(E),A=new Float32Array(E),T=0;T<w.length;T+=4)S[Math.floor(T/4)]=w[T],A[Math.floor(T/4)]=w[T+1];return{real:S,imag:A}}(i),u=kr(s.real,s.imag).as1D(),l=function(w){for(var E=Math.floor(w.length/4),S=new Float32Array(E),A=new Float32Array(E),T=2;T<w.length;T+=4)S[Math.floor(T/4)]=w[T],A[Math.floor(T/4)]=w[T+1];return{real:S,imag:A}}(i),f=kr(l.real,l.imag).as1D();u=this.fftRadix2(u,o,a),f=this.fftRadix2(f,o,a);var d=function(w,E){for(var S=new Float32Array(w/2),A=new Float32Array(w/2),T=0;T<Math.ceil(w/2);T++){var R=(E?2:-2)*Math.PI*(T/w);S[T]=Math.cos(R),A[T]=Math.sin(R)}return{real:S,imag:A}}(r,a),p=kr(d.real,d.imag).mul(f),m=u.add(p),g=u.sub(p),x=Oi(m).concat(Oi(g)),b=Oo(m).concat(Oo(g));return kr(x,b).as1D()},t.prototype.fourierTransformByMatmul=function(n,r,a){for(var i=new Float32Array(2*r),o=0;o<r;o++){for(var s=0,u=0,l=0;l<r;l++){var f=_q(o*l,r,a),d=k3(n,l);s+=d.real*f.real-d.imag*f.imag,u+=d.real*f.imag+d.imag*f.real}a&&(s/=r,u/=r),wq(i,s,u,o)}return i},t.prototype.depthToSpace=function(n,r,a){Q(a==="NHWC",function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+a}),Q(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});for(var i=n.shape[0],o=n.shape[1],s=n.shape[2],u=n.shape[3],l=o*r,f=s*r,d=u/(r*r),p=this.readSync(n.dataId),m=new Float32Array(i*l*f*d),g=0,x=0;x<i;++x)for(var b=0;b<l;++b)for(var w=Math.floor(b/r),E=b%r,S=0;S<f;++S)for(var A=Math.floor(S/r),T=(E*r+S%r)*d,R=0;R<d;++R){var D=R+T+u*(A+s*(w+o*x));m[g++]=p[D]}return ya(m,[i,l,f,d])},t.prototype.broadcastedBinaryOp=function(n,r,a,i){var o=It(n.shape,r.shape),s=Tt(o,a),u=this.readSync(n.dataId),l=this.readSync(r.dataId),f=Su(n.shape,o),d=Su(r.shape,o),p=s.values;if(f.length+d.length===0)for(var m=0;m<p.length;++m)p[m]=i(u[m%u.length],l[m%l.length]);else{var g=this.bufferSync(n),x=this.bufferSync(r),b=function(w){var E=s.indexToLoc(w),S=E.slice(-n.rank);f.forEach(function(D){return S[D]=0});var A=g.locToIndex(S),T=E.slice(-r.rank);d.forEach(function(D){return T[D]=0});var R=x.locToIndex(T);p[w]=i(u[A],l[R])};for(m=0;m<p.length;++m)b(m)}return s.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(n,r,a){var i=It(n.shape,r.shape),o=Tt(i,"float32"),s=Tt(i,"float32"),u=this.readSync(n.dataId),l=this.readSync(r.dataId),f=Su(n.shape,i),d=Su(r.shape,i),p=o.values,m=s.values;if(f.length+d.length===0)for(var g=0;g<p.length;g++){var x=g%u.length,b=g%l.length,w=a(u[2*x],u[2*x+1],l[2*b],l[2*b+1]);p[g]=w.real,m[g]=w.imag}else{var E=this.bufferSync(this.data.get(n.dataId).complexTensors.real),S=this.bufferSync(this.data.get(r.dataId).complexTensors.real),A=function(T){var R=o.indexToLoc(T),D=R.slice(-n.rank);f.forEach(function(B){return D[B]=0});var P=E.locToIndex(D),k=R.slice(-r.rank);d.forEach(function(B){return k[B]=0});var I=S.locToIndex(k),F=a(u[2*P],u[2*P+1],l[2*I],l[2*I+1]);p[T]=F.real,m[T]=F.imag};for(g=0;g<p.length;g++)A(g)}return this.complex(o.toTensor(),s.toTensor())},t.prototype.split=function(n,r,a){return QF(n,r,a)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(n,r,a,i,o,s){for(var u=n.shape,l=u[0],f=u[1],d=u[2],p=u[3],m=r.shape[0],g=i[0],x=i[1],b=Tt([m,g,x,p],"float32"),w=this.readSync(r.dataId),E=this.readSync(a.dataId),S=this.readSync(n.dataId),A=n.strides,T=b.strides,R=0;R<m;R++){var D=4*R,P=w[D],k=w[D+1],I=w[D+2],F=w[D+3],B=E[R];if(!(B>=l))for(var te=g>1?(I-P)*(f-1)/(g-1):0,ae=x>1?(F-k)*(d-1)/(x-1):0,V=0;V<g;V++){var H=g>1?P*(f-1)+V*te:.5*(P+I)*(f-1);if(H<0||H>f-1)for(var Z=0;Z<x;Z++)for(var ie=0;ie<p;ie++){var he=ie+Z*T[2]+V*T[1]+R*T[0];b.values[he]=s}else if(o==="bilinear"){var z=Math.floor(H),se=Math.ceil(H),L=H-z;for(Z=0;Z<x;Z++)if((Oe=x>1?k*(d-1)+Z*ae:.5*(k+F)*(d-1))<0||Oe>d-1)for(ie=0;ie<p;ie++)he=ie+Z*T[2]+V*T[1]+R*T[0],b.values[he]=s;else{var G=Math.floor(Oe),X=Math.ceil(Oe),Y=Oe-G;for(ie=0;ie<p;ie++){var ce=S[he=ie+G*A[2]+z*A[1]+B*A[0]],Pe=S[he=ie+X*A[2]+z*A[1]+B*A[0]],le=S[he=ie+G*A[2]+se*A[1]+B*A[0]],oe=ce+(Pe-ce)*Y,ye=le+(S[he=ie+X*A[2]+se*A[1]+B*A[0]]-le)*Y;he=ie+Z*T[2]+V*T[1]+R*T[0],b.values[he]=oe+(ye-oe)*L}}}else for(Z=0;Z<x;++Z){var Oe;if((Oe=x>1?k*(d-1)+Z*ae:.5*(k+F)*(d-1))<0||Oe>d-1)for(ie=0;ie<p;ie++)he=ie+Z*T[2]+V*T[1]+R*T[0],b.values[he]=s;else{var ve=Math.round(Oe),Ye=Math.round(H);for(ie=0;ie<p;ie++){var $e=ie+ve*A[2]+Ye*A[1]+B*A[0],nt=ie+Z*T[2]+V*T[1]+R*T[0];b.values[nt]=S[$e]}}}}}return b.toTensor()},t.prototype.sparseToDense=function(n,r,a,i){var o=Lm(0,n,a),s=o.sliceRank,u=o.numUpdates,l=o.sliceSize,f=o.strides,d=o.outputSize;return this.scatter(n,r,a,d,l,u,s,f,i,!1)},t.prototype.gatherND=function(n,r){var a=r.shape,i=a[a.length-1],o=zF(n,r),s=o[0],u=o[1],l=o[2],f=o[3];if(u===0)return Fr([],s,n.dtype);for(var d=new rp([u,l],n.dtype),p=this.readSync(r.dataId),m=this.readSync(n.dataId),g=0;g<u;g++){for(var x=[],b=0,w=0;w<i;w++){var E=p[g*i+w];b+=E*f[w],x.push(E)}if(b<0||b>=n.size/l)throw new Error("Invalid indices: "+x+" does not index into "+n.shape);for(var S=0;S<l;S++)d.values[g*l+S]=m[b*l+S]}return d.toTensor().reshape(s)},t.prototype.scatterND=function(n,r,a){var i=Lm(0,n,a),o=i.sliceRank,s=i.numUpdates,u=i.sliceSize,l=i.strides,f=i.outputSize,d=Ze(0);return this.scatter(n,r,a,f,u,s,o,l,d,!0)},t.prototype.fill=function(n,r,a){var i=Om(a=a||Mp(r),lt(n));return i.fill(r),de.makeTensor(i,n,a,this)},t.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(n.shape,1,n.dtype)},t.prototype.zerosLike=function(n){var r=Om(n.dtype,lt(n.shape));return this.makeOutput(r,n.shape,n.dtype)},t.prototype.linspace=function(n,r,a){return XF(n,r,a)},t.prototype.scatter=function(n,r,a,i,o,s,u,l,f,d){var p=[i/o,o],m=this.readSync(n.dataId),g=this.readSync(r.dataId);if(i===0)return Fr([],a,r.dtype);var x=new rp(p,r.dtype);x.values.fill(this.readSync(f.dataId)[0]);for(var b=0;b<s;b++){for(var w=[],E=0,S=0;S<u;S++){var A=m[b*u+S];w.push(A),E+=A*l[S]}if(E<0||E>=i/o)throw new Error("Invalid indices: "+w+" does not index into "+a);for(var T=0;T<o;T++)d?x.values[E*o+T]+=g[b*o+T]:x.values[E*o+T]=r.rank===0?g[0]:g[b*o+T]}return x.toTensor().reshape(a)},t}(qF);de.registerBackend("cpu",function(){return new WY},1);for(var Wb=0,eD=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t,i=a.boxes,o=a.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,f=s.scoreThreshold,d=s.softNmsSigma,p=n;je(i,"NonMaxSuppressionWithScore");var m=ZE(p.data.get(i.dataId).values,p.data.get(o.dataId).values,u,l,f,d);return[m.selectedIndices,m.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;je(r,"square");for(var i=a.data.get(r.dataId).values,o=new Float32Array(i.length),s=0;s<i.length;++s){var u=i[s];o[s]=u*u}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:op,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=r.a,i=r.b,o=n;je([a,i],op);var s=o.data.get(a.dataId).values,u=o.data.get(i.dataId).values,l=function(p,m,g,x,b,w){var E=It(p,m),S=E.length,A=ko(E),T=np(b,lt(E)),R=p.length,D=m.length,P=ko(p),k=ko(m),I=Su(p,E),F=Su(m,E);if(I.length+F.length===0)for(var B=0;B<T.length;++B)T[B]=w(g[B%g.length],x[B%x.length]);else{var te=function(ae){var V=Z$(ae,S,A),H=V.slice(-R);I.forEach(function(z){return H[z]=0});var Z=E3(H,R,P),ie=V.slice(-D);F.forEach(function(z){return ie[z]=0});var he=E3(ie,D,k);T[ae]=w(g[Z],x[he])};for(B=0;B<T.length;++B)te(B)}return[T,E]}(a.shape,i.shape,s,u,a.dtype,function(p,m){var g=p-m;return g*g}),f=l[0],d=l[1];return{dataId:o.write(f,d,a.dtype),shape:d,dtype:a.dtype}}}];Wb<eD.length;Wb++)bF(eD[Wb]);var af,HY=function(e){this.variableNames=["A"];var t=Xr(),n=e[0],r=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+r+".0, "+n+`.0);

        vec4 values = `+t.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},$Y=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=Xr(),n=e[0],r=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+r+".0, "+n+`.0);
            vec4 values = `+t.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+t.output+` = result;
      }
    `};for(var Hb=0,tD=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,i=r.numChannels,o=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,u=o?[a.videoWidth,a.videoHeight]:[a.width,a.height],l=u[0],f=u[1],d=[f,l],p=[f,l,i];(s||o)&&(af==null&&(af=document.createElement("canvas").getContext("2d")),af.canvas.width=l,af.canvas.height=f,af.drawImage(a,0,0,l,f),a=af.canvas);var m=n.makeTensorInfo(d,"int32");n.texData.get(m.dataId).usage=Qa.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(m.dataId),a);var g=Me().getBool("WEBGL_PACK")?new $Y(p):new HY(p),x=n.runWebGLProgram(g,[m],"int32");return n.disposeData(m.dataId),x}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;km("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=t,i=a.boxes,o=a.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,f=s.scoreThreshold,d=s.softNmsSigma,p=n,m=ZE(p.readSync(i.dataId),p.readSync(o.dataId),u,l,f,d);return[m.selectedIndices,m.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n,i=new Ot(r.shape,"return x * x;");return a.runWebGLProgram(i,[r],r.dtype)}},{kernelName:op,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=r.a,i=r.b,o=n,s=Me().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cs("return (a - b) * (a - b);",a.shape,i.shape):new Pn("return (a - b) * (a - b);",a.shape,i.shape);return o.compileAndRun(s,[a,i])}}];Hb<tD.length;Hb++)bF(tD[Hb]);for(var $b=0,nD=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:op,gradFunc:function(e,t){var n=t[0],r=t[1],a=Ze(2);return{a:function(){return Zr(e,Zr(a,ur(n,r)))},b:function(){return Zr(e,Zr(a,ur(r,n)))}}}}];$b<nD.length;$b++)z$(nD[$b]);var VY=function(){function e(){}return e.prototype.fetch=function(t,n){return fetch(t,n)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+n);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)},e.prototype.decode=function(t,n){return new TextDecoder(n).decode(t)},e}();Me().get("IS_BROWSER")&&Me().setPlatform("browser",new VY);var Vb,qY=function(){return require("node-fetch")},GY=function(){function e(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(t,n){return Me().global.fetch!=null?Me().global.fetch(t,n):(Vb==null&&(Vb=qY()),Vb(t,n))},e.prototype.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6},e.prototype.encode=function(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+n);return this.textEncoder.encode(t)},e.prototype.decode=function(t,n){return t.length===0?"":new this.util.TextDecoder(n).decode(t)},e}();Me().get("IS_NODE")&&Me().setPlatform("node",new GY);var v_={float32:4,int32:4,uint16:2,uint8:1,bool:1},Vm=4;function HB(e,t){for(var n={},r=0,a=function(s){var u=s.name,l=s.dtype,f=s.shape,d=lt(f),p=void 0;if("quantization"in s){var m=s.quantization;if(m.dtype!=="uint8"&&m.dtype!=="uint16")throw new Error("Weight "+s.name+" has unknown quantization dtype "+m.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var g=v_[m.dtype],x=e.slice(r,r+d*g),b=m.dtype==="uint8"?new Uint8Array(x):new Uint16Array(x);if(l==="float32")p=Float32Array.from(b,function(R){return R*m.scale+m.min});else{if(l!=="int32")throw new Error("Unsupported dtype in weight '"+u+"': "+l);p=Int32Array.from(b,function(R){return Math.round(R*m.scale+m.min)})}r+=d*g}else if(l==="string"){var w=lt(s.shape);p=[];for(var E=0;E<w;E++){var S=new Uint32Array(e.slice(r,r+Vm))[0];r+=Vm;var A=new Uint8Array(e.slice(r,r+S));p.push(A),r+=S}}else{var T=v_[l];if(x=e.slice(r,r+d*T),l==="float32")p=new Float32Array(x);else if(l==="int32")p=new Int32Array(x);else{if(l!=="bool")throw new Error("Unsupported dtype in weight '"+u+"': "+l);p=new Uint8Array(x)}r+=d*T}n[u]=Fr(p,f,l)},i=0,o=t;i<o.length;i++)a(o[i]);return n}function KY(e){if(e===null)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach(function(i){if(t+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+i.constructor.name)});var r=new Uint8Array(t),a=0;return n.forEach(function(i){r.set(new Uint8Array(i.buffer),a),a+=i.byteLength}),r.buffer}var m_=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function rD(e){return m_?Buffer.byteLength(e):new Blob([e]).size}function gS(e){var t=0;e.forEach(function(a){t+=a.byteLength});var n=new Uint8Array(t),r=0;return e.forEach(function(a){n.set(new Uint8Array(a),r),r+=a.byteLength}),n.buffer}function aD(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function zp(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:rD(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:rD(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:e.weightData.byteLength}}var Za=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var a=[];return(n==="load"?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(i){var o=i(t,r);o!==null&&a.push(o)}),a},e}(),Cf="://",Du=function(){function e(){this.managers={}}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerManager=function(t,n){Q(t!=null,function(){return"scheme must not be undefined or null."}),t.endsWith(Cf)&&(t=t.slice(0,t.indexOf(Cf))),Q(t.length>0,function(){return"scheme must not be an empty string."});var r=e.getInstance();Q(r.managers[t]==null,function(){return"A model store manager is already registered for scheme '"+t+"'."}),r.managers[t]=n},e.getManager=function(t){var n=this.getInstance().managers[t];if(n==null)throw new Error("Cannot find model manager for scheme '"+t+"'");return n},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function ym(e){if(e.indexOf(Cf)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+Du.getSchemes().join(","));return{scheme:e.split(Cf)[0],path:e.split(Cf)[1]}}function iD(e,t,n){return n===void 0&&(n=!1),ot(this,void 0,void 0,function(){var r,a,i,o,s,u,l,f,d;return st(this,function(p){switch(p.label){case 0:return Q(e!==t,function(){return"Old path and new path are the same: '"+e+"'"}),Q((r=Za.getLoadHandlers(e)).length>0,function(){return"Copying failed because no load handler is found for source URL "+e+"."}),Q(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."}),a=r[0],Q((i=Za.getSaveHandlers(t)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+t+"."}),Q(i.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."}),o=i[0],s=ym(e).scheme,u=ym(e).path,l=s===ym(e).scheme,[4,a.load()];case 1:return f=p.sent(),n&&l?[4,Du.getManager(s).removeModel(u)]:[3,3];case 2:p.sent(),p.label=3;case 3:return[4,o.save(f)];case 4:return d=p.sent(),!n||l?[3,6]:[4,Du.getManager(s).removeModel(u)];case 5:p.sent(),p.label=6;case 6:return[2,d.modelArtifactsInfo]}})})}var Al="models_store",Tu="model_info_store";function $B(){if(!Me().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function g_(e){var t=e.result;t.createObjectStore(Al,{keyPath:"modelPath"}),t.createObjectStore(Tu,{keyPath:"modelPath"})}var Of=function(){function e(t){if(this.indexedDB=$B(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return e.prototype.save=function(t){return ot(this,void 0,void 0,function(){return st(this,function(n){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]})})},e.prototype.load=function(){return ot(this,void 0,void 0,function(){return st(this,function(t){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(t,n){var r=this;return new Promise(function(a,i){var o=r.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return g_(o)},o.onsuccess=function(){var s=o.result;if(n==null){var u=s.transaction(Al,"readonly"),l=u.objectStore(Al).get(r.modelPath);l.onsuccess=function(){if(l.result==null)return s.close(),i(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));a(l.result.modelArtifacts)},l.onerror=function(x){return s.close(),i(l.error)},u.oncomplete=function(){return s.close()}}else{var f,d=zp(n),p=s.transaction(Tu,"readwrite"),m=p.objectStore(Tu),g=m.put({modelPath:r.modelPath,modelArtifactsInfo:d});g.onsuccess=function(){var x=(f=s.transaction(Al,"readwrite")).objectStore(Al).put({modelPath:r.modelPath,modelArtifacts:n,modelArtifactsInfo:d});x.onsuccess=function(){return a({modelArtifactsInfo:d})},x.onerror=function(b){var w=(m=p.objectStore(Tu)).delete(r.modelPath);w.onsuccess=function(){return s.close(),i(x.error)},w.onerror=function(E){return s.close(),i(x.error)}}},g.onerror=function(x){return s.close(),i(g.error)},p.oncomplete=function(){f==null?s.close():f.oncomplete=function(){return s.close()}}}},o.onerror=function(s){return i(o.error)}})},e.URL_SCHEME="indexeddb://",e}(),oD=function(e){return Me().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Of.URL_SCHEME)?(t=e.slice(Of.URL_SCHEME.length),new Of(t)):null;var t};Za.registerSaveRouter(oD),Za.registerLoadRouter(oD);var XY=function(){function e(){this.indexedDB=$B()}return e.prototype.listModels=function(){return ot(this,void 0,void 0,function(){var t=this;return st(this,function(n){return[2,new Promise(function(r,a){var i=t.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return g_(i)},i.onsuccess=function(){var o=i.result,s=o.transaction(Tu,"readonly"),u=s.objectStore(Tu).getAll();u.onsuccess=function(){for(var l={},f=0,d=u.result;f<d.length;f++){var p=d[f];l[p.modelPath]=p.modelArtifactsInfo}r(l)},u.onerror=function(l){return o.close(),a(u.error)},s.oncomplete=function(){return o.close()}},i.onerror=function(o){return a(i.error)}})]})})},e.prototype.removeModel=function(t){return ot(this,void 0,void 0,function(){var n=this;return st(this,function(r){var a;return t=(a=t).startsWith(Of.URL_SCHEME)?a.slice(Of.URL_SCHEME.length):a,[2,new Promise(function(i,o){var s=n.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return g_(s)},s.onsuccess=function(){var u,l=s.result,f=l.transaction(Tu,"readwrite"),d=f.objectStore(Tu),p=d.get(t);p.onsuccess=function(){if(p.result==null)return l.close(),o(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var m=d.delete(t),g=function(){var x=(u=l.transaction(Al,"readwrite")).objectStore(Al).delete(t);x.onsuccess=function(){return i(p.result.modelArtifactsInfo)},x.onerror=function(b){return o(p.error)}};m.onsuccess=g,m.onerror=function(x){return g(),l.close(),o(p.error)}},p.onerror=function(m){return l.close(),o(p.error)},f.oncomplete=function(){u==null?l.close():u.oncomplete=function(){return l.close()}}},s.onerror=function(u){return o(s.error)}})]})})},e}();if(Me().getBool("IS_BROWSER"))try{Du.registerManager(Of.URL_SCHEME,new XY)}catch{}var hs="/",yf="tensorflowjs_models",VB="info",YY="model_topology",QY="weight_specs",ZY="weight_data",JY="model_metadata";function qB(e){return{info:[yf,e,VB].join(hs),topology:[yf,e,YY].join(hs),weightSpecs:[yf,e,QY].join(hs),weightData:[yf,e,ZY].join(hs),modelMetadata:[yf,e,JY].join(hs)}}function eQ(e){var t=e.split(hs);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(hs)}var Rf=function(){function e(t){if(!Me().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=qB(this.modelPath)}return e.prototype.save=function(t){return ot(this,void 0,void 0,function(){var n,r,a;return st(this,function(i){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=zp(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(o){if(m_)return Buffer.from(o).toString("base64");for(var s=new Uint8Array(o),u="",l=0,f=s.length;l<f;l++)u+=String.fromCharCode(s[l]);return btoa(u)}(t.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata})),[2,{modelArtifactsInfo:a}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+a.modelTopologyBytes+", weightSpecsBytes="+a.weightSpecsBytes+", weightDataBytes="+a.weightDataBytes+".")}return[2]})})},e.prototype.load=function(){return ot(this,void 0,void 0,function(){var t,n,r,a,i,o,s;return st(this,function(u){if((t=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(n={},(r=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(n.modelTopology=r,(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(n.weightSpecs=a,(i=this.LS.getItem(this.keys.modelMetadata))!=null&&(o=JSON.parse(i),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,n.userDefinedMetadata=o.userDefinedMetadata),(s=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return n.weightData=function(l){if(m_){var f=Buffer.from(l,"base64");return f.buffer.slice(f.byteOffset,f.byteOffset+f.byteLength)}for(var d=atob(l),p=new Uint8Array(d.length),m=0;m<d.length;++m)p.set([d.charCodeAt(m)],m);return p.buffer}(s),[2,n]})})},e.URL_SCHEME="localstorage://",e}(),sD=function(e){return Me().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Rf.URL_SCHEME)?(t=e.slice(Rf.URL_SCHEME.length),new Rf(t)):null;var t};Za.registerSaveRouter(sD),Za.registerLoadRouter(sD);var tQ=function(){function e(){Q(Me().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),Q(typeof window>"u"||window.localStorage!==void 0,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return e.prototype.listModels=function(){return ot(this,void 0,void 0,function(){var t,n,r,a,i,o;return st(this,function(s){for(t={},n=yf+hs,r=hs+VB,a=0;a<this.LS.length;++a)(i=this.LS.key(a)).startsWith(n)&&i.endsWith(r)&&(o=eQ(i),t[o]=JSON.parse(this.LS.getItem(i)));return[2,t]})})},e.prototype.removeModel=function(t){return ot(this,void 0,void 0,function(){var n,r;return st(this,function(a){var i;if(t=(i=t).startsWith(Rf.URL_SCHEME)?i.slice(Rf.URL_SCHEME.length):i,n=qB(t),this.LS.getItem(n.info)==null)throw new Error("Cannot find model at path '"+t+"'");return r=JSON.parse(this.LS.getItem(n.info)),this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),[2,r]})})},e}();if(Me().getBool("IS_BROWSER"))try{Du.registerManager(Rf.URL_SCHEME,new tQ)}catch{}var nQ="model",rQ=".json",aQ=".weights.bin";function uD(e){return new Promise(function(t){return setTimeout(t)}).then(e)}var qb=function(){function e(t){if(!Me().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),t!=null&&t.length!==0||(t=nQ),this.modelTopologyFileName=t+rQ,this.weightDataFileName=t+aQ}return e.prototype.save=function(t){return ot(this,void 0,void 0,function(){var n,r,a,i,o,s;return st(this,function(u){switch(u.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:r},i=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(o=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,o.href=i,[4,uD(function(){return o.dispatchEvent(new MouseEvent("click"))})];case 2:return u.sent(),t.weightData==null?[3,4]:((s=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,[4,uD(function(){return s.dispatchEvent(new MouseEvent("click"))})]);case 3:u.sent(),u.label=4;case 4:return[2,{modelArtifactsInfo:zp(t)}]}})})},e.URL_SCHEME="downloads://",e}(),iQ=function(){function e(t){if(t==null||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return e.prototype.load=function(){return ot(this,void 0,void 0,function(){var t,n,r=this;return st(this,function(a){return t=this.files[0],n=this.files.slice(1),[2,new Promise(function(i,o){var s=new FileReader;s.onload=function(u){var l=JSON.parse(u.target.result),f=l.modelTopology;if(f!=null){n.length===0&&i({modelTopology:f});var d=l.weightsManifest;if(d!=null){var p;try{p=r.checkManifestAndWeightFiles(d,n)}catch(b){return void o(b)}var m=[],g=[],x=[];d.forEach(function(b){b.paths.forEach(function(w){g.push(w),x.push(null)}),m.push.apply(m,b.weights)}),d.forEach(function(b){b.paths.forEach(function(w){var E=new FileReader;E.onload=function(S){var A=S.target.result,T=g.indexOf(w);x[T]=A,x.indexOf(null)===-1&&i({modelTopology:f,weightSpecs:m,weightData:gS(x),format:l.format,generatedBy:l.generatedBy,convertedBy:l.convertedBy,userDefinedMetadata:l.userDefinedMetadata})},E.onerror=function(S){return o("Failed to weights data from file of path '"+w+"'.")},E.readAsArrayBuffer(p[w])})})}else o(new Error("weightManifest field is missing from file "+t.name))}else o(new Error("modelTopology field is missing from file "+t.name))},s.onerror=function(u){return o("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},s.readAsText(t)})]})})},e.prototype.checkManifestAndWeightFiles=function(t,n){for(var r=[],a=n.map(function(u){return aD(u.name)}),i={},o=0,s=t;o<s.length;o++)s[o].paths.forEach(function(u){var l=aD(u);if(r.indexOf(l)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+l+"'");if(r.push(l),a.indexOf(l)===-1)throw new Error("Weight file with basename '"+l+"' is not provided.");i[u]=n[a.indexOf(l)]});if(r.length!==n.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+n.length+").");return i},e}();function lD(e,t,n,r){(function(i){Q(i!=null&&Array.isArray(i)&&i.length>0,function(){return"promises must be a none empty array"})})(e),function(i,o){Q(i>=0&&i<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+i}),Q(o>=0&&o<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+o}),Q(o>=i,function(){return"startFraction must be no more than endFraction, but got startFraction "+i+" and endFraction "+o})}(n=n??0,r=r??1);var a=0;return Promise.all(e.map(function(i){return i.then(function(o){var s=n+ ++a/e.length*(r-n);return t(s),o}),i}))}function GB(e,t){return ot(this,void 0,void 0,function(){var n,r,a,i,o,s,u,l,f;return st(this,function(d){switch(d.label){case 0:return t==null&&(t={}),n=t.fetchFunc==null?Me().platform.fetch:t.fetchFunc,r=e.map(function(p){return n(p,t.requestInit,{isBinary:!0})}),a=0,i=.5,t.onProgress!=null?[3,2]:[4,Promise.all(r)];case 1:return o=d.sent(),[3,4];case 2:return[4,lD(r,t.onProgress,a,i)];case 3:o=d.sent(),d.label=4;case 4:return s=o.map(function(p){return p.arrayBuffer()}),u=.5,l=1,t.onProgress!=null?[3,6]:[4,Promise.all(s)];case 5:return f=d.sent(),[3,8];case 6:return[4,lD(s,t.onProgress,u,l)];case 7:f=d.sent(),d.label=8;case 8:return[2,f]}})})}function cD(e){var t=this;return function(n,r,a){return r===void 0&&(r=""),ot(t,void 0,void 0,function(){var i,o,s,u,l,f,d,p,m,g;return st(this,function(x){switch(x.label){case 0:if(i=n.map(function(){return!1}),o={},s=a!=null?a.map(function(){return!1}):[],u=[],n.forEach(function(b,w){var E=0;b.weights.forEach(function(S){var A="quantization"in S?S.quantization.dtype:S.dtype,T=v_[A]*lt(S.shape),R=function(){i[w]=!0,o[w]==null&&(o[w]=[]),o[w].push({manifestEntry:S,groupOffset:E,sizeBytes:T})};a!=null?a.forEach(function(D,P){D===S.name&&(R(),s[P]=!0)}):R(),u.push(S.name),E+=T})}),!s.every(function(b){return b}))throw l=a.filter(function(b,w){return!s[w]}),new Error("Could not find weights in manifest with names: "+l.join(", ")+`. 
Manifest JSON has weights with names: `+u.join(", ")+".");return f=i.reduce(function(b,w,E){return w&&b.push(E),b},[]),d=[],f.forEach(function(b){n[b].paths.forEach(function(w){var E=r+(r.endsWith("/")?"":"/")+w;d.push(E)})}),[4,e(d)];case 1:return p=x.sent(),m={},g=0,f.forEach(function(b){for(var w=n[b].paths.length,E=0,S=0;S<w;S++)E+=p[g+S].byteLength;for(var A=new ArrayBuffer(E),T=new Uint8Array(A),R=0,D=0;D<w;D++){var P=new Uint8Array(p[g+D]);T.set(P,R),R+=P.byteLength}o[b].forEach(function(k){var I=HB(A.slice(k.groupOffset,k.groupOffset+k.sizeBytes),[k.manifestEntry]);for(var F in I)m[F]=I[F]}),g+=w}),[2,m]}})})}}Za.registerSaveRouter(function(e){return Me().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(qb.URL_SCHEME)?function(t){return t===void 0&&(t="model"),new qb(t)}(e.slice(qb.URL_SCHEME.length)):null});var KB=function(){function e(t,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,n.fetchFunc!=null?(Q(typeof n.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=n.fetchFunc):this.fetch=Me().platform.fetch,Q(t!=null&&t.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(t)&&Q(t.length===2,function(){return"URL paths for http must have a length of 2, (actual length is "+t.length+")."}),this.path=t,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return e.prototype.save=function(t){return ot(this,void 0,void 0,function(){var n,r,a,i;return st(this,function(o){switch(o.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata,weightsManifest:r},n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),t.weightData!=null&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,n)];case 1:if((i=o.sent()).ok)return[2,{modelArtifactsInfo:zp(t),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}})})},e.prototype.load=function(){return ot(this,void 0,void 0,function(){var t,n,r,a,i,o,s,u,l,f,d,p;return st(this,function(m){switch(m.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(t=m.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+t.status+". Please verify this URL points to the model JSON of the model to load.");m.label=2;case 2:return m.trys.push([2,4,,5]),[4,t.json()];case 3:return n=m.sent(),[3,5];case 4:throw m.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(a=n.modelTopology,i=n.weightsManifest,o=n.generatedBy,s=n.convertedBy,u=n.format,l=n.userDefinedMetadata,a==null&&i==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return i==null?[3,7]:[4,this.loadWeights(i)];case 6:p=m.sent(),f=p[0],d=p[1],m.label=7;case 7:return[2,{modelTopology:a,weightSpecs:f,weightData:d,userDefinedMetadata:l,generatedBy:o,convertedBy:s,format:u}]}})})},e.prototype.loadWeights=function(t){return ot(this,void 0,void 0,function(){var n,r,a,i,o,s,u,l,f,d,p;return st(this,function(m){switch(m.label){case 0:for(n=Array.isArray(this.path)?this.path[1]:this.path,r=function(g){var x=g.lastIndexOf("/"),b=g.lastIndexOf("?"),w=g.substring(0,x),E=b>x?g.substring(b):"";return[w+"/",E]}(n),a=r[0],i=r[1],o=this.weightPathPrefix||a,s=[],u=0,l=t;u<l.length;u++)f=l[u],s.push.apply(s,f.weights);return d=[],t.forEach(function(g){g.paths.forEach(function(x){d.push(o+x+i)})}),[4,GB(d,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return p=m.sent(),[2,[s,gS(p)]]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function y_(e){return e.match(KB.URL_SCHEME_REGEX)!=null}var fD=function(e,t){return typeof fetch>"u"?null:(Array.isArray(e)?e.every(function(n){return y_(n)}):y_(e))?x_(e,{onProgress:t}):null};function x_(e,t){return new KB(e,t)}Za.registerSaveRouter(fD),Za.registerLoadRouter(fD);var Gb=function(){function e(t){this.modelArtifacts=t}return e.prototype.load=function(){return ot(this,void 0,void 0,function(){return st(this,function(t){return[2,this.modelArtifacts]})})},e}(),oQ=function(){function e(t){this.saveHandler=t}return e.prototype.save=function(t){return ot(this,void 0,void 0,function(){return st(this,function(n){return[2,this.saveHandler(t)]})})},e}(),XB=Object.freeze({browserFiles:function(e){return new iQ(e)},browserHTTPRequest:function(e,t){return x_(e,t)},concatenateArrayBuffers:gS,decodeWeights:HB,encodeWeights:function(e,t){return ot(this,void 0,void 0,function(){var n,r,a,i,o,s=this;return st(this,function(u){switch(u.label){case 0:for(n=[],r=[],a=Array.isArray(e)?e.map(function(l){return l.name}):Object.keys(e),i=function(l){var f=a[l],d=Array.isArray(e)?e[l].tensor:e[f];if(d.dtype!=="float32"&&d.dtype!=="int32"&&d.dtype!=="bool"&&d.dtype!=="string")throw new Error("Unsupported dtype in weight '"+f+"': "+d.dtype);var p={name:f,shape:d.shape,dtype:d.dtype};if(d.dtype==="string"){var m=new Promise(function(g){return ot(s,void 0,void 0,function(){var x,b,w,E,S,A,T;return st(this,function(R){switch(R.label){case 0:return[4,d.bytes()];case 1:for(x=R.sent(),b=x.reduce(function(D,P){return D+P.length},0)+Vm*x.length,w=new Uint8Array(b),E=0,S=0;S<x.length;S++)A=x[S],T=new Uint8Array(new Uint32Array([A.length]).buffer),w.set(T,E),E+=Vm,w.set(A,E),E+=A.length;return g(w),[2]}})})});r.push(m)}else r.push(d.data());t!=null&&(p.group=t),n.push(p)},o=0;o<a.length;++o)i(o);return[4,Promise.all(r)];case 1:return[2,{data:KY(u.sent()),specs:n}]}})})},fromMemory:function(e,t,n,r){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new Gb(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Gb({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Gb({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return Za.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:zp,getSaveHandlers:function(e){return Za.getSaveHandlers(e)},http:x_,isHTTPScheme:y_,loadWeights:function(e,t,n,r){return t===void 0&&(t=""),ot(this,void 0,void 0,function(){return st(this,function(a){return[2,cD(function(i){return GB(i,{requestInit:r})})(e,t,n)]})})},registerLoadRouter:function(e){return Za.registerLoadRouter(e)},registerSaveRouter:function(e){return Za.registerSaveRouter(e)},weightsLoaderFactory:cD,withSaveHandler:function(e){return new oQ(e)},copyModel:function(e,t){return ot(this,void 0,void 0,function(){return st(this,function(n){return[2,iD(e,t,!1)]})})},listModels:function(){return ot(this,void 0,void 0,function(){var e,t,n,r,a,i,o;return st(this,function(s){switch(s.label){case 0:e=Du.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(a=r[n],[4,Du.getManager(a).listModels()]):[3,4];case 2:for(o in i=s.sent())t[a+Cf+o]=i[o];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},moveModel:function(e,t){return ot(this,void 0,void 0,function(){return st(this,function(n){return[2,iD(e,t,!0)]})})},removeModel:function(e){return ot(this,void 0,void 0,function(){var t;return st(this,function(n){return t=ym(e),[2,Du.getManager(t.scheme).removeModel(t.path)]})})}}),of;ue({confusionMatrix_:function(e,t,n){var r=W(e,"labels","confusionMatrix"),a=W(t,"predictions","confusionMatrix");Q(n==null||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),Q(r.rank===1,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),Q(a.rank===1,function(){return"Expected the rank of predictions to be 1, but got "+a.rank}),Q(r.shape[0]===a.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+a.shape[0]+". Labels and predictions should have the same number of elements."}),Q(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var i=c_(r.asType("int32"),n),o=c_(a.asType("int32"),n);return i.transpose().matMul(o).asType("int32")}});var sQ=ue({fromPixels_:function(e,t){if(t===void 0&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,i=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)i=!0;else{if(e.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);o=!0}if(a&&a&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(xF("FromPixels",de.backendName)!=null)return de.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,u,l=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],f=l[0],d=l[1];if(o?s=e.getContext("2d").getImageData(0,0,f,d).data:r||n?s=e.data:(i||a)&&(of==null&&(of=document.createElement("canvas").getContext("2d")),of.canvas.width=f,of.canvas.height=d,of.drawImage(e,0,0,f,d),s=of.getImageData(0,0,f,d).data),t===4)u=new Int32Array(s);else{var p=f*d;u=new Int32Array(p*t);for(var m=0;m<p;m++)for(var g=0;g<t;++g)u[m*t+g]=s[4*m+g]}return qE(u,[d,f,t],"int32")}}),yS=Object.freeze({toPixels:function(e,t){return ot(this,void 0,void 0,function(){var n,r,a,i,o,s,u,l,f,d,p,m,g,x,b,w,E,S,A,T,R,D,P;return st(this,function(k){switch(k.label){case 0:if(n=W(e,"img","toPixels"),e instanceof On||(n=n.toInt()),n.rank!==2&&n.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),a=r[0],i=r[1],(o=n.rank===2?1:n.shape[2])>4||o===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+o);return[4,n.data()];case 1:return s=k.sent(),u=n.min(),l=n.max(),[4,Promise.all([u.data(),l.data()])];case 2:if(f=k.sent(),d=f[0],p=f[1],m=d[0],g=p[0],u.dispose(),l.dispose(),n.dtype==="float32"){if(m<0||g>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+m+" - "+g+"].")}else{if(n.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(m<0||g>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+m+" - "+g+"].")}for(x=n.dtype==="float32"?255:1,b=new Uint8ClampedArray(i*a*4),w=0;w<a*i;++w)E=void 0,S=void 0,A=void 0,T=void 0,o===1?(E=s[w]*x,S=s[w]*x,A=s[w]*x,T=255):o===3?(E=s[3*w]*x,S=s[3*w+1]*x,A=s[3*w+2]*x,T=255):o===4&&(E=s[4*w]*x,S=s[4*w+1]*x,A=s[4*w+2]*x,T=s[4*w+3]*x),b[(R=4*w)+0]=Math.round(E),b[R+1]=Math.round(S),b[R+2]=Math.round(A),b[R+3]=Math.round(T);return t!=null&&(t.width=i,t.height=a,D=t.getContext("2d"),P=new ImageData(b,i,a),D.putImageData(P,0,0)),n!==e&&n.dispose(),[2,b]}})})},fromPixels:sQ}),uQ=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(t,n){return new t(n)},e}(),lQ=function(){function e(){this.classNameMap={}}return e.getMap=function(){return e.instance==null&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function ac(e){Q(e.className!=null,function(){return"Class being registered does not have the static className property defined."}),Q(typeof e.className=="string",function(){return"className is required to be a string, but got type "+typeof e.className}),Q(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),lQ.register(e)}var ic=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return so(t,e),t.prototype.minimize=function(n,r,a){r===void 0&&(r=!1);var i=this.computeGradients(n,a),o=i.value,s=i.grads;if(a!=null){var u=a.map(function(l){return{name:l.name,tensor:s[l.name]}});this.applyGradients(u)}else this.applyGradients(s);return Ea(s),r?o:(o.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(n,r){return xq(n,r)},t.prototype.dispose=function(){this.iterations_!=null&&Ea(this.iterations_)},t.prototype.saveIterations=function(){return ot(this,void 0,void 0,function(){return st(this,function(n){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:Ze(this.iterations_,"int32")}]})})},t.prototype.getWeights=function(){return ot(this,void 0,void 0,function(){return st(this,function(n){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},t.prototype.setWeights=function(n){return ot(this,void 0,void 0,function(){return st(this,function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},t.prototype.extractIterations=function(n){return ot(this,void 0,void 0,function(){var r;return st(this,function(a){switch(a.label){case 0:return r=this,[4,n[0].tensor.data()];case 1:return r.iterations_=a.sent()[0],[2,n.slice(1)]}})})},t}(uQ);Object.defineProperty(ic,Symbol.hasInstance,{value:function(e){return e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null}});var cQ=function(e){function t(n,r,a){a===void 0&&(a=null);var i=e.call(this)||this;return i.learningRate=n,i.rho=r,i.epsilon=a,i.accumulatedGrads=[],i.accumulatedUpdates=[],a==null&&(i.epsilon=de.backend.epsilon()),i}return so(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=de.registeredVariables[a];r.accumulatedGrads[i]==null&&(r.accumulatedGrads[i]={originalName:a+"/accum_grad",variable:rt(function(){return Lt(o).variable(!1)})}),r.accumulatedUpdates[i]==null&&(r.accumulatedUpdates[i]={originalName:a+"/accum_var",variable:rt(function(){return Lt(o).variable(!1)})});var s=Array.isArray(n)?n[i].tensor:n[a];if(s!=null){var u=r.accumulatedGrads[i].variable,l=r.accumulatedUpdates[i].variable;rt(function(){var f=u.mul(r.rho).add(s.square().mul(1-r.rho)),d=l.add(r.epsilon).sqrt().div(u.add(r.epsilon).sqrt()).mul(s),p=l.mul(r.rho).add(d.square().mul(1-r.rho));u.assign(f),l.assign(p);var m=d.mul(-r.learningRate).add(o);o.assign(m)})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedUpdates!=null&&(Ea(this.accumulatedGrads.map(function(n){return n.variable})),Ea(this.accumulatedUpdates.map(function(n){return n.variable})))},t.prototype.getWeights=function(){return ot(this,void 0,void 0,function(){var n;return st(this,function(r){switch(r.label){case 0:return n=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},t.prototype.setWeights=function(n){return ot(this,void 0,void 0,function(){var r;return st(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(n)];case 1:return n=a.sent(),r=n.length/2,this.accumulatedGrads=n.slice(0,r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedUpdates=n.slice(r,2*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(n,r){return new n(r.learningRate,r.rho,r.epsilon)},t.className="Adadelta",t}(ic);ac(cQ);var fQ=function(e){function t(n,r){r===void 0&&(r=.1);var a=e.call(this)||this;return a.learningRate=n,a.initialAccumulatorValue=r,a.accumulatedGrads=[],a}return so(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=de.registeredVariables[a];r.accumulatedGrads[i]==null&&(r.accumulatedGrads[i]={originalName:a+"/accumulator",variable:rt(function(){return Po(o.shape,r.initialAccumulatorValue).variable(!1)})});var s=Array.isArray(n)?n[i].tensor:n[a];if(s!=null){var u=r.accumulatedGrads[i].variable;rt(function(){var l=u.add(s.square());u.assign(l);var f=s.div(l.add(de.backend.epsilon()).sqrt()).mul(-r.learningRate).add(o);o.assign(f)})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedGrads!=null&&Ea(this.accumulatedGrads.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return ot(this,void 0,void 0,function(){return st(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulatedGrads.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},t.prototype.setWeights=function(n){return ot(this,void 0,void 0,function(){return st(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulatedGrads=n.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(n,r){return new n(r.learningRate,r.initialAccumulatorValue)},t.className="Adagrad",t}(ic);ac(fQ);var hQ=function(e){function t(n,r,a,i){i===void 0&&(i=null);var o=e.call(this)||this;return o.learningRate=n,o.beta1=r,o.beta2=a,o.epsilon=i,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],rt(function(){o.accBeta1=Ze(r).variable(),o.accBeta2=Ze(a).variable()}),i==null&&(o.epsilon=de.backend.epsilon()),o}return so(t,e),t.prototype.applyGradients=function(n){var r=this,a=Array.isArray(n)?n.map(function(i){return i.name}):Object.keys(n);rt(function(){var i=ur(1,r.accBeta1),o=ur(1,r.accBeta2);a.forEach(function(s,u){var l=de.registeredVariables[s];r.accumulatedFirstMoment[u]==null&&(r.accumulatedFirstMoment[u]={originalName:s+"/m",variable:rt(function(){return Lt(l).variable(!1)})}),r.accumulatedSecondMoment[u]==null&&(r.accumulatedSecondMoment[u]={originalName:s+"/v",variable:rt(function(){return Lt(l).variable(!1)})});var f=Array.isArray(n)?n[u].tensor:n[s];if(f!=null){var d=r.accumulatedFirstMoment[u].variable,p=r.accumulatedSecondMoment[u].variable,m=d.mul(r.beta1).add(f.mul(1-r.beta1)),g=p.mul(r.beta2).add(f.square().mul(1-r.beta2)),x=m.div(i),b=g.div(o);d.assign(m),p.assign(g);var w=x.div(b.sqrt().add(r.epsilon)).mul(-r.learningRate).add(l);l.assign(w)}}),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Ea(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedSecondMoment!=null&&Ea(this.accumulatedSecondMoment.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return ot(this,void 0,void 0,function(){var n;return st(this,function(r){switch(r.label){case 0:return n=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},t.prototype.setWeights=function(n){return ot(this,void 0,void 0,function(){var r,a=this;return st(this,function(i){switch(i.label){case 0:return[4,this.extractIterations(n)];case 1:return n=i.sent(),rt(function(){a.accBeta1.assign(Hm(a.beta1,a.iterations_+1)),a.accBeta2.assign(Hm(a.beta2,a.iterations_+1))}),r=n.length/2,this.accumulatedFirstMoment=n.slice(0,r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.accumulatedSecondMoment=n.slice(r,2*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon)},t.className="Adam",t}(ic);ac(hQ);var dQ=function(e){function t(n,r,a,i,o){i===void 0&&(i=null),o===void 0&&(o=0);var s=e.call(this)||this;return s.learningRate=n,s.beta1=r,s.beta2=a,s.epsilon=i,s.decay=o,s.accumulatedFirstMoment=[],s.accumulatedWeightedInfNorm=[],rt(function(){s.iteration=Ze(0).variable(),s.accBeta1=Ze(r).variable()}),i==null&&(s.epsilon=de.backend.epsilon()),s}return so(t,e),t.prototype.applyGradients=function(n){var r=this,a=Array.isArray(n)?n.map(function(i){return i.name}):Object.keys(n);rt(function(){var i=ur(1,r.accBeta1),o=Yi(-r.learningRate,r.iteration.mul(r.decay).add(1));a.forEach(function(s,u){var l=de.registeredVariables[s];r.accumulatedFirstMoment[u]==null&&(r.accumulatedFirstMoment[u]={originalName:s+"/m",variable:Lt(l).variable(!1)}),r.accumulatedWeightedInfNorm[u]==null&&(r.accumulatedWeightedInfNorm[u]={originalName:s+"/v",variable:Lt(l).variable(!1)});var f=Array.isArray(n)?n[u].tensor:n[s];if(f!=null){var d=r.accumulatedFirstMoment[u].variable,p=r.accumulatedWeightedInfNorm[u].variable,m=d.mul(r.beta1).add(f.mul(1-r.beta1)),g=p.mul(r.beta2),x=f.abs(),b=g.maximum(x);d.assign(m),p.assign(b);var w=o.div(i).mul(m.div(b.add(r.epsilon))).add(l);l.assign(w)}}),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Ea(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedWeightedInfNorm!=null&&Ea(this.accumulatedWeightedInfNorm.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return ot(this,void 0,void 0,function(){return st(this,function(n){throw new Error("getWeights() is not implemented for Adamax yet.")})})},t.prototype.setWeights=function(n){return ot(this,void 0,void 0,function(){return st(this,function(r){throw new Error("setWeights() is not implemented for Adamax yet.")})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},t.className="Adamax",t}(ic);ac(dQ);var YB=function(e){function t(n){var r=e.call(this)||this;return r.learningRate=n,r.setLearningRate(n),r}return so(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=Array.isArray(n)?n[i].tensor:n[a];if(o!=null){var s=de.registeredVariables[a];rt(function(){var u=r.c.mul(o).add(s);s.assign(u)})}}),this.incrementIterations()},t.prototype.setLearningRate=function(n){this.learningRate=n,this.c!=null&&this.c.dispose(),this.c=PV(Ze(-n))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return ot(this,void 0,void 0,function(){return st(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()]]}})})},t.prototype.setWeights=function(n){return ot(this,void 0,void 0,function(){return st(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:if((n=r.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(n,r){return new n(r.learningRate)},t.className="SGD",t}(ic);ac(YB);var pQ=function(e){function t(n,r,a){a===void 0&&(a=!1);var i=e.call(this,n)||this;return i.learningRate=n,i.momentum=r,i.useNesterov=a,i.accumulations=[],i.m=Ze(i.momentum),i}return so(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=de.registeredVariables[a];r.accumulations[i]==null&&(r.accumulations[i]={originalName:a+"/momentum",variable:rt(function(){return Lt(o).variable(!1)})});var s=r.accumulations[i].variable,u=Array.isArray(n)?n[i].tensor:n[a];u!=null&&rt(function(){var l,f=r.m.mul(s).add(u);l=r.useNesterov?r.c.mul(u.add(f.mul(r.m))).add(o):r.c.mul(f).add(o),s.assign(f),o.assign(l)})}),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&Ea(this.accumulations.map(function(n){return n.variable}))},t.prototype.setMomentum=function(n){this.momentum=n},t.prototype.getWeights=function(){return ot(this,void 0,void 0,function(){return st(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulations.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},t.prototype.setWeights=function(n){return ot(this,void 0,void 0,function(){return st(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulations=n.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(n,r){return new n(r.learningRate,r.momentum,r.useNesterov)},t.className="Momentum",t}(YB);ac(pQ);var vQ=function(e){function t(n,r,a,i,o){r===void 0&&(r=.9),a===void 0&&(a=0),i===void 0&&(i=null),o===void 0&&(o=!1);var s=e.call(this)||this;if(s.learningRate=n,s.decay=r,s.momentum=a,s.epsilon=i,s.accumulatedMeanSquares=[],s.accumulatedMoments=[],s.accumulatedMeanGrads=[],s.centered=o,i==null&&(s.epsilon=de.backend.epsilon()),n==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return s}return so(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=de.registeredVariables[a];r.accumulatedMeanSquares[i]==null&&(r.accumulatedMeanSquares[i]={originalName:a+"/rms",variable:rt(function(){return Lt(o).variable(!1)})}),r.accumulatedMoments[i]==null&&(r.accumulatedMoments[i]={originalName:a+"/momentum",variable:rt(function(){return Lt(o).variable(!1)})}),r.accumulatedMeanGrads[i]==null&&r.centered&&(r.accumulatedMeanGrads[i]={originalName:a+"/mg",variable:rt(function(){return Lt(o).variable(!1)})});var s=Array.isArray(n)?n[i].tensor:n[a];if(s!=null){var u=r.accumulatedMeanSquares[i].variable,l=r.accumulatedMoments[i].variable;rt(function(){var f=u.mul(r.decay).add(s.square().mul(1-r.decay));if(r.centered){var d=r.accumulatedMeanGrads[i].variable,p=d.mul(r.decay).add(s.mul(1-r.decay)),m=l.mul(r.momentum).add(s.mul(r.learningRate).div(f.sub(p.square().add(r.epsilon)).sqrt()));u.assign(f),d.assign(p),l.assign(m);var g=o.sub(m);o.assign(g)}else{var x=u.mul(r.decay).add(s.square().mul(1-r.decay));m=l.mul(r.momentum).add(s.mul(r.learningRate).div(x.add(r.epsilon).sqrt())),u.assign(x),l.assign(m),g=o.sub(m),o.assign(g)}})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&Ea(this.accumulatedMeanSquares.map(function(n){return n.variable})),this.accumulatedMeanGrads!=null&&this.centered&&Ea(this.accumulatedMeanGrads.map(function(n){return n.variable})),this.accumulatedMoments!=null&&Ea(this.accumulatedMoments.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return ot(this,void 0,void 0,function(){var n;return st(this,function(r){switch(r.label){case 0:return n=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&n.push.apply(n,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},t.prototype.setWeights=function(n){return ot(this,void 0,void 0,function(){var r;return st(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(n)];case 1:return n=a.sent(),r=this.centered?n.length/3:n.length/2,this.accumulatedMeanSquares=n.slice(0,r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedMoments=n.slice(r,2*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=n.slice(2*r,3*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(n,r){return new n(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},t.className="RMSProp",t}(ic);ac(vQ);On.prototype.squaredDifference=function(e){return fB(this,e)},Ce=zY;function vl(e,t,n){if(n===void 0&&(n=!1),e.beginPath(),t.slice(1).forEach(function(i,o){var s=i.x,u=i.y,l=t[o];e.moveTo(l.x,l.y),e.lineTo(s,u)}),n){var r=t[t.length-1],a=t[0];if(!r||!a)return;e.moveTo(r.x,r.y),e.lineTo(a.x,a.y)}e.stroke()}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var b_=function(e,t){return b_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},b_(e,t)};function St(e,t){b_(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Gr=function(){return Gr=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gr.apply(this,arguments)};function ft(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(f){try{l(r.next(f))}catch(d){o(d)}}function u(f){try{l(r.throw(f))}catch(d){o(d)}}function l(f){f.done?i(f.value):a(f.value).then(s,u)}l((r=r.apply(e,[])).next())})}function ht(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(f){return u([l,f])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=l[0]&2?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,a=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(f){l=[6,f],a=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Vd(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}var kl=function(){function e(t,n){if(!Pl(t)||!Pl(n))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:t,height:n}));this._width=t,this._height=n}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function oy(e,t){return e instanceof On&&e.shape.length===t}function mQ(e){return oy(e,2)}function sy(e){return oy(e,3)}function Nu(e){return oy(e,4)}function gQ(e){return e%1!==0}function hD(e){return e%2===0}function QB(e,t){t===void 0&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}function dD(e){return e&&e.width&&e.height}function yQ(e,t){var n=e.width,r=e.height,a=t/Math.max(r,n);return new kl(Math.round(n*a),Math.round(r*a))}function xS(e){return e.reduce(function(t,n){return t.add(n)},new qt(0,0)).div(new qt(e.length,e.length))}function sp(e,t,n){return Array(e).fill(0).map(function(r,a){return t+a*n})}function Pl(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||e===0}function pD(e){return Pl(e)&&0<=e&&e<=1}var qt=function(){function e(t,n){this._x=t,this._y=n}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),Fo=function(){function e(t,n){n===void 0&&(n=!0);var r=t||{},a=[r.left,r.top,r.right,r.bottom].every(Pl),i=[r.x,r.y,r.width,r.height].every(Pl);if(!i&&!a)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var o=i?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=o[0],u=o[1],l=o[2],f=o[3];e.assertIsValidBox({x:s,y:u,width:l,height:f},"Box.constructor",n),this._x=s,this._y=u,this._width=l,this._height=f}return e.isRect=function(t){return!!t&&[t.x,t.y,t.width,t.height].every(Pl)},e.assertIsValidBox=function(t,n,r){if(r===void 0&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new qt(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new qt(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new qt(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new qt(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map(function(o){return Math.round(o)}),n=t[0],r=t[1],a=t[2],i=t[3];return new e({x:n,y:r,width:a,height:i})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map(function(o){return Math.floor(o)}),n=t[0],r=t[1],a=t[2],i=t[3];return new e({x:n,y:r,width:a,height:i})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,a=t.width,i=t.height,o=Math.abs(a-i);return a<i&&(n-=o/2,a+=o),i<a&&(r-=o/2,i+=o),new e({x:n,y:r,width:a,height:i})},e.prototype.rescale=function(t){var n=dD(t)?t.width:t,r=dD(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n],a=r[0],i=r[1],o=r[2],s=r[3];return new e({x:a,y:i,width:o,height:s})},e.prototype.clipAtImageBorders=function(t,n){var r=this,a=r.x,i=r.y,o=r.right,s=r.bottom,u=Math.max(a,0),l=Math.max(i,0),f=o-u,d=s-l,p=Math.min(f,t-u),m=Math.min(d,n-l);return new e({x:u,y:l,width:p,height:m}).floor()},e.prototype.shift=function(t,n){var r=this,a=r.width,i=r.height,o=this.x+t,s=this.y+n;return new e({x:o,y:s,width:a,height:i})},e.prototype.padAtBorders=function(t,n){var r=this.width+1,a=this.height+1,i=1,o=1,s=r,u=a,l=this.left,f=this.top,d=this.right,p=this.bottom;return d>n&&(s=-d+n+r,d=n),p>t&&(u=-p+t+a,p=t),l<1&&(u=2-l,l=1),f<1&&(u=2-f,f=1),{dy:o,edy:u,dx:i,edx:s,y:f,ey:p,x:l,ex:d,w:r,h:a}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),uy=function(e){St(t,e);function t(n,r,a,i,o){return o===void 0&&(o=!1),e.call(this,{left:n,top:r,right:a,bottom:i},o)||this}return t}(Fo),ZB=function(){function e(t,n,r,a,i){this._imageDims=new kl(i.width,i.height),this._score=t,this._classScore=n,this._className=r,this._box=new Fo(a).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new Fo(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),ri=function(e){St(t,e);function t(n,r,a){return e.call(this,n,n,"",r,a)||this}return t.prototype.forSize=function(n,r){var a=e.prototype.forSize.call(this,n,r),i=a.score,o=a.relativeBox,s=a.imageDims;return new t(i,o,s)},t}(ZB);function xQ(e,t,n){n===void 0&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left)),a=Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),i=r*a;return n?i/(e.area+t.area-i):i/Math.min(e.area,t.area)}function bQ(e){var t=e.map(function(s){return s.x}),n=e.map(function(s){return s.y}),r=t.reduce(function(s,u){return u<s?u:s},1/0),a=n.reduce(function(s,u){return u<s?u:s},1/0),i=t.reduce(function(s,u){return s<u?u:s},0),o=n.reduce(function(s,u){return s<u?u:s},0);return new uy(r,a,i,o)}function up(e,t,n,r){r===void 0&&(r=!0);for(var a=t.map(function(s,u){return{score:s,boxIndex:u}}).sort(function(s,u){return s.score-u.score}).map(function(s){return s.boxIndex}),i=[],o=function(){var s=a.pop();i.push(s);for(var u=a,l=[],f=0;f<u.length;f++){var d=u[f],p=e[s],m=e[d];l.push(xQ(p,m,r))}a=a.filter(function(g,x){return l[x]<=n})};a.length>0;)o();return i}function Wp(e,t){return rt(function(){var n=t[0],r=t[1],a=t[2],i=Po(Vd(e.shape.slice(0,3),[1]),n),o=Po(Vd(e.shape.slice(0,3),[1]),r),s=Po(Vd(e.shape.slice(0,3),[1]),a),u=ir([i,o,s],3);return ur(e,u)})}function wQ(e,t){return t===void 0&&(t=!1),rt(function(){var n=e.shape.slice(1),r=n[0],a=n[1];if(r===a)return e;var i=Math.abs(r-a),o=Math.round(i*(t?.5:1)),s=r>a?2:1,u=function(m){var g=e.shape.slice();return g[s]=m,Po(g,0)},l=u(o),f=i-l.shape[s],d=t&&f?u(f):null,p=[d,e,l].filter(function(m){return!!m}).map(function(m){return m.toFloat()});return ir(p,s)})}function Kb(e){return 1/(1+Math.exp(-e))}var bS=function(e){St(t,e);function t(n,r,a,i,o){return o===void 0&&(o=!1),e.call(this,{x:n,y:r,width:a,height:i},o)||this}return t}(Fo),_Q=.5,EQ=.43,SQ=.45,zf=function(){function e(t,n,r){r===void 0&&(r=new qt(0,0));var a=n.width,i=n.height;this._imgDims=new kl(a,i),this._shift=r,this._positions=t.map(function(o){return o.mul(new qt(a,i)).add(r)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new qt(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var t=this;return this._positions.map(function(n){return n.sub(t._shift).div(new qt(t.imageWidth,t.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new this.constructor(this.relativePositions,{width:t,height:n})},e.prototype.shiftBy=function(t,n){return new this.constructor(this.relativePositions,this._imgDims,new qt(t,n))},e.prototype.shiftByPoint=function(t){return this.shiftBy(t.x,t.y)},e.prototype.align=function(t,n){if(n===void 0&&(n={}),t){var r=t instanceof ri?t.box.floor():new Fo(t);return this.shiftBy(r.x,r.y).align(null,n)}var a=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},n),i=a.useDlibAlignment,o=a.minBoxPadding;return i?this.alignDlib():this.alignMinBbox(o)},e.prototype.alignDlib=function(){var t=this.getRefPointsForAlignment(),n=t[0],r=t[1],a=t[2],i=function(d){return a.sub(d).magnitude()},o=(i(n)+i(r))/2,s=Math.floor(o/SQ),u=xS(t),l=Math.floor(Math.max(0,u.x-_Q*s)),f=Math.floor(Math.max(0,u.y-EQ*s));return new bS(l,f,Math.min(s,this.imageWidth+l),Math.min(s,this.imageHeight+f))},e.prototype.alignMinBbox=function(t){var n=bQ(this.positions);return n.pad(n.width*t,n.height*t)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),TQ=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getRefPointsForAlignment=function(){var n=this.positions;return[n[0],n[1],xS([n[3],n[4]])]},t}(zf),JB=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(xS)},t}(zf),vD=function(){function e(t,n){this._label=t,this._distance=n}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){return t===void 0&&(t=!0),""+this.label+(t?" ("+QB(this.distance)+")":"")},e}(),mD=function(e){St(t,e);function t(n,r){var a=e.call(this,n)||this;return a._label=r,a}return t.assertIsValidLabeledBox=function(n,r){if(Fo.assertIsValidBox(n,r),!Pl(n.label))throw new Error(r+" - expected property label ("+n.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(Fo),jv=function(){function e(t,n){if(typeof t!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(n)||n.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=t,this._descriptors=n}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(t){return Array.from(t)})}},e.fromJSON=function(t){var n=t.descriptors.map(function(r){return new Float32Array(r)});return new e(t.label,n)},e}();(function(e){St(t,e);function t(n,r,a,i){var o=e.call(this,n,r)||this;return o._score=a,o._classScore=i,o}return t.assertIsValidPredictedBox=function(n,r){if(mD.assertIsValidLabeledBox(n,r),!pD(n.score)||!pD(n.classScore))throw new Error(r+" - expected properties score ("+n.score+") and ("+n.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),t})(mD);function qm(e){return e.detection instanceof ri}function lp(e,t){var n={detection:t};return Object.assign({},e,n)}function eL(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},t=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:t}}function tL(e){var t="";if(!e)try{e=require("fs")}catch(r){t=r.toString()}var n=e?function(r){return new Promise(function(a,i){e.readFile(r,function(o,s){return o?i(o):a(s)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)};return{readFile:n}}function nL(){var e=global.Canvas||global.HTMLCanvasElement,t=global.Image||global.HTMLImageElement,n=function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},r=function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},a=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},i=tL();return Gr({Canvas:e||function(){function o(){}return o}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){function o(){}return o}(),Image:t||function(){function o(){}return o}(),ImageData:global.ImageData||function(){function o(){}return o}(),Video:global.HTMLVideoElement||function(){function o(){}return o}(),createCanvasElement:n,createImageElement:r,fetch:a},i)}function rL(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function aL(){return typeof global=="object"&&typeof require=="function"&&typeof _a<"u"&&typeof process<"u"&&!!process.version}var rr;function AQ(){if(!rr)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return rr}function w_(e){rr=e}function wS(){rL()&&w_(eL()),aL()&&w_(nL())}function CQ(e){if(rr||wS(),!rr)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=t===void 0?rr.Canvas:t,r=e.Image,a=r===void 0?rr.Image:r;rr.Canvas=n,rr.Image=a,rr.createCanvasElement=e.createCanvasElement||function(){return new n},rr.createImageElement=e.createImageElement||function(){return new a},rr.ImageData=e.ImageData||rr.ImageData,rr.Video=e.Video||rr.Video,rr.fetch=e.fetch||rr.fetch,rr.readFile=e.readFile||rr.readFile}var na={getEnv:AQ,setEnv:w_,initialize:wS,createBrowserEnv:eL,createFileSystem:tL,createNodejsEnv:nL,monkeyPatch:CQ,isBrowser:rL,isNodejs:aL};wS();function _S(e){return!na.isNodejs()&&typeof e=="string"?document.getElementById(e):e}function Bo(e){var t=na.getEnv(),n=t.Canvas,r=t.CanvasRenderingContext2D;if(e instanceof r)return e;var a=_S(e);if(!(a instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var i=a.getContext("2d");if(!i)throw new Error("resolveContext2d - canvas 2d context is null");return i}var Au;(function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"})(Au||(Au={}));var iL=function(){function e(t){t===void 0&&(t={});var n=t.anchorPosition,r=t.backgroundColor,a=t.fontColor,i=t.fontSize,o=t.fontStyle,s=t.padding;this.anchorPosition=n||Au.TOP_LEFT,this.backgroundColor=r||"rgba(0, 0, 0, 0.5)",this.fontColor=a||"rgba(255, 255, 255, 1)",this.fontSize=i||14,this.fontStyle=o||"Georgia",this.padding=s||4}return e}(),OQ=function(){function e(t,n,r){r===void 0&&(r={}),this.text=typeof t=="string"?[t]:t instanceof e?t.text:t,this.anchor=n,this.options=new iL(r)}return e.prototype.measureWidth=function(t){var n=this.options.padding;return this.text.map(function(r){return t.measureText(r).width}).reduce(function(r,a){return r<a?a:r},0)+2*n},e.prototype.measureHeight=function(){var t=this.options,n=t.fontSize,r=t.padding;return this.text.length*n+2*r},e.prototype.getUpperLeft=function(t,n){var r=this.options.anchorPosition,a=r===Au.BOTTOM_RIGHT||r===Au.TOP_RIGHT,i=r===Au.BOTTOM_LEFT||r===Au.BOTTOM_RIGHT,o=this.measureWidth(t),s=this.measureHeight(),u=a?this.anchor.x-o:this.anchor.x,l=i?this.anchor.y-s:this.anchor.y;if(n){var f=n.width,d=n.height,p=Math.max(Math.min(u,f-o),0),m=Math.max(Math.min(l,d-s),0);return{x:p,y:m}}return{x:u,y:l}},e.prototype.draw=function(t){var n=_S(t),r=Bo(n),a=this.options,i=a.backgroundColor,o=a.fontColor,s=a.fontSize,u=a.fontStyle,l=a.padding;r.font=s+"px "+u;var f=this.measureWidth(r),d=this.measureHeight();r.fillStyle=i;var p=this.getUpperLeft(r,n);r.fillRect(p.x,p.y,f,d),r.fillStyle=o,this.text.forEach(function(m,g){var x=l+p.x,b=l+p.y+(g+1)*s;r.fillText(m,x,b)})},e}(),RQ=function(){function e(t){t===void 0&&(t={});var n=t.boxColor,r=t.lineWidth,a=t.label,i=t.drawLabelOptions;this.boxColor=n||"rgba(0, 0, 255, 1)",this.lineWidth=r||2,this.label=a;var o={anchorPosition:Au.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new iL(Object.assign({},o,i))}return e}(),DQ=function(){function e(t,n){n===void 0&&(n={}),this.box=new Fo(t),this.options=new RQ(n)}return e.prototype.draw=function(t){var n=Bo(t),r=this.options,a=r.boxColor,i=r.lineWidth,o=this.box,s=o.x,u=o.y,l=o.width,f=o.height;n.strokeStyle=a,n.lineWidth=i,n.strokeRect(s,u,l,f);var d=this.options.label;d&&new OQ([d],{x:s-i/2,y:u},this.options.drawLabelOptions).draw(t)},e}();function oL(e,t){var n=Array.isArray(t)?t:[t];n.forEach(function(r){var a=r instanceof ri?r.score:qm(r)?r.detection.score:void 0,i=r instanceof ri?r.box:qm(r)?r.detection.box:new Fo(r),o=a?""+QB(a):void 0;new DQ(i,{label:o}).draw(e)})}function sL(e){var t=na.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function NQ(e){return new Promise(function(t,n){if(e instanceof na.getEnv().Canvas||sL(e))return t();function r(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",r),i.currentTarget.removeEventListener("error",a),t(i))}function a(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",r),i.currentTarget.removeEventListener("error",a),n(i))}e.addEventListener("load",r),e.addEventListener("error",a)})}function ES(e){var t=na.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new kl(e.naturalWidth,e.naturalHeight):e instanceof r?new kl(e.videoWidth,e.videoHeight):new kl(e.width,e.height)}function ly(e){var t=e.width,n=e.height,r=na.getEnv().createCanvasElement,a=r();return a.width=t,a.height=n,a}function SS(e,t){var n=na.getEnv().ImageData;if(!(e instanceof n)&&!sL(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=ES(e),a=r.width,i=r.height,o=ly({width:a,height:i});return e instanceof n?Bo(o).putImageData(e,0,0):Bo(o).drawImage(e,0,0,a,i),o}function kQ(e,t){return ft(this,void 0,void 0,function(){var n,r,a,i,o,s;return ht(this,function(u){switch(u.label){case 0:return n=na.getEnv().createCanvasElement(),r=e.shape.slice(Nu(e)?1:0),a=r[0],i=r[1],o=r[2],s=rt(function(){return e.as3D(a,i,o).toInt()}),[4,yS.toPixels(s,n)];case 1:return u.sent(),s.dispose(),[2,n]}})})}function gD(e){var t=na.getEnv(),n=t.Image,r=t.Canvas,a=t.Video;return e instanceof n||e instanceof r||e instanceof a}function PQ(e,t,n){n===void 0&&(n=!1);var r=na.getEnv(),a=r.Image,i=r.Canvas;if(!(e instanceof a||e instanceof i))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var o=ES(e),s=t/Math.max(o.height,o.width),u=s*o.width,l=s*o.height,f=ly({width:t,height:t}),d=e instanceof i?e:SS(e),p=Math.abs(u-l)/2,m=n&&u<l?p:0,g=n&&l<u?p:0;return Bo(f).drawImage(d,m,g,u,l),f}var Gm=function(){function e(t,n){var r=this;if(n===void 0&&(n=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(t))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+t);this._treatAsBatchInput=n,this._batchSize=t.length,t.forEach(function(a,i){if(sy(a)){r._imageTensors[i]=a,r._inputDimensions[i]=a.shape;return}if(Nu(a)){var o=a.shape[0];if(o!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+o+" passed, but not supported in input array");r._imageTensors[i]=a,r._inputDimensions[i]=a.shape.slice(1);return}var s=a instanceof na.getEnv().Canvas?a:SS(a);r._canvases[i]=s,r._inputDimensions[i]=[s.height,s.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var t=this;return sp(this.batchSize,0,1).map(function(n,r){return t.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(t){return this.canvases[t]||this.imageTensors[t]},e.prototype.getInputDimensions=function(t){return this._inputDimensions[t]},e.prototype.getInputHeight=function(t){return this._inputDimensions[t][0]},e.prototype.getInputWidth=function(t){return this._inputDimensions[t][1]},e.prototype.getReshapedInputDimensions=function(t){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var n=this.getInputWidth(t),r=this.getInputHeight(t);return yQ({width:n,height:r},this.inputSize)},e.prototype.toBatchTensor=function(t,n){var r=this;return n===void 0&&(n=!0),this._inputSize=t,rt(function(){var a=sp(r.batchSize,0,1).map(function(o){var s=r.getInput(o);if(s instanceof On){var u=Nu(s)?s:s.expandDims();return u=wQ(u,n),(u.shape[1]!==t||u.shape[2]!==t)&&(u=hS.resizeBilinear(u,[t,t])),u.as3D(t,t,3)}if(s instanceof na.getEnv().Canvas)return yS.fromPixels(PQ(s,t,n));throw new Error("toBatchTensor - at batchIdx "+o+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+s)}),i=ti(a.map(function(o){return o.toFloat()})).as4D(r.batchSize,t,t,3);return i})},e}();function Sr(e){return ft(this,void 0,void 0,function(){var t,n,r;return ht(this,function(a){switch(a.label){case 0:if(e instanceof Gm)return[2,e];if(t=Array.isArray(e)?e:[e],!t.length)throw new Error("toNetInput - empty array passed as input");return n=function(i){return Array.isArray(e)?" at input index "+i+":":""},r=t.map(_S),r.forEach(function(i,o){if(!gD(i)&&!sy(i)&&!Nu(i))throw typeof t[o]=="string"?new Error("toNetInput -"+n(o)+" string passed, but could not resolve HTMLElement for element id "+t[o]):new Error("toNetInput -"+n(o)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(Nu(i)){var s=i.shape[0];if(s!==1)throw new Error("toNetInput -"+n(o)+" tf.Tensor4D with batchSize "+s+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(i){return gD(i)&&NQ(i)}))];case 1:return a.sent(),[2,new Gm(r,Array.isArray(e))]}})})}function TS(e,t){return ft(this,void 0,void 0,function(){var n,r,a,i,o,s,u;return ht(this,function(l){switch(l.label){case 0:return n=na.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,Sr(e)];case 1:if(a=l.sent(),a.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return i=a.getInput(0),i instanceof n?(o=i,[3,4]):[3,2];case 2:return[4,kQ(i)];case 3:o=l.sent(),l.label=4;case 4:r=o,l.label=5;case 5:return s=Bo(r),u=t.map(function(f){return f instanceof ri?f.forSize(r.width,r.height).box.floor():f}).map(function(f){return f.clipAtImageBorders(r.width,r.height)}),[2,u.map(function(f){var d=f.x,p=f.y,m=f.width,g=f.height,x=ly({width:m,height:g});return Bo(x).putImageData(s.getImageData(d,p,m,g),0,0),x})]}})})}function AS(e,t){return ft(this,void 0,void 0,function(){return ht(this,function(n){if(!sy(e)&&!Nu(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(Nu(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,rt(function(){var r=e.shape.slice(Nu(e)?1:0),a=r[0],i=r[1],o=r[2],s=t.map(function(l){return l instanceof ri?l.forSize(i,a).box:l}).map(function(l){return l.clipAtImageBorders(i,a)}),u=s.map(function(l){var f=l.x,d=l.y,p=l.width,m=l.height;return kB(e.as3D(a,i,o),[d,f,0],[m,p,o])});return u})]})})}function MQ(e,t){return ft(this,void 0,void 0,function(){var n,r;return ht(this,function(a){switch(a.label){case 0:return n=na.getEnv().fetch,[4,n(e,t)];case 1:if(r=a.sent(),!(r.status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function IQ(e){return ft(this,void 0,void 0,function(){return ht(this,function(t){switch(t.label){case 0:return[4,MQ(e)];case 1:return[2,t.sent().json()]}})})}function uL(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if(e==="/")return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"";e=e.replace(r,"");var a=e.split("/").filter(function(s){return s}),i=e.endsWith(".json")?a[a.length-1]:n,o=r+(e.endsWith(".json")?a.slice(0,a.length-1):a).join("/");return o=e.startsWith("/")?"/"+o:o,{modelBaseUri:o,manifestUri:o==="/"?"/"+i:o+"/"+i}}function FQ(e,t){return ft(this,void 0,void 0,function(){var n,r,a,i;return ht(this,function(o){switch(o.label){case 0:return n=uL(e,t),r=n.manifestUri,a=n.modelBaseUri,[4,IQ(r)];case 1:return i=o.sent(),[2,XB.loadWeights(i,a)]}})})}function lL(e,t,n){var r=ES(t),a=r.width,i=r.height;return e.width=a,e.height=i,{width:a,height:i}}var Is=function(){function e(t){this._name=t,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(t){var n=this.traversePropertyPath(t),r=n.obj,a=n.objProp;return r[a]},e.prototype.reassignParamFromPath=function(t,n){var r=this.traversePropertyPath(t),a=r.obj,i=r.objProp;a[i].dispose(),a[i]=n},e.prototype.getParamList=function(){var t=this;return this._paramMappings.map(function(n){var r=n.paramPath;return{path:r,tensor:t.getParamFromPath(r)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(t){return t.tensor instanceof Lf})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(t){return!(t.tensor instanceof Lf)})},e.prototype.variable=function(){var t=this;this.getFrozenParams().forEach(function(n){var r=n.path,a=n.tensor;t.reassignParamFromPath(r,a.variable())})},e.prototype.freeze=function(){var t=this;this.getTrainableParams().forEach(function(n){var r=n.path,a=n.tensor,i=Fr(a.dataSync());a.dispose(),t.reassignParamFromPath(r,i)})},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.getParamList().forEach(function(n){if(t&&n.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+n.path);n.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(t){var n=t.tensor;return Array.from(n.dataSync())}).reduce(function(t,n){return t.concat(n)}))},e.prototype.load=function(t){return ft(this,void 0,void 0,function(){return ht(this,function(n){switch(n.label){case 0:return t instanceof Float32Array?(this.extractWeights(t),[2]):[4,this.loadFromUri(t)];case 1:return n.sent(),[2]}})})},e.prototype.loadFromUri=function(t){return ft(this,void 0,void 0,function(){var n;return ht(this,function(r){switch(r.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,FQ(t,this.getDefaultModelName())];case 1:return n=r.sent(),this.loadFromWeightMap(n),[2]}})})},e.prototype.loadFromDisk=function(t){return ft(this,void 0,void 0,function(){var n,r,a,i,o,s,u,l,f,d;return ht(this,function(p){switch(p.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return n=na.getEnv().readFile,r=uL(t,this.getDefaultModelName()),a=r.manifestUri,i=r.modelBaseUri,o=function(m){return Promise.all(m.map(function(g){return n(g).then(function(x){return x.buffer})}))},s=XB.weightsLoaderFactory(o),f=(l=JSON).parse,[4,n(a)];case 1:return u=f.apply(l,[p.sent().toString()]),[4,s(u,i)];case 2:return d=p.sent(),this.loadFromWeightMap(d),[2]}})})},e.prototype.loadFromWeightMap=function(t){var n=this.extractParamsFromWeigthMap(t),r=n.paramMappings,a=n.params;this._paramMappings=r,this._params=a},e.prototype.extractWeights=function(t){var n=this.extractParams(t),r=n.paramMappings,a=n.params;this._paramMappings=r,this._params=a},e.prototype.traversePropertyPath=function(t){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var n=t.split("/").reduce(function(i,o){if(!i.nextObj.hasOwnProperty(o))throw new Error("traversePropertyPath - object does not have property "+o+", for path "+t);return{obj:i.nextObj,objProp:o,nextObj:i.nextObj[o]}},{nextObj:this.params}),r=n.obj,a=n.objProp;if(!r||!a||!(r[a]instanceof On))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+t);return{obj:r,objProp:a}},e}();function Ja(e,t,n){return rt(function(){var r=sS(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=kt(r,t.bias),r})}function Xb(e,t,n){return n===void 0&&(n=!1),rt(function(){var r=Rn(n?kt(Ii(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):Ja(e,t.conv0,[2,2])),a=Ja(r,t.conv1,[1,1]),i=Rn(kt(r,a)),o=Ja(i,t.conv2,[1,1]);return Rn(kt(r,kt(a,o)))})}function Uv(e,t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!0),rt(function(){var a=Rn(n?kt(Ii(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):Ja(e,t.conv0,r?[2,2]:[1,1])),i=Ja(a,t.conv1,[1,1]),o=Rn(kt(a,i)),s=Ja(o,t.conv2,[1,1]),u=Rn(kt(a,kt(i,s))),l=Ja(u,t.conv3,[1,1]);return Rn(kt(a,kt(i,kt(s,l))))})}function no(e,t,n,r){return n===void 0&&(n="same"),r===void 0&&(r=!1),rt(function(){var a=kt(Ii(e,t.filters,[1,1],n),t.bias);return r?Rn(a):a})}function Fs(e,t){Object.keys(e).forEach(function(n){t.some(function(r){return r.originalPath===n})||e[n].dispose()})}function cy(e,t){return function(n,r,a,i){var o=ya(e(n*r*a*a),[a,a,n,r]),s=Kn(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:o,bias:s}}}function CS(e,t){return function(n,r,a){var i=Ru(e(n*r),[n,r]),o=Kn(e(r));return t.push({paramPath:a+"/weights"},{paramPath:a+"/bias"}),{weights:i,bias:o}}}var cL=function(){function e(t,n,r){this.depthwise_filter=t,this.pointwise_filter=n,this.bias=r}return e}();function OS(e,t){return function(n,r,a){var i=ya(e(9*n),[3,3,n,1]),o=ya(e(n*r),[1,1,n,r]),s=Kn(e(r));return t.push({paramPath:a+"/depthwise_filter"},{paramPath:a+"/pointwise_filter"},{paramPath:a+"/bias"}),new cL(i,o,s)}}function RS(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),a=e(t+"/bias",1);return new cL(n,r,a)}}function Hu(e,t){return function(n,r,a){var i=e[n];if(!oy(i,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+i);return t.push({originalPath:n,paramPath:a||n}),i}}function Bs(e){var t=e;function n(a){var i=t.slice(0,a);return t=t.slice(a),i}function r(){return t}return{extractWeights:n,getRemainingWeights:r}}function fL(e,t){var n=cy(e,t),r=OS(e,t);function a(o,s,u,l){l===void 0&&(l=!1);var f=l?n(o,s,3,u+"/conv0"):r(o,s,u+"/conv0"),d=r(s,s,u+"/conv1"),p=r(s,s,u+"/conv2");return{conv0:f,conv1:d,conv2:p}}function i(o,s,u,l){l===void 0&&(l=!1);var f=a(o,s,u,l),d=f.conv0,p=f.conv1,m=f.conv2,g=r(s,s,u+"/conv3");return{conv0:d,conv1:p,conv2:m,conv3:g}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:i}}function BQ(e){var t=[],n=Bs(e),r=n.extractWeights,a=n.getRemainingWeights,i=fL(r,t).extractDenseBlock4Params,o=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2"),l=i(128,256,"dense3");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:u,dense3:l}}}function hL(e){return function(t){var n=e(t+"/filters",4),r=e(t+"/bias",1);return{filters:n,bias:r}}}function dL(e,t){var n=Hu(e,t),r=hL(n),a=RS(n);function i(s,u){u===void 0&&(u=!1);var l=u?r(s+"/conv0"):a(s+"/conv0"),f=a(s+"/conv1"),d=a(s+"/conv2");return{conv0:l,conv1:f,conv2:d}}function o(s,u){u===void 0&&(u=!1);var l=u?r(s+"/conv0"):a(s+"/conv0"),f=a(s+"/conv1"),d=a(s+"/conv2"),p=a(s+"/conv3");return{conv0:l,conv1:f,conv2:d,conv3:p}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:o}}function LQ(e){var t=[],n=dL(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return Fs(e,t),{params:r,paramMappings:t}}var pL=function(e){St(t,e);function t(){return e.call(this,"FaceFeatureExtractor")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return rt(function(){var a=n.toBatchTensor(112,!0),i=[122.782,117.001,104.298],o=Wp(a,i).div(Ze(255)),s=Uv(o,r.dense0,!0);return s=Uv(s,r.dense1),s=Uv(s,r.dense2),s=Uv(s,r.dense3),s=Up(s,[7,7],[2,2],"valid"),s})},t.prototype.forward=function(n){return ft(this,void 0,void 0,function(){var r;return ht(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Sr(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(n){return LQ(n)},t.prototype.extractParams=function(n){return BQ(n)},t}(Is);function Ro(e,t){return rt(function(){return kt(ry(e,t.weights),t.bias)})}function jQ(e,t,n){var r=[],a=Bs(e),i=a.extractWeights,o=a.getRemainingWeights,s=CS(i,r),u=s(t,n,"fc");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:r,params:{fc:u}}}function UQ(e){var t=[],n=Hu(e,t);function r(i){var o=n(i+"/weights",2),s=n(i+"/bias",1);return{weights:o,bias:s}}var a={fc:r("fc")};return Fs(e,t),{params:a,paramMappings:t}}function vL(e){var t={},n={};return Object.keys(e).forEach(function(r){var a=r.startsWith("fc")?n:t;a[r]=e[r]}),{featureExtractorMap:t,classifierMap:n}}var mL=function(e){St(t,e);function t(n,r){var a=e.call(this,n)||this;return a._faceFeatureExtractor=r,a}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(n){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return rt(function(){var i=n instanceof Gm?r.faceFeatureExtractor.forwardInput(n):n;return Ro(i.as2D(i.shape[0],-1),a.fc)})},t.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),e.prototype.dispose.call(this,n)},t.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),a=r.params,i=r.paramMappings;this._params=a,this._paramMappings=i},t.prototype.extractClassifierParams=function(n){return jQ(n,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(n){var r=vL(n),a=r.featureExtractorMap,i=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),UQ(i)},t.prototype.extractParams=function(n){var r=this.getClassifierChannelsIn(),a=this.getClassifierChannelsOut(),i=a*r+a,o=n.slice(0,n.length-i),s=n.slice(n.length-i);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(s)},t}(Is),yD=["neutral","happy","sad","angry","fearful","disgusted","surprised"],zQ=function(){function e(t){var n=this;if(t.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+t.length);yD.forEach(function(r,a){n[r]=t[a]})}return e.prototype.asSortedArray=function(){var t=this;return yD.map(function(n){return{expression:n,probability:t[n]}}).sort(function(n,r){return r.probability-n.probability})},e}(),WQ=function(e){St(t,e);function t(n){return n===void 0&&(n=new pL),e.call(this,"FaceExpressionNet",n)||this}return t.prototype.forwardInput=function(n){var r=this;return rt(function(){return Ps(r.runNet(n))})},t.prototype.forward=function(n){return ft(this,void 0,void 0,function(){var r;return ht(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Sr(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.predictExpressions=function(n){return ft(this,void 0,void 0,function(){var r,a,i,o,s=this;return ht(this,function(u){switch(u.label){case 0:return[4,Sr(n)];case 1:return r=u.sent(),[4,this.forwardInput(r)];case 2:return a=u.sent(),[4,Promise.all(or(a).map(function(l){return ft(s,void 0,void 0,function(){var f;return ht(this,function(d){switch(d.label){case 0:return[4,l.data()];case 1:return f=d.sent(),l.dispose(),[2,f]}})})}))];case 3:return i=u.sent(),a.dispose(),o=i.map(function(l){return new zQ(l)}),[2,r.isBatchInput?o:o[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(mL);function gL(e,t){var n={expressions:t};return Object.assign({},e,n)}function DS(e){return qm(e)&&e.landmarks instanceof zf&&e.unshiftedLandmarks instanceof zf&&e.alignedRect instanceof ri}function fy(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),a=r.align(),i=e.detection.imageDims,o=new ri(e.detection.score,a.rescale(i.reverse()),i),s={landmarks:r,unshiftedLandmarks:t,alignedRect:o};return Object.assign({},e,s)}var HQ=function(){function e(t){t===void 0&&(t={});var n=t.drawLines,r=n===void 0?!0:n,a=t.drawPoints,i=a===void 0?!0:a,o=t.lineWidth,s=t.lineColor,u=t.pointSize,l=t.pointColor;this.drawLines=r,this.drawPoints=i,this.lineWidth=o||1,this.pointSize=u||2,this.lineColor=s||"rgba(0, 255, 255, 1)",this.pointColor=l||"rgba(255, 0, 255, 1)"}return e}(),$Q=function(){function e(t,n){n===void 0&&(n={}),this.faceLandmarks=t,this.options=new HQ(n)}return e.prototype.draw=function(t){var n=Bo(t),r=this.options,a=r.drawLines,i=r.drawPoints,o=r.lineWidth,s=r.lineColor,u=r.pointSize,l=r.pointColor;if(a&&this.faceLandmarks instanceof JB&&(n.strokeStyle=s,n.lineWidth=o,vl(n,this.faceLandmarks.getJawOutline()),vl(n,this.faceLandmarks.getLeftEyeBrow()),vl(n,this.faceLandmarks.getRightEyeBrow()),vl(n,this.faceLandmarks.getNose()),vl(n,this.faceLandmarks.getLeftEye(),!0),vl(n,this.faceLandmarks.getRightEye(),!0),vl(n,this.faceLandmarks.getMouth(),!0)),i){n.strokeStyle=l,n.fillStyle=l;var f=function(d){n.beginPath(),n.arc(d.x,d.y,u,0,2*Math.PI),n.fill()};this.faceLandmarks.positions.forEach(f)}},e}();function yL(e,t){var n=Array.isArray(t)?t:[t];n.forEach(function(r){var a=r instanceof zf?r:DS(r)?r.landmarks:void 0;if(!a)throw new Error("drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof");new $Q(a).draw(e)})}function VQ(e,t){var n=cy(e,t),r=OS(e,t);function a(o,s,u){var l=r(o,s,u+"/separable_conv0"),f=r(s,s,u+"/separable_conv1"),d=n(o,s,1,u+"/expansion_conv");return{separable_conv0:l,separable_conv1:f,expansion_conv:d}}function i(o,s){var u=r(o,o,s+"/separable_conv0"),l=r(o,o,s+"/separable_conv1"),f=r(o,o,s+"/separable_conv2");return{separable_conv0:u,separable_conv1:l,separable_conv2:f}}return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:a,extractMainBlockParams:i}}function qQ(e,t){var n=[],r=Bs(e),a=r.extractWeights,i=r.getRemainingWeights,o=VQ(a,n),s=o.extractConvParams,u=o.extractSeparableConvParams,l=o.extractReductionBlockParams,f=o.extractMainBlockParams,d=s(3,32,3,"entry_flow/conv_in"),p=l(32,64,"entry_flow/reduction_block_0"),m=l(64,128,"entry_flow/reduction_block_1"),g={conv_in:d,reduction_block_0:p,reduction_block_1:m},x={};sp(t,0,1).forEach(function(S){x["main_block_"+S]=f(128,"middle_flow/main_block_"+S)});var b=l(128,256,"exit_flow/reduction_block"),w=u(256,512,"exit_flow/separable_conv"),E={reduction_block:b,separable_conv:w};if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:n,params:{entry_flow:g,middle_flow:x,exit_flow:E}}}function GQ(e,t){var n=Hu(e,t),r=hL(n),a=RS(n);function i(s){var u=a(s+"/separable_conv0"),l=a(s+"/separable_conv1"),f=r(s+"/expansion_conv");return{separable_conv0:u,separable_conv1:l,expansion_conv:f}}function o(s){var u=a(s+"/separable_conv0"),l=a(s+"/separable_conv1"),f=a(s+"/separable_conv2");return{separable_conv0:u,separable_conv1:l,separable_conv2:f}}return{extractConvParams:r,extractSeparableConvParams:a,extractReductionBlockParams:i,extractMainBlockParams:o}}function KQ(e,t){var n=[],r=GQ(e,n),a=r.extractConvParams,i=r.extractSeparableConvParams,o=r.extractReductionBlockParams,s=r.extractMainBlockParams,u=a("entry_flow/conv_in"),l=o("entry_flow/reduction_block_0"),f=o("entry_flow/reduction_block_1"),d={conv_in:u,reduction_block_0:l,reduction_block_1:f},p={};sp(t,0,1).forEach(function(b){p["main_block_"+b]=s("middle_flow/main_block_"+b)});var m=o("exit_flow/reduction_block"),g=i("exit_flow/separable_conv"),x={reduction_block:m,separable_conv:g};return Fs(e,n),{params:{entry_flow:d,middle_flow:p,exit_flow:x},paramMappings:n}}function xL(e,t,n){return kt(Ii(e,t.filters,n,"same"),t.bias)}function Yb(e,t,n){n===void 0&&(n=!0);var r=n?Rn(e):e;return r=Ja(r,t.separable_conv0,[1,1]),r=Ja(Rn(r),t.separable_conv1,[1,1]),r=yr(r,[3,3],[2,2],"same"),r=kt(r,xL(e,t.expansion_conv,[2,2])),r}function XQ(e,t){var n=Ja(Rn(e),t.separable_conv0,[1,1]);return n=Ja(Rn(n),t.separable_conv1,[1,1]),n=Ja(Rn(n),t.separable_conv2,[1,1]),n=kt(n,e),n}var YQ=function(e){St(t,e);function t(n){var r=e.call(this,"TinyXception")||this;return r._numMainBlocks=n,r}return t.prototype.forwardInput=function(n){var r=this,a=this.params;if(!a)throw new Error("TinyXception - load model before inference");return rt(function(){var i=n.toBatchTensor(112,!0),o=[122.782,117.001,104.298],s=Wp(i,o).div(Ze(256)),u=Rn(xL(s,a.entry_flow.conv_in,[2,2]));return u=Yb(u,a.entry_flow.reduction_block_0,!1),u=Yb(u,a.entry_flow.reduction_block_1),sp(r._numMainBlocks,0,1).forEach(function(l){u=XQ(u,a.middle_flow["main_block_"+l])}),u=Yb(u,a.exit_flow.reduction_block),u=Rn(Ja(u,a.exit_flow.separable_conv,[1,1])),u})},t.prototype.forward=function(n){return ft(this,void 0,void 0,function(){var r;return ht(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Sr(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(n){return KQ(n,this._numMainBlocks)},t.prototype.extractParams=function(n){return qQ(n,this._numMainBlocks)},t}(Is);function QQ(e){var t=[],n=Bs(e),r=n.extractWeights,a=n.getRemainingWeights,i=CS(r,t),o=i(512,1,"fc/age"),s=i(512,2,"fc/gender");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{fc:{age:o,gender:s}}}}function ZQ(e){var t=[],n=Hu(e,t);function r(i){var o=n(i+"/weights",2),s=n(i+"/bias",1);return{weights:o,bias:s}}var a={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Fs(e,t),{params:a,paramMappings:t}}var Km;(function(e){e.FEMALE="female",e.MALE="male"})(Km||(Km={}));var JQ=function(e){St(t,e);function t(n){n===void 0&&(n=new YQ(2));var r=e.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=n,r}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(n){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return rt(function(){var i=n instanceof Gm?r.faceFeatureExtractor.forwardInput(n):n,o=Up(i,[7,7],[2,2],"valid").as2D(i.shape[0],-1),s=Ro(o,a.fc.age).as1D(),u=Ro(o,a.fc.gender);return{age:s,gender:u}})},t.prototype.forwardInput=function(n){var r=this;return rt(function(){var a=r.runNet(n),i=a.age,o=a.gender;return{age:i,gender:Ps(o)}})},t.prototype.forward=function(n){return ft(this,void 0,void 0,function(){var r;return ht(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Sr(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.predictAgeAndGender=function(n){return ft(this,void 0,void 0,function(){var r,a,i,o,s,u,l=this;return ht(this,function(f){switch(f.label){case 0:return[4,Sr(n)];case 1:return r=f.sent(),[4,this.forwardInput(r)];case 2:return a=f.sent(),i=or(a.age),o=or(a.gender),s=i.map(function(d,p){return{ageTensor:d,genderTensor:o[p]}}),[4,Promise.all(s.map(function(d){var p=d.ageTensor,m=d.genderTensor;return ft(l,void 0,void 0,function(){var g,x,b,w,E;return ht(this,function(S){switch(S.label){case 0:return[4,p.data()];case 1:return g=S.sent()[0],[4,m.data()];case 2:return x=S.sent()[0],b=x>.5,w=b?Km.MALE:Km.FEMALE,E=b?x:1-x,p.dispose(),m.dispose(),[2,{age:g,gender:w,genderProbability:E}]}})})}))];case 3:return u=f.sent(),a.age.dispose(),a.gender.dispose(),[2,r.isBatchInput?u:u[0]]}})})},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),e.prototype.dispose.call(this,n)},t.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),a=r.params,i=r.paramMappings;this._params=a,this._paramMappings=i},t.prototype.extractClassifierParams=function(n){return QQ(n)},t.prototype.extractParamsFromWeigthMap=function(n){var r=vL(n),a=r.featureExtractorMap,i=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),ZQ(i)},t.prototype.extractParams=function(n){var r=1539,a=n.slice(0,n.length-r),i=n.slice(n.length-r);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(i)},t}(Is),bL=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.postProcess=function(n,r,a){var i=a.map(function(s){var u=s.width,l=s.height,f=r/Math.max(l,u);return{width:u*f,height:l*f}}),o=i.length;return rt(function(){var s=function(p,m){return ti([Po([68],p),Po([68],m)],1).as2D(1,136).as1D()},u=function(p,m){var g=i[p],x=g.width,b=g.height;return m(x,b)?Math.abs(x-b)/2:0},l=function(p){return u(p,function(m,g){return m<g})},f=function(p){return u(p,function(m,g){return g<m})},d=n.mul(Po([o,136],r)).sub(ti(Array.from(Array(o),function(p,m){return s(l(m),f(m))}))).div(ti(Array.from(Array(o),function(p,m){return s(i[m].width,i[m].height)})));return d})},t.prototype.forwardInput=function(n){var r=this;return rt(function(){var a=r.runNet(n);return r.postProcess(a,n.inputSize,n.inputDimensions.map(function(i){var o=i[0],s=i[1];return{height:o,width:s}}))})},t.prototype.forward=function(n){return ft(this,void 0,void 0,function(){var r;return ht(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Sr(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.detectLandmarks=function(n){return ft(this,void 0,void 0,function(){var r,a,i,o=this;return ht(this,function(s){switch(s.label){case 0:return[4,Sr(n)];case 1:return r=s.sent(),a=rt(function(){return or(o.forwardInput(r))}),[4,Promise.all(a.map(function(u,l){return ft(o,void 0,void 0,function(){var f,d,p,m,g;return ht(this,function(x){switch(x.label){case 0:return p=(d=Array).from,[4,u.data()];case 1:return f=p.apply(d,[x.sent()]),m=f.filter(function(b,w){return hD(w)}),g=f.filter(function(b,w){return!hD(w)}),[2,new JB(Array(68).fill(0).map(function(b,w){return new qt(m[w],g[w])}),{height:r.getInputHeight(l),width:r.getInputWidth(l)})]}})})}))];case 2:return i=s.sent(),a.forEach(function(u){return u.dispose()}),[2,r.isBatchInput?i:i[0]]}})})},t.prototype.getClassifierChannelsOut=function(){return 136},t}(mL),wL=function(e){St(t,e);function t(n){return n===void 0&&(n=new pL),e.call(this,"FaceLandmark68Net",n)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(bL);function eZ(e){var t=[],n=dL(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return Fs(e,t),{params:r,paramMappings:t}}function tZ(e){var t=[],n=Bs(e),r=n.extractWeights,a=n.getRemainingWeights,i=fL(r,t).extractDenseBlock3Params,o=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:u}}}var nZ=function(e){St(t,e);function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return rt(function(){var a=n.toBatchTensor(112,!0),i=[122.782,117.001,104.298],o=Wp(a,i).div(Ze(255)),s=Xb(o,r.dense0,!0);return s=Xb(s,r.dense1),s=Xb(s,r.dense2),s=Up(s,[14,14],[2,2],"valid"),s})},t.prototype.forward=function(n){return ft(this,void 0,void 0,function(){var r;return ht(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Sr(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(n){return eZ(n)},t.prototype.extractParams=function(n){return tZ(n)},t}(Is),rZ=function(e){St(t,e);function t(n){return n===void 0&&(n=new nZ),e.call(this,"FaceLandmark68TinyNet",n)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(bL);(function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(wL);function aZ(e,t){return kt(Zr(e,t.weights),t.biases)}function NS(e,t,n,r,a){a===void 0&&(a="same");var i=t.conv,o=i.filters,s=i.bias,u=Ii(e,o,n,a);return u=kt(u,s),u=aZ(u,t.scale),r?Rn(u):u}function iZ(e,t){return NS(e,t,[1,1],!0)}function _L(e,t){return NS(e,t,[1,1],!1)}function EL(e,t){return NS(e,t,[2,2],!0,"valid")}function oZ(e,t){function n(s,u,l){var f=e(s),d=f.length/(u*l*l);if(gQ(d))throw new Error("depth has to be an integer: "+d+", weights.length: "+f.length+", numFilters: "+u+", filterSize: "+l);return rt(function(){return Mu(ya(f,[u,d,l,l]),[2,3,1,0])})}function r(s,u,l,f){var d=n(s,u,l),p=Kn(e(u));return t.push({paramPath:f+"/filters"},{paramPath:f+"/bias"}),{filters:d,bias:p}}function a(s,u){var l=Kn(e(s)),f=Kn(e(s));return t.push({paramPath:u+"/weights"},{paramPath:u+"/biases"}),{weights:l,biases:f}}function i(s,u,l,f){var d=r(s,u,l,f+"/conv"),p=a(u,f+"/scale");return{conv:d,scale:p}}function o(s,u,l,f,d){d===void 0&&(d=!1);var p=i((d?.5:1)*s,u,l,f+"/conv1"),m=i(s,u,l,f+"/conv2");return{conv1:p,conv2:m}}return{extractConvLayerParams:i,extractResidualLayerParams:o}}function sZ(e){var t=Bs(e),n=t.extractWeights,r=t.getRemainingWeights,a=[],i=oZ(n,a),o=i.extractConvLayerParams,s=i.extractResidualLayerParams,u=o(4704,32,7,"conv32_down"),l=s(9216,32,3,"conv32_1"),f=s(9216,32,3,"conv32_2"),d=s(9216,32,3,"conv32_3"),p=s(36864,64,3,"conv64_down",!0),m=s(36864,64,3,"conv64_1"),g=s(36864,64,3,"conv64_2"),x=s(36864,64,3,"conv64_3"),b=s(147456,128,3,"conv128_down",!0),w=s(147456,128,3,"conv128_1"),E=s(147456,128,3,"conv128_2"),S=s(589824,256,3,"conv256_down",!0),A=s(589824,256,3,"conv256_1"),T=s(589824,256,3,"conv256_2"),R=s(589824,256,3,"conv256_down_out"),D=rt(function(){return Mu(Ru(n(256*128),[128,256]),[1,0])});if(a.push({paramPath:"fc"}),r().length!==0)throw new Error("weights remaing after extract: "+r().length);var P={conv32_down:u,conv32_1:l,conv32_2:f,conv32_3:d,conv64_down:p,conv64_1:m,conv64_2:g,conv64_3:x,conv128_down:b,conv128_1:w,conv128_2:E,conv256_down:S,conv256_1:A,conv256_2:T,conv256_down_out:R,fc:D};return{params:P,paramMappings:a}}function uZ(e,t){var n=Hu(e,t);function r(o){var s=n(o+"/scale/weights",1),u=n(o+"/scale/biases",1);return{weights:s,biases:u}}function a(o){var s=n(o+"/conv/filters",4),u=n(o+"/conv/bias",1),l=r(o);return{conv:{filters:s,bias:u},scale:l}}function i(o){return{conv1:a(o+"/conv1"),conv2:a(o+"/conv2")}}return{extractConvLayerParams:a,extractResidualLayerParams:i}}function lZ(e){var t=[],n=uZ(e,t),r=n.extractConvLayerParams,a=n.extractResidualLayerParams,i=r("conv32_down"),o=a("conv32_1"),s=a("conv32_2"),u=a("conv32_3"),l=a("conv64_down"),f=a("conv64_1"),d=a("conv64_2"),p=a("conv64_3"),m=a("conv128_down"),g=a("conv128_1"),x=a("conv128_2"),b=a("conv256_down"),w=a("conv256_1"),E=a("conv256_2"),S=a("conv256_down_out"),A=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!mQ(A))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+A);var T={conv32_down:i,conv32_1:o,conv32_2:s,conv32_3:u,conv64_down:l,conv64_1:f,conv64_2:d,conv64_3:p,conv128_down:m,conv128_1:g,conv128_2:x,conv256_down:b,conv256_1:w,conv256_2:E,conv256_down_out:S,fc:A};return Fs(e,t),{params:T,paramMappings:t}}function xo(e,t){var n=iZ(e,t.conv1);return n=_L(n,t.conv2),n=kt(n,e),n=Rn(n),n}function zv(e,t){var n=EL(e,t.conv1);n=_L(n,t.conv2);var r=Up(e,2,2,"valid"),a=bn(r.shape),i=r.shape[3]!==n.shape[3],o=r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2];if(o){var s=Vd(n.shape);s[1]=1;var u=bn(s);n=ir([n,u],1);var l=Vd(n.shape);l[2]=1;var f=bn(l);n=ir([n,f],2)}return r=i?ir([r,a],3):r,n=kt(r,n),n=Rn(n),n}var cZ=function(e){St(t,e);function t(){return e.call(this,"FaceRecognitionNet")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return rt(function(){var a=n.toBatchTensor(150,!0).toFloat(),i=[122.782,117.001,104.298],o=Wp(a,i).div(Ze(256)),s=EL(o,r.conv32_down);s=yr(s,3,2,"valid"),s=xo(s,r.conv32_1),s=xo(s,r.conv32_2),s=xo(s,r.conv32_3),s=zv(s,r.conv64_down),s=xo(s,r.conv64_1),s=xo(s,r.conv64_2),s=xo(s,r.conv64_3),s=zv(s,r.conv128_down),s=xo(s,r.conv128_1),s=xo(s,r.conv128_2),s=zv(s,r.conv256_down),s=xo(s,r.conv256_1),s=xo(s,r.conv256_2),s=zv(s,r.conv256_down_out);var u=s.mean([1,2]),l=ry(u,r.fc);return l})},t.prototype.forward=function(n){return ft(this,void 0,void 0,function(){var r;return ht(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Sr(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.computeFaceDescriptor=function(n){return ft(this,void 0,void 0,function(){var r,a,i,o=this;return ht(this,function(s){switch(s.label){case 0:return[4,Sr(n)];case 1:return r=s.sent(),a=rt(function(){return or(o.forwardInput(r))}),[4,Promise.all(a.map(function(u){return u.data()}))];case 2:return i=s.sent(),a.forEach(function(u){return u.dispose()}),[2,r.isBatchInput?i:i[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(n){return lZ(n)},t.prototype.extractParams=function(n){return sZ(n)},t}(Is);function SL(e,t){var n={descriptor:t};return Object.assign({},e,n)}function TL(e,t){var n={age:t};return Object.assign({},e,n)}function AL(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var CL=function(){function e(t){var n=t===void 0?{}:t,r=n.minFaceSize,a=n.scaleFactor,i=n.maxNumScales,o=n.scoreThresholds,s=n.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=a||.709,this._maxNumScales=i||10,this._scoreThresholds=o||[.6,.7,.7],this._scaleSteps=s,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(u){return typeof u!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(u){return typeof u!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function fZ(e,t){function n(u,l){var f=ya(e(9*u),[3,3,u,1]),d=Kn(e(u)),p=Kn(e(u)),m=Kn(e(u)),g=Kn(e(u));return t.push({paramPath:l+"/filters"},{paramPath:l+"/batch_norm_scale"},{paramPath:l+"/batch_norm_offset"},{paramPath:l+"/batch_norm_mean"},{paramPath:l+"/batch_norm_variance"}),{filters:f,batch_norm_scale:d,batch_norm_offset:p,batch_norm_mean:m,batch_norm_variance:g}}function r(u,l,f,d,p){var m=ya(e(u*l*f*f),[f,f,u,l]),g=Kn(e(l));return t.push({paramPath:d+"/filters"},{paramPath:d+"/"+(p?"batch_norm_offset":"bias")}),{filters:m,bias:g}}function a(u,l,f,d){var p=r(u,l,f,d,!0),m=p.filters,g=p.bias;return{filters:m,batch_norm_offset:g}}function i(u,l,f){var d=n(u,f+"/depthwise_conv"),p=a(u,l,1,f+"/pointwise_conv");return{depthwise_conv:d,pointwise_conv:p}}function o(){var u=a(3,32,3,"mobilenetv1/conv_0"),l=i(32,64,"mobilenetv1/conv_1"),f=i(64,128,"mobilenetv1/conv_2"),d=i(128,128,"mobilenetv1/conv_3"),p=i(128,256,"mobilenetv1/conv_4"),m=i(256,256,"mobilenetv1/conv_5"),g=i(256,512,"mobilenetv1/conv_6"),x=i(512,512,"mobilenetv1/conv_7"),b=i(512,512,"mobilenetv1/conv_8"),w=i(512,512,"mobilenetv1/conv_9"),E=i(512,512,"mobilenetv1/conv_10"),S=i(512,512,"mobilenetv1/conv_11"),A=i(512,1024,"mobilenetv1/conv_12"),T=i(1024,1024,"mobilenetv1/conv_13");return{conv_0:u,conv_1:l,conv_2:f,conv_3:d,conv_4:p,conv_5:m,conv_6:g,conv_7:x,conv_8:b,conv_9:w,conv_10:E,conv_11:S,conv_12:A,conv_13:T}}function s(){var u=a(1024,256,1,"prediction_layer/conv_0"),l=a(256,512,3,"prediction_layer/conv_1"),f=a(512,128,1,"prediction_layer/conv_2"),d=a(128,256,3,"prediction_layer/conv_3"),p=a(256,128,1,"prediction_layer/conv_4"),m=a(128,256,3,"prediction_layer/conv_5"),g=a(256,64,1,"prediction_layer/conv_6"),x=a(64,128,3,"prediction_layer/conv_7"),b=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),w=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),E=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),S=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),A=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),T=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),R=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),D=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),P=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),k=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),I=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),F=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),B={box_encoding_predictor:b,class_predictor:w},te={box_encoding_predictor:E,class_predictor:S},ae={box_encoding_predictor:A,class_predictor:T},V={box_encoding_predictor:R,class_predictor:D},H={box_encoding_predictor:P,class_predictor:k},Z={box_encoding_predictor:I,class_predictor:F};return{conv_0:u,conv_1:l,conv_2:f,conv_3:d,conv_4:p,conv_5:m,conv_6:g,conv_7:x,box_predictor_0:B,box_predictor_1:te,box_predictor_2:ae,box_predictor_3:V,box_predictor_4:H,box_predictor_5:Z}}return{extractMobilenetV1Params:o,extractPredictionLayerParams:s}}function hZ(e){var t=[],n=Bs(e),r=n.extractWeights,a=n.getRemainingWeights,i=fZ(r,t),o=i.extractMobilenetV1Params,s=i.extractPredictionLayerParams,u=o(),l=s(),f=qE(r(5118*4),[1,5118,4]),d={extra_dim:f};if(t.push({paramPath:"output_layer/extra_dim"}),a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{params:{mobilenetv1:u,prediction_layer:l,output_layer:d},paramMappings:t}}function dZ(e,t){var n=Hu(e,t);function r(l,f,d){var p=n(l+"/Conv2d_"+f+"_pointwise/weights",4,d+"/filters"),m=n(l+"/Conv2d_"+f+"_pointwise/convolution_bn_offset",1,d+"/batch_norm_offset");return{filters:p,batch_norm_offset:m}}function a(l){var f="mobilenetv1/conv_"+l,d="MobilenetV1/Conv2d_"+l+"_depthwise",p=f+"/depthwise_conv",m=f+"/pointwise_conv",g=n(d+"/depthwise_weights",4,p+"/filters"),x=n(d+"/BatchNorm/gamma",1,p+"/batch_norm_scale"),b=n(d+"/BatchNorm/beta",1,p+"/batch_norm_offset"),w=n(d+"/BatchNorm/moving_mean",1,p+"/batch_norm_mean"),E=n(d+"/BatchNorm/moving_variance",1,p+"/batch_norm_variance");return{depthwise_conv:{filters:g,batch_norm_scale:x,batch_norm_offset:b,batch_norm_mean:w,batch_norm_variance:E},pointwise_conv:r("MobilenetV1",l,m)}}function i(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:a(1),conv_2:a(2),conv_3:a(3),conv_4:a(4),conv_5:a(5),conv_6:a(6),conv_7:a(7),conv_8:a(8),conv_9:a(9),conv_10:a(10),conv_11:a(11),conv_12:a(12),conv_13:a(13)}}function o(l,f){var d=n(l+"/weights",4,f+"/filters"),p=n(l+"/biases",1,f+"/bias");return{filters:d,bias:p}}function s(l){var f=o("Prediction/BoxPredictor_"+l+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+l+"/box_encoding_predictor"),d=o("Prediction/BoxPredictor_"+l+"/ClassPredictor","prediction_layer/box_predictor_"+l+"/class_predictor");return{box_encoding_predictor:f,class_predictor:d}}function u(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:s(0),box_predictor_1:s(1),box_predictor_2:s(2),box_predictor_3:s(3),box_predictor_4:s(4),box_predictor_5:s(5)}}return{extractMobilenetV1Params:i,extractPredictionLayerParams:u}}function pZ(e){var t=[],n=dZ(e,t),r=n.extractMobilenetV1Params,a=n.extractPredictionLayerParams,i=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!sy(i))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+i);var o={mobilenetv1:r(),prediction_layer:a(),output_layer:{extra_dim:i}};return Fs(e,t),{params:o,paramMappings:t}}function So(e,t,n){return rt(function(){var r=Ii(e,t.filters,n,"same");return r=kt(r,t.batch_norm_offset),rS(r,0,6)})}var vZ=.0010000000474974513;function mZ(e,t,n){return rt(function(){var r=ny(e,t.filters,n,"same");return r=gB(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,vZ),rS(r,0,6)})}function gZ(e){return[2,4,6,12].some(function(t){return t===e})?[2,2]:[1,1]}function yZ(e,t){return rt(function(){var n=null,r=So(e,t.conv_0,[2,2]),a=[t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13];if(a.forEach(function(i,o){var s=o+1,u=gZ(s);r=mZ(r,i.depthwise_conv,u),r=So(r,i.pointwise_conv,[1,1]),s===11&&(n=r)}),n===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function xZ(e,t,n,r,a){var i=e.shape[0],o=Math.min(n,i),s=t.map(function(f,d){return{score:f,boxIndex:d}}).filter(function(f){return f.score>a}).sort(function(f,d){return d.score-f.score}),u=function(f){return f<=r?1:0},l=[];return s.forEach(function(f){if(!(l.length>=o)){for(var d=f.score,p=l.length-1;p>=0;--p){var m=bZ(e,f.boxIndex,l[p]);if(m!==0&&(f.score*=u(m),f.score<=a))break}d===f.score&&l.push(f.boxIndex)}}),l}function bZ(e,t,n){var r=e.arraySync(),a=Math.min(r[t][0],r[t][2]),i=Math.min(r[t][1],r[t][3]),o=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),u=Math.min(r[n][0],r[n][2]),l=Math.min(r[n][1],r[n][3]),f=Math.max(r[n][0],r[n][2]),d=Math.max(r[n][1],r[n][3]),p=(o-a)*(s-i),m=(f-u)*(d-l);if(p<=0||m<=0)return 0;var g=Math.max(a,u),x=Math.max(i,l),b=Math.min(o,f),w=Math.min(s,d),E=Math.max(b-g,0)*Math.max(w-x,0);return E/(p+m-E)}function wZ(e){var t=or(Mu(e,[1,0])),n=[ur(t[2],t[0]),ur(t[3],t[1])],r=[kt(t[0],Yi(n[0],Ze(2))),kt(t[1],Yi(n[1],Ze(2)))];return{sizes:n,centers:r}}function _Z(e,t){var n=wZ(e),r=n.sizes,a=n.centers,i=or(Mu(t,[1,0])),o=Yi(Zr(p_(Yi(i[2],Ze(5))),r[0]),Ze(2)),s=kt(Zr(Yi(i[0],Ze(10)),r[0]),a[0]),u=Yi(Zr(p_(Yi(i[3],Ze(5))),r[1]),Ze(2)),l=kt(Zr(Yi(i[1],Ze(10)),r[1]),a[1]);return Mu(ti([ur(s,o),ur(l,u),kt(s,o),kt(l,u)]),[1,0])}function EZ(e,t,n){return rt(function(){var r=e.shape[0],a=_Z(eo(Tf(n.extra_dim,[r,1,1]),[-1,4]),eo(e,[-1,4]));a=eo(a,[r,a.shape[0]/r,4]);var i=dB(Io(t,[0,0,1],[-1,-1,-1])),o=Io(i,[0,0,0],[-1,-1,1]);o=eo(o,[r,o.shape[1]]);var s=or(a),u=or(o);return{boxes:s,scores:u}})}function sf(e,t){return rt(function(){var n=e.shape[0],r=eo(no(e,t.box_encoding_predictor),[n,-1,1,4]),a=eo(no(e,t.class_predictor),[n,-1,3]);return{boxPredictionEncoding:r,classPrediction:a}})}function SZ(e,t,n){return rt(function(){var r=So(e,n.conv_0,[1,1]),a=So(r,n.conv_1,[2,2]),i=So(a,n.conv_2,[1,1]),o=So(i,n.conv_3,[2,2]),s=So(o,n.conv_4,[1,1]),u=So(s,n.conv_5,[2,2]),l=So(u,n.conv_6,[1,1]),f=So(l,n.conv_7,[2,2]),d=sf(t,n.box_predictor_0),p=sf(e,n.box_predictor_1),m=sf(a,n.box_predictor_2),g=sf(o,n.box_predictor_3),x=sf(u,n.box_predictor_4),b=sf(f,n.box_predictor_5),w=ir([d.boxPredictionEncoding,p.boxPredictionEncoding,m.boxPredictionEncoding,g.boxPredictionEncoding,x.boxPredictionEncoding,b.boxPredictionEncoding],1),E=ir([d.classPrediction,p.classPrediction,m.classPrediction,g.classPrediction,x.classPrediction,b.classPrediction],1);return{boxPredictions:w,classPredictions:E}})}var oh=function(){function e(t){var n=t===void 0?{}:t,r=n.minConfidence,a=n.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=a||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),OL=function(e){St(t,e);function t(){return e.call(this,"SsdMobilenetv1")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return rt(function(){var a=n.toBatchTensor(512,!1).toFloat(),i=ur(Zr(a,Ze(.007843137718737125)),Ze(1)),o=yZ(i,r.mobilenetv1),s=SZ(o.out,o.conv11,r.prediction_layer),u=s.boxPredictions,l=s.classPredictions;return EZ(u,l,r.output_layer)})},t.prototype.forward=function(n){return ft(this,void 0,void 0,function(){var r;return ht(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Sr(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.locateFaces=function(n,r){return r===void 0&&(r={}),ft(this,void 0,void 0,function(){var a,i,o,s,u,l,f,d,p,m,g,x,b,w,E,S,A,T,R,D,P;return ht(this,function(k){switch(k.label){case 0:return a=new oh(r),i=a.maxResults,o=a.minConfidence,[4,Sr(n)];case 1:for(s=k.sent(),u=this.forwardInput(s),l=u.boxes,f=u.scores,d=l[0],p=f[0],m=1;m<l.length;m++)l[m].dispose(),f[m].dispose();return b=(x=Array).from,[4,p.data()];case 2:return g=b.apply(x,[k.sent()]),w=.5,E=xZ(d,g,i,w,o),S=s.getReshapedInputDimensions(0),A=s.inputSize,T=A/S.width,R=A/S.height,D=d.arraySync(),P=E.map(function(I){var F=[Math.max(0,D[I][0]),Math.min(1,D[I][2])].map(function(Z){return Z*R}),B=F[0],te=F[1],ae=[Math.max(0,D[I][1]),Math.min(1,D[I][3])].map(function(Z){return Z*T}),V=ae[0],H=ae[1];return new ri(g[I],new bS(V,B,H-V,te-B),{height:s.getInputHeight(0),width:s.getInputWidth(0)})}),d.dispose(),p.dispose(),[2,P]}})})},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(n){return pZ(n)},t.prototype.extractParams=function(n){return hZ(n)},t}(Is);(function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(OL);var TZ=.4,AZ=[new qt(.738768,.874946),new qt(2.42204,2.65704),new qt(4.30971,7.04493),new qt(10.246,4.59428),new qt(12.6868,11.8741)],CZ=[new qt(1.603231,2.094468),new qt(6.041143,7.080126),new qt(2.882459,3.518061),new qt(4.266906,5.178857),new qt(9.041765,10.66308)],OZ=[117.001,114.697,97.404],RZ="tiny_yolov2_model",DZ="tiny_yolov2_separable_conv_model",Wv=function(e){return typeof e=="number"};function NZ(e){if(!e)throw new Error("invalid config: "+e);if(typeof e.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!Wv(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(t){return typeof t=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(t){return t||{}}).every(function(t){return Wv(t.x)&&Wv(t.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||e.meanRgb.length!==3||!e.meanRgb.every(Wv)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}function kS(e){return rt(function(){var t=Zr(e,Ze(.10000000149011612));return kt(Rn(ur(e,t)),t)})}function vu(e,t){return rt(function(){var n=nc(e,[[0,0],[1,1],[1,1],[0,0]]);return n=Ii(n,t.conv.filters,[1,1],"valid"),n=ur(n,t.bn.sub),n=Zr(n,t.bn.truediv),n=kt(n,t.conv.bias),kS(n)})}function mu(e,t){return rt(function(){var n=nc(e,[[0,0],[1,1],[1,1],[0,0]]);return n=sS(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),n=kt(n,t.bias),kS(n)})}function kZ(e,t){var n=cy(e,t);function r(o,s){var u=Kn(e(o)),l=Kn(e(o));return t.push({paramPath:s+"/sub"},{paramPath:s+"/truediv"}),{sub:u,truediv:l}}function a(o,s,u){var l=n(o,s,3,u+"/conv"),f=r(s,u+"/bn");return{conv:l,bn:f}}var i=OS(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:a,extractSeparableConvParams:i}}function PZ(e,t,n,r){var a=Bs(e),i=a.extractWeights,o=a.getRemainingWeights,s=[],u=kZ(i,s),l=u.extractConvParams,f=u.extractConvWithBatchNormParams,d=u.extractSeparableConvParams,p;if(t.withSeparableConvs){var m=r[0],g=r[1],x=r[2],b=r[3],w=r[4],E=r[5],S=r[6],A=r[7],T=r[8],R=t.isFirstLayerConv2d?l(m,g,3,"conv0"):d(m,g,"conv0"),D=d(g,x,"conv1"),P=d(x,b,"conv2"),k=d(b,w,"conv3"),I=d(w,E,"conv4"),F=d(E,S,"conv5"),B=A?d(S,A,"conv6"):void 0,te=T?d(A,T,"conv7"):void 0,ae=l(T||A||S,5*n,1,"conv8");p={conv0:R,conv1:D,conv2:P,conv3:k,conv4:I,conv5:F,conv6:B,conv7:te,conv8:ae}}else{var m=r[0],g=r[1],x=r[2],b=r[3],w=r[4],E=r[5],S=r[6],A=r[7],T=r[8],R=f(m,g,"conv0"),D=f(g,x,"conv1"),P=f(x,b,"conv2"),k=f(b,w,"conv3"),I=f(w,E,"conv4"),F=f(E,S,"conv5"),B=f(S,A,"conv6"),te=f(A,T,"conv7"),ae=l(T,5*n,1,"conv8");p={conv0:R,conv1:D,conv2:P,conv3:k,conv4:I,conv5:F,conv6:B,conv7:te,conv8:ae}}if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{params:p,paramMappings:s}}function MZ(e,t){var n=Hu(e,t);function r(s){var u=n(s+"/sub",1),l=n(s+"/truediv",1);return{sub:u,truediv:l}}function a(s){var u=n(s+"/filters",4),l=n(s+"/bias",1);return{filters:u,bias:l}}function i(s){var u=a(s+"/conv"),l=r(s+"/bn");return{conv:u,bn:l}}var o=RS(n);return{extractConvParams:a,extractConvWithBatchNormParams:i,extractSeparableConvParams:o}}function IZ(e,t){var n=[],r=MZ(e,n),a=r.extractConvParams,i=r.extractConvWithBatchNormParams,o=r.extractSeparableConvParams,s;if(t.withSeparableConvs){var u=t.filterSizes&&t.filterSizes.length||9;s={conv0:t.isFirstLayerConv2d?a("conv0"):o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:u>7?o("conv6"):void 0,conv7:u>8?o("conv7"):void 0,conv8:a("conv8")}}else s={conv0:i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:i("conv6"),conv7:i("conv7"),conv8:a("conv8")};return Fs(e,n),{params:s,paramMappings:n}}var xD;(function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"})(xD||(xD={}));var PS=function(){function e(t){var n=t===void 0?{}:t,r=n.inputSize,a=n.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=a||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),RL=function(e){St(t,e);function t(n){var r=e.call(this,"TinyYolov2")||this;return NZ(n),r._config=n,r}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(n,r){var a=vu(n,r.conv0);return a=yr(a,[2,2],[2,2],"same"),a=vu(a,r.conv1),a=yr(a,[2,2],[2,2],"same"),a=vu(a,r.conv2),a=yr(a,[2,2],[2,2],"same"),a=vu(a,r.conv3),a=yr(a,[2,2],[2,2],"same"),a=vu(a,r.conv4),a=yr(a,[2,2],[2,2],"same"),a=vu(a,r.conv5),a=yr(a,[2,2],[1,1],"same"),a=vu(a,r.conv6),a=vu(a,r.conv7),no(a,r.conv8,"valid",!1)},t.prototype.runMobilenet=function(n,r){var a=this.config.isFirstLayerConv2d?kS(no(n,r.conv0,"valid",!1)):mu(n,r.conv0);return a=yr(a,[2,2],[2,2],"same"),a=mu(a,r.conv1),a=yr(a,[2,2],[2,2],"same"),a=mu(a,r.conv2),a=yr(a,[2,2],[2,2],"same"),a=mu(a,r.conv3),a=yr(a,[2,2],[2,2],"same"),a=mu(a,r.conv4),a=yr(a,[2,2],[2,2],"same"),a=mu(a,r.conv5),a=yr(a,[2,2],[1,1],"same"),a=r.conv6?mu(a,r.conv6):a,a=r.conv7?mu(a,r.conv7):a,no(a,r.conv8,"valid",!1)},t.prototype.forwardInput=function(n,r){var a=this,i=this.params;if(!i)throw new Error("TinyYolov2 - load model before inference");return rt(function(){var o=n.toBatchTensor(r,!1).toFloat();return o=a.config.meanRgb?Wp(o,a.config.meanRgb):o,o=o.div(Ze(256)),a.config.withSeparableConvs?a.runMobilenet(o,i):a.runTinyYolov2(o,i)})},t.prototype.forward=function(n,r){return ft(this,void 0,void 0,function(){var a;return ht(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,Sr(n)];case 1:return[4,a.apply(this,[i.sent(),r])];case 2:return[2,i.sent()]}})})},t.prototype.detect=function(n,r){return r===void 0&&(r={}),ft(this,void 0,void 0,function(){var a,i,o,s,u,l,f,d,p,m,g,x,b,w,E=this;return ht(this,function(S){switch(S.label){case 0:return a=new PS(r),i=a.inputSize,o=a.scoreThreshold,[4,Sr(n)];case 1:return s=S.sent(),[4,this.forwardInput(s,i)];case 2:return u=S.sent(),l=rt(function(){return or(u)[0].expandDims()}),f={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(l,s.getReshapedInputDimensions(0),o)];case 3:return d=S.sent(),u.dispose(),l.dispose(),p=d.map(function(A){return A.box}),m=d.map(function(A){return A.score}),g=d.map(function(A){return A.classScore}),x=d.map(function(A){return E.config.classes[A.label]}),b=up(p.map(function(A){return A.rescale(i)}),m,this.config.iouThreshold,!0),w=b.map(function(A){return new ZB(m[A],g[A],x[A],p[A],f)}),[2,w]}})})},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(n){return IZ(n,this.config)},t.prototype.extractParams=function(n){var r=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,a=r?r.length:void 0;if(a!==7&&a!==8&&a!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+a+" filterSizes in config");return PZ(n,this.config,this.boxEncodingSize,r)},t.prototype.extractBoxes=function(n,r,a){return ft(this,void 0,void 0,function(){var i,o,s,u,l,f,d,p,m,g,x,b,w,E,S,A,T,R,D,P,k,I,F,B,te,ae,V,H,Z,ie=this;return ht(this,function(he){switch(he.label){case 0:return i=r.width,o=r.height,s=Math.max(i,o),u=s/i,l=s/o,f=n.shape[1],d=this.config.anchors.length,p=rt(function(){var z=n.reshape([f,f,d,ie.boxEncodingSize]),se=z.slice([0,0,0,0],[f,f,d,4]),L=z.slice([0,0,0,4],[f,f,d,1]),G=ie.withClassScores?Ps(z.slice([0,0,0,5],[f,f,d,ie.config.classes.length]),3):Ze(0);return[se,L,G]}),m=p[0],g=p[1],x=p[2],b=[],[4,g.array()];case 1:return w=he.sent(),[4,m.array()];case 2:E=he.sent(),S=0,he.label=3;case 3:if(!(S<f))return[3,12];A=0,he.label=4;case 4:if(!(A<f))return[3,11];T=0,he.label=5;case 5:return T<d?(R=Kb(w[S][A][T][0]),!a||R>a?(D=(A+Kb(E[S][A][T][0]))/f*u,P=(S+Kb(E[S][A][T][1]))/f*l,k=Math.exp(E[S][A][T][2])*this.config.anchors[T].x/f*u,I=Math.exp(E[S][A][T][3])*this.config.anchors[T].y/f*l,F=D-k/2,B=P-I/2,te={row:S,col:A,anchor:T},this.withClassScores?[4,this.extractPredictedClass(x,te)]:[3,7]):[3,9]):[3,10];case 6:return Z=he.sent(),[3,8];case 7:Z={classScore:1,label:0},he.label=8;case 8:ae=Z,V=ae.classScore,H=ae.label,b.push(Gr({box:new uy(F,B,F+k,B+I),score:R,classScore:R*V,label:H},te)),he.label=9;case 9:return T++,[3,5];case 10:return A++,[3,4];case 11:return S++,[3,3];case 12:return m.dispose(),g.dispose(),x.dispose(),[2,b]}})})},t.prototype.extractPredictedClass=function(n,r){return ft(this,void 0,void 0,function(){var a,i,o,s;return ht(this,function(u){switch(u.label){case 0:return a=r.row,i=r.col,o=r.anchor,[4,n.array()];case 1:return s=u.sent(),[2,Array(this.config.classes.length).fill(0).map(function(l,f){return s[a][i][o][f]}).map(function(l,f){return{classScore:l,label:f}}).reduce(function(l,f){return l.classScore>f.classScore?l:f})]}})})},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(Is),FZ=function(e){St(t,e);function t(n){n===void 0&&(n=!0);var r=this,a=Object.assign({},{withSeparableConvs:n,iouThreshold:TZ,classes:["face"]},n?{anchors:CZ,meanRgb:OZ}:{anchors:AZ,withClassScores:!0});return r=e.call(this,a)||this,r}return Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(n,r){return ft(this,void 0,void 0,function(){var a;return ht(this,function(i){switch(i.label){case 0:return[4,this.detect(n,r)];case 1:return a=i.sent(),[2,a.map(function(o){return new ri(o.score,o.relativeBox,{width:o.imageWidth,height:o.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?DZ:RZ},t.prototype.extractParamsFromWeigthMap=function(n){return e.prototype.extractParamsFromWeigthMap.call(this,n)},t}(RL),BZ=function(e){St(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._name="TinyFaceDetectorOptions",n}return t}(PS),Hp=function(){function e(){}return e.prototype.then=function(t){return ft(this,void 0,void 0,function(){var n;return ht(this,function(r){switch(r.label){case 0:return n=t,[4,this.run()];case 1:return[2,n.apply(void 0,[r.sent()])]}})})},e.prototype.run=function(){return ft(this,void 0,void 0,function(){return ht(this,function(t){throw new Error("ComposableTask - run is not implemented")})})},e}();function hy(e,t,n,r,a){return a===void 0&&(a=function(i){var o=i.alignedRect;return o}),ft(this,void 0,void 0,function(){var i,o,s,u,l;return ht(this,function(f){switch(f.label){case 0:return i=e.map(function(d){return DS(d)?a(d):d.detection}),s=r,s?[3,5]:t instanceof On?[4,AS(t,i)]:[3,2];case 1:return u=f.sent(),[3,4];case 2:return[4,TS(t,i)];case 3:u=f.sent(),f.label=4;case 4:s=u,f.label=5;case 5:return o=s,[4,n(o)];case 6:return l=f.sent(),o.forEach(function(d){return d instanceof On&&d.dispose()}),[2,l]}})})}function MS(e,t,n,r,a){return ft(this,void 0,void 0,function(){var i=this;return ht(this,function(o){return[2,hy([e],t,function(s){return ft(i,void 0,void 0,function(){return ht(this,function(u){return[2,n(s[0])]})})},r,a)]})})}function LZ(e){return rt(function(){return ti(or(e,3).reverse(),3)})}var Hv=2,Xm=12;function jZ(e,t){var n=cy(e,t),r=CS(e,t);function a(l,f){var d=Kn(e(l));return t.push({paramPath:f}),d}function i(l,f,d){d===void 0&&(d=!1);var p=n(l[0],l[1],3,f+"/conv1"),m=a(l[1],f+"/prelu1_alpha"),g=n(l[1],l[2],3,f+"/conv2"),x=a(l[2],f+"/prelu2_alpha"),b=n(l[2],l[3],d?2:3,f+"/conv3"),w=a(l[3],f+"/prelu3_alpha");return{conv1:p,prelu1_alpha:m,conv2:g,prelu2_alpha:x,conv3:b,prelu3_alpha:w}}function o(){var l=i([3,10,16,32],"pnet"),f=n(32,2,1,"pnet/conv4_1"),d=n(32,4,1,"pnet/conv4_2");return Gr(Gr({},l),{conv4_1:f,conv4_2:d})}function s(){var l=i([3,28,48,64],"rnet",!0),f=r(576,128,"rnet/fc1"),d=a(128,"rnet/prelu4_alpha"),p=r(128,2,"rnet/fc2_1"),m=r(128,4,"rnet/fc2_2");return Gr(Gr({},l),{fc1:f,prelu4_alpha:d,fc2_1:p,fc2_2:m})}function u(){var l=i([3,32,64,64],"onet"),f=n(64,128,2,"onet/conv4"),d=a(128,"onet/prelu4_alpha"),p=r(1152,256,"onet/fc1"),m=a(256,"onet/prelu5_alpha"),g=r(256,2,"onet/fc2_1"),x=r(256,4,"onet/fc2_2"),b=r(256,10,"onet/fc2_3");return Gr(Gr({},l),{conv4:f,prelu4_alpha:d,fc1:p,prelu5_alpha:m,fc2_1:g,fc2_2:x,fc2_3:b})}return{extractPNetParams:o,extractRNetParams:s,extractONetParams:u}}function UZ(e){var t=Bs(e),n=t.extractWeights,r=t.getRemainingWeights,a=[],i=jZ(n,a),o=i.extractPNetParams,s=i.extractRNetParams,u=i.extractONetParams,l=o(),f=s(),d=u();if(r().length!==0)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:l,rnet:f,onet:d},paramMappings:a}}function zZ(e,t){var n=Hu(e,t);function r(f){var d=n(f+"/weights",4,f+"/filters"),p=n(f+"/bias",1);return{filters:d,bias:p}}function a(f){var d=n(f+"/weights",2),p=n(f+"/bias",1);return{weights:d,bias:p}}function i(f){return n(f,1)}function o(f){var d=r(f+"/conv1"),p=i(f+"/prelu1_alpha"),m=r(f+"/conv2"),g=i(f+"/prelu2_alpha"),x=r(f+"/conv3"),b=i(f+"/prelu3_alpha");return{conv1:d,prelu1_alpha:p,conv2:m,prelu2_alpha:g,conv3:x,prelu3_alpha:b}}function s(){var f=o("pnet"),d=r("pnet/conv4_1"),p=r("pnet/conv4_2");return Gr(Gr({},f),{conv4_1:d,conv4_2:p})}function u(){var f=o("rnet"),d=a("rnet/fc1"),p=i("rnet/prelu4_alpha"),m=a("rnet/fc2_1"),g=a("rnet/fc2_2");return Gr(Gr({},f),{fc1:d,prelu4_alpha:p,fc2_1:m,fc2_2:g})}function l(){var f=o("onet"),d=r("onet/conv4"),p=i("onet/prelu4_alpha"),m=a("onet/fc1"),g=i("onet/prelu5_alpha"),x=a("onet/fc2_1"),b=a("onet/fc2_2"),w=a("onet/fc2_3");return Gr(Gr({},f),{conv4:d,prelu4_alpha:p,fc1:m,prelu5_alpha:g,fc2_1:x,fc2_2:b,fc2_3:w})}return{extractPNetParams:s,extractRNetParams:u,extractONetParams:l}}function WZ(e){var t=[],n=zZ(e,t),r=n.extractPNetParams,a=n.extractRNetParams,i=n.extractONetParams,o=r(),s=a(),u=i();return Fs(e,t),{params:{pnet:o,rnet:s,onet:u},paramMappings:t}}function __(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}function HZ(e,t,n){for(var r=n[0],a=n[1],i=Xm/e,o=[],s=Math.min(r,a)*i,u=0;s>=12;)o.push(i*Math.pow(t,u)),s=s*t,u+=1;return o}var IS=function(e){St(t,e);function t(n,r,a,i){return e.call(this,{left:n,top:r,right:a,bottom:i},!0)||this}return t}(Fo);function DL(e){return rt(function(){return Zr(ur(e,Ze(127.5)),Ze(.0078125))})}function Df(e,t){return rt(function(){return kt(Rn(e),Zr(t,Wm(Rn(Wm(e)))))})}function FS(e,t,n){return n===void 0&&(n=!1),rt(function(){var r=no(e,t.conv1,"valid");return r=Df(r,t.prelu1_alpha),r=yr(r,n?[2,2]:[3,3],[2,2],"same"),r=no(r,t.conv2,"valid"),r=Df(r,t.prelu2_alpha),r=n?r:yr(r,[3,3],[2,2],"valid"),r=no(r,t.conv3,"valid"),r=Df(r,t.prelu3_alpha),r})}function $Z(e,t){return rt(function(){var n=FS(e,t,!0),r=no(n,t.conv4_1,"valid"),a=Ai(ay(r,3),3),i=Ps(ur(r,a),3),o=no(n,t.conv4_2,"valid");return{prob:i,regions:o}})}function VZ(e,t){return rt(function(){var n=__(t,e.shape.slice(1)),r=n.height,a=n.width,i=hS.resizeBilinear(e,[r,a]),o=DL(i);return Mu(o,[0,2,1,3])})}function qZ(e,t,n,r){for(var a=[],i=e.arraySync(),o=0;o<e.shape[0];o++)for(var s=0;s<e.shape[1];s++)i[o][s]>=r&&a.push(new qt(s,o));var u=a.map(function(l){var f=new uy(Math.round((l.y*Hv+1)/n),Math.round((l.x*Hv+1)/n),Math.round((l.y*Hv+Xm)/n),Math.round((l.x*Hv+Xm)/n)),d=i[l.y][l.x],p=t.arraySync(),m=new IS(p[l.y][l.x][0],p[l.y][l.x][1],p[l.y][l.x][2],p[l.y][l.x][3]);return{cell:f,score:d,region:m}});return u}function GZ(e,t,n,r,a){a.stage1=[];var i=t.map(function(p){return rt(function(){var m={scale:p},g=VZ(e,p),x=Date.now(),b=$Z(g,r),w=b.prob,E=b.regions;m.pnet=Date.now()-x;var S=or(or(w,3)[1])[0],A=or(E)[0];return{scoresTensor:S,regionsTensor:A,scale:p,statsForScale:m}})}),o=i.map(function(p){var m=p.scoresTensor,g=p.regionsTensor,x=p.scale,b=p.statsForScale,w=qZ(m,g,x,n);if(m.dispose(),g.dispose(),!w.length)return a.stage1.push(b),[];var E=Date.now(),S=up(w.map(function(A){return A.cell}),w.map(function(A){return A.score}),.5);return b.nms=Date.now()-E,b.numBoxes=S.length,a.stage1.push(b),S.map(function(A){return w[A]})}),s=o.reduce(function(p,m){return p.concat(m)},[]),u=[],l=[];if(s.length>0){var f=Date.now(),d=up(s.map(function(p){return p.cell}),s.map(function(p){return p.score}),.7);a.stage1_nms=Date.now()-f,l=d.map(function(p){return s[p].score}),u=d.map(function(p){return s[p]}).map(function(p){var m=p.cell,g=p.region;return new uy(m.left+g.left*m.width,m.top+g.top*m.height,m.right+g.right*m.width,m.bottom+g.bottom*m.height).toSquare().round()})}return{boxes:u,scores:l}}function NL(e,t,n){var r=n.width,a=n.height;return ft(this,void 0,void 0,function(){var i,o,s,u=this;return ht(this,function(l){switch(l.label){case 0:return i=Bo(e),[4,Promise.all(t.map(function(f){return ft(u,void 0,void 0,function(){var d,p,m,g,x,b,w,E;return ht(this,function(S){return d=f.padAtBorders(e.height,e.width),p=d.y,m=d.ey,g=d.x,x=d.ex,b=g-1,w=p-1,E=i.getImageData(b,w,x-b,m-w),[2,na.isNodejs()?SS(E):createImageBitmap(E)]})})}))];case 1:return o=l.sent(),s=[],o.forEach(function(f){var d=ly({width:r,height:a}),p=Bo(d);p.drawImage(f,0,0,r,a);for(var m=p.getImageData(0,0,r,a).data,g=[],x=0;x<m.length;x+=4)g.push(m[x+2]),g.push(m[x+1]),g.push(m[x]);s.push(g)}),[2,s.map(function(f){var d=rt(function(){var p=Mu(ya(f,[1,r,a,3]),[0,2,1,3]).toFloat();return DL(p)});return d})]}})})}function KZ(e,t){return rt(function(){var n=FS(e,t),r=eo(n,[n.shape[0],t.fc1.weights.shape[0]]),a=Ro(r,t.fc1),i=Df(a,t.prelu4_alpha),o=Ro(i,t.fc2_1),s=Ai(ay(o,1),1),u=Ps(ur(o,s),1),l=Ro(i,t.fc2_2),f=or(u,1)[1];return{scores:f,regions:l}})}function XZ(e,t,n,r,a){return ft(this,void 0,void 0,function(){var i,o,s,u,l,f,d,p,m,g,x,b,w,E;return ht(this,function(S){switch(S.label){case 0:return i=Date.now(),[4,NL(e,t,{width:24,height:24})];case 1:return o=S.sent(),a.stage2_extractImagePatches=Date.now()-i,i=Date.now(),s=o.map(function(A){var T=KZ(A,r);return A.dispose(),T}),a.stage2_rnet=Date.now()-i,u=s.length>1?ir(s.map(function(A){return A.scores})):s[0].scores,d=(f=Array).from,[4,u.data()];case 2:return l=d.apply(f,[S.sent()]),u.dispose(),p=l.map(function(A,T){return{score:A,idx:T}}).filter(function(A){return A.score>n}).map(function(A){var T=A.idx;return T}),m=p.map(function(A){return t[A]}),g=p.map(function(A){return l[A]}),x=[],b=[],m.length>0&&(i=Date.now(),w=up(m,g,.7),a.stage2_nms=Date.now()-i,E=w.map(function(A){var T=s[p[A]].regions.arraySync();return new IS(T[0][0],T[0][1],T[0][2],T[0][3])}),b=w.map(function(A){return g[A]}),x=w.map(function(A,T){return m[A].calibrate(E[T])})),s.forEach(function(A){A.regions.dispose(),A.scores.dispose()}),[2,{boxes:x,scores:b}]}})})}function YZ(e,t){return rt(function(){var n=FS(e,t);n=yr(n,[2,2],[2,2],"same"),n=no(n,t.conv4,"valid"),n=Df(n,t.prelu4_alpha);var r=eo(n,[n.shape[0],t.fc1.weights.shape[0]]),a=Ro(r,t.fc1),i=Df(a,t.prelu5_alpha),o=Ro(i,t.fc2_1),s=Ai(ay(o,1),1),u=Ps(ur(o,s),1),l=Ro(i,t.fc2_2),f=Ro(i,t.fc2_3),d=or(u,1)[1];return{scores:d,regions:l,points:f}})}function QZ(e,t,n,r,a){return ft(this,void 0,void 0,function(){var i,o,s,u,l,f,d,p,m,g,x,b,w,E,S;return ht(this,function(A){switch(A.label){case 0:return i=Date.now(),[4,NL(e,t,{width:48,height:48})];case 1:return o=A.sent(),a.stage3_extractImagePatches=Date.now()-i,i=Date.now(),s=o.map(function(T){var R=YZ(T,r);return T.dispose(),R}),a.stage3_onet=Date.now()-i,u=s.length>1?ir(s.map(function(T){return T.scores})):s[0].scores,d=(f=Array).from,[4,u.data()];case 2:return l=d.apply(f,[A.sent()]),u.dispose(),p=l.map(function(T,R){return{score:T,idx:R}}).filter(function(T){return T.score>n}).map(function(T){var R=T.idx;return R}),m=p.map(function(T){var R=s[T].regions.arraySync();return new IS(R[0][0],R[0][1],R[0][2],R[0][3])}),g=p.map(function(T,R){return t[T].calibrate(m[R])}),x=p.map(function(T){return l[T]}),b=[],w=[],E=[],g.length>0&&(i=Date.now(),S=up(g,x,.7,!1),a.stage3_nms=Date.now()-i,b=S.map(function(T){return g[T]}),w=S.map(function(T){return x[T]}),E=S.map(function(T,R){return Array(5).fill(0).map(function(D,P){var k=s[T].points.arraySync();return new qt(k[0][P]*(b[R].width+1)+b[R].left,k[0][P+5]*(b[R].height+1)+b[R].top)})})),s.forEach(function(T){T.regions.dispose(),T.scores.dispose(),T.points.dispose()}),[2,{boxes:b,scores:w,points:E}]}})})}var ZZ=function(e){St(t,e);function t(){return e.call(this,"Mtcnn")||this}return t.prototype.load=function(n){return ft(this,void 0,void 0,function(){return ht(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,n)]})})},t.prototype.loadFromDisk=function(n){return ft(this,void 0,void 0,function(){return ht(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,n)]})})},t.prototype.forwardInput=function(n,r){return r===void 0&&(r={}),ft(this,void 0,void 0,function(){var a,i,o,s,u,l,f,d,p,m,g,x,b,w,E,S,A,T,R,D,P;return ht(this,function(k){switch(k.label){case 0:if(a=this.params,!a)throw new Error("Mtcnn - load model before inference");if(i=n.canvases[0],!i)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return o={},s=Date.now(),u=rt(function(){return LZ(Ai(yS.fromPixels(i)).toFloat())}),l=function(I){return u.dispose(),o.total=Date.now()-s,I},f=u.shape.slice(1),d=f[0],p=f[1],m=new CL(r),g=m.minFaceSize,x=m.scaleFactor,b=m.maxNumScales,w=m.scoreThresholds,E=m.scaleSteps,S=(E||HZ(g,x,[d,p])).filter(function(I){var F=__(I,[d,p]);return Math.min(F.width,F.height)>Xm}).slice(0,b),o.scales=S,o.pyramid=S.map(function(I){return __(I,[d,p])}),A=Date.now(),[4,GZ(u,S,w[0],a.pnet,o)];case 1:return T=k.sent(),o.total_stage1=Date.now()-A,T.boxes.length?(o.stage2_numInputBoxes=T.boxes.length,A=Date.now(),[4,XZ(i,T.boxes,w[1],a.rnet,o)]):[2,l({results:[],stats:o})];case 2:return R=k.sent(),o.total_stage2=Date.now()-A,R.boxes.length?(o.stage3_numInputBoxes=R.boxes.length,A=Date.now(),[4,QZ(i,R.boxes,w[2],a.onet,o)]):[2,l({results:[],stats:o})];case 3:return D=k.sent(),o.total_stage3=Date.now()-A,P=D.boxes.map(function(I,F){return fy(lp({},new ri(D.scores[F],new bS(I.left/p,I.top/d,I.width/p,I.height/d),{height:d,width:p})),new TQ(D.points[F].map(function(B){return B.sub(new qt(I.left,I.top)).div(new qt(I.width,I.height))}),{width:I.width,height:I.height}))}),[2,l({results:P,stats:o})]}})})},t.prototype.forward=function(n,r){return r===void 0&&(r={}),ft(this,void 0,void 0,function(){var a;return ht(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,Sr(n)];case 1:return[4,a.apply(this,[i.sent(),r])];case 2:return[2,i.sent().results]}})})},t.prototype.forwardWithStats=function(n,r){return r===void 0&&(r={}),ft(this,void 0,void 0,function(){var a;return ht(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,Sr(n)];case 1:return[2,a.apply(this,[i.sent(),r])]}})})},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(n){return WZ(n)},t.prototype.extractParams=function(n){return UZ(n)},t}(Is),JZ=.4,eJ=[new qt(1.603231,2.094468),new qt(6.041143,7.080126),new qt(2.882459,3.518061),new qt(4.266906,5.178857),new qt(9.041765,10.66308)],tJ=[117.001,114.697,97.404],nJ=function(e){St(t,e);function t(){var n=this,r={withSeparableConvs:!0,iouThreshold:JZ,classes:["face"],anchors:eJ,meanRgb:tJ,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return n=e.call(this,r)||this,n}return Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(n,r){return ft(this,void 0,void 0,function(){var a;return ht(this,function(i){switch(i.label){case 0:return[4,this.detect(n,r)];case 1:return a=i.sent(),[2,a.map(function(o){return new ri(o.score,o.relativeBox,{width:o.imageWidth,height:o.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(n){return e.prototype.extractParamsFromWeigthMap.call(this,n)},t}(RL),Jr={ssdMobilenetv1:new OL,tinyFaceDetector:new nJ,tinyYolov2:new FZ,mtcnn:new ZZ,faceLandmark68Net:new wL,faceLandmark68TinyNet:new rZ,faceRecognitionNet:new cZ,faceExpressionNet:new WQ,ageGenderNet:new JQ},kL=function(e){St(t,e);function t(n,r,a){var i=e.call(this)||this;return i.parentTask=n,i.input=r,i.extractedFaces=a,i}return t}(Hp),BS=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ft(this,void 0,void 0,function(){var n,r,a=this;return ht(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return n=i.sent(),[4,hy(n,this.input,function(o){return ft(a,void 0,void 0,function(){return ht(this,function(s){switch(s.label){case 0:return[4,Promise.all(o.map(function(u){return Jr.faceExpressionNet.predictExpressions(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=i.sent(),[2,n.map(function(o,s){return gL(o,r[s])})]}})})},t.prototype.withAgeAndGender=function(){return new zS(this,this.input)},t}(kL),LS=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ft(this,void 0,void 0,function(){var n,r;return ht(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),n?[4,MS(n,this.input,function(i){return Jr.faceExpressionNet.predictExpressions(i)},this.extractedFaces)]:[2];case 2:return r=a.sent(),[2,gL(n,r)]}})})},t.prototype.withAgeAndGender=function(){return new WS(this,this.input)},t}(kL),jS=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new HS(this,this.input)},t.prototype.withFaceDescriptors=function(){return new VS(this,this.input)},t}(BS),US=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new $S(this,this.input)},t.prototype.withFaceDescriptor=function(){return new qS(this,this.input)},t}(LS),PL=function(e){St(t,e);function t(n,r,a){var i=e.call(this)||this;return i.parentTask=n,i.input=r,i.extractedFaces=a,i}return t}(Hp),zS=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ft(this,void 0,void 0,function(){var n,r,a=this;return ht(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return n=i.sent(),[4,hy(n,this.input,function(o){return ft(a,void 0,void 0,function(){return ht(this,function(s){switch(s.label){case 0:return[4,Promise.all(o.map(function(u){return Jr.ageGenderNet.predictAgeAndGender(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=i.sent(),[2,n.map(function(o,s){var u=r[s],l=u.age,f=u.gender,d=u.genderProbability;return TL(AL(o,f,d),l)})]}})})},t.prototype.withFaceExpressions=function(){return new BS(this,this.input)},t}(PL),WS=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ft(this,void 0,void 0,function(){var n,r,a,i,o;return ht(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return n=s.sent(),n?[4,MS(n,this.input,function(u){return Jr.ageGenderNet.predictAgeAndGender(u)},this.extractedFaces)]:[2];case 2:return r=s.sent(),a=r.age,i=r.gender,o=r.genderProbability,[2,TL(AL(n,i,o),a)]}})})},t.prototype.withFaceExpressions=function(){return new LS(this,this.input)},t}(PL),HS=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new jS(this,this.input)},t.prototype.withFaceDescriptors=function(){return new VS(this,this.input)},t}(zS),$S=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new US(this,this.input)},t.prototype.withFaceDescriptor=function(){return new qS(this,this.input)},t}(WS),ML=function(e){St(t,e);function t(n,r){var a=e.call(this)||this;return a.parentTask=n,a.input=r,a}return t}(Hp),VS=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ft(this,void 0,void 0,function(){var n,r;return ht(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),[4,hy(n,this.input,function(i){return Promise.all(i.map(function(o){return Jr.faceRecognitionNet.computeFaceDescriptor(o)}))},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return r=a.sent(),[2,r.map(function(i,o){return SL(n[o],i)})]}})})},t.prototype.withFaceExpressions=function(){return new jS(this,this.input)},t.prototype.withAgeAndGender=function(){return new HS(this,this.input)},t}(ML),qS=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ft(this,void 0,void 0,function(){var n,r;return ht(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),n?[4,MS(n,this.input,function(i){return Jr.faceRecognitionNet.computeFaceDescriptor(i)},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=a.sent(),[2,SL(n,r)]}})})},t.prototype.withFaceExpressions=function(){return new US(this,this.input)},t.prototype.withAgeAndGender=function(){return new $S(this,this.input)},t}(ML),IL=function(e){St(t,e);function t(n,r,a){var i=e.call(this)||this;return i.parentTask=n,i.input=r,i.useTinyLandmarkNet=a,i}return Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Jr.faceLandmark68TinyNet:Jr.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(Hp),rJ=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ft(this,void 0,void 0,function(){var n,r,a,i,o,s=this;return ht(this,function(u){switch(u.label){case 0:return[4,this.parentTask];case 1:return n=u.sent(),r=n.map(function(l){return l.detection}),this.input instanceof On?[4,AS(this.input,r)]:[3,3];case 2:return i=u.sent(),[3,5];case 3:return[4,TS(this.input,r)];case 4:i=u.sent(),u.label=5;case 5:return a=i,[4,Promise.all(a.map(function(l){return s.landmarkNet.detectLandmarks(l)}))];case 6:return o=u.sent(),a.forEach(function(l){return l instanceof On&&l.dispose()}),[2,n.map(function(l,f){return fy(l,o[f])})]}})})},t.prototype.withFaceExpressions=function(){return new jS(this,this.input)},t.prototype.withAgeAndGender=function(){return new HS(this,this.input)},t.prototype.withFaceDescriptors=function(){return new VS(this,this.input)},t}(IL),aJ=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ft(this,void 0,void 0,function(){var n,r,a,i,o;return ht(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return n=s.sent(),n?(r=n.detection,this.input instanceof On?[4,AS(this.input,[r])]:[3,3]):[2];case 2:return i=s.sent(),[3,5];case 3:return[4,TS(this.input,[r])];case 4:i=s.sent(),s.label=5;case 5:return a=i,[4,this.landmarkNet.detectLandmarks(a[0])];case 6:return o=s.sent(),a.forEach(function(u){return u instanceof On&&u.dispose()}),[2,fy(n,o)]}})})},t.prototype.withFaceExpressions=function(){return new US(this,this.input)},t.prototype.withAgeAndGender=function(){return new $S(this,this.input)},t.prototype.withFaceDescriptor=function(){return new qS(this,this.input)},t}(IL),FL=function(e){St(t,e);function t(n,r){r===void 0&&(r=new oh);var a=e.call(this)||this;return a.input=n,a.options=r,a}return t}(Hp),BL=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ft(this,void 0,void 0,function(){var n,r,a,i;return ht(this,function(o){switch(o.label){case 0:return n=this,r=n.input,a=n.options,a instanceof CL?[4,Jr.mtcnn.forward(r,a)]:[3,2];case 1:return[2,o.sent().map(function(s){return s.detection})];case 2:if(i=a instanceof BZ?function(s){return Jr.tinyFaceDetector.locateFaces(s,a)}:a instanceof oh?function(s){return Jr.ssdMobilenetv1.locateFaces(s,a)}:a instanceof PS?function(s){return Jr.tinyYolov2.locateFaces(s,a)}:null,!i)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,i(r)]}})})},t.prototype.runAndExtendWithFaceDetections=function(){var n=this;return new Promise(function(r){return ft(n,void 0,void 0,function(){var a;return ht(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return a=i.sent(),[2,r(a.map(function(o){return lp({},o)}))]}})})})},t.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new rJ(this.runAndExtendWithFaceDetections(),this.input,n)},t.prototype.withFaceExpressions=function(){return new BS(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new zS(this.runAndExtendWithFaceDetections(),this.input)},t}(FL);(function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ft(this,void 0,void 0,function(){var n,r;return ht(this,function(a){switch(a.label){case 0:return[4,new BL(this.input,this.options)];case 1:return n=a.sent(),r=n[0],n.forEach(function(i){i.score>r.score&&(r=i)}),[2,r]}})})},t.prototype.runAndExtendWithFaceDetection=function(){var n=this;return new Promise(function(r){return ft(n,void 0,void 0,function(){var a;return ht(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return a=i.sent(),[2,r(a?lp({},a):void 0)]}})})})},t.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new aJ(this.runAndExtendWithFaceDetection(),this.input,n)},t.prototype.withFaceExpressions=function(){return new LS(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new WS(this.runAndExtendWithFaceDetection(),this.input)},t})(FL);function LL(e,t){return t===void 0&&(t=new oh),new BL(e,t)}function iJ(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map(function(a,i){return a-r[i]}).reduce(function(a,i){return a+Math.pow(i,2)},0))}(function(){function e(t,n){n===void 0&&(n=.6),this._distanceThreshold=n;var r=Array.isArray(t)?t:[t];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var a=1,i=function(){return"person "+a++};this._labeledDescriptors=r.map(function(o){if(o instanceof jv)return o;if(o instanceof Float32Array)return new jv(i(),[o]);if(o.descriptor&&o.descriptor instanceof Float32Array)return new jv(i(),[o.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(t,n){return n.map(function(r){return iJ(r,t)}).reduce(function(r,a){return r+a},0)/(n.length||1)},e.prototype.matchDescriptor=function(t){var n=this;return this.labeledDescriptors.map(function(r){var a=r.descriptors,i=r.label;return new vD(i,n.computeMeanDistance(t,a))}).reduce(function(r,a){return r.distance<a.distance?r:a})},e.prototype.findBestMatch=function(t){var n=this.matchDescriptor(t);return n.distance<this.distanceThreshold?n:new vD("unknown",n.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(t){return t.toJSON()})}},e.fromJSON=function(t){var n=t.labeledDescriptors.map(function(r){return jv.fromJSON(r)});return new e(n,t.distanceThreshold)},e})();function GS(e,t){var n=new kl(t.width,t.height),r=n.width,a=n.height;if(r<=0||a<=0)throw new Error("resizeResults - invalid dimensions: "+JSON.stringify({width:r,height:a}));if(Array.isArray(e))return e.map(function(s){return GS(s,{width:r,height:a})});if(DS(e)){var i=e.detection.forSize(r,a),o=e.unshiftedLandmarks.forSize(i.box.width,i.box.height);return fy(lp(e,i),o)}return qm(e)?lp(e,e.detection.forSize(r,a)):e instanceof zf||e instanceof ri?e.forSize(r,a):e}function bD(){const[e,t]=N.useState([]),[n,r]=N.useState(0),[a,i]=N.useState([]),[o,s]=N.useState(""),[u,l]=N.useState("python"),[f,d]=N.useState(""),[p,m]=N.useState(!1),[g,x]=N.useState(!1),[b,w]=N.useState([]),[E,S]=N.useState(0),[A,T]=N.useState([]),[R,D]=N.useState(Date.now()),[P,k]=N.useState(!1),[I,F]=N.useState(!1),[B,te]=N.useState(!1),ae=N.useRef(),V=N.useRef(),H=N.useRef(0),[Z,ie]=N.useState(100),[he,z]=N.useState(100),[se,L]=N.useState(100),G=N.useRef(!1),[X,Y]=N.useState(null);N.useEffect(()=>{fetch("https://marqueebackend.onrender.com/admin/codingquestions").then(ze=>ze.json()).then(ze=>t(ze[0].Coding))},[]),N.useEffect(()=>{const ze=()=>{const dt=document.documentElement;dt.requestFullscreen?dt.requestFullscreen():dt.webkitRequestFullscreen?dt.webkitRequestFullscreen():dt.mozRequestFullScreen?dt.mozRequestFullScreen():dt.msRequestFullscreen&&dt.msRequestFullscreen(),document.removeEventListener("click",ze)};return document.addEventListener("click",ze),()=>document.removeEventListener("click",ze)},[]);const ce=async ze=>{if(G.current||g)return;G.current=!0,k(!0);const dt=localStorage.getItem("token"),ge={title:e[n].question,language:u,expected_output:e[n].expectedOutput,success:!1,malpractice:!0,malpractice_type:[...new Set([...b,ze])],timeTaken:Math.floor((Date.now()-R)/1e3)},Be=[...A];Be[n]=ge,await fetch("https://marqueebackend.onrender.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:dt,results:Be,totalMarks:Be.filter(qe=>qe?.success).length,test_type:"Coding",malpractice:ze})}),x(!0),setTimeout(()=>{localStorage.removeItem("token"),window.location.href="/login"},3e3)};N.useEffect(()=>{let ze=setInterval(()=>S(dt=>dt+1),1e3);return()=>clearInterval(ze)},[]),N.useEffect(()=>{(async()=>{const dt="/models";await Jr.ssdMobilenetv1.loadFromUri(dt),await Jr.faceLandmark68TinyNet.loadFromUri(dt),le()})()},[]);const Pe=ze=>{i(dt=>ze.includes("")?[ze]:dt.includes(ze)?dt:[...dt,ze])};N.useEffect(()=>{let ze;const dt=()=>{const ge=window.SpeechRecognition||window.webkitSpeechRecognition;if(!ge){console.warn("Speech recognition not supported");return}ze=new ge,ze.continuous=!0,ze.interimResults=!0,ze.lang="en-IN",ze.onresult=Be=>{let qe="";for(let Qe=Be.resultIndex;Qe<Be.results.length;Qe++)qe+=Be.results[Qe][0].transcript.toLowerCase();console.log("Transcript:",qe),qe.match(/\b(program|code|input|output|print)\b/)&&Pe(" Programming terms spoken! Don't Speak")},ze.onerror=Be=>console.error("Speech error:",Be.error),ze.onend=()=>ze.start(),ze.start()};return document.addEventListener("click",dt,{once:!0}),()=>{ze&&ze.stop()}},[]),N.useEffect(()=>{const ze=async ge=>{ge.preventDefault(),!g&&(m(!0),w(Be=>[...new Set([...Be,"Copy"])]),await ce("Copy"))},dt=async ge=>{g||(m(!0),w(Be=>[...new Set([...Be,"Tab Switch"])]),await ce("Tab Switch"))};return document.addEventListener("copy",ze),window.addEventListener("blur",dt),()=>{document.removeEventListener("copy",ze),window.removeEventListener("blur",dt)}}),N.useEffect(()=>{const ze=setInterval(()=>{$e()},500);return()=>clearInterval(ze)},[Z,he,se]);const le=()=>{navigator.mediaDevices.getUserMedia({video:{width:470,height:340}}).then(ze=>{ae.current.srcObject=ze,Y(!1)}).catch(ze=>{console.error("Webcam error:",ze),Y("Camera access denied or not available. Please enable it to continue the test.")})},oe=async()=>{g||(m(!0),w(ze=>[...new Set([...ze,"Multiple Faces Detected"])]),await ce("MultiFace Detected"))},ye=async()=>{g||(m(!0),w(ze=>[...new Set([...ze,"SideView Copy"])]),await ce("SideView Copy"))},Oe=async()=>{g||(m(!0),w(ze=>[...new Set([...ze,"Camera Off"])]),await ce("Camera Off"))},ve=async()=>{g||(m(!0),w(ze=>[...new Set([...ze,"Talking With Others"])]),await ce("Talking"))},Ye=ze=>{const dt=ze.getNose()[3],ge=ze.getLeftEye(),Be=ze.getRightEye();if(!ge.length||!Be.length)return 0;const qe=(ge[0].x+ge[3].x)/2,Qe=(Be[0].x+Be[3].x)/2,ut=(qe+Qe)/2;let wt=100-Math.abs(dt.x-ut);return Math.max(0,Math.min(100,Math.round(wt)))},$e=async()=>{if(!ae.current||ae.current.readyState!==4||!ae.current.videoWidth){Y(!0);return}Y(!1);const ze=await LL(ae.current,new oh).withFaceLandmarks(!0);if(V.current.getContext("2d").clearRect(0,0,V.current.width,V.current.height),ze.length===0)H.current+=1,H.current>=3&&(he<10?(Oe(),Pe(" You are not present!")):he<40&&Pe(" Stay present!"),ie(0),z(qe=>qe-2));else if(H.current=0,ze.length>1)ie(0),Pe(" Multiple Faces detected"),oe();else{const Qe=ze[0].landmarks,ut=Ye(Qe);ie(ut),ut<=87&&z(he-3);const pt=Qe.getMouth(),wt=pt[13],Ht=pt[19];Math.abs(wt.y-Ht.y)>8.5&&L(fo=>Math.max(0,fo-2)),he<10?(Pe(" You are not present!"),ye()):he<40&&Pe(" Stay present!"),se<10?(Pe(" You are talking excessively!"),ve()):se<40&&Pe(" You are talking a bit much!"),ut<=10?Pe(" You are not focusing!"):ut<=40&&Pe(" Please stay focused")}const ge=lL(V.current,ae.current),Be=GS(ze,ge);oL(V.current,Be),yL(V.current,Be)},nt=ze=>ze>70?"#4ade80":ze>40?"#fbbf24":"#f87171",et=async()=>{const ze=Date.now(),dt=e[n],Be=await(await fetch("https://marqueebackend.onrender.com/compile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:o,language:u,expected_output:dt.expectedOutput})})).json();console.log(Be),Be.error==""?d(Be.success?" "+Be.output:" "+Be.output):d(Be.success?" "+Be.output:" "+Be.error);const qe=Math.floor((ze-R)/1e3),Qe={title:e[n].question,code:o,language:u,expected_output:e[n].expectedOutput,output:Be.output,success:Be.success,malpractice:p,malpractice_type:b,timeTaken:qe},ut=[...A];ut[n]=Qe,T(ut),D(Date.now())},He=ze=>{const dt=Math.floor(ze/60),ge=ze%60;return`${dt.toString().padStart(2,"0")}:${ge.toString().padStart(2,"0")}`},Ft=ze=>{r(ze),d(""),s("")},jt=async()=>{const ze=localStorage.getItem("token");await fetch("https://marqueebackend.onrender.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:ze,results:A,totalMarks:A.filter(dt=>dt?.success).length,test_type:"Coding",malpractice:!1})}),F(!0),x(!0),setTimeout(()=>{localStorage.removeItem("token"),window.location.href="/login"},4e3)};return O.jsxs("div",{className:"test-container",children:[O.jsxs("div",{className:"header-bar",children:[O.jsxs("div",{className:"time-display",children:[O.jsx("i",{className:"bi bi-clock"})," ",He(E)]}),p&&O.jsxs("div",{className:"malpractice-alert",children:[O.jsx("i",{className:"bi bi-exclamation-triangle"})," Malpractice Detected"]})]}),O.jsx("div",{className:"main-content",children:e.length>0?O.jsxs("div",{className:"row g-4",children:[O.jsx("div",{className:"col-md-5",children:O.jsxs("div",{className:"question-card glass-card",children:[O.jsxs("h3",{className:"question-title",children:["Question ",n+1," of ",e.length]}),O.jsx("div",{className:"txt",children:e[n].question}),O.jsxs("div",{className:"output-container",children:[O.jsx("h5",{children:"Output:"}),O.jsx("pre",{className:`output ${f.includes("")?"success":f.includes("")?"error":""}`,children:f||"Your output will appear here..."})]})]})}),O.jsx("div",{className:"col-md-7",children:O.jsxs("div",{className:"code-editor-container glass-card",children:[O.jsxs("div",{className:"editor-header",children:[O.jsxs("select",{className:"form-select language-select",value:u,onChange:ze=>l(ze.target.value),children:[O.jsx("option",{value:"python",children:"Python"}),O.jsx("option",{value:"javascript",children:"JavaScript"}),O.jsx("option",{value:"java",children:"Java"}),O.jsx("option",{value:"c",children:"C"})]}),O.jsxs("button",{className:"btn btn-primary compile-btn",onClick:et,children:[O.jsx("i",{className:"bi bi-play-fill"})," Run Code"]})]}),O.jsx("textarea",{className:"code-editor",value:o,onChange:ze=>s(ze.target.value),placeholder:`Write your ${u} code here...`})]})}),O.jsx("div",{className:"facescan",children:O.jsxs("div",{style:{maxWidth:"90vw",height:"45vh",margin:"0.5rem auto",padding:"1rem",borderRadius:"16px",background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"10px 10px 20px #d9d9d9, -10px -10px 20px #ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[O.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",flexShrink:0},children:O.jsx("div",{children:O.jsx("h1",{style:{margin:0,fontSize:"1.2rem",fontWeight:"700",background:"linear-gradient(90deg, #3b82f6, #8b5cf6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Face & Speech Analyzer"})})}),a.length>0&&O.jsx("div",{style:{padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"8px",background:a.some(ze=>ze.includes(""))?"linear-gradient(145deg, #fee2e2, #fecaca)":"linear-gradient(145deg, #fef9c3, #fef08a)",boxShadow:"inset 2px 2px 4px rgba(0,0,0,0.1)",borderLeft:a.some(ze=>ze.includes(""))?"3px solid #ef4444":"3px solid #f59e0b",flexShrink:0},children:O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.3rem"},children:[O.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",background:a.some(ze=>ze.includes(""))?"#ef4444":"#f59e0b",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:O.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),O.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),O.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),O.jsx("p",{style:{margin:0,fontSize:"0.75rem",fontWeight:"600",color:a.some(ze=>ze.includes(""))?"#b91c1c":"#92400e"},children:a.join("  ")})]})}),O.jsxs("div",{style:{display:"flex",gap:"1rem",flexGrow:1,overflow:"hidden"},children:[O.jsxs("div",{style:{flex:1,position:"relative",borderRadius:"12px",overflow:"hidden",boxShadow:"6px 6px 12px #d9d9d9, -6px -6px 12px #ffffff",height:"100%"},children:[O.jsx("video",{ref:ae,autoPlay:!0,muted:!0,style:{display:"block",width:"470px",height:"340px",objectFit:"cover",borderRadius:"12px"}}),O.jsx("canvas",{ref:V,style:{position:"absolute",top:0,left:0,width:"470px",height:"340px",borderRadius:"12px"}}),O.jsx("div",{style:{position:"absolute",bottom:"0.5rem",left:"0.5rem",background:"rgba(0,0,0,0.6)",color:"white",padding:"0.2rem 0.5rem",borderRadius:"4px",fontSize:"0.6rem",fontWeight:"500"},children:"Live Analysis"})]}),O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem"},children:[O.jsxs("div",{style:{padding:"0.5rem",borderRadius:"12px",background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"4px 4px 8px #d9d9d9, -4px -4px 8px #ffffff",textAlign:"center",minWidth:"80px"},children:[O.jsx("p",{style:{margin:"0 0 0.2rem",fontSize:"1rem",color:"#64748b",fontWeight:"500"},children:"Presence"}),O.jsxs("h3",{style:{margin:0,fontSize:"1.2rem",color:nt(he),fontWeight:"700"},children:[he,"%"]})]}),O.jsxs("div",{style:{padding:"0.5rem",borderRadius:"12px",background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"4px 4px 8px #d9d9d9, -4px -4px 8px #ffffff",textAlign:"center",minWidth:"80px"},children:[O.jsx("p",{style:{margin:"0 0 0.2rem",fontSize:"1rem",color:"#64748b",fontWeight:"500"},children:"Attention"}),O.jsxs("h3",{style:{margin:0,fontSize:"1.2rem",color:nt(Z),fontWeight:"700"},children:[Z,"%"]})]}),O.jsxs("div",{style:{padding:"0.5rem",borderRadius:"12px",background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"4px 4px 8px #d9d9d9, -4px -4px 8px #ffffff",textAlign:"center",minWidth:"80px"},children:[O.jsx("p",{style:{margin:"0 0 0.2rem",fontSize:"1rem",color:"#64748b",fontWeight:"500"},children:"Speech"}),O.jsxs("h3",{style:{margin:0,fontSize:"1.2rem",color:nt(se),fontWeight:"700"},children:[se,"%"]})]})]}),O.jsxs("div",{style:{width:"200px",padding:"0.8rem",borderRadius:"12px",background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"4px 4px 8px #d9d9d9, -4px -4px 8px #ffffff",display:"flex",flexDirection:"column",gap:"0.6rem",overflowY:"auto"},children:[O.jsx("h3",{style:{margin:"0 0 0.3rem",fontSize:"1rem",color:"#334155",fontWeight:"600"},children:"Metrics"}),O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.3rem"},children:[O.jsx("span",{style:{fontSize:"0.75rem",color:"#64748b"},children:"Attention"}),O.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:nt(Z)},children:[Z,"%"]})]}),O.jsx("div",{style:{height:"6px",borderRadius:"3px",background:"#e2e8f0",overflow:"hidden"},children:O.jsx("div",{style:{width:`${Z}%`,height:"100%",background:`linear-gradient(90deg, ${nt(Z)}, ${nt(Z)}80)`,borderRadius:"3px",transition:"width 0.3s ease"}})})]}),O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.3rem"},children:[O.jsx("span",{style:{fontSize:"0.75rem",color:"#64748b"},children:"Presence"}),O.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:nt(he)},children:[he,"%"]})]}),O.jsx("div",{style:{height:"6px",borderRadius:"3px",background:"#e2e8f0",overflow:"hidden"},children:O.jsx("div",{style:{width:`${he}%`,height:"100%",background:`linear-gradient(90deg, ${nt(he)}, ${nt(he)}80)`,borderRadius:"3px",transition:"width 0.3s ease"}})})]}),O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.3rem"},children:[O.jsx("span",{style:{fontSize:"0.75rem",color:"#64748b"},children:"Verbal"}),O.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:nt(se)},children:[se,"%"]})]}),O.jsx("div",{style:{height:"6px",borderRadius:"3px",background:"#e2e8f0",overflow:"hidden"},children:O.jsx("div",{style:{width:`${se}%`,height:"100%",background:`linear-gradient(90deg, ${nt(se)}, ${nt(se)}80)`,borderRadius:"3px",transition:"width 0.3s ease"}})})]})]}),O.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.6rem",borderRadius:"8px",background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"4px 4px 8px #d9d9d9, -4px -4px 8px #ffffff"},children:[O.jsx("h4",{style:{margin:"0 0 0.3rem",fontSize:"1rem",color:"#334155",fontWeight:"600"},children:"Guidelines"}),O.jsxs("ul",{style:{margin:0,paddingLeft:"1rem",fontSize:"0.75rem",color:"#64748b",lineHeight:"1.4"},children:[O.jsx("li",{children:"Maintain eye contact"}),O.jsx("li",{children:"Single person visible"}),O.jsx("li",{children:"Minimize talking"}),O.jsx("li",{children:"Good lighting"})]})]})]})]})})]}):O.jsxs("div",{className:"loading-placeholder",children:[O.jsx("div",{className:"spinner-border text-primary",role:"status",children:O.jsx("span",{className:"visually-hidden",children:"Loading..."})}),O.jsx("p",{children:"Loading questions..."})]})}),O.jsxs("div",{className:"navigation-footer",children:[O.jsxs("button",{className:"btn btn-outline-primary",disabled:n===0,onClick:()=>Ft(n-1),children:[O.jsx("i",{className:"bi bi-arrow-left"})," Previous"]}),O.jsxs("button",{className:"btn btn-success",onClick:jt,children:[O.jsx("i",{className:"bi bi-check-circle"})," Finish Exam"]}),O.jsxs("button",{className:"btn btn-outline-primary",disabled:n===e.length-1,onClick:()=>Ft(n+1),children:["Next ",O.jsx("i",{className:"bi bi-arrow-right"})]})]}),P&&O.jsx("div",{className:"malpractice-modal visible",children:O.jsxs("div",{className:"modal-content animate__animated animate__headShake",children:[O.jsx("div",{className:"modal-icon",children:O.jsx("i",{className:"bi bi-exclamation-octagon"})}),O.jsx("h3",{children:"Malpractice Detected!"}),O.jsx("p",{children:"Your test has been flagged for suspicious activity:"}),O.jsx("ul",{children:b.map((ze,dt)=>O.jsx("li",{children:ze},dt))}),O.jsx("p",{children:"Your test is being submitted automatically."}),O.jsx("div",{className:"countdown",children:"Redirecting in 3 seconds..."})]})}),X&&O.jsx("div",{className:"malpractice-modal visible",children:O.jsxs("div",{className:"modal-content animate__animated animate__headShake",children:[O.jsx("div",{className:"modal-icon",children:O.jsx("i",{className:"bi bi-exclamation-octagon"})}),O.jsx("h3",{children:"No Webcam Or Mic Detected"}),O.jsx("p",{children:"Please Ensure You Have A Proper WebCam or Mic And Switch On Both Of Them Please"}),O.jsx("p",{children:"Your test is being Hold"})]})}),I&&O.jsx("div",{className:"completion-modal visible",children:O.jsxs("div",{className:"modal-content animate__animated animate__fadeIn",children:[O.jsx("div",{className:"modal-icon",children:O.jsx("i",{className:"bi bi-check-circle-fill text-success"})}),O.jsx("h3",{children:"Test Completed Successfully!"}),O.jsx("p",{children:"Thank you for taking the test. Your responses have been submitted."}),O.jsx("div",{className:"countdown",children:"You will be redirected to login page in 3 seconds..."})]})})]})}function oJ({children:e}){return localStorage.getItem("token")?e:O.jsx(r$,{to:"/login"})}function sJ(){const e=Ns(),t=[{path:"/admin/students",icon:"bi-people-fill",label:"Manage Students"},{path:"/admin/results",icon:"bi-clipboard-data",label:"View Results"},{path:"/admin/questions",icon:"bi-journal-text",label:"Manage Questions"}];return O.jsxs("div",{className:"admin-dashboard-container",children:[O.jsxs("div",{className:"sidebar",children:[O.jsxs("div",{className:"sidebar-header",children:[O.jsx("i",{className:"bi bi-shield-lock"}),O.jsx("h3",{children:"Admin Panel"})]}),t.map(n=>O.jsxs(Am,{to:n.path,className:`sidebar-item ${e.pathname===n.path?"active":""}`,children:[O.jsx("i",{className:`bi ${n.icon}`}),O.jsx("span",{children:n.label})]},n.path))]}),O.jsxs("div",{className:"main-content",children:[O.jsxs("div",{className:"admin-header animate__animated animate__fadeIn",children:[O.jsxs("h2",{children:[O.jsx("i",{className:"bi bi-speedometer2 me-2"}),"Admin Dashboard"]}),O.jsx("p",{children:"Manage all system operations from this panel"})]}),O.jsx("div",{className:"admin-cards",children:t.map((n,r)=>O.jsxs(Am,{to:n.path,className:"admin-card animate__animated animate__fadeInUp",style:{animationDelay:`${r*.1}s`},children:[O.jsx("div",{className:"card-icon",children:O.jsx("i",{className:`bi ${n.icon}`})}),O.jsx("h3",{children:n.label}),O.jsx("div",{className:"card-arrow",children:O.jsx("i",{className:"bi bi-arrow-right"})})]},n.path))})]})]})}var Qb,wD;function uJ(){if(wD)return Qb;wD=1;function e(w){this._maxSize=w,this.clear()}e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(w){return this._values[w]},e.prototype.set=function(w,E){return this._size>=this._maxSize&&this.clear(),w in this._values||this._size++,this._values[w]=E};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,s=new e(o),u=new e(o),l=new e(o);Qb={Cache:e,split:d,normalizePath:f,setter:function(w){var E=f(w);return u.get(w)||u.set(w,function(A,T){for(var R=0,D=E.length,P=A;R<D-1;){var k=E[R];if(k==="__proto__"||k==="constructor"||k==="prototype")return A;P=P[E[R++]]}P[E[R]]=T})},getter:function(w,E){var S=f(w);return l.get(w)||l.set(w,function(T){for(var R=0,D=S.length;R<D;)if(T!=null||!E)T=T[S[R++]];else return;return T})},join:function(w){return w.reduce(function(E,S){return E+(m(S)||n.test(S)?"["+S+"]":(E?".":"")+S)},"")},forEach:function(w,E,S){p(Array.isArray(w)?w:d(w),E,S)}};function f(w){return s.get(w)||s.set(w,d(w).map(function(E){return E.replace(i,"$2")}))}function d(w){return w.match(t)||[""]}function p(w,E,S){var A=w.length,T,R,D,P;for(R=0;R<A;R++)T=w[R],T&&(b(T)&&(T='"'+T+'"'),P=m(T),D=!P&&/^\d+$/.test(T),E.call(S,T,P,D,R,w))}function m(w){return typeof w=="string"&&w&&["'",'"'].indexOf(w.charAt(0))!==-1}function g(w){return w.match(r)&&!w.match(n)}function x(w){return a.test(w)}function b(w){return!m(w)&&(g(w)||x(w))}return Qb}var Ml=uJ(),Zb,_D;function lJ(){if(_D)return Zb;_D=1;const e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=f=>f.match(e)||[],n=f=>f[0].toUpperCase()+f.slice(1),r=(f,d)=>t(f).join(d).toLowerCase(),a=f=>t(f).reduce((d,p)=>`${d}${d?p[0].toUpperCase()+p.slice(1).toLowerCase():p.toLowerCase()}`,"");return Zb={words:t,upperFirst:n,camelCase:a,pascalCase:f=>n(a(f)),snakeCase:f=>r(f,"_"),kebabCase:f=>r(f,"-"),sentenceCase:f=>n(r(f," ")),titleCase:f=>t(f).map(n).join(" ")},Zb}var Jb=lJ(),$v={exports:{}},ED;function cJ(){if(ED)return $v.exports;ED=1,$v.exports=function(a){return e(t(a),a)},$v.exports.array=e;function e(a,i){var o=a.length,s=new Array(o),u={},l=o,f=n(i),d=r(a);for(i.forEach(function(m){if(!d.has(m[0])||!d.has(m[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});l--;)u[l]||p(a[l],l,new Set);return s;function p(m,g,x){if(x.has(m)){var b;try{b=", node was:"+JSON.stringify(m)}catch{b=""}throw new Error("Cyclic dependency"+b)}if(!d.has(m))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(m));if(!u[g]){u[g]=!0;var w=f.get(m)||new Set;if(w=Array.from(w),g=w.length){x.add(m);do{var E=w[--g];p(E,d.get(E),x)}while(g);x.delete(m)}s[--o]=m}}}function t(a){for(var i=new Set,o=0,s=a.length;o<s;o++){var u=a[o];i.add(u[0]),i.add(u[1])}return Array.from(i)}function n(a){for(var i=new Map,o=0,s=a.length;o<s;o++){var u=a[o];i.has(u[0])||i.set(u[0],new Set),i.has(u[1])||i.set(u[1],new Set),i.get(u[0]).add(u[1])}return i}function r(a){for(var i=new Map,o=0,s=a.length;o<s;o++)i.set(a[o],o);return i}return $v.exports}var fJ=cJ();const hJ=Mi(fJ),dJ=Object.prototype.toString,pJ=Error.prototype.toString,vJ=RegExp.prototype.toString,mJ=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",gJ=/^Symbol\((.*)\)(.*)$/;function yJ(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function SD(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return yJ(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return mJ.call(e).replace(gJ,"Symbol($1)");const r=dJ.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+pJ.call(e)+"]":r==="RegExp"?vJ.call(e):null}function ku(e,t){let n=SD(e,t);return n!==null?n:JSON.stringify(e,function(r,a){let i=SD(this[r],t);return i!==null?i:a},2)}function jL(e){return e==null?[]:[].concat(e)}let UL,zL,WL,xJ=/\$\{\s*(\w+)\s*\}/g;UL=Symbol.toStringTag;class TD{constructor(t,n,r,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[UL]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=a,this.errors=[],this.inner=[],jL(t).forEach(i=>{if(xa.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}zL=Symbol.hasInstance;WL=Symbol.toStringTag;class xa extends Error{static formatError(t,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof t=="string"?t.replace(xJ,(a,i)=>ku(n[i])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,a,i){const o=new TD(t,n,r,a);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[WL]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,xa)}static[zL](t){return TD[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let To={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const a=r!=null&&r!==n?` (cast from the value \`${ku(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${ku(n,!0)}\``+a:`${e} must match the configured type. The validated value was: \`${ku(n,!0)}\``+a}},ma={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},bu={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},E_={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},bJ={isValue:"${path} field must be ${value}"},xm={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},wJ={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},_J={notType:e=>{const{path:t,value:n,spec:r}=e,a=r.types.length;if(Array.isArray(n)){if(n.length<a)return`${t} tuple value has too few items, expected a length of ${a} but got ${n.length} for value: \`${ku(n,!0)}\``;if(n.length>a)return`${t} tuple value has too many items, expected a length of ${a} but got ${n.length} for value: \`${ku(n,!0)}\``}return xa.formatError(To.notType,e)}};Object.assign(Object.create(null),{mixed:To,string:ma,number:bu,date:E_,object:xm,array:wJ,boolean:bJ,tuple:_J});const KS=e=>e&&e.__isYupSchema__;class Ym{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:a,otherwise:i}=n,o=typeof r=="function"?r:(...s)=>s.every(u=>u===r);return new Ym(t,(s,u)=>{var l;let f=o(...s)?a:i;return(l=f?.(u))!=null?l:u})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(i=>i.getValue(n?.value,n?.parent,n?.context)),a=this.fn(r,t,n);if(a===void 0||a===t)return t;if(!KS(a))throw new TypeError("conditions must return a schema object");return a.resolve(n)}}const Vv={context:"$",value:"."};class oc{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Vv.context,this.isValue=this.key[0]===Vv.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Vv.context:this.isValue?Vv.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Ml.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let a=this.isContext?r:this.isValue?t:n;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(t,n){return this.getValue(t,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}oc.prototype.__isYupRef=!0;const vs=e=>e==null;function uf(e){function t({value:n,path:r="",options:a,originalValue:i,schema:o},s,u){const{name:l,test:f,params:d,message:p,skipAbsent:m}=e;let{parent:g,context:x,abortEarly:b=o.spec.abortEarly,disableStackTrace:w=o.spec.disableStackTrace}=a;function E(F){return oc.isRef(F)?F.getValue(n,g,x):F}function S(F={}){const B=Object.assign({value:n,originalValue:i,label:o.spec.label,path:F.path||r,spec:o.spec,disableStackTrace:F.disableStackTrace||w},d,F.params);for(const ae of Object.keys(B))B[ae]=E(B[ae]);const te=new xa(xa.formatError(F.message||p,B),n,B.path,F.type||l,B.disableStackTrace);return te.params=B,te}const A=b?s:u;let T={path:r,parent:g,type:l,from:a.from,createError:S,resolve:E,options:a,originalValue:i,schema:o};const R=F=>{xa.isError(F)?A(F):F?u(null):A(S())},D=F=>{xa.isError(F)?A(F):s(F)};if(m&&vs(n))return R(!0);let k;try{var I;if(k=f.call(T,n,T),typeof((I=k)==null?void 0:I.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${T.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(k).then(R,D)}}catch(F){D(F);return}R(k)}return t.OPTIONS=e,t}function EJ(e,t,n,r=n){let a,i,o;return t?(Ml.forEach(t,(s,u,l)=>{let f=u?s.slice(1,s.length-1):s;e=e.resolve({context:r,parent:a,value:n});let d=e.type==="tuple",p=l?parseInt(f,10):0;if(e.innerType||d){if(d&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);a=n,n=n&&n[p],e=d?e.spec.types[p]:e.innerType}if(!l){if(!e.fields||!e.fields[f])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);a=n,n=n&&n[f],e=e.fields[f]}i=f,o=u?"["+s+"]":"."+s}),{schema:e,parent:a,parentPath:i}):{parent:a,parentPath:t,schema:e}}class Qm extends Set{describe(){const t=[];for(const n of this.values())t.push(oc.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new Qm(this.values())}merge(t,n){const r=this.clone();return t.forEach(a=>r.add(a)),n.forEach(a=>r.delete(a)),r}}function bf(e,t=new Map){if(KS(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=bf(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,a]of e.entries())n.set(r,bf(a,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(bf(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,a]of Object.entries(e))n[r]=bf(a,t)}else throw Error(`Unable to clone ${e}`);return n}class io{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Qm,this._blacklist=new Qm,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(To.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=bf(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const a=Object.assign({},n.spec,r.spec);return r.spec=a,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{t.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((a,i)=>i.resolve(a,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,a,i;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(a=t.recursive)!=null?a:this.spec.recursive,disableStackTrace:(i=t.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(t,n={}){let r=this.resolve(Object.assign({value:t},n)),a=n.assert==="ignore-optionality",i=r._cast(t,n);if(n.assert!==!1&&!r.isType(i)){if(a&&vs(i))return i;let o=ku(t),s=ku(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(s!==o?`result of cast: ${s}`:""))}return i}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((a,i)=>i.call(this,a,t,this),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,a){let{path:i,originalValue:o=t,strict:s=this.spec.strict}=n,u=t;s||(u=this._cast(u,Object.assign({assert:!1},n)));let l=[];for(let f of Object.values(this.internalTests))f&&l.push(f);this.runTests({path:i,value:u,originalValue:o,options:n,tests:l},r,f=>{if(f.length)return a(f,u);this.runTests({path:i,value:u,originalValue:o,options:n,tests:this.tests},r,a)})}runTests(t,n,r){let a=!1,{tests:i,value:o,originalValue:s,path:u,options:l}=t,f=x=>{a||(a=!0,n(x,o))},d=x=>{a||(a=!0,r(x,o))},p=i.length,m=[];if(!p)return d([]);let g={value:o,originalValue:s,path:u,options:l,schema:this};for(let x=0;x<i.length;x++){const b=i[x];b(g,f,function(E){E&&(Array.isArray(E)?m.push(...E):m.push(E)),--p<=0&&d(m)})}}asNestedTest({key:t,index:n,parent:r,parentPath:a,originalParent:i,options:o}){const s=t??n;if(s==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof s=="number";let l=r[s];const f=Object.assign({},o,{strict:!0,parent:r,value:l,originalValue:i[s],key:void 0,[u?"index":"key"]:s,path:u||s.includes(".")?`${a||""}[${u?s:`"${s}"`}]`:(a?`${a}.`:"")+t});return(d,p,m)=>this.resolve(f)._validate(l,f,p,m)}validate(t,n){var r;let a=this.resolve(Object.assign({},n,{value:t})),i=(r=n?.disableStackTrace)!=null?r:a.spec.disableStackTrace;return new Promise((o,s)=>a._validate(t,n,(u,l)=>{xa.isError(u)&&(u.value=l),s(u)},(u,l)=>{u.length?s(new xa(u,l,void 0,void 0,i)):o(l)}))}validateSync(t,n){var r;let a=this.resolve(Object.assign({},n,{value:t})),i,o=(r=n?.disableStackTrace)!=null?r:a.spec.disableStackTrace;return a._validate(t,Object.assign({},n,{sync:!0}),(s,u)=>{throw xa.isError(s)&&(s.value=u),s},(s,u)=>{if(s.length)throw new xa(s,t,void 0,void 0,o);i=u}),i}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(xa.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(xa.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):bf(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=uf({message:n,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=uf({message:n,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=To.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=To.notNull){return this.nullability(!1,t)}required(t=To.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=To.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),a=uf(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(i||o.OPTIONS.test===a.OPTIONS.test))),r.tests.push(a),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),a=jL(t).map(i=>new oc(i));return a.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new Ym(a,n):Ym.fromOptions(a,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=uf({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=To.oneOf){let r=this.clone();return t.forEach(a=>{r._whitelist.add(a),r._blacklist.delete(a)}),r.internalTests.whiteList=uf({message:n,name:"oneOf",skipAbsent:!0,test(a){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(a)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(t,n=To.notOneOf){let r=this.clone();return t.forEach(a=>{r._blacklist.add(a),r._whitelist.delete(a)}),r.internalTests.blacklist=uf({message:n,name:"notOneOf",test(a){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(a)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:a,optional:i,nullable:o}=n.spec;return{meta:a,label:r,optional:i,nullable:o,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(u=>({name:u.OPTIONS.name,params:u.OPTIONS.params})).filter((u,l,f)=>f.findIndex(d=>d.name===u.name)===l)}}}io.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])io.prototype[`${e}At`]=function(t,n,r={}){const{parent:a,parentPath:i,schema:o}=EJ(this,t,n,r.context);return o[e](a&&a[i],Object.assign({},r,{parent:a,path:t}))};for(const e of["equals","is"])io.prototype[e]=io.prototype.oneOf;for(const e of["not","nope"])io.prototype[e]=io.prototype.notOneOf;const SJ=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function TJ(e){const t=S_(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function S_(e){var t,n;const r=SJ.exec(e);return r?{year:ls(r[1]),month:ls(r[2],1)-1,day:ls(r[3],1),hour:ls(r[4]),minute:ls(r[5]),second:ls(r[6]),millisecond:r[7]?ls(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:ls(r[10]),minuteOffset:ls(r[11])}:null}function ls(e,t=0){return Number(e)||t}let AJ=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,CJ=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,OJ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,RJ="^\\d{4}-\\d{2}-\\d{2}",DJ="\\d{2}:\\d{2}:\\d{2}",NJ="(([+-]\\d{2}(:?\\d{2})?)|Z)",kJ=new RegExp(`${RJ}T${DJ}(\\.\\d+)?${NJ}$`),PJ=e=>vs(e)||e===e.trim(),MJ={}.toString();function wo(){return new HL}class HL extends io{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const a=t!=null&&t.toString?t.toString():t;return a===MJ?t:a})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||To.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=ma.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=ma.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=ma.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,a,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:a,name:i}=n:a=n),this.test({name:i||"matches",message:a||ma.matches,params:{regex:t},skipAbsent:!0,test:o=>o===""&&r||o.search(t)!==-1})}email(t=ma.email){return this.matches(AJ,{name:"email",message:t,excludeEmptyString:!0})}url(t=ma.url){return this.matches(CJ,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=ma.uuid){return this.matches(OJ,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",r,a;return t&&(typeof t=="object"?{message:n="",allowOffset:r=!1,precision:a=void 0}=t:n=t),this.matches(kJ,{name:"datetime",message:n||ma.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||ma.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const o=S_(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||ma.datetime_precision,params:{precision:a},skipAbsent:!0,test:i=>{if(!i||a==null)return!0;const o=S_(i);return o?o.precision===a:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=ma.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:PJ})}lowercase(t=ma.lowercase){return this.transform(n=>vs(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>vs(n)||n===n.toLowerCase()})}uppercase(t=ma.uppercase){return this.transform(n=>vs(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>vs(n)||n===n.toUpperCase()})}}wo.prototype=HL.prototype;let IJ=e=>e!=+e;function $L(){return new VL}class VL extends io{constructor(){super({type:"number",check(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!IJ(t)}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce)return t;let a=t;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return r.isType(a)||a===null?a:parseFloat(a)})})}min(t,n=bu.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(t)}})}max(t,n=bu.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(t)}})}lessThan(t,n=bu.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},skipAbsent:!0,test(r){return r<this.resolve(t)}})}moreThan(t,n=bu.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},skipAbsent:!0,test(r){return r>this.resolve(t)}})}positive(t=bu.positive){return this.moreThan(0,t)}negative(t=bu.negative){return this.lessThan(0,t)}integer(t=bu.integer){return this.test({name:"integer",message:t,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(t=>vs(t)?t:t|0)}round(t){var n;let r=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(r.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(a=>vs(a)?a:Math[t](a))}}$L.prototype=VL.prototype;let FJ=new Date(""),BJ=e=>Object.prototype.toString.call(e)==="[object Date]";class XS extends io{constructor(){super({type:"date",check(t){return BJ(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=TJ(t),isNaN(t)?XS.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(oc.isRef(t))r=t;else{let a=this.cast(t);if(!this._typeCheck(a))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=a}return r}min(t,n=E_.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(a){return a>=this.resolve(r)}})}max(t,n=E_.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(a){return a<=this.resolve(r)}})}}XS.INVALID_DATE=FJ;function LJ(e,t=[]){let n=[],r=new Set,a=new Set(t.map(([o,s])=>`${o}-${s}`));function i(o,s){let u=Ml.split(o)[0];r.add(u),a.has(`${s}-${u}`)||n.push([s,u])}for(const o of Object.keys(e)){let s=e[o];r.add(o),oc.isRef(s)&&s.isSibling?i(s.path,o):KS(s)&&"deps"in s&&s.deps.forEach(u=>i(u,o))}return hJ.array(Array.from(r),n).reverse()}function AD(e,t){let n=1/0;return e.some((r,a)=>{var i;if((i=t.path)!=null&&i.includes(r))return n=a,!0}),n}function qL(e){return(t,n)=>AD(e,t)-AD(e,n)}const jJ=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function bm(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=bm(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=bm(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(bm)}):"optional"in e?e.optional():e}const UJ=(e,t)=>{const n=[...Ml.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),a=Ml.getter(Ml.join(n),!0)(e);return!!(a&&r in a)};let CD=e=>Object.prototype.toString.call(e)==="[object Object]";function OD(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const zJ=qL([]);function GL(e){return new KL(e)}class KL extends io{constructor(t){super({type:"object",check(n){return CD(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=zJ,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let a=super._cast(t,n);if(a===void 0)return this.getDefault(n);if(!this._typeCheck(a))return a;let i=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,s=[].concat(this._nodes,Object.keys(a).filter(d=>!this._nodes.includes(d))),u={},l=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),f=!1;for(const d of s){let p=i[d],m=d in a;if(p){let g,x=a[d];l.path=(n.path?`${n.path}.`:"")+d,p=p.resolve({value:x,context:n.context,parent:u});let b=p instanceof io?p.spec:void 0,w=b?.strict;if(b!=null&&b.strip){f=f||d in a;continue}g=!n.__validating||!w?p.cast(a[d],l):a[d],g!==void 0&&(u[d]=g)}else m&&!o&&(u[d]=a[d]);(m!==d in u||u[d]!==a[d])&&(f=!0)}return f?u:a}_validate(t,n={},r,a){let{from:i=[],originalValue:o=t,recursive:s=this.spec.recursive}=n;n.from=[{schema:this,value:o},...i],n.__validating=!0,n.originalValue=o,super._validate(t,n,r,(u,l)=>{if(!s||!CD(l)){a(u,l);return}o=o||l;let f=[];for(let d of this._nodes){let p=this.fields[d];!p||oc.isRef(p)||f.push(p.asNestedTest({options:n,key:d,parent:l,parentPath:n.path,originalParent:o}))}this.runTests({tests:f,value:l,originalValue:o,options:n},r,d=>{a(d.sort(this._sortErrors).concat(u),l)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[a,i]of Object.entries(this.fields)){const o=r[a];r[a]=o===void 0?i:o}return n.withMutation(a=>a.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var a;const i=this.fields[r];let o=t;(a=o)!=null&&a.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=LJ(t,n),r._sortErrors=qL(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let a=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),a=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),a)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return bm(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,a])=>t.includes(r)&&t.includes(a)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let a=Ml.getter(t,!0);return this.transform(i=>{if(!i)return i;let o=i;return UJ(i,t)&&(o=Object.assign({},i),r||delete o[t],o[n]=a(i)),o})}json(){return this.transform(jJ)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||xm.exact,test(n){if(n==null)return!0;const r=OD(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=xm.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(a){if(a==null)return!0;const i=OD(this.schema,a);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=xm.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const a of Object.keys(n))r[t(a)]=n[a];return r})}camelCase(){return this.transformKeys(Jb.camelCase)}snakeCase(){return this.transformKeys(Jb.snakeCase)}constantCase(){return this.transformKeys(t=>Jb.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[i,o]of Object.entries(n.fields)){var a;let s=t;(a=s)!=null&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[i]})),r.fields[i]=o.describe(s)}return r}}GL.prototype=KL.prototype;var WJ=function(t){return HJ(t)&&!$J(t)};function HJ(e){return!!e&&typeof e=="object"}function $J(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||GJ(e)}var VJ=typeof Symbol=="function"&&Symbol.for,qJ=VJ?Symbol.for("react.element"):60103;function GJ(e){return e.$$typeof===qJ}function KJ(e){return Array.isArray(e)?[]:{}}function Zm(e,t){return t.clone!==!1&&t.isMergeableObject(e)?cp(KJ(e),e,t):e}function XJ(e,t,n){return e.concat(t).map(function(r){return Zm(r,n)})}function YJ(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(a){r[a]=Zm(e[a],n)}),Object.keys(t).forEach(function(a){!n.isMergeableObject(t[a])||!e[a]?r[a]=Zm(t[a],n):r[a]=cp(e[a],t[a],n)}),r}function cp(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||XJ,n.isMergeableObject=n.isMergeableObject||WJ;var r=Array.isArray(t),a=Array.isArray(e),i=r===a;return i?r?n.arrayMerge(e,t,n):YJ(e,t,n):Zm(t,n)}cp.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,a){return cp(r,a,n)},{})};var T_=cp,XL=typeof global=="object"&&global&&global.Object===Object&&global,QJ=typeof self=="object"&&self&&self.Object===Object&&self,Vo=XL||QJ||Function("return this")(),Iu=Vo.Symbol,YL=Object.prototype,ZJ=YL.hasOwnProperty,JJ=YL.toString,Rd=Iu?Iu.toStringTag:void 0;function eee(e){var t=ZJ.call(e,Rd),n=e[Rd];try{e[Rd]=void 0;var r=!0}catch{}var a=JJ.call(e);return r&&(t?e[Rd]=n:delete e[Rd]),a}var tee=Object.prototype,nee=tee.toString;function ree(e){return nee.call(e)}var aee="[object Null]",iee="[object Undefined]",RD=Iu?Iu.toStringTag:void 0;function sc(e){return e==null?e===void 0?iee:aee:RD&&RD in Object(e)?eee(e):ree(e)}function QL(e,t){return function(n){return e(t(n))}}var YS=QL(Object.getPrototypeOf,Object);function uc(e){return e!=null&&typeof e=="object"}var oee="[object Object]",see=Function.prototype,uee=Object.prototype,ZL=see.toString,lee=uee.hasOwnProperty,cee=ZL.call(Object);function DD(e){if(!uc(e)||sc(e)!=oee)return!1;var t=YS(e);if(t===null)return!0;var n=lee.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ZL.call(n)==cee}function fee(){this.__data__=[],this.size=0}function JL(e,t){return e===t||e!==e&&t!==t}function dy(e,t){for(var n=e.length;n--;)if(JL(e[n][0],t))return n;return-1}var hee=Array.prototype,dee=hee.splice;function pee(e){var t=this.__data__,n=dy(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():dee.call(t,n,1),--this.size,!0}function vee(e){var t=this.__data__,n=dy(t,e);return n<0?void 0:t[n][1]}function mee(e){return dy(this.__data__,e)>-1}function gee(e,t){var n=this.__data__,r=dy(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Ls(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ls.prototype.clear=fee;Ls.prototype.delete=pee;Ls.prototype.get=vee;Ls.prototype.has=mee;Ls.prototype.set=gee;function yee(){this.__data__=new Ls,this.size=0}function xee(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function bee(e){return this.__data__.get(e)}function wee(e){return this.__data__.has(e)}function $p(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _ee="[object AsyncFunction]",Eee="[object Function]",See="[object GeneratorFunction]",Tee="[object Proxy]";function ej(e){if(!$p(e))return!1;var t=sc(e);return t==Eee||t==See||t==_ee||t==Tee}var ew=Vo["__core-js_shared__"],ND=function(){var e=/[^.]+$/.exec(ew&&ew.keys&&ew.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Aee(e){return!!ND&&ND in e}var Cee=Function.prototype,Oee=Cee.toString;function lc(e){if(e!=null){try{return Oee.call(e)}catch{}try{return e+""}catch{}}return""}var Ree=/[\\^$.*+?()[\]{}|]/g,Dee=/^\[object .+?Constructor\]$/,Nee=Function.prototype,kee=Object.prototype,Pee=Nee.toString,Mee=kee.hasOwnProperty,Iee=RegExp("^"+Pee.call(Mee).replace(Ree,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Fee(e){if(!$p(e)||Aee(e))return!1;var t=ej(e)?Iee:Dee;return t.test(lc(e))}function Bee(e,t){return e?.[t]}function cc(e,t){var n=Bee(e,t);return Fee(n)?n:void 0}var fp=cc(Vo,"Map"),hp=cc(Object,"create");function Lee(){this.__data__=hp?hp(null):{},this.size=0}function jee(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Uee="__lodash_hash_undefined__",zee=Object.prototype,Wee=zee.hasOwnProperty;function Hee(e){var t=this.__data__;if(hp){var n=t[e];return n===Uee?void 0:n}return Wee.call(t,e)?t[e]:void 0}var $ee=Object.prototype,Vee=$ee.hasOwnProperty;function qee(e){var t=this.__data__;return hp?t[e]!==void 0:Vee.call(t,e)}var Gee="__lodash_hash_undefined__";function Kee(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=hp&&t===void 0?Gee:t,this}function $l(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$l.prototype.clear=Lee;$l.prototype.delete=jee;$l.prototype.get=Hee;$l.prototype.has=qee;$l.prototype.set=Kee;function Xee(){this.size=0,this.__data__={hash:new $l,map:new(fp||Ls),string:new $l}}function Yee(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function py(e,t){var n=e.__data__;return Yee(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Qee(e){var t=py(this,e).delete(e);return this.size-=t?1:0,t}function Zee(e){return py(this,e).get(e)}function Jee(e){return py(this,e).has(e)}function ete(e,t){var n=py(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function $u(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$u.prototype.clear=Xee;$u.prototype.delete=Qee;$u.prototype.get=Zee;$u.prototype.has=Jee;$u.prototype.set=ete;var tte=200;function nte(e,t){var n=this.__data__;if(n instanceof Ls){var r=n.__data__;if(!fp||r.length<tte-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $u(r)}return n.set(e,t),this.size=n.size,this}function sh(e){var t=this.__data__=new Ls(e);this.size=t.size}sh.prototype.clear=yee;sh.prototype.delete=xee;sh.prototype.get=bee;sh.prototype.has=wee;sh.prototype.set=nte;function rte(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var kD=function(){try{var e=cc(Object,"defineProperty");return e({},"",{}),e}catch{}}();function tj(e,t,n){t=="__proto__"&&kD?kD(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var ate=Object.prototype,ite=ate.hasOwnProperty;function nj(e,t,n){var r=e[t];(!(ite.call(e,t)&&JL(r,n))||n===void 0&&!(t in e))&&tj(e,t,n)}function vy(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],u=void 0;u===void 0&&(u=e[s]),a?tj(n,s,u):nj(n,s,u)}return n}function ote(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var ste="[object Arguments]";function PD(e){return uc(e)&&sc(e)==ste}var rj=Object.prototype,ute=rj.hasOwnProperty,lte=rj.propertyIsEnumerable,cte=PD(function(){return arguments}())?PD:function(e){return uc(e)&&ute.call(e,"callee")&&!lte.call(e,"callee")},Vp=Array.isArray;function fte(){return!1}var aj=typeof ei=="object"&&ei&&!ei.nodeType&&ei,MD=aj&&typeof _a=="object"&&_a&&!_a.nodeType&&_a,hte=MD&&MD.exports===aj,ID=hte?Vo.Buffer:void 0,dte=ID?ID.isBuffer:void 0,ij=dte||fte,pte=9007199254740991,vte=/^(?:0|[1-9]\d*)$/;function mte(e,t){var n=typeof e;return t=t??pte,!!t&&(n=="number"||n!="symbol"&&vte.test(e))&&e>-1&&e%1==0&&e<t}var gte=9007199254740991;function oj(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gte}var yte="[object Arguments]",xte="[object Array]",bte="[object Boolean]",wte="[object Date]",_te="[object Error]",Ete="[object Function]",Ste="[object Map]",Tte="[object Number]",Ate="[object Object]",Cte="[object RegExp]",Ote="[object Set]",Rte="[object String]",Dte="[object WeakMap]",Nte="[object ArrayBuffer]",kte="[object DataView]",Pte="[object Float32Array]",Mte="[object Float64Array]",Ite="[object Int8Array]",Fte="[object Int16Array]",Bte="[object Int32Array]",Lte="[object Uint8Array]",jte="[object Uint8ClampedArray]",Ute="[object Uint16Array]",zte="[object Uint32Array]",xn={};xn[Pte]=xn[Mte]=xn[Ite]=xn[Fte]=xn[Bte]=xn[Lte]=xn[jte]=xn[Ute]=xn[zte]=!0;xn[yte]=xn[xte]=xn[Nte]=xn[bte]=xn[kte]=xn[wte]=xn[_te]=xn[Ete]=xn[Ste]=xn[Tte]=xn[Ate]=xn[Cte]=xn[Ote]=xn[Rte]=xn[Dte]=!1;function Wte(e){return uc(e)&&oj(e.length)&&!!xn[sc(e)]}function QS(e){return function(t){return e(t)}}var sj=typeof ei=="object"&&ei&&!ei.nodeType&&ei,qd=sj&&typeof _a=="object"&&_a&&!_a.nodeType&&_a,Hte=qd&&qd.exports===sj,tw=Hte&&XL.process,Wf=function(){try{var e=qd&&qd.require&&qd.require("util").types;return e||tw&&tw.binding&&tw.binding("util")}catch{}}(),FD=Wf&&Wf.isTypedArray,$te=FD?QS(FD):Wte,Vte=Object.prototype,qte=Vte.hasOwnProperty;function uj(e,t){var n=Vp(e),r=!n&&cte(e),a=!n&&!r&&ij(e),i=!n&&!r&&!a&&$te(e),o=n||r||a||i,s=o?ote(e.length,String):[],u=s.length;for(var l in e)(t||qte.call(e,l))&&!(o&&(l=="length"||a&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||mte(l,u)))&&s.push(l);return s}var Gte=Object.prototype;function ZS(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Gte;return e===n}var Kte=QL(Object.keys,Object),Xte=Object.prototype,Yte=Xte.hasOwnProperty;function Qte(e){if(!ZS(e))return Kte(e);var t=[];for(var n in Object(e))Yte.call(e,n)&&n!="constructor"&&t.push(n);return t}function lj(e){return e!=null&&oj(e.length)&&!ej(e)}function JS(e){return lj(e)?uj(e):Qte(e)}function Zte(e,t){return e&&vy(t,JS(t),e)}function Jte(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var ene=Object.prototype,tne=ene.hasOwnProperty;function nne(e){if(!$p(e))return Jte(e);var t=ZS(e),n=[];for(var r in e)r=="constructor"&&(t||!tne.call(e,r))||n.push(r);return n}function eT(e){return lj(e)?uj(e,!0):nne(e)}function rne(e,t){return e&&vy(t,eT(t),e)}var cj=typeof ei=="object"&&ei&&!ei.nodeType&&ei,BD=cj&&typeof _a=="object"&&_a&&!_a.nodeType&&_a,ane=BD&&BD.exports===cj,LD=ane?Vo.Buffer:void 0,jD=LD?LD.allocUnsafe:void 0;function ine(e,t){if(t)return e.slice();var n=e.length,r=jD?jD(n):new e.constructor(n);return e.copy(r),r}function fj(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function one(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}function hj(){return[]}var sne=Object.prototype,une=sne.propertyIsEnumerable,UD=Object.getOwnPropertySymbols,tT=UD?function(e){return e==null?[]:(e=Object(e),one(UD(e),function(t){return une.call(e,t)}))}:hj;function lne(e,t){return vy(e,tT(e),t)}function dj(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var cne=Object.getOwnPropertySymbols,pj=cne?function(e){for(var t=[];e;)dj(t,tT(e)),e=YS(e);return t}:hj;function fne(e,t){return vy(e,pj(e),t)}function vj(e,t,n){var r=t(e);return Vp(e)?r:dj(r,n(e))}function hne(e){return vj(e,JS,tT)}function dne(e){return vj(e,eT,pj)}var A_=cc(Vo,"DataView"),C_=cc(Vo,"Promise"),O_=cc(Vo,"Set"),R_=cc(Vo,"WeakMap"),zD="[object Map]",pne="[object Object]",WD="[object Promise]",HD="[object Set]",$D="[object WeakMap]",VD="[object DataView]",vne=lc(A_),mne=lc(fp),gne=lc(C_),yne=lc(O_),xne=lc(R_),fs=sc;(A_&&fs(new A_(new ArrayBuffer(1)))!=VD||fp&&fs(new fp)!=zD||C_&&fs(C_.resolve())!=WD||O_&&fs(new O_)!=HD||R_&&fs(new R_)!=$D)&&(fs=function(e){var t=sc(e),n=t==pne?e.constructor:void 0,r=n?lc(n):"";if(r)switch(r){case vne:return VD;case mne:return zD;case gne:return WD;case yne:return HD;case xne:return $D}return t});var bne=Object.prototype,wne=bne.hasOwnProperty;function _ne(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&wne.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var qD=Vo.Uint8Array;function nT(e){var t=new e.constructor(e.byteLength);return new qD(t).set(new qD(e)),t}function Ene(e,t){var n=t?nT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Sne=/\w*$/;function Tne(e){var t=new e.constructor(e.source,Sne.exec(e));return t.lastIndex=e.lastIndex,t}var GD=Iu?Iu.prototype:void 0,KD=GD?GD.valueOf:void 0;function Ane(e){return KD?Object(KD.call(e)):{}}function Cne(e,t){var n=t?nT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var One="[object Boolean]",Rne="[object Date]",Dne="[object Map]",Nne="[object Number]",kne="[object RegExp]",Pne="[object Set]",Mne="[object String]",Ine="[object Symbol]",Fne="[object ArrayBuffer]",Bne="[object DataView]",Lne="[object Float32Array]",jne="[object Float64Array]",Une="[object Int8Array]",zne="[object Int16Array]",Wne="[object Int32Array]",Hne="[object Uint8Array]",$ne="[object Uint8ClampedArray]",Vne="[object Uint16Array]",qne="[object Uint32Array]";function Gne(e,t,n){var r=e.constructor;switch(t){case Fne:return nT(e);case One:case Rne:return new r(+e);case Bne:return Ene(e,n);case Lne:case jne:case Une:case zne:case Wne:case Hne:case $ne:case Vne:case qne:return Cne(e,n);case Dne:return new r;case Nne:case Mne:return new r(e);case kne:return Tne(e);case Pne:return new r;case Ine:return Ane(e)}}var XD=Object.create,Kne=function(){function e(){}return function(t){if(!$p(t))return{};if(XD)return XD(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Xne(e){return typeof e.constructor=="function"&&!ZS(e)?Kne(YS(e)):{}}var Yne="[object Map]";function Qne(e){return uc(e)&&fs(e)==Yne}var YD=Wf&&Wf.isMap,Zne=YD?QS(YD):Qne,Jne="[object Set]";function ere(e){return uc(e)&&fs(e)==Jne}var QD=Wf&&Wf.isSet,tre=QD?QS(QD):ere,nre=1,rre=2,are=4,mj="[object Arguments]",ire="[object Array]",ore="[object Boolean]",sre="[object Date]",ure="[object Error]",gj="[object Function]",lre="[object GeneratorFunction]",cre="[object Map]",fre="[object Number]",yj="[object Object]",hre="[object RegExp]",dre="[object Set]",pre="[object String]",vre="[object Symbol]",mre="[object WeakMap]",gre="[object ArrayBuffer]",yre="[object DataView]",xre="[object Float32Array]",bre="[object Float64Array]",wre="[object Int8Array]",_re="[object Int16Array]",Ere="[object Int32Array]",Sre="[object Uint8Array]",Tre="[object Uint8ClampedArray]",Are="[object Uint16Array]",Cre="[object Uint32Array]",mn={};mn[mj]=mn[ire]=mn[gre]=mn[yre]=mn[ore]=mn[sre]=mn[xre]=mn[bre]=mn[wre]=mn[_re]=mn[Ere]=mn[cre]=mn[fre]=mn[yj]=mn[hre]=mn[dre]=mn[pre]=mn[vre]=mn[Sre]=mn[Tre]=mn[Are]=mn[Cre]=!0;mn[ure]=mn[gj]=mn[mre]=!1;function Gd(e,t,n,r,a,i){var o,s=t&nre,u=t&rre,l=t&are;if(o!==void 0)return o;if(!$p(e))return e;var f=Vp(e);if(f){if(o=_ne(e),!s)return fj(e,o)}else{var d=fs(e),p=d==gj||d==lre;if(ij(e))return ine(e,s);if(d==yj||d==mj||p&&!a){if(o=u||p?{}:Xne(e),!s)return u?fne(e,rne(o,e)):lne(e,Zte(o,e))}else{if(!mn[d])return a?e:{};o=Gne(e,d,s)}}i||(i=new sh);var m=i.get(e);if(m)return m;i.set(e,o),tre(e)?e.forEach(function(b){o.add(Gd(b,t,n,b,e,i))}):Zne(e)&&e.forEach(function(b,w){o.set(w,Gd(b,t,n,w,e,i))});var g=l?u?dne:hne:u?eT:JS,x=f?void 0:g(e);return rte(x||e,function(b,w){x&&(w=b,b=e[w]),nj(o,w,Gd(b,t,n,w,e,i))}),o}var Ore=1,Rre=4;function qv(e){return Gd(e,Ore|Rre)}var nw,ZD;function Dre(){if(ZD)return nw;ZD=1;var e=Array.isArray,t=Object.keys,n=Object.prototype.hasOwnProperty,r=typeof Element<"u";function a(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){var s=e(i),u=e(o),l,f,d;if(s&&u){if(f=i.length,f!=o.length)return!1;for(l=f;l--!==0;)if(!a(i[l],o[l]))return!1;return!0}if(s!=u)return!1;var p=i instanceof Date,m=o instanceof Date;if(p!=m)return!1;if(p&&m)return i.getTime()==o.getTime();var g=i instanceof RegExp,x=o instanceof RegExp;if(g!=x)return!1;if(g&&x)return i.toString()==o.toString();var b=t(i);if(f=b.length,f!==t(o).length)return!1;for(l=f;l--!==0;)if(!n.call(o,b[l]))return!1;if(r&&i instanceof Element&&o instanceof Element)return i===o;for(l=f;l--!==0;)if(d=b[l],!(d==="_owner"&&i.$$typeof)&&!a(i[d],o[d]))return!1;return!0}return i!==i&&o!==o}return nw=function(o,s){try{return a(o,s)}catch(u){if(u.message&&u.message.match(/stack|recursion/i)||u.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",u.name,u.message),!1;throw u}},nw}var Nre=Dre();const xl=Mi(Nre);var kre=4;function JD(e){return Gd(e,kre)}function xj(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Pre="[object Symbol]";function rT(e){return typeof e=="symbol"||uc(e)&&sc(e)==Pre}var Mre="Expected a function";function aT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Mre);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(aT.Cache||$u),n}aT.Cache=$u;var Ire=500;function Fre(e){var t=aT(e,function(r){return n.size===Ire&&n.clear(),r}),n=t.cache;return t}var Bre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lre=/\\(\\)?/g,jre=Fre(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Bre,function(n,r,a,i){t.push(a?i.replace(Lre,"$1"):r||n)}),t});function Ure(e){if(typeof e=="string"||rT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var eN=Iu?Iu.prototype:void 0,tN=eN?eN.toString:void 0;function bj(e){if(typeof e=="string")return e;if(Vp(e))return xj(e,bj)+"";if(rT(e))return tN?tN.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function zre(e){return e==null?"":bj(e)}function wj(e){return Vp(e)?xj(e,Ure):rT(e)?[e]:fj(jre(zre(e)))}var rw={exports:{}},Gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function Wre(){if(nN)return Gt;nN=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,l=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,x=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,w=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function S(T){if(typeof T=="object"&&T!==null){var R=T.$$typeof;switch(R){case t:switch(T=T.type,T){case u:case l:case r:case i:case a:case d:return T;default:switch(T=T&&T.$$typeof,T){case s:case f:case g:case m:case o:return T;default:return R}}case n:return R}}}function A(T){return S(T)===l}return Gt.AsyncMode=u,Gt.ConcurrentMode=l,Gt.ContextConsumer=s,Gt.ContextProvider=o,Gt.Element=t,Gt.ForwardRef=f,Gt.Fragment=r,Gt.Lazy=g,Gt.Memo=m,Gt.Portal=n,Gt.Profiler=i,Gt.StrictMode=a,Gt.Suspense=d,Gt.isAsyncMode=function(T){return A(T)||S(T)===u},Gt.isConcurrentMode=A,Gt.isContextConsumer=function(T){return S(T)===s},Gt.isContextProvider=function(T){return S(T)===o},Gt.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},Gt.isForwardRef=function(T){return S(T)===f},Gt.isFragment=function(T){return S(T)===r},Gt.isLazy=function(T){return S(T)===g},Gt.isMemo=function(T){return S(T)===m},Gt.isPortal=function(T){return S(T)===n},Gt.isProfiler=function(T){return S(T)===i},Gt.isStrictMode=function(T){return S(T)===a},Gt.isSuspense=function(T){return S(T)===d},Gt.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===r||T===l||T===i||T===a||T===d||T===p||typeof T=="object"&&T!==null&&(T.$$typeof===g||T.$$typeof===m||T.$$typeof===o||T.$$typeof===s||T.$$typeof===f||T.$$typeof===b||T.$$typeof===w||T.$$typeof===E||T.$$typeof===x)},Gt.typeOf=S,Gt}var rN;function _j(){return rN||(rN=1,rw.exports=Wre()),rw.exports}var aw,aN;function Hre(){if(aN)return aw;aN=1;var e=_j(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=r,i[e.Memo]=a;function o(g){return e.isMemo(g)?a:i[g.$$typeof]||t}var s=Object.defineProperty,u=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;function m(g,x,b){if(typeof x!="string"){if(p){var w=d(x);w&&w!==p&&m(g,w,b)}var E=u(x);l&&(E=E.concat(l(x)));for(var S=o(g),A=o(x),T=0;T<E.length;++T){var R=E[T];if(!n[R]&&!(b&&b[R])&&!(A&&A[R])&&!(S&&S[R])){var D=f(x,R);try{s(g,R,D)}catch{}}}}return g}return aw=m,aw}Hre();function gr(){return gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}function Ej(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var my=N.createContext(void 0);my.displayName="FormikContext";my.Provider;my.Consumer;function $re(){var e=N.useContext(my);return e}var Xi=function(t){return typeof t=="function"},gy=function(t){return t!==null&&typeof t=="object"},Vre=function(t){return String(Math.floor(Number(t)))===t},iw=function(t){return Object.prototype.toString.call(t)==="[object String]"},ow=function(t){return gy(t)&&Xi(t.then)};function ja(e,t,n,r){r===void 0&&(r=0);for(var a=wj(t);e&&r<a.length;)e=e[a[r++]];return r!==a.length&&!e||e===void 0?n:e}function Il(e,t,n){for(var r=JD(e),a=r,i=0,o=wj(t);i<o.length-1;i++){var s=o[i],u=ja(e,o.slice(0,i+1));if(u&&(gy(u)||Array.isArray(u)))a=a[s]=JD(u);else{var l=o[i+1];a=a[s]=Vre(l)&&Number(l)>=0?[]:{}}}return(i===0?e:a)[o[i]]===n?e:(n===void 0?delete a[o[i]]:a[o[i]]=n,i===0&&n===void 0&&delete r[o[i]],r)}function Sj(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var a=0,i=Object.keys(e);a<i.length;a++){var o=i[a],s=e[o];gy(s)?n.get(s)||(n.set(s,!0),r[o]=Array.isArray(s)?[]:{},Sj(s,t,n,r[o])):r[o]=t}return r}function qre(e,t){switch(t.type){case"SET_VALUES":return gr({},e,{values:t.payload});case"SET_TOUCHED":return gr({},e,{touched:t.payload});case"SET_ERRORS":return xl(e.errors,t.payload)?e:gr({},e,{errors:t.payload});case"SET_STATUS":return gr({},e,{status:t.payload});case"SET_ISSUBMITTING":return gr({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return gr({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return gr({},e,{values:Il(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return gr({},e,{touched:Il(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return gr({},e,{errors:Il(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return gr({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return gr({},e,{touched:Sj(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return gr({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return gr({},e,{isSubmitting:!1});default:return e}}var ml={},Gv={};function Gre(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,a=r===void 0?!0:r,i=e.validateOnMount,o=i===void 0?!1:i,s=e.isInitialValid,u=e.enableReinitialize,l=u===void 0?!1:u,f=e.onSubmit,d=Ej(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=gr({validateOnChange:n,validateOnBlur:a,validateOnMount:o,onSubmit:f},d),m=N.useRef(p.initialValues),g=N.useRef(p.initialErrors||ml),x=N.useRef(p.initialTouched||Gv),b=N.useRef(p.initialStatus),w=N.useRef(!1),E=N.useRef({});N.useEffect(function(){return w.current=!0,function(){w.current=!1}},[]);var S=N.useState(0),A=S[1],T=N.useRef({values:qv(p.initialValues),errors:qv(p.initialErrors)||ml,touched:qv(p.initialTouched)||Gv,status:qv(p.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),R=T.current,D=N.useCallback(function(ge){var Be=T.current;T.current=qre(Be,ge),Be!==T.current&&A(function(qe){return qe+1})},[]),P=N.useCallback(function(ge,Be){return new Promise(function(qe,Qe){var ut=p.validate(ge,Be);ut==null?qe(ml):ow(ut)?ut.then(function(pt){qe(pt||ml)},function(pt){Qe(pt)}):qe(ut)})},[p.validate]),k=N.useCallback(function(ge,Be){var qe=p.validationSchema,Qe=Xi(qe)?qe(Be):qe,ut=Be&&Qe.validateAt?Qe.validateAt(Be,ge):Xre(ge,Qe);return new Promise(function(pt,wt){ut.then(function(){pt(ml)},function(Ht){Ht.name==="ValidationError"?pt(Kre(Ht)):wt(Ht)})})},[p.validationSchema]),I=N.useCallback(function(ge,Be){return new Promise(function(qe){return qe(E.current[ge].validate(Be))})},[]),F=N.useCallback(function(ge){var Be=Object.keys(E.current).filter(function(Qe){return Xi(E.current[Qe].validate)}),qe=Be.length>0?Be.map(function(Qe){return I(Qe,ja(ge,Qe))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(qe).then(function(Qe){return Qe.reduce(function(ut,pt,wt){return pt==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||pt&&(ut=Il(ut,Be[wt],pt)),ut},{})})},[I]),B=N.useCallback(function(ge){return Promise.all([F(ge),p.validationSchema?k(ge):{},p.validate?P(ge):{}]).then(function(Be){var qe=Be[0],Qe=Be[1],ut=Be[2],pt=T_.all([qe,Qe,ut],{arrayMerge:Yre});return pt})},[p.validate,p.validationSchema,F,P,k]),te=xi(function(ge){return ge===void 0&&(ge=R.values),D({type:"SET_ISVALIDATING",payload:!0}),B(ge).then(function(Be){return w.current&&(D({type:"SET_ISVALIDATING",payload:!1}),D({type:"SET_ERRORS",payload:Be})),Be})});N.useEffect(function(){o&&w.current===!0&&xl(m.current,p.initialValues)&&te(m.current)},[o,te]);var ae=N.useCallback(function(ge){var Be=ge&&ge.values?ge.values:m.current,qe=ge&&ge.errors?ge.errors:g.current?g.current:p.initialErrors||{},Qe=ge&&ge.touched?ge.touched:x.current?x.current:p.initialTouched||{},ut=ge&&ge.status?ge.status:b.current?b.current:p.initialStatus;m.current=Be,g.current=qe,x.current=Qe,b.current=ut;var pt=function(){D({type:"RESET_FORM",payload:{isSubmitting:!!ge&&!!ge.isSubmitting,errors:qe,touched:Qe,status:ut,values:Be,isValidating:!!ge&&!!ge.isValidating,submitCount:ge&&ge.submitCount&&typeof ge.submitCount=="number"?ge.submitCount:0}})};if(p.onReset){var wt=p.onReset(R.values,Ye);ow(wt)?wt.then(pt):pt()}else pt()},[p.initialErrors,p.initialStatus,p.initialTouched,p.onReset]);N.useEffect(function(){w.current===!0&&!xl(m.current,p.initialValues)&&l&&(m.current=p.initialValues,ae(),o&&te(m.current))},[l,p.initialValues,ae,o,te]),N.useEffect(function(){l&&w.current===!0&&!xl(g.current,p.initialErrors)&&(g.current=p.initialErrors||ml,D({type:"SET_ERRORS",payload:p.initialErrors||ml}))},[l,p.initialErrors]),N.useEffect(function(){l&&w.current===!0&&!xl(x.current,p.initialTouched)&&(x.current=p.initialTouched||Gv,D({type:"SET_TOUCHED",payload:p.initialTouched||Gv}))},[l,p.initialTouched]),N.useEffect(function(){l&&w.current===!0&&!xl(b.current,p.initialStatus)&&(b.current=p.initialStatus,D({type:"SET_STATUS",payload:p.initialStatus}))},[l,p.initialStatus,p.initialTouched]);var V=xi(function(ge){if(E.current[ge]&&Xi(E.current[ge].validate)){var Be=ja(R.values,ge),qe=E.current[ge].validate(Be);return ow(qe)?(D({type:"SET_ISVALIDATING",payload:!0}),qe.then(function(Qe){return Qe}).then(function(Qe){D({type:"SET_FIELD_ERROR",payload:{field:ge,value:Qe}}),D({type:"SET_ISVALIDATING",payload:!1})})):(D({type:"SET_FIELD_ERROR",payload:{field:ge,value:qe}}),Promise.resolve(qe))}else if(p.validationSchema)return D({type:"SET_ISVALIDATING",payload:!0}),k(R.values,ge).then(function(Qe){return Qe}).then(function(Qe){D({type:"SET_FIELD_ERROR",payload:{field:ge,value:ja(Qe,ge)}}),D({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),H=N.useCallback(function(ge,Be){var qe=Be.validate;E.current[ge]={validate:qe}},[]),Z=N.useCallback(function(ge){delete E.current[ge]},[]),ie=xi(function(ge,Be){D({type:"SET_TOUCHED",payload:ge});var qe=Be===void 0?a:Be;return qe?te(R.values):Promise.resolve()}),he=N.useCallback(function(ge){D({type:"SET_ERRORS",payload:ge})},[]),z=xi(function(ge,Be){var qe=Xi(ge)?ge(R.values):ge;D({type:"SET_VALUES",payload:qe});var Qe=Be===void 0?n:Be;return Qe?te(qe):Promise.resolve()}),se=N.useCallback(function(ge,Be){D({type:"SET_FIELD_ERROR",payload:{field:ge,value:Be}})},[]),L=xi(function(ge,Be,qe){D({type:"SET_FIELD_VALUE",payload:{field:ge,value:Be}});var Qe=qe===void 0?n:qe;return Qe?te(Il(R.values,ge,Be)):Promise.resolve()}),G=N.useCallback(function(ge,Be){var qe=Be,Qe=ge,ut;if(!iw(ge)){ge.persist&&ge.persist();var pt=ge.target?ge.target:ge.currentTarget,wt=pt.type,Ht=pt.name,ji=pt.id,Ui=pt.value,fo=pt.checked;pt.outerHTML;var ca=pt.options,Na=pt.multiple;qe=Be||Ht||ji,Qe=/number|range/.test(wt)?(ut=parseFloat(Ui),isNaN(ut)?"":ut):/checkbox/.test(wt)?Zre(ja(R.values,qe),fo,Ui):ca&&Na?Qre(ca):Ui}qe&&L(qe,Qe)},[L,R.values]),X=xi(function(ge){if(iw(ge))return function(Be){return G(Be,ge)};G(ge)}),Y=xi(function(ge,Be,qe){Be===void 0&&(Be=!0),D({type:"SET_FIELD_TOUCHED",payload:{field:ge,value:Be}});var Qe=qe===void 0?a:qe;return Qe?te(R.values):Promise.resolve()}),ce=N.useCallback(function(ge,Be){ge.persist&&ge.persist();var qe=ge.target,Qe=qe.name,ut=qe.id;qe.outerHTML;var pt=Be||Qe||ut;Y(pt,!0)},[Y]),Pe=xi(function(ge){if(iw(ge))return function(Be){return ce(Be,ge)};ce(ge)}),le=N.useCallback(function(ge){Xi(ge)?D({type:"SET_FORMIK_STATE",payload:ge}):D({type:"SET_FORMIK_STATE",payload:function(){return ge}})},[]),oe=N.useCallback(function(ge){D({type:"SET_STATUS",payload:ge})},[]),ye=N.useCallback(function(ge){D({type:"SET_ISSUBMITTING",payload:ge})},[]),Oe=xi(function(){return D({type:"SUBMIT_ATTEMPT"}),te().then(function(ge){var Be=ge instanceof Error,qe=!Be&&Object.keys(ge).length===0;if(qe){var Qe;try{if(Qe=$e(),Qe===void 0)return}catch(ut){throw ut}return Promise.resolve(Qe).then(function(ut){return w.current&&D({type:"SUBMIT_SUCCESS"}),ut}).catch(function(ut){if(w.current)throw D({type:"SUBMIT_FAILURE"}),ut})}else if(w.current&&(D({type:"SUBMIT_FAILURE"}),Be))throw ge})}),ve=xi(function(ge){ge&&ge.preventDefault&&Xi(ge.preventDefault)&&ge.preventDefault(),ge&&ge.stopPropagation&&Xi(ge.stopPropagation)&&ge.stopPropagation(),Oe().catch(function(Be){console.warn("Warning: An unhandled error was caught from submitForm()",Be)})}),Ye={resetForm:ae,validateForm:te,validateField:V,setErrors:he,setFieldError:se,setFieldTouched:Y,setFieldValue:L,setStatus:oe,setSubmitting:ye,setTouched:ie,setValues:z,setFormikState:le,submitForm:Oe},$e=xi(function(){return f(R.values,Ye)}),nt=xi(function(ge){ge&&ge.preventDefault&&Xi(ge.preventDefault)&&ge.preventDefault(),ge&&ge.stopPropagation&&Xi(ge.stopPropagation)&&ge.stopPropagation(),ae()}),et=N.useCallback(function(ge){return{value:ja(R.values,ge),error:ja(R.errors,ge),touched:!!ja(R.touched,ge),initialValue:ja(m.current,ge),initialTouched:!!ja(x.current,ge),initialError:ja(g.current,ge)}},[R.errors,R.touched,R.values]),He=N.useCallback(function(ge){return{setValue:function(qe,Qe){return L(ge,qe,Qe)},setTouched:function(qe,Qe){return Y(ge,qe,Qe)},setError:function(qe){return se(ge,qe)}}},[L,Y,se]),Ft=N.useCallback(function(ge){var Be=gy(ge),qe=Be?ge.name:ge,Qe=ja(R.values,qe),ut={name:qe,value:Qe,onChange:X,onBlur:Pe};if(Be){var pt=ge.type,wt=ge.value,Ht=ge.as,ji=ge.multiple;pt==="checkbox"?wt===void 0?ut.checked=!!Qe:(ut.checked=!!(Array.isArray(Qe)&&~Qe.indexOf(wt)),ut.value=wt):pt==="radio"?(ut.checked=Qe===wt,ut.value=wt):Ht==="select"&&ji&&(ut.value=ut.value||[],ut.multiple=!0)}return ut},[Pe,X,R.values]),jt=N.useMemo(function(){return!xl(m.current,R.values)},[m.current,R.values]),ze=N.useMemo(function(){return typeof s<"u"?jt?R.errors&&Object.keys(R.errors).length===0:s!==!1&&Xi(s)?s(p):s:R.errors&&Object.keys(R.errors).length===0},[s,jt,R.errors,p]),dt=gr({},R,{initialValues:m.current,initialErrors:g.current,initialTouched:x.current,initialStatus:b.current,handleBlur:Pe,handleChange:X,handleReset:nt,handleSubmit:ve,resetForm:ae,setErrors:he,setFormikState:le,setFieldTouched:Y,setFieldValue:L,setFieldError:se,setStatus:oe,setSubmitting:ye,setTouched:ie,setValues:z,submitForm:Oe,validateForm:te,validateField:V,isValid:ze,dirty:jt,unregisterField:Z,registerField:H,getFieldProps:Ft,getFieldMeta:et,getFieldHelpers:He,validateOnBlur:a,validateOnChange:n,validateOnMount:o});return dt}function Kre(e){var t={};if(e.inner){if(e.inner.length===0)return Il(t,e.path,e.message);for(var a=e.inner,n=Array.isArray(a),r=0,a=n?a:a[Symbol.iterator]();;){var i;if(n){if(r>=a.length)break;i=a[r++]}else{if(r=a.next(),r.done)break;i=r.value}var o=i;ja(t,o.path)||(t=Il(t,o.path,o.message))}}return t}function Xre(e,t,n,r){n===void 0&&(n=!1);var a=D_(e);return t[n?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function D_(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(a){return Array.isArray(a)===!0||DD(a)?D_(a):a!==""?a:void 0}):DD(e[r])?t[r]=D_(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function Yre(e,t,n){var r=e.slice();return t.forEach(function(i,o){if(typeof r[o]>"u"){var s=n.clone!==!1,u=s&&n.isMergeableObject(i);r[o]=u?T_(Array.isArray(i)?[]:{},i,n):i}else n.isMergeableObject(i)?r[o]=T_(e[o],i,n):e.indexOf(i)===-1&&r.push(i)}),r}function Qre(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function Zre(e,t,n){if(typeof e=="boolean")return!!t;var r=[],a=!1,i=-1;if(Array.isArray(e))r=e,i=e.indexOf(n),a=i>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!a?r.concat(n):a?r.slice(0,i).concat(r.slice(i+1)):r}var Jre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect;function xi(e){var t=N.useRef(e);return Jre(function(){t.current=e}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current.apply(void 0,r)},[])}var eae=N.forwardRef(function(e,t){var n=e.action,r=Ej(e,["action"]),a=n??"#",i=$re(),o=i.handleReset,s=i.handleSubmit;return N.createElement("form",gr({onSubmit:s,ref:t,onReset:o,action:a},r))});eae.displayName="Form";const tae=GL().shape({name:wo(),rollno:wo(),username:wo(),password:wo().min(6,"Password must be at least 6 characters"),email:wo().email("Invalid email"),mobile:wo().matches(/^[0-9]{10}$/,"Invalid mobile number"),classSection:wo(),department:wo(),cgpa:$L().min(0,"CGPA must be at least 0").max(10,"CGPA cannot exceed 10"),regno:wo()}),nae=["IT","CSE","AIML","AIDS","EEE","ECE","MECH","CSBS"];function rae(){const[e,t]=N.useState([]),[n,r]=N.useState(!1),[a,i]=N.useState(null),[o,s]=N.useState(!0),u=Gre({initialValues:{name:"",rollno:"",username:"",password:"",email:"",mobile:"",classSection:"",department:"",cgpa:"",regno:""},validationSchema:tae,onSubmit:async x=>{try{await fetch("https://marqueebackend.onrender.com/admin/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),r(!0),u.resetForm(),l()}catch(b){console.error("Error adding student:",b)}}}),l=async()=>{s(!0);try{const b=await(await fetch("https://marqueebackend.onrender.com/admin/students")).json();t(b)}catch(x){console.error("Error fetching students:",x)}finally{s(!1)}};N.useEffect(()=>{l()},[]);const f=x=>{i(x)},d=()=>{i(null)},p=N.useRef(null),m=async x=>{const b=x.target.files[0];if(!b)return;const w=new FormData;w.append("file",b);try{const E=await fetch("https://marqueebackend.onrender.com/admin/students/upload",{method:"POST",body:w}),S=await E.json();E.ok?(r(!0),l()):alert(S.detail||"Upload failed")}catch(E){console.error("Upload error:",E),alert("Failed to upload file")}},g=x=>{x.preventDefault(),p.current.click()};return O.jsxs("div",{className:"students-container",children:[O.jsxs("div",{className:"form-section",children:[O.jsx("h2",{className:"gradient-text",children:"Manage Students"}),O.jsxs("form",{onSubmit:u.handleSubmit,className:"student-form",children:[O.jsxs("div",{className:"form-grid",children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Full Name"}),O.jsx("input",{name:"name",value:u.values.name,onChange:u.handleChange,onBlur:u.handleBlur,placeholder:"Enter full name"}),u.touched.name&&u.errors.name&&O.jsx("div",{className:"error-message",children:u.errors.name})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Roll No"}),O.jsx("input",{name:"rollno",value:u.values.rollno,onChange:u.handleChange,onBlur:u.handleBlur,placeholder:"Enter roll number"}),u.touched.rollno&&u.errors.rollno&&O.jsx("div",{className:"error-message",children:u.errors.rollno})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Username"}),O.jsx("input",{name:"username",value:u.values.username,onChange:u.handleChange,onBlur:u.handleBlur,placeholder:"Enter username"}),u.touched.username&&u.errors.username&&O.jsx("div",{className:"error-message",children:u.errors.username})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Password"}),O.jsx("input",{type:"password",name:"password",value:u.values.password,onChange:u.handleChange,onBlur:u.handleBlur,placeholder:"Enter password"}),u.touched.password&&u.errors.password&&O.jsx("div",{className:"error-message",children:u.errors.password})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Email"}),O.jsx("input",{name:"email",value:u.values.email,onChange:u.handleChange,onBlur:u.handleBlur,placeholder:"Enter email"}),u.touched.email&&u.errors.email&&O.jsx("div",{className:"error-message",children:u.errors.email})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Mobile Number"}),O.jsx("input",{name:"mobile",value:u.values.mobile,onChange:u.handleChange,onBlur:u.handleBlur,placeholder:"Enter mobile number"}),u.touched.mobile&&u.errors.mobile&&O.jsx("div",{className:"error-message",children:u.errors.mobile})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Class & Section"}),O.jsx("input",{name:"classSection",value:u.values.classSection,onChange:u.handleChange,onBlur:u.handleBlur,placeholder:"Eg: 3A, 2B etc."}),u.touched.classSection&&u.errors.classSection&&O.jsx("div",{className:"error-message",children:u.errors.classSection})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Department"}),O.jsxs("select",{name:"department",value:u.values.department,onChange:u.handleChange,onBlur:u.handleBlur,children:[O.jsx("option",{value:"",children:"Select Department"}),nae.map(x=>O.jsx("option",{value:x,children:x},x))]}),u.touched.department&&u.errors.department&&O.jsx("div",{className:"error-message",children:u.errors.department})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"CGPA"}),O.jsx("input",{type:"number",step:"0.01",min:"0",max:"10",name:"cgpa",value:u.values.cgpa,onChange:u.handleChange,onBlur:u.handleBlur,placeholder:"Enter CGPA"}),u.touched.cgpa&&u.errors.cgpa&&O.jsx("div",{className:"error-message",children:u.errors.cgpa})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Registration No"}),O.jsx("input",{name:"regno",value:u.values.regno,onChange:u.handleChange,onBlur:u.handleBlur,placeholder:"Enter registration number"}),u.touched.regno&&u.errors.regno&&O.jsx("div",{className:"error-message",children:u.errors.regno})]})]}),O.jsxs("div",{className:"d-flex justify-content-end ",children:[O.jsxs("button",{className:"upload-csv-btn btn  me-4 submit-btn",onClick:x=>{g(x)},children:[O.jsx("i",{className:"bi bi-file-earmark-arrow-up-fill"})," Upload from Excel"]}),O.jsx("input",{type:"file",accept:".csv, .xlsx, .xls, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",ref:p,style:{display:"none"},onChange:m}),O.jsx("button",{type:"submit",className:"submit-btn",children:"Add Student"})]})]})]}),O.jsxs("div",{className:"students-list-section",children:[O.jsxs("h3",{className:"gradient-text",children:["Existing Students (",e.length,")"]}),o?O.jsx("div",{className:"loading-spinner",children:O.jsx("div",{className:"spinner"})}):O.jsx("div",{className:"students-grid",children:e.map((x,b)=>O.jsxs("div",{className:"student-card animate__animated animate__fadeInUp",style:{animationDelay:`${b*.05}s`},children:[O.jsxs("div",{className:"student-info",children:[O.jsx("h4",{children:x.name}),O.jsxs("p",{children:[x.department," - ",x.classSection]}),O.jsxs("div",{className:"student-meta",children:[O.jsxs("span",{children:["Roll: ",x.rollno]}),O.jsxs("span",{children:["CGPA: ",x.cgpa]})]})]}),O.jsxs("button",{className:"view-details-btn",onClick:()=>f(x),children:[O.jsx("i",{className:"bi bi-eye-fill"})," View"]})]},x._id))})]}),n&&O.jsx("div",{className:"modal-overlay",children:O.jsxs("div",{className:"success-modal-sadd animate__animated animate__zoomIn",children:[O.jsx("div",{className:"success-icon",children:O.jsx("i",{className:"bi bi-check-circle-fill"})}),O.jsx("h3",{children:"Student Added Successfully!"}),O.jsx("p",{children:"The new student has been added to the database."}),O.jsx("button",{className:"close-modal-btn",onClick:()=>r(!1),children:"Continue"})]})}),a&&O.jsx("div",{className:"modal-overlay",children:O.jsxs("div",{className:"student-details-modal animate__animated animate__zoomIn",children:[O.jsx("button",{className:"close-btn",onClick:d,children:O.jsx("i",{className:"bi bi-x-lg"})}),O.jsxs("div",{className:"modal-header",children:[O.jsx("h3",{children:a.name}),O.jsxs("p",{className:" text-black",children:[a.department," Department"]})]}),O.jsx("div",{className:"modal-body",children:O.jsxs("div",{className:"details-grid",children:[O.jsxs("div",{className:"detail-item",children:[O.jsx("span",{className:"detail-label",children:"Username:"}),O.jsx("span",{className:"detail-value",children:a.username})]}),O.jsxs("div",{className:"detail-item",children:[O.jsx("span",{className:"detail-label",children:"Roll No:"}),O.jsx("span",{className:"detail-value",children:a.rollno})]}),O.jsxs("div",{className:"detail-item",children:[O.jsx("span",{className:"detail-label",children:"Registration No:"}),O.jsx("span",{className:"detail-value",children:a.regno})]}),O.jsxs("div",{className:"detail-item",children:[O.jsx("span",{className:"detail-label",children:"Email:"}),O.jsx("span",{className:"detail-value",children:a.email})]}),O.jsxs("div",{className:"detail-item",children:[O.jsx("span",{className:"detail-label",children:"Mobile:"}),O.jsx("span",{className:"detail-value",children:a.mobile})]}),O.jsxs("div",{className:"detail-item",children:[O.jsx("span",{className:"detail-label",children:"Class & Section:"}),O.jsx("span",{className:"detail-value",children:a.classSection})]}),O.jsxs("div",{className:"detail-item",children:[O.jsx("span",{className:"detail-label",children:"CGPA:"}),O.jsx("span",{className:"detail-value",children:a.cgpa})]})]})})]})})]})}function Tj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Tj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function en(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Tj(e))&&(r&&(r+=" "),r+=t);return r}var sw={},uw={},iN;function aae(){return iN||(iN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(uw)),uw}var lw={},oN;function Aj(){return oN||(oN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(lw)),lw}var cw={},sN;function Cj(){return sN||(sN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t}(cw)),cw}var fw={},uN;function iT(){return uN||(uN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],a=n.length;if(a===0)return r;let i=0,o="",s="",u=!1;for(n.charCodeAt(0)===46&&(r.push(""),i++);i<a;){const l=n[i];s?l==="\\"&&i+1<a?(i++,o+=n[i]):l===s?s="":o+=l:u?l==='"'||l==="'"?s=l:l==="]"?(u=!1,r.push(o),o=""):o+=l:l==="["?(u=!0,o&&(r.push(o),o="")):l==="."?o&&(r.push(o),o=""):o+=l,i++}return o&&r.push(o),r}e.toPath=t}(fw)),fw}var lN;function oT(){return lN||(lN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aae(),n=Aj(),r=Cj(),a=iT();function i(s,u,l){if(s==null)return l;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return l;const f=s[u];return f===void 0?n.isDeepKey(u)?i(s,a.toPath(u),l):l:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=s[u];return f===void 0?l:f}default:{if(Array.isArray(u))return o(s,u,l);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return l;const f=s[u];return f===void 0?l:f}}}function o(s,u,l){if(u.length===0)return l;let f=s;for(let d=0;d<u.length;d++){if(f==null||t.isUnsafeProperty(u[d]))return l;f=f[u[d]]}return f===void 0?l:f}e.get=i}(sw)),sw}var hw,cN;function iae(){return cN||(cN=1,hw=oT().get),hw}var oae=iae();const Fu=Mi(oae);var sae=_j(),jr=e=>e===0?0:e>0?1:-1,Ni=e=>typeof e=="number"&&e!=+e,Cl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,vt=e=>(typeof e=="number"||e instanceof Number)&&!Ni(e),Lo=e=>vt(e)||typeof e=="string",uae=0,Hf=e=>{var t=++uae;return"".concat(e||"").concat(t)},sa=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!vt(t)&&typeof t!="string")return r;var i;if(Cl(t)){if(n==null)return r;var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Ni(i)&&(i=r),a&&n!=null&&i>n&&(i=n),i},Oj=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},wu=(e,t)=>vt(e)&&vt(t)?n=>e+n*(t-e):()=>t;function lae(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Fu(r,t))===n)}var Yn=e=>e===null||typeof e>"u",qp=e=>Yn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),cae=["viewBox","children"],fae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fN=["points","pathLength"],dw={svg:cae,polygon:fN,polyline:fN},sT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hae=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{sT.includes(a)&&(r[a]=i=>n[a](n,i))}),r},dae=(e,t,n)=>r=>(e(t,n,r),null),Gp=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];sT.includes(a)&&typeof i=="function"&&(r||(r={}),r[a]=dae(i,t,n))}),r},hN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",dN=null,pw=null,Rj=e=>{if(e===dN&&Array.isArray(pw))return pw;var t=[];return N.Children.forEach(e,n=>{Yn(n)||(sae.isFragment(n)?t=t.concat(Rj(n.props.children)):t.push(n))}),pw=t,dN=e,t};function Kp(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>hN(a)):r=[hN(t)],Rj(e).forEach(a=>{var i=Fu(a,"type.displayName")||Fu(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}var pae=(e,t,n,r)=>{var a,i=(a=r&&dw?.[r])!==null&&a!==void 0?a:[];return t.startsWith("data-")||typeof e!="function"&&(r&&i.includes(t)||fae.includes(t))||n&&sT.includes(t)},fn=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(i=>{var o;pae((o=r)===null||o===void 0?void 0:o[i],i,t,n)&&(a[i]=r[i])}),a},vae=["children","width","height","viewBox","className","style","title","desc"];function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N_.apply(null,arguments)}function mae(e,t){if(e==null)return{};var n,r,a=gae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uT=N.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:u,desc:l}=e,f=mae(e,vae),d=i||{width:r,height:a,x:0,y:0},p=en("recharts-surface",o);return N.createElement("svg",N_({},fn(f,!0,"svg"),{className:p,width:r,height:a,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),N.createElement("title",null,u),N.createElement("desc",null,l),n)}),yae=["children","className"];function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k_.apply(null,arguments)}function xae(e,t){if(e==null)return{};var n,r,a=bae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var la=N.forwardRef((e,t)=>{var{children:n,className:r}=e,a=xae(e,yae),i=en("recharts-layer",r);return N.createElement("g",k_({className:i},fn(a,!0),{ref:t}),n)}),Dj=N.createContext(null),wae=()=>N.useContext(Dj);function gn(e){return function(){return e}}const Nj=Math.cos,Jm=Math.sin,lo=Math.sqrt,eg=Math.PI,yy=2*eg,P_=Math.PI,M_=2*P_,bl=1e-6,_ae=M_-bl;function kj(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Eae(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kj;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Sae{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kj:Eae(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,u=r-t,l=a-n,f=o-t,d=s-n,p=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>bl)if(!(Math.abs(d*u-l*f)>bl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,g=a-s,x=u*u+l*l,b=m*m+g*g,w=Math.sqrt(x),E=Math.sqrt(p),S=i*Math.tan((P_-Math.acos((x+p-b)/(2*w*E)))/2),A=S/E,T=S/w;Math.abs(A-1)>bl&&this._append`L${t+A*f},${n+A*d}`,this._append`A${i},${i},0,0,${+(d*m>f*g)},${this._x1=t+T*u},${this._y1=n+T*l}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),u=r*Math.sin(a),l=t+s,f=n+u,d=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${l},${f}`:(Math.abs(this._x1-l)>bl||Math.abs(this._y1-f)>bl)&&this._append`L${l},${f}`,r&&(p<0&&(p=p%M_+M_),p>_ae?this._append`A${r},${r},0,1,${d},${t-s},${n-u}A${r},${r},0,1,${d},${this._x1=l},${this._y1=f}`:p>bl&&this._append`A${r},${r},0,${+(p>=P_)},${d},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function lT(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Sae(t)}function cT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Pj(e){this._context=e}Pj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xy(e){return new Pj(e)}function Mj(e){return e[0]}function Ij(e){return e[1]}function Fj(e,t){var n=gn(!0),r=null,a=xy,i=null,o=lT(s);e=typeof e=="function"?e:e===void 0?Mj:gn(e),t=typeof t=="function"?t:t===void 0?Ij:gn(t);function s(u){var l,f=(u=cT(u)).length,d,p=!1,m;for(r==null&&(i=a(m=o())),l=0;l<=f;++l)!(l<f&&n(d=u[l],l,u))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(d,l,u),+t(d,l,u));if(m)return i=null,m+""||null}return s.x=function(u){return arguments.length?(e=typeof u=="function"?u:gn(+u),s):e},s.y=function(u){return arguments.length?(t=typeof u=="function"?u:gn(+u),s):t},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:gn(!!u),s):n},s.curve=function(u){return arguments.length?(a=u,r!=null&&(i=a(r)),s):a},s.context=function(u){return arguments.length?(u==null?r=i=null:i=a(r=u),s):r},s}function Kv(e,t,n){var r=null,a=gn(!0),i=null,o=xy,s=null,u=lT(l);e=typeof e=="function"?e:e===void 0?Mj:gn(+e),t=typeof t=="function"?t:gn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Ij:gn(+n);function l(d){var p,m,g,x=(d=cT(d)).length,b,w=!1,E,S=new Array(x),A=new Array(x);for(i==null&&(s=o(E=u())),p=0;p<=x;++p){if(!(p<x&&a(b=d[p],p,d))===w)if(w=!w)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=p-1;g>=m;--g)s.point(S[g],A[g]);s.lineEnd(),s.areaEnd()}w&&(S[p]=+e(b,p,d),A[p]=+t(b,p,d),s.point(r?+r(b,p,d):S[p],n?+n(b,p,d):A[p]))}if(E)return s=null,E+""||null}function f(){return Fj().defined(a).curve(o).context(i)}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:gn(+d),r=null,l):e},l.x0=function(d){return arguments.length?(e=typeof d=="function"?d:gn(+d),l):e},l.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:gn(+d),l):r},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:gn(+d),n=null,l):t},l.y0=function(d){return arguments.length?(t=typeof d=="function"?d:gn(+d),l):t},l.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:gn(+d),l):n},l.lineX0=l.lineY0=function(){return f().x(e).y(t)},l.lineY1=function(){return f().x(e).y(n)},l.lineX1=function(){return f().x(r).y(t)},l.defined=function(d){return arguments.length?(a=typeof d=="function"?d:gn(!!d),l):a},l.curve=function(d){return arguments.length?(o=d,i!=null&&(s=o(i)),l):o},l.context=function(d){return arguments.length?(d==null?i=s=null:s=o(i=d),l):i},l}class Bj{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Tae(e){return new Bj(e,!0)}function Aae(e){return new Bj(e,!1)}const fT={draw(e,t){const n=lo(t/eg);e.moveTo(n,0),e.arc(0,0,n,0,yy)}},Cae={draw(e,t){const n=lo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Lj=lo(1/3),Oae=Lj*2,Rae={draw(e,t){const n=lo(t/Oae),r=n*Lj;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Dae={draw(e,t){const n=lo(t),r=-n/2;e.rect(r,r,n,n)}},Nae=.8908130915292852,jj=Jm(eg/10)/Jm(7*eg/10),kae=Jm(yy/10)*jj,Pae=-Nj(yy/10)*jj,Mae={draw(e,t){const n=lo(t*Nae),r=kae*n,a=Pae*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=yy*i/5,s=Nj(o),u=Jm(o);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*a,u*r+s*a)}e.closePath()}},vw=lo(3),Iae={draw(e,t){const n=-lo(t/(vw*3));e.moveTo(0,n*2),e.lineTo(-vw*n,-n),e.lineTo(vw*n,-n),e.closePath()}},bi=-.5,wi=lo(3)/2,I_=1/lo(12),Fae=(I_/2+1)*3,Bae={draw(e,t){const n=lo(t/Fae),r=n/2,a=n*I_,i=r,o=n*I_+n,s=-i,u=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,u),e.lineTo(bi*r-wi*a,wi*r+bi*a),e.lineTo(bi*i-wi*o,wi*i+bi*o),e.lineTo(bi*s-wi*u,wi*s+bi*u),e.lineTo(bi*r+wi*a,bi*a-wi*r),e.lineTo(bi*i+wi*o,bi*o-wi*i),e.lineTo(bi*s+wi*u,bi*u-wi*s),e.closePath()}};function Lae(e,t){let n=null,r=lT(a);e=typeof e=="function"?e:gn(e||fT),t=typeof t=="function"?t:gn(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:gn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:gn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function tg(){}function ng(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Uj(e){this._context=e}Uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ng(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ng(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jae(e){return new Uj(e)}function zj(e){this._context=e}zj.prototype={areaStart:tg,areaEnd:tg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ng(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uae(e){return new zj(e)}function Wj(e){this._context=e}Wj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ng(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zae(e){return new Wj(e)}function Hj(e){this._context=e}Hj.prototype={areaStart:tg,areaEnd:tg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Wae(e){return new Hj(e)}function pN(e){return e<0?-1:1}function vN(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(pN(i)+pN(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function mN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function mw(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function rg(e){this._context=e}rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mw(this,this._t0,mN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mw(this,mN(this,n=vN(this,e,t)),n);break;default:mw(this,this._t0,n=vN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function $j(e){this._context=new Vj(e)}($j.prototype=Object.create(rg.prototype)).point=function(e,t){rg.prototype.point.call(this,t,e)};function Vj(e){this._context=e}Vj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function Hae(e){return new rg(e)}function $ae(e){return new $j(e)}function qj(e){this._context=e}qj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=gN(e),a=gN(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function gN(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Vae(e){return new qj(e)}function by(e,t){this._context=e,this._t=t}by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function qae(e){return new by(e,.5)}function Gae(e){return new by(e,0)}function Kae(e){return new by(e,1)}function $f(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function F_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Xae(e,t){return e[t]}function Yae(e){const t=[];return t.key=e,t}function Qae(){var e=gn([]),t=F_,n=$f,r=Xae;function a(i){var o=Array.from(e.apply(this,arguments),Yae),s,u=o.length,l=-1,f;for(const d of i)for(s=0,++l;s<u;++s)(o[s][l]=[0,+r(d,o[s].key,l,i)]).data=d;for(s=0,f=cT(t(o));s<u;++s)o[f[s]].index=s;return n(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:gn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:gn(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?F_:typeof i=="function"?i:gn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??$f,a):n},a}function Zae(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}$f(e,t)}}function Jae(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}$f(e,t)}}function eie(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,u=0,l=0;s<o;++s){for(var f=e[t[s]],d=f[r][1]||0,p=f[r-1][1]||0,m=(d-p)/2,g=0;g<s;++g){var x=e[t[g]],b=x[r][1]||0,w=x[r-1][1]||0;m+=b-w}u+=d,l+=m*d}a[r-1][1]+=a[r-1][0]=n,u&&(n-=l/u)}a[r-1][1]+=a[r-1][0]=n,$f(e,t)}}var tie=["type","size","sizeType"];function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B_.apply(null,arguments)}function yN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(n),!0).forEach(function(r){nie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nie(e,t,n){return(t=rie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rie(e){var t=aie(e,"string");return typeof t=="symbol"?t:t+""}function aie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iie(e,t){if(e==null)return{};var n,r,a=oie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gj={symbolCircle:fT,symbolCross:Cae,symbolDiamond:Rae,symbolSquare:Dae,symbolStar:Mae,symbolTriangle:Iae,symbolWye:Bae},sie=Math.PI/180,uie=e=>{var t="symbol".concat(qp(e));return Gj[t]||fT},lie=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*sie;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cie=(e,t)=>{Gj["symbol".concat(qp(e))]=t},hT=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=iie(e,tie),i=xN(xN({},a),{},{type:t,size:n,sizeType:r}),o=()=>{var d=uie(t),p=Lae().type(d).size(lie(n,r,t));return p()},{className:s,cx:u,cy:l}=i,f=fn(i,!0);return u===+u&&l===+l&&n===+n?N.createElement("path",B_({},f,{className:en("recharts-symbols",s),transform:"translate(".concat(u,", ").concat(l,")"),d:o()})):null};hT.registerSymbol=cie;function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L_.apply(null,arguments)}function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){dT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dT(e,t,n){return(t=hie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hie(e){var t=die(e,"string");return typeof t=="symbol"?t:t+""}function die(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _i=32;class pT extends N.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,a=_i/2,i=_i/6,o=_i/3,s=t.inactive?r:t.color,u=n??t.type;if(u==="none")return null;if(u==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:_i,y2:a,className:"recharts-legend-icon"});if(u==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(_i,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return N.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(_i/8,"h").concat(_i,"v").concat(_i*3/4,"h").concat(-_i,"z"),className:"recharts-legend-icon"});if(N.isValidElement(t.legendIcon)){var l=fie({},t);return delete l.legendIcon,N.cloneElement(t.legendIcon,l)}return N.createElement(hT,{fill:s,cx:a,cy:a,size:_i,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=this.props,s={x:0,y:0,width:_i,height:_i},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,d)=>{var p=f.formatter||a,m=en({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:f.inactive});if(f.type==="none")return null;var g=f.inactive?i:f.color,x=p?p(f.value,f,d):f.value;return N.createElement("li",L_({className:m,style:u,key:"legend-item-".concat(d)},Gp(this.props,f,d)),N.createElement(uT,{width:n,height:n,viewBox:s,style:l,"aria-label":"".concat(x," legend icon")},this.renderIcon(f,o)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},x))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}dT(pT,"displayName","Legend");dT(pT,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var gw={},yw={},wN;function pie(){return wN||(wN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t}(yw)),yw}var xw={},_N;function Kj(){return _N||(_N=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(xw)),xw}var bw={},ww={},_w={},EN;function vie(){return EN||(EN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(_w)),_w}var SN;function vT(){return SN||(SN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vie();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n}(ww)),ww}var Ew={},TN;function mie(){return TN||(TN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(Ew)),Ew}var AN;function gie(){return AN||(AN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vT(),n=mie();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r}(bw)),bw}var Sw={},Tw={},CN;function yie(){return CN||(CN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oT();function n(r){return function(a){return t.get(a,r)}}e.property=n}(Tw)),Tw}var Aw={},Cw={},Ow={},Rw={},ON;function Xj(){return ON||(ON=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(Rw)),Rw}var Dw={},RN;function Yj(){return RN||(RN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(Dw)),Dw}var Nw={},DN;function mT(){return DN||(DN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t}(Nw)),Nw}var NN;function xie(){return NN||(NN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT(),n=Xj(),r=Yj(),a=mT();function i(d,p,m){return typeof m!="function"?t.isMatch(d,p):o(d,p,function g(x,b,w,E,S,A){const T=m(x,b,w,E,S,A);return T!==void 0?!!T:o(x,b,g,A)},new Map)}function o(d,p,m,g){if(p===d)return!0;switch(typeof p){case"object":return s(d,p,m,g);case"function":return Object.keys(p).length>0?o(d,{...p},m,g):a.eq(d,p);default:return n.isObject(d)?typeof p=="string"?p==="":!0:a.eq(d,p)}}function s(d,p,m,g){if(p==null)return!0;if(Array.isArray(p))return l(d,p,m,g);if(p instanceof Map)return u(d,p,m,g);if(p instanceof Set)return f(d,p,m,g);const x=Object.keys(p);if(d==null)return x.length===0;if(x.length===0)return!0;if(g&&g.has(p))return g.get(p)===d;g&&g.set(p,d);try{for(let b=0;b<x.length;b++){const w=x[b];if(!r.isPrimitive(d)&&!(w in d)||p[w]===void 0&&d[w]!==void 0||p[w]===null&&d[w]!==null||!m(d[w],p[w],w,d,p,g))return!1}return!0}finally{g&&g.delete(p)}}function u(d,p,m,g){if(p.size===0)return!0;if(!(d instanceof Map))return!1;for(const[x,b]of p.entries()){const w=d.get(x);if(m(w,b,x,d,p,g)===!1)return!1}return!0}function l(d,p,m,g){if(p.length===0)return!0;if(!Array.isArray(d))return!1;const x=new Set;for(let b=0;b<p.length;b++){const w=p[b];let E=!1;for(let S=0;S<d.length;S++){if(x.has(S))continue;const A=d[S];let T=!1;if(m(A,w,b,d,p,g)&&(T=!0),T){x.add(S),E=!0;break}}if(!E)return!1}return!0}function f(d,p,m,g){return p.size===0?!0:d instanceof Set?l([...d],[...p],m,g):!1}e.isMatchWith=i,e.isSetMatch=f}(Ow)),Ow}var kN;function gT(){return kN||(kN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xie();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n}(Cw)),Cw}var kw={},Pw={},Mw={},PN;function Qj(){return PN||(PN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t}(Mw)),Mw}var Iw={},MN;function yT(){return MN||(MN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(Iw)),Iw}var Fw={},IN;function xT(){return IN||(IN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",u="[object Map]",l="[object Set]",f="[object Array]",d="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",x="[object DataView]",b="[object Uint8Array]",w="[object Uint8ClampedArray]",E="[object Uint16Array]",S="[object Uint32Array]",A="[object BigUint64Array]",T="[object Int8Array]",R="[object Int16Array]",D="[object Int32Array]",P="[object BigInt64Array]",k="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=f,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=A,e.booleanTag=a,e.dataViewTag=x,e.dateTag=s,e.errorTag=g,e.float32ArrayTag=k,e.float64ArrayTag=I,e.functionTag=d,e.int16ArrayTag=R,e.int32ArrayTag=D,e.int8ArrayTag=T,e.mapTag=u,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=l,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=E,e.uint32ArrayTag=S,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=w}(Fw)),Fw}var Bw={},FN;function bie(){return FN||(FN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(Bw)),Bw}var BN;function Zj(){return BN||(BN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qj(),n=yT(),r=xT(),a=Yj(),i=bie();function o(f,d){return s(f,void 0,f,new Map,d)}function s(f,d,p,m=new Map,g=void 0){const x=g?.(f,d,p,m);if(x!=null)return x;if(a.isPrimitive(f))return f;if(m.has(f))return m.get(f);if(Array.isArray(f)){const b=new Array(f.length);m.set(f,b);for(let w=0;w<f.length;w++)b[w]=s(f[w],w,p,m,g);return Object.hasOwn(f,"index")&&(b.index=f.index),Object.hasOwn(f,"input")&&(b.input=f.input),b}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const b=new RegExp(f.source,f.flags);return b.lastIndex=f.lastIndex,b}if(f instanceof Map){const b=new Map;m.set(f,b);for(const[w,E]of f)b.set(w,s(E,w,p,m,g));return b}if(f instanceof Set){const b=new Set;m.set(f,b);for(const w of f)b.add(s(w,void 0,p,m,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const b=new(Object.getPrototypeOf(f)).constructor(f.length);m.set(f,b);for(let w=0;w<f.length;w++)b[w]=s(f[w],w,p,m,g);return b}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const b=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return m.set(f,b),u(b,f,p,m,g),b}if(typeof File<"u"&&f instanceof File){const b=new File([f],f.name,{type:f.type});return m.set(f,b),u(b,f,p,m,g),b}if(f instanceof Blob){const b=new Blob([f],{type:f.type});return m.set(f,b),u(b,f,p,m,g),b}if(f instanceof Error){const b=new f.constructor;return m.set(f,b),b.message=f.message,b.name=f.name,b.stack=f.stack,b.cause=f.cause,u(b,f,p,m,g),b}if(typeof f=="object"&&l(f)){const b=Object.create(Object.getPrototypeOf(f));return m.set(f,b),u(b,f,p,m,g),b}return f}function u(f,d,p=f,m,g){const x=[...Object.keys(d),...t.getSymbols(d)];for(let b=0;b<x.length;b++){const w=x[b],E=Object.getOwnPropertyDescriptor(f,w);(E==null||E.writable)&&(f[w]=s(d[w],w,p,m,g))}}function l(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=u}(Pw)),Pw}var LN;function wie(){return LN||(LN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zj();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n}(kw)),kw}var jN;function _ie(){return jN||(jN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT(),n=wie();function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r}(Aw)),Aw}var Lw={},jw={},Uw={},UN;function Eie(){return UN||(UN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zj(),n=xT();function r(a,i){return t.cloneDeepWith(a,(o,s,u,l)=>{const f=i?.(o,s,u,l);if(f!=null)return f;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new a.constructor(a?.valueOf());return t.copyProperties(d,a),d}case n.argumentsTag:{const d={};return t.copyProperties(d,a),d.length=a.length,d[Symbol.iterator]=a[Symbol.iterator],d}default:return}})}e.cloneDeepWith=r}(Uw)),Uw}var zN;function Sie(){return zN||(zN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eie();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n}(jw)),jw}var zw={},Ww={},WN;function Jj(){return WN||(WN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n}(Ww)),Ww}var Hw={},HN;function Tie(){return HN||(HN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yT();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n}(Hw)),Hw}var $N;function Aie(){return $N||($N=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aj(),n=Jj(),r=Tie(),a=iT();function i(o,s){let u;if(Array.isArray(s)?u=s:typeof s=="string"&&t.isDeepKey(s)&&o?.[s]==null?u=a.toPath(s):u=[s],u.length===0)return!1;let l=o;for(let f=0;f<u.length;f++){const d=u[f];if((l==null||!Object.hasOwn(l,d))&&!((Array.isArray(l)||r.isArguments(l))&&n.isIndex(d)&&d<l.length))return!1;l=l[d]}return!0}e.has=i}(zw)),zw}var VN;function Cie(){return VN||(VN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT(),n=Cj(),r=Sie(),a=oT(),i=Aie();function o(s,u){switch(typeof s){case"object":{Object.is(s?.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return u=r.cloneDeep(u),function(l){const f=a.get(l,s);return f===void 0?i.has(l,s):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=o}(Lw)),Lw}var qN;function Oie(){return qN||(qN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kj(),n=yie(),r=_ie(),a=Cie();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i}(Sw)),Sw}var GN;function Rie(){return GN||(GN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pie(),n=Kj(),r=gie(),a=Oie();function i(o,s=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(s)):[]}e.uniqBy=i}(gw)),gw}var $w,KN;function Die(){return KN||(KN=1,$w=Rie().uniqBy),$w}var Nie=Die();const XN=Mi(Nie);function e6(e,t,n){return t===!0?XN(e,n):typeof t=="function"?XN(e,t):e}var Vw={exports:{}},qw={},Gw={exports:{}},Kw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN;function kie(){if(YN)return Kw;YN=1;var e=eh();function t(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function s(d,p){var m=p(),g=r({inst:{value:m,getSnapshot:p}}),x=g[0].inst,b=g[1];return i(function(){x.value=m,x.getSnapshot=p,u(x)&&b({inst:x})},[d,m,p]),a(function(){return u(x)&&b({inst:x}),d(function(){u(x)&&b({inst:x})})},[d]),o(m),m}function u(d){var p=d.getSnapshot;d=d.value;try{var m=p();return!n(d,m)}catch{return!0}}function l(d,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:s;return Kw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Kw}var QN;function Pie(){return QN||(QN=1,Gw.exports=kie()),Gw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN;function Mie(){if(ZN)return qw;ZN=1;var e=eh(),t=Pie();function n(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,u=e.useDebugValue;return qw.useSyncExternalStoreWithSelector=function(l,f,d,p,m){var g=i(null);if(g.current===null){var x={hasValue:!1,value:null};g.current=x}else x=g.current;g=s(function(){function w(R){if(!E){if(E=!0,S=R,R=p(R),m!==void 0&&x.hasValue){var D=x.value;if(m(D,R))return A=D}return A=R}if(D=A,r(S,R))return D;var P=p(R);return m!==void 0&&m(D,P)?(S=R,D):(S=R,A=P)}var E=!1,S,A,T=d===void 0?null:d;return[function(){return w(f())},T===null?void 0:function(){return w(T())}]},[f,d,p,m]);var b=a(l,g[0],g[1]);return o(function(){x.hasValue=!0,x.value=b},[b]),u(b),b},qw}var JN;function Iie(){return JN||(JN=1,Vw.exports=Mie()),Vw.exports}var Fie=Iie(),bT=N.createContext(null),Bie=e=>e,An=()=>{var e=N.useContext(bT);return e?e.store.dispatch:Bie},wm=()=>{},Lie=()=>wm,jie=(e,t)=>e===t;function gt(e){var t=N.useContext(bT);return Fie.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Lie,t?t.store.getState:wm,t?t.store.getState:wm,t?e:wm,jie)}function Uie(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function zie(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Wie(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var ek=e=>Array.isArray(e)?e:[e];function Hie(e){const t=Array.isArray(e[0])?e[0]:e;return Wie(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $ie(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var Vie=class{constructor(e){this.value=e}deref(){return this.value}},qie=typeof WeakRef<"u"?WeakRef:Vie,Gie=0,tk=1;function Xv(){return{s:Gie,v:void 0,o:null,p:null}}function t6(e,t={}){let n=Xv();const{resultEqualityCheck:r}=t;let a,i=0;function o(){let s=n;const{length:u}=arguments;for(let d=0,p=u;d<p;d++){const m=arguments[d];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const x=g.get(m);x===void 0?(s=Xv(),g.set(m,s)):s=x}else{let g=s.p;g===null&&(s.p=g=new Map);const x=g.get(m);x===void 0?(s=Xv(),g.set(m,s)):s=x}}const l=s;let f;if(s.s===tk)f=s.v;else if(f=e.apply(null,arguments),i++,r){const d=a?.deref?.()??a;d!=null&&r(d,f)&&(f=d,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new qie(f):f}return l.s=tk,l.v=f,f}return o.clearCache=()=>{n=Xv(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Kie(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,u={},l=a.pop();typeof l=="object"&&(u=l,l=a.pop()),Uie(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const f={...n,...u},{memoize:d,memoizeOptions:p=[],argsMemoize:m=t6,argsMemoizeOptions:g=[]}=f,x=ek(p),b=ek(g),w=Hie(a),E=d(function(){return i++,l.apply(null,arguments)},...x),S=m(function(){o++;const T=$ie(w,arguments);return s=E.apply(null,T),s},...b);return Object.assign(S,{resultFunc:l,memoizedResultFunc:E,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:d,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var De=Kie(t6),Xie=Object.assign((e,t=De)=>{zie(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(i=>e[i]);return t(r,(...i)=>i.reduce((o,s,u)=>(o[n[u]]=s,o),{}))},{withTypes:()=>Xie}),Xw={},Yw={},Qw={},nk;function Yie(){return nk||(nk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n}(Qw)),Qw}var Zw={},Jw={},rk;function n6(){return rk||(rk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(Jw)),Jw}var ak;function Qie(){return ak||(ak=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a}(Zw)),Zw}var ik;function Zie(){return ik||(ik=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yie(),n=Qie(),r=iT();function a(i,o,s,u){if(i==null)return[];s=u?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const l=(m,g)=>{let x=m;for(let b=0;b<g.length&&x!=null;++b)x=x[g[b]];return x},f=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:l(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?l(g,m):typeof g=="object"?g[m]:g,d=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return i.map(m=>({original:m,criteria:d.map(g=>f(g,m))})).slice().sort((m,g)=>{for(let x=0;x<d.length;x++){const b=t.compareValues(m.criteria[x],g.criteria[x],s[x]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=a}(Yw)),Yw}var e2={},ok;function Jie(){return ok||(ok=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,u)=>{for(let l=0;l<s.length;l++){const f=s[l];Array.isArray(f)&&u<i?o(f,u+1):a.push(f)}};return o(n,0),a}e.flatten=t}(e2)),e2}var t2={},sk;function r6(){return sk||(sk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jj(),n=vT(),r=Xj(),a=mT();function i(o,s,u){return r.isObject(u)&&(typeof s=="number"&&n.isArrayLike(u)&&t.isIndex(s)&&s<u.length||typeof s=="string"&&s in u)?a.eq(u[s],o):!1}e.isIterateeCall=i}(t2)),t2}var uk;function eoe(){return uk||(uk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zie(),n=Jie(),r=r6();function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a}(Xw)),Xw}var n2,lk;function toe(){return lk||(lk=1,n2=eoe().sortBy),n2}var noe=toe();const wy=Mi(noe);var a6=e=>e.legend.settings,roe=e=>e.legend.size,aoe=e=>e.legend.payload,ioe=De([aoe,a6],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?wy(r,n):r});function ooe(){return gt(ioe)}var Yv=1;function i6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Yv||Math.abs(o.left-t.left)>Yv||Math.abs(o.top-t.top)>Yv||Math.abs(o.width-t.width)>Yv)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Nr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var soe=typeof Symbol=="function"&&Symbol.observable||"@@observable",ck=soe,r2=()=>Math.random().toString(36).substring(7).split("").join("."),uoe={INIT:`@@redux/INIT${r2()}`,REPLACE:`@@redux/REPLACE${r2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${r2()}`},ag=uoe;function wT(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function o6(e,t,n){if(typeof e!="function")throw new Error(Nr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Nr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Nr(1));return n(o6)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,u=!1;function l(){o===i&&(o=new Map,i.forEach((b,w)=>{o.set(w,b)}))}function f(){if(u)throw new Error(Nr(3));return a}function d(b){if(typeof b!="function")throw new Error(Nr(4));if(u)throw new Error(Nr(5));let w=!0;l();const E=s++;return o.set(E,b),function(){if(w){if(u)throw new Error(Nr(6));w=!1,l(),o.delete(E),i=null}}}function p(b){if(!wT(b))throw new Error(Nr(7));if(typeof b.type>"u")throw new Error(Nr(8));if(typeof b.type!="string")throw new Error(Nr(17));if(u)throw new Error(Nr(9));try{u=!0,a=r(a,b)}finally{u=!1}return(i=o).forEach(E=>{E()}),b}function m(b){if(typeof b!="function")throw new Error(Nr(10));r=b,p({type:ag.REPLACE})}function g(){const b=d;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Nr(11));function E(){const A=w;A.next&&A.next(f())}return E(),{unsubscribe:b(E)}},[ck](){return this}}}return p({type:ag.INIT}),{dispatch:p,subscribe:d,getState:f,replaceReducer:m,[ck]:g}}function loe(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:ag.INIT})>"u")throw new Error(Nr(12));if(typeof n(void 0,{type:ag.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nr(13))})}function s6(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{loe(n)}catch(i){a=i}return function(o={},s){if(a)throw a;let u=!1;const l={};for(let f=0;f<r.length;f++){const d=r[f],p=n[d],m=o[d],g=p(m,s);if(typeof g>"u")throw s&&s.type,new Error(Nr(14));l[d]=g,u=u||g!==m}return u=u||r.length!==Object.keys(o).length,u?l:o}}function ig(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function coe(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(Nr(15))};const o={getState:a.getState,dispatch:(u,...l)=>i(u,...l)},s=e.map(u=>u(o));return i=ig(...s)(a.dispatch),{...a,dispatch:i}}}function u6(e){return wT(e)&&"type"in e&&typeof e.type=="string"}var l6=Symbol.for("immer-nothing"),fk=Symbol.for("immer-draftable"),ai=Symbol.for("immer-state");function Qi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vf=Object.getPrototypeOf;function Vl(e){return!!e&&!!e[ai]}function Ts(e){return e?c6(e)||Array.isArray(e)||!!e[fk]||!!e.constructor?.[fk]||Ey(e)||Sy(e):!1}var foe=Object.prototype.constructor.toString();function c6(e){if(!e||typeof e!="object")return!1;const t=Vf(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===foe}function og(e,t){_y(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function _y(e){const t=e[ai];return t?t.type_:Array.isArray(e)?1:Ey(e)?2:Sy(e)?3:0}function j_(e,t){return _y(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function f6(e,t,n){const r=_y(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function hoe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ey(e){return e instanceof Map}function Sy(e){return e instanceof Set}function wl(e){return e.copy_||e.base_}function U_(e,t){if(Ey(e))return new Map(e);if(Sy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=c6(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ai];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Vf(e),r)}else{const r=Vf(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function _T(e,t=!1){return Ty(e)||Vl(e)||!Ts(e)||(_y(e)>1&&(e.set=e.add=e.clear=e.delete=doe),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>_T(r,!0))),e}function doe(){Qi(2)}function Ty(e){return Object.isFrozen(e)}var poe={};function ql(e){const t=poe[e];return t||Qi(0,e),t}var dp;function h6(){return dp}function voe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hk(e,t){t&&(ql("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function z_(e){W_(e),e.drafts_.forEach(moe),e.drafts_=null}function W_(e){e===dp&&(dp=e.parent_)}function dk(e){return dp=voe(dp,e)}function moe(e){const t=e[ai];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ai].modified_&&(z_(t),Qi(4)),Ts(e)&&(e=sg(t,e),t.parent_||ug(t,e)),t.patches_&&ql("Patches").generateReplacementPatches_(n[ai].base_,e,t.patches_,t.inversePatches_)):e=sg(t,n,[]),z_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==l6?e:void 0}function sg(e,t,n){if(Ty(t))return t;const r=t[ai];if(!r)return og(t,(a,i)=>vk(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return ug(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let i=a,o=!1;r.type_===3&&(i=new Set(a),a.clear(),o=!0),og(i,(s,u)=>vk(e,r,a,s,u,n,o)),ug(e,a,!1),n&&e.patches_&&ql("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function vk(e,t,n,r,a,i,o){if(Vl(a)){const s=i&&t&&t.type_!==3&&!j_(t.assigned_,r)?i.concat(r):void 0,u=sg(e,a,s);if(f6(n,r,u),Vl(u))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(Ts(a)&&!Ty(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;sg(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&ug(e,a)}}function ug(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_T(t,n)}function goe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:h6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=ET;n&&(a=[r],i=pp);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var ET={get(e,t){if(t===ai)return e;const n=wl(e);if(!j_(n,t))return yoe(e,n,t);const r=n[t];return e.finalized_||!Ts(r)?r:r===a2(e.base_,t)?(i2(e),e.copy_[t]=$_(r,e)):r},has(e,t){return t in wl(e)},ownKeys(e){return Reflect.ownKeys(wl(e))},set(e,t,n){const r=d6(wl(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=a2(wl(e),t),i=a?.[ai];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(hoe(n,a)&&(n!==void 0||j_(e.base_,t)))return!0;i2(e),H_(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return a2(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,i2(e),H_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=wl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Qi(11)},getPrototypeOf(e){return Vf(e.base_)},setPrototypeOf(){Qi(12)}},pp={};og(ET,(e,t)=>{pp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});pp.deleteProperty=function(e,t){return pp.set.call(this,e,t,void 0)};pp.set=function(e,t,n){return ET.set.call(this,e[0],t,n,e[0])};function a2(e,t){const n=e[ai];return(n?wl(n):e)[t]}function yoe(e,t,n){const r=d6(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function d6(e,t){if(!(t in e))return;let n=Vf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Vf(n)}}function H_(e){e.modified_||(e.modified_=!0,e.parent_&&H_(e.parent_))}function i2(e){e.copy_||(e.copy_=U_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xoe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(u=i,...l){return o.produce(u,f=>n.call(this,f,...l))}}typeof n!="function"&&Qi(6),r!==void 0&&typeof r!="function"&&Qi(7);let a;if(Ts(t)){const i=dk(this),o=$_(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?z_(i):W_(i)}return hk(i,r),pk(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===l6&&(a=void 0),this.autoFreeze_&&_T(a,!0),r){const i=[],o=[];ql("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else Qi(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,u=>t(u,...s));let r,a;return[this.produce(t,n,(o,s)=>{r=o,a=s}),r,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ts(e)||Qi(8),Vl(e)&&(e=xs(e));const t=dk(this),n=$_(e,void 0);return n[ai].isManual_=!0,W_(t),n}finishDraft(e,t){const n=e&&e[ai];(!n||!n.isManual_)&&Qi(9);const{scope_:r}=n;return hk(r,t),pk(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=ql("Patches").applyPatches_;return Vl(e)?r(e,t):this.produce(e,a=>r(a,t))}};function $_(e,t){const n=Ey(e)?ql("MapSet").proxyMap_(e,t):Sy(e)?ql("MapSet").proxySet_(e,t):goe(e,t);return(t?t.scope_:h6()).drafts_.push(n),n}function xs(e){return Vl(e)||Qi(10,e),p6(e)}function p6(e){if(!Ts(e)||Ty(e))return e;const t=e[ai];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=U_(e,t.scope_.immer_.useStrictShallowCopy_)}else n=U_(e,!0);return og(n,(r,a)=>{f6(n,r,p6(a))}),t&&(t.finalized_=!1),n}var ii=new xoe,v6=ii.produce;ii.produceWithPatches.bind(ii);ii.setAutoFreeze.bind(ii);ii.setUseStrictShallowCopy.bind(ii);ii.applyPatches.bind(ii);ii.createDraft.bind(ii);ii.finishDraft.bind(ii);function m6(e){return({dispatch:n,getState:r})=>a=>i=>typeof i=="function"?i(n,r,e):a(i)}var boe=m6(),woe=m6,_oe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ig:ig.apply(null,arguments)};function ki(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(ni(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>u6(r)&&r.type===e,n}var g6=class Ud extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ud.prototype)}static get[Symbol.species](){return Ud}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ud(...t[0].concat(this)):new Ud(...t.concat(this))}};function mk(e){return Ts(e)?v6(e,()=>{}):e}function Qv(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Eoe(e){return typeof e=="boolean"}var Soe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new g6;return n&&(Eoe(n)?o.push(boe):o.push(woe(n.extraArgument))),o},Toe="RTK_autoBatch",gk=e=>t=>{setTimeout(t,e)},Aoe=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:gk(10):e.type==="callback"?e.queueNotification:gk(e.timeout),l=()=>{o=!1,i&&(i=!1,s.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const d=()=>a&&f(),p=r.subscribe(d);return s.add(f),()=>{p(),s.delete(f)}},dispatch(f){try{return a=!f?.meta?.[Toe],i=!a,i&&(o||(o=!0,u(l))),r.dispatch(f)}finally{a=!0}}})},Coe=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new g6(e);return r&&a.push(Aoe(typeof r=="object"?r:void 0)),a};function Ooe(e){const t=Soe(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(wT(n))s=s6(n);else throw new Error(ni(1));let u;typeof r=="function"?u=r(t):u=t();let l=ig;a&&(l=_oe({trace:!1,...typeof a=="object"&&a}));const f=coe(...u),d=Coe(f);let p=typeof o=="function"?o(d):d();const m=l(...p);return o6(s,i,m)}function y6(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(ni(28));if(s in t)throw new Error(ni(29));return t[s]=o,a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function Roe(e){return typeof e=="function"}function Doe(e,t){let[n,r,a]=y6(t),i;if(Roe(e))i=()=>mk(e());else{const s=mk(e);i=()=>s}function o(s=i(),u){let l=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return l.filter(f=>!!f).length===0&&(l=[a]),l.reduce((f,d)=>{if(d)if(Vl(f)){const m=d(f,u);return m===void 0?f:m}else{if(Ts(f))return v6(f,p=>d(p,u));{const p=d(f,u);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},s)}return o.getInitialState=i,o}var Noe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",koe=(e=21)=>{let t="",n=e;for(;n--;)t+=Noe[Math.random()*64|0];return t},Poe=Symbol.for("rtk-slice-createasyncthunk");function Moe(e,t){return`${e}/${t}`}function Ioe({creators:e}={}){const t=e?.asyncThunk?.[Poe];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(ni(11));const o=(typeof r.reducers=="function"?r.reducers(Boe()):r.reducers)||{},s=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(S,A){const T=typeof S=="string"?S:S.type;if(!T)throw new Error(ni(12));if(T in u.sliceCaseReducersByType)throw new Error(ni(13));return u.sliceCaseReducersByType[T]=A,l},addMatcher(S,A){return u.sliceMatchers.push({matcher:S,reducer:A}),l},exposeAction(S,A){return u.actionCreators[S]=A,l},exposeCaseReducer(S,A){return u.sliceCaseReducersByName[S]=A,l}};s.forEach(S=>{const A=o[S],T={reducerName:S,type:Moe(a,S),createNotation:typeof r.reducers=="function"};joe(A)?zoe(T,A,l,t):Loe(T,A,l)});function f(){const[S={},A=[],T=void 0]=typeof r.extraReducers=="function"?y6(r.extraReducers):[r.extraReducers],R={...S,...u.sliceCaseReducersByType};return Doe(r.initialState,D=>{for(let P in R)D.addCase(P,R[P]);for(let P of u.sliceMatchers)D.addMatcher(P.matcher,P.reducer);for(let P of A)D.addMatcher(P.matcher,P.reducer);T&&D.addDefaultCase(T)})}const d=S=>S,p=new Map,m=new WeakMap;let g;function x(S,A){return g||(g=f()),g(S,A)}function b(){return g||(g=f()),g.getInitialState()}function w(S,A=!1){function T(D){let P=D[S];return typeof P>"u"&&A&&(P=Qv(m,T,b)),P}function R(D=d){const P=Qv(p,A,()=>new WeakMap);return Qv(P,D,()=>{const k={};for(const[I,F]of Object.entries(r.selectors??{}))k[I]=Foe(F,D,()=>Qv(m,D,b),A);return k})}return{reducerPath:S,getSelectors:R,get selectors(){return R(T)},selectSlice:T}}const E={name:a,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...w(i),injectInto(S,{reducerPath:A,...T}={}){const R=A??i;return S.inject({reducerPath:R,reducer:x},T),{...E,...w(R,!0)}}};return E}}function Foe(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var Fi=Ioe();function Boe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Loe({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!Uoe(r))throw new Error(ni(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?ki(e,o):ki(e))}function joe(e){return e._reducerDefinitionType==="asyncThunk"}function Uoe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zoe({type:e,reducerName:t},n,r,a){if(!a)throw new Error(ni(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:u,settled:l,options:f}=n,d=a(e,i,f);r.exposeAction(t,d),o&&r.addCase(d.fulfilled,o),s&&r.addCase(d.pending,s),u&&r.addCase(d.rejected,u),l&&r.addMatcher(d.settled,l),r.exposeCaseReducer(t,{fulfilled:o||Zv,pending:s||Zv,rejected:u||Zv,settled:l||Zv})}function Zv(){}var Woe="task",x6="listener",b6="completed",ST="cancelled",Hoe=`task-${ST}`,$oe=`task-${b6}`,V_=`${x6}-${ST}`,Voe=`${x6}-${b6}`,Ay=class{constructor(e){this.code=e,this.message=`${Woe} ${ST} (reason: ${e})`}name="TaskAbortError";message},TT=(e,t)=>{if(typeof e!="function")throw new TypeError(ni(32))},lg=()=>{},w6=(e,t=lg)=>(e.catch(t),e),_6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Fl=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Bl=e=>{if(e.aborted){const{reason:t}=e;throw new Ay(t)}};function E6(e,t){let n=lg;return new Promise((r,a)=>{const i=()=>a(new Ay(e.reason));if(e.aborted){i();return}n=_6(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=lg})}var qoe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ay?"cancelled":"rejected",error:n}}finally{t?.()}},cg=e=>t=>w6(E6(e,t).then(n=>(Bl(e),n))),S6=e=>{const t=cg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Nf}=Object,yk={},Cy="listenerMiddleware",Goe=(e,t)=>{const n=r=>_6(e,()=>Fl(r,e.reason));return(r,a)=>{TT(r);const i=new AbortController;n(i);const o=qoe(async()=>{Bl(e),Bl(i.signal);const s=await r({pause:cg(i.signal),delay:S6(i.signal),signal:i.signal});return Bl(i.signal),s},()=>Fl(i,$oe));return a?.autoJoin&&t.push(o.catch(lg)),{result:cg(e)(o),cancel(){Fl(i,Hoe)}}}},Koe=(e,t)=>{const n=async(r,a)=>{Bl(t);let i=()=>{};const s=[new Promise((u,l)=>{let f=e({predicate:r,effect:(d,p)=>{p.unsubscribe(),u([d,p.getState(),p.getOriginalState()])}});i=()=>{f(),l()}})];a!=null&&s.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await E6(t,Promise.race(s));return Bl(t),u}finally{i()}};return(r,a)=>w6(n(r,a))},T6=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=ki(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(ni(21));return TT(i),{predicate:a,type:t,effect:i}},A6=Nf(e=>{const{type:t,predicate:n,effect:r}=T6(e);return{id:koe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ni(22))}}},{withTypes:()=>A6}),xk=(e,t)=>{const{type:n,effect:r,predicate:a}=T6(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},q_=e=>{e.pending.forEach(t=>{Fl(t,V_)})},Xoe=e=>()=>{e.forEach(q_),e.clear()},bk=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},C6=Nf(ki(`${Cy}/add`),{withTypes:()=>C6}),Yoe=ki(`${Cy}/removeAll`),O6=Nf(ki(`${Cy}/remove`),{withTypes:()=>O6}),Qoe=(...e)=>{console.error(`${Cy}/error`,...e)},Xp=(e={})=>{const t=new Map,{extra:n,onError:r=Qoe}=e;TT(r);const a=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),d=>{f.unsubscribe(),d?.cancelActive&&q_(f)}),i=f=>{const d=xk(t,f)??A6(f);return a(d)};Nf(i,{withTypes:()=>i});const o=f=>{const d=xk(t,f);return d&&(d.unsubscribe(),f.cancelActive&&q_(d)),!!d};Nf(o,{withTypes:()=>o});const s=async(f,d,p,m)=>{const g=new AbortController,x=Koe(i,g.signal),b=[];try{f.pending.add(g),await Promise.resolve(f.effect(d,Nf({},p,{getOriginalState:m,condition:(w,E)=>x(w,E).then(Boolean),take:x,delay:S6(g.signal),pause:cg(g.signal),extra:n,signal:g.signal,fork:Goe(g.signal,b),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((w,E,S)=>{w!==g&&(Fl(w,V_),S.delete(w))})},cancel:()=>{Fl(g,V_),f.pending.delete(g)},throwIfCancelled:()=>{Bl(g.signal)}})))}catch(w){w instanceof Ay||bk(r,w,{raisedBy:"effect"})}finally{await Promise.all(b),Fl(g,Voe),f.pending.delete(g)}},u=Xoe(t);return{middleware:f=>d=>p=>{if(!u6(p))return d(p);if(C6.match(p))return i(p.payload);if(Yoe.match(p)){u();return}if(O6.match(p))return o(p.payload);let m=f.getState();const g=()=>{if(m===yk)throw new Error(ni(23));return m};let x;try{if(x=d(p),t.size>0){const b=f.getState(),w=Array.from(t.values());for(const E of w){let S=!1;try{S=E.predicate(p,b,m)}catch(A){S=!1,bk(r,A,{raisedBy:"predicate"})}S&&s(E,p,f,g)}}}finally{m=yk}return x},startListening:i,stopListening:o,clearListeners:u}};function ni(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Zoe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},R6=Fi({name:"chartLayout",initialState:Zoe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Joe,setLayout:ese,setChartSize:tse,setScale:nse}=R6.actions,rse=R6.reducer;function wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(n),!0).forEach(function(r){ase(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ase(e,t,n){return(t=ise(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ise(e){var t=ose(e,"string");return typeof t=="symbol"?t:t+""}function ose(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fg=Math.PI/180,sse=e=>e*180/Math.PI,Xn=(e,t,n,r)=>({x:e+Math.cos(-fg*r)*n,y:t+Math.sin(-fg*r)*n}),D6=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},use=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},lse=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=use({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,u=Math.acos(s);return r>i&&(u=2*Math.PI-u),{radius:o,angle:sse(u),angleInRadian:u}},cse=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},fse=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},hse=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:i}=lse({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:u,endAngle:l}=cse(t),f=i,d;if(u<=l){for(;f>l;)f-=360;for(;f<u;)f+=360;d=f>=u&&f<=l}else{for(;f>u;)f-=360;for(;f<l;)f+=360;d=f>=l&&f<=u}return d?_k(_k({},t),{},{radius:a,angle:fse(f,t)}):null};function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(r){dse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dse(e,t,n){return(t=pse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pse(e){var t=vse(e,"string");return typeof t=="symbol"?t:t+""}function vse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fn(e,t,n){return Yn(e)||Yn(t)?n:Lo(t)?Fu(e,t,n):typeof t=="function"?t(e):n}var mse=(e,t,n,r,a)=>{var i,o=-1,s=(i=t?.length)!==null&&i!==void 0?i:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<s;u++){var l=u>0?n[u-1].coordinate:n[s-1].coordinate,f=n[u].coordinate,d=u>=s-1?n[0].coordinate:n[u+1].coordinate,p=void 0;if(jr(f-l)!==jr(d-f)){var m=[];if(jr(d-f)===jr(a[1]-a[0])){p=d;var g=f+a[1]-a[0];m[0]=Math.min(g,(g+l)/2),m[1]=Math.max(g,(g+l)/2)}else{p=l;var x=d+a[1]-a[0];m[0]=Math.min(f,(x+f)/2),m[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){({index:o}=n[u]);break}}else{var w=Math.min(l,d),E=Math.max(l,d);if(e>(w+f)/2&&e<=(E+f)/2){({index:o}=n[u]);break}}}else if(t){for(var S=0;S<s;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<s-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===s-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:o}=t[S]);break}}return o},gse=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&vt(e[i]))return Ci(Ci({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&vt(e[o]))return Ci(Ci({},e),{},{[o]:e[o]+(a||0)})}return e},fc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Sk=1e-4,yse=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Sk,i=Math.max(r[0],r[1])+Sk,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},xse=(e,t)=>{if(!t||t.length!==2||!vt(t[0])||!vt(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!vt(e[0])||e[0]<n)&&(a[0]=n),(!vt(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},bse=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,o=0;o<t;++o){var s=Ni(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1])}},wse=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var o=Ni(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},_se={sign:bse,expand:Zae,none:$f,silhouette:Jae,wiggle:eie,positive:wse},Ese=(e,t,n)=>{var r=_se[n],a=Qae().keys(t).value((i,o)=>+Fn(i,o,0)).order(F_).offset(r);return a(e)};function N6(e){return e==null?void 0:String(e)}var Tk=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var s=Fn(i,t.dataKey,t.scale.domain()[o]);return Yn(s)?null:t.scale(s)-a/2+r},Sse=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},Tse=e=>{var t=e.flat(2).filter(vt);return[Math.min(...t),Math.max(...t)]},Ase=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Cse=(e,t,n)=>{if(e!=null)return Ase(Object.keys(e).reduce((r,a)=>{var i=e[a],{stackedData:o}=i,s=o.reduce((u,l)=>{var f=Tse(l.slice(t,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},Ak=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ck=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AT=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=wy(t,f=>f.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var u=a[o],l=a[o-1];i=Math.min((u.coordinate||0)-(l.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function Ok(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return Ci(Ci({},t),{},{dataKey:n,payload:r,value:a,name:i})}function Oy(e,t){if(e)return String(e);if(typeof t=="string")return t}function Ose(e,t,n,r,a){if(n==="horizontal"||n==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return r?hse({x:e,y:t},r):null}var Rse=(e,t,n,r)=>{var a=t.find(l=>l&&l.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Ci(Ci(Ci({},r),Xn(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:u}=r;return Ci(Ci(Ci({},r),Xn(r.cx,r.cy,s,u)),{},{angle:u,radius:s})}return{x:0,y:0}},Dse=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,js=e=>e.layout.width,Us=e=>e.layout.height,Nse=e=>e.layout.scale,k6=e=>e.layout.margin,CT=De(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),OT=De(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),P6="data-recharts-item-index",M6="data-recharts-item-data-key",Ry=60;function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(n),!0).forEach(function(r){kse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kse(e,t,n){return(t=Pse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pse(e){var t=Mse(e,"string");return typeof t=="symbol"?t:t+""}function Mse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ise=e=>e.brush.height,cr=De([js,Us,k6,Ise,CT,OT,a6,roe],(e,t,n,r,a,i,o,s)=>{var u=i.reduce((g,x)=>{var{orientation:b}=x;if(!x.mirror&&!x.hide){var w=typeof x.width=="number"?x.width:Ry;return gu(gu({},g),{},{[b]:g[b]+w})}return g},{left:n.left||0,right:n.right||0}),l=a.reduce((g,x)=>{var{orientation:b}=x;return!x.mirror&&!x.hide?gu(gu({},g),{},{[b]:Fu(g,"".concat(b))+x.height}):g},{top:n.top||0,bottom:n.bottom||0}),f=gu(gu({},l),u),d=f.bottom;f.bottom+=r,f=gse(f,o,s);var p=e-f.left-f.right,m=t-f.top-f.bottom;return gu(gu({brushBottom:d},f),{},{width:Math.max(p,0),height:Math.max(m,0)})}),Fse=De(cr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),I6=De(js,Us,(e,t)=>({x:0,y:0,width:e,height:t})),Bse=N.createContext(null),ui=()=>N.useContext(Bse)!=null,Dy=e=>e.brush,Ny=De([Dy,cr,k6],(e,t,n)=>({height:e.height,x:vt(e.x)?e.x:t.left,y:vt(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:vt(e.width)?e.width:t.width})),RT=()=>{var e,t=ui(),n=gt(Fse),r=gt(Ny),a=(e=gt(Dy))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Lse={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},jse=()=>{var e;return(e=gt(cr))!==null&&e!==void 0?e:Lse},F6=()=>gt(js),B6=()=>gt(Us),Use={top:0,right:0,bottom:0,left:0},zse=()=>{var e;return(e=gt(t=>t.layout.margin))!==null&&e!==void 0?e:Use},rn=e=>e.layout.layoutType,DT=()=>gt(rn),Wse={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},L6=Fi({name:"legend",initialState:Wse,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=xs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:Dk,setLegendSettings:Hse,addLegendPayload:j6,removeLegendPayload:U6}=L6.actions,$se=L6.reducer,Vse=["contextPayload"];function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G_.apply(null,arguments)}function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(r){NT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NT(e,t,n){return(t=qse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qse(e){var t=Gse(e,"string");return typeof t=="symbol"?t:t+""}function Gse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kse(e,t){if(e==null)return{};var n,r,a=Xse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yse(e){return e.value}function Qse(e){var{contextPayload:t}=e,n=Kse(e,Vse),r=e6(t,e.payloadUniqBy,Yse),a=qf(qf({},n),{},{payload:r});return N.isValidElement(e.content)?N.cloneElement(e.content,a):typeof e.content=="function"?N.createElement(e.content,a):N.createElement(pT,a)}function Zse(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:u}=t,l,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?l={left:((r||0)-i.width)/2}:l=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?f={top:((a||0)-i.height)/2}:f=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),qf(qf({},l),f)}function Jse(e){var t=An();return N.useEffect(()=>{t(Hse(e))},[t,e]),null}function eue(e){var t=An();return N.useEffect(()=>(t(Dk(e)),()=>{t(Dk({width:0,height:0}))}),[t,e]),null}function tue(e){var t=ooe(),n=wae(),r=zse(),{width:a,height:i,wrapperStyle:o,portal:s}=e,[u,l]=i6([t]),f=F6(),d=B6(),p=f-(r.left||0)-(r.right||0),m=ky.getWidthOrHeight(e.layout,i,a,p),g=s?o:qf(qf({position:"absolute",width:m?.width||a||"auto",height:m?.height||i||"auto"},Zse(o,e,r,f,d,u)),o),x=s??n;if(x==null)return null;var b=N.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:l},N.createElement(Jse,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),N.createElement(eue,{width:u.width,height:u.height}),N.createElement(Qse,G_({},e,m,{margin:r,chartWidth:f,chartHeight:d,contextPayload:t})));return mF.createPortal(b,x)}class ky extends N.PureComponent{static getWidthOrHeight(t,n,r,a){return t==="vertical"&&vt(n)?{height:n}:t==="horizontal"?{width:r||a}:null}render(){return N.createElement(tue,this.props)}}NT(ky,"displayName","Legend");NT(ky,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K_.apply(null,arguments)}function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function o2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(n),!0).forEach(function(r){nue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nue(e,t,n){return(t=rue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rue(e){var t=aue(e,"string");return typeof t=="symbol"?t:t+""}function aue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iue(e){return Array.isArray(e)&&Lo(e[0])&&Lo(e[1])?e.join(" ~ "):e}var oue=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:u,labelClassName:l,label:f,labelFormatter:d,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var T={padding:0,margin:0},R=(s?wy(i,s):i).map((D,P)=>{if(D.type==="none")return null;var k=D.formatter||o||iue,{value:I,name:F}=D,B=I,te=F;if(k){var ae=k(I,F,D,P,i);if(Array.isArray(ae))[B,te]=ae;else if(ae!=null)B=ae;else return null}var V=o2({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:V},Lo(te)?N.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Lo(te)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},B),N.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:T},R)}return null},g=o2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=o2({margin:0},a),b=!Yn(f),w=b?f:"",E=en("recharts-default-tooltip",u),S=en("recharts-tooltip-label",l);b&&d&&i!==void 0&&i!==null&&(w=d(f,i));var A=p?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",K_({className:E,style:g},A),N.createElement("p",{className:S,style:x},N.isValidElement(w)?w:"".concat(w)),m())},Dd="recharts-tooltip-wrapper",sue={visibility:"hidden"};function uue(e){var{coordinate:t,translateX:n,translateY:r}=e;return en(Dd,{["".concat(Dd,"-right")]:vt(n)&&t&&vt(t.x)&&n>=t.x,["".concat(Dd,"-left")]:vt(n)&&t&&vt(t.x)&&n<t.x,["".concat(Dd,"-bottom")]:vt(r)&&t&&vt(t.y)&&r>=t.y,["".concat(Dd,"-top")]:vt(r)&&t&&vt(t.y)&&r<t.y})}function Pk(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:u,viewBoxDimension:l}=e;if(i&&vt(i[r]))return i[r];var f=n[r]-s-(a>0?a:0),d=n[r]+a;if(t[r])return o[r]?f:d;var p=u[r];if(p==null)return 0;if(o[r]){var m=f,g=p;return m<g?Math.max(d,p):Math.max(f,p)}if(l==null)return 0;var x=d+s,b=p+l;return x>b?Math.max(f,p):Math.max(d,p)}function lue(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function cue(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:u}=e,l,f,d;return o.height>0&&o.width>0&&n?(f=Pk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),d=Pk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),l=lue({translateX:f,translateY:d,useTranslate3d:s})):l=sue,{cssProperties:l,cssClasses:uue({translateX:f,translateY:d,coordinate:n})}}function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(n),!0).forEach(function(r){X_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X_(e,t,n){return(t=fue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fue(e){var t=hue(e,"string");return typeof t=="symbol"?t:t+""}function hue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class due extends N.PureComponent{constructor(){super(...arguments),X_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),X_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:u,offset:l,position:f,reverseDirection:d,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:x,innerRef:b,hasPortalFromProps:w}=this.props,{cssClasses:E,cssProperties:S}=cue({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:l,position:f,reverseDirection:d,tooltipBox:{height:x.height,width:x.width},useTranslate3d:p,viewBox:m}),A=w?{}:Jv(Jv({transition:u&&t?"transform ".concat(r,"ms ").concat(a):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),T=Jv(Jv({},A),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},g);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:T,ref:b},i)}}var pue=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),uh={isSsr:pue()},z6=()=>gt(e=>e.rootProps.accessibilityLayer);function oi(e){return Number.isFinite(e)}function Gf(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y_.apply(null,arguments)}function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(n),!0).forEach(function(r){vue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vue(e,t,n){return(t=mue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mue(e){var t=gue(e,"string");return typeof t=="symbol"?t:t+""}function gue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bk={curveBasisClosed:Uae,curveBasisOpen:zae,curveBasis:jae,curveBumpX:Tae,curveBumpY:Aae,curveLinearClosed:Wae,curveLinear:xy,curveMonotoneX:Hae,curveMonotoneY:$ae,curveNatural:Vae,curveStep:qae,curveStepAfter:Kae,curveStepBefore:Gae},em=e=>oi(e.x)&&oi(e.y),Nd=e=>e.x,kd=e=>e.y,yue=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(qp(e));return(n==="curveMonotone"||n==="curveBump")&&t?Bk["".concat(n).concat(t==="vertical"?"Y":"X")]:Bk[n]||xy},xue=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=yue(t,a),s=i?n.filter(em):n,u;if(Array.isArray(r)){var l=i?r.filter(d=>em(d)):r,f=s.map((d,p)=>Fk(Fk({},d),{},{base:l[p]}));return a==="vertical"?u=Kv().y(kd).x1(Nd).x0(d=>d.base.x):u=Kv().x(Nd).y1(kd).y0(d=>d.base.y),u.defined(em).curve(o),u(f)}return a==="vertical"&&vt(r)?u=Kv().y(kd).x1(Nd).x0(r):vt(r)?u=Kv().x(Nd).y1(kd).y0(r):u=Fj().x(Nd).y(kd),u.defined(em).curve(o),u(s)},W6=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var i=n&&n.length?xue(e):r;return N.createElement("path",Y_({},fn(e,!1),hae(e),{className:en("recharts-curve",t),d:i===null?void 0:i,ref:a}))},bue=["x","y","top","left","width","height","className"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q_.apply(null,arguments)}function Lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(n),!0).forEach(function(r){_ue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ue(e,t,n){return(t=Eue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eue(e){var t=Sue(e,"string");return typeof t=="symbol"?t:t+""}function Sue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tue(e,t){if(e==null)return{};var n,r,a=Aue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Aue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Cue=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),Oue=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,u=Tue(e,bue),l=wue({x:t,y:n,top:r,left:a,width:i,height:o},u);return!vt(t)||!vt(n)||!vt(i)||!vt(o)||!vt(r)||!vt(a)?null:N.createElement("path",Q_({},fn(l,!0),{className:en("recharts-cross",s),d:Cue(t,n,i,o,r,a)}))};function Rue(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Due(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(n),!0).forEach(function(r){Nue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nue(e,t,n){return(t=kue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kue(e){var t=Pue(e,"string");return typeof t=="symbol"?t:t+""}function Pue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qo(e,t){var n=Due({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}var s2={},u2={},l2={},Uk;function Mue(){return Uk||(Uk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(l2)),l2}var zk;function Iue(){return zk||(zk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mue(),n=Qj(),r=yT(),a=xT(),i=mT();function o(l,f,d){return s(l,f,void 0,void 0,void 0,void 0,d)}function s(l,f,d,p,m,g,x){const b=x(l,f,d,p,m,g);if(b!==void 0)return b;if(typeof l==typeof f)switch(typeof l){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return l===f;case"number":return l===f||Object.is(l,f);case"function":return l===f;case"object":return u(l,f,g,x)}return u(l,f,g,x)}function u(l,f,d,p){if(Object.is(l,f))return!0;let m=r.getTag(l),g=r.getTag(f);if(m===a.argumentsTag&&(m=a.objectTag),g===a.argumentsTag&&(g=a.objectTag),m!==g)return!1;switch(m){case a.stringTag:return l.toString()===f.toString();case a.numberTag:{const w=l.valueOf(),E=f.valueOf();return i.eq(w,E)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(l.valueOf(),f.valueOf());case a.regexpTag:return l.source===f.source&&l.flags===f.flags;case a.functionTag:return l===f}d=d??new Map;const x=d.get(l),b=d.get(f);if(x!=null&&b!=null)return x===f;d.set(l,f),d.set(f,l);try{switch(m){case a.mapTag:{if(l.size!==f.size)return!1;for(const[w,E]of l.entries())if(!f.has(w)||!s(E,f.get(w),w,l,f,d,p))return!1;return!0}case a.setTag:{if(l.size!==f.size)return!1;const w=Array.from(l.values()),E=Array.from(f.values());for(let S=0;S<w.length;S++){const A=w[S],T=E.findIndex(R=>s(A,R,void 0,l,f,d,p));if(T===-1)return!1;E.splice(T,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(l)!==Buffer.isBuffer(f)||l.length!==f.length)return!1;for(let w=0;w<l.length;w++)if(!s(l[w],f[w],w,l,f,d,p))return!1;return!0}case a.arrayBufferTag:return l.byteLength!==f.byteLength?!1:u(new Uint8Array(l),new Uint8Array(f),d,p);case a.dataViewTag:return l.byteLength!==f.byteLength||l.byteOffset!==f.byteOffset?!1:u(new Uint8Array(l),new Uint8Array(f),d,p);case a.errorTag:return l.name===f.name&&l.message===f.message;case a.objectTag:{if(!(u(l.constructor,f.constructor,d,p)||t.isPlainObject(l)&&t.isPlainObject(f)))return!1;const E=[...Object.keys(l),...n.getSymbols(l)],S=[...Object.keys(f),...n.getSymbols(f)];if(E.length!==S.length)return!1;for(let A=0;A<E.length;A++){const T=E[A],R=l[T];if(!Object.hasOwn(f,T))return!1;const D=f[T];if(!s(R,D,T,l,f,d,p))return!1}return!0}default:return!1}}finally{d.delete(l),d.delete(f)}}e.isEqualWith=o}(u2)),u2}var c2={},Wk;function Fue(){return Wk||(Wk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(c2)),c2}var Hk;function Bue(){return Hk||(Hk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iue(),n=Fue();function r(a,i){return t.isEqualWith(a,i,n.noop)}e.isEqual=r}(s2)),s2}var f2,$k;function Lue(){return $k||($k=1,f2=Bue().isEqual),f2}var jue=Lue();const Uue=Mi(jue);function zue(e){var t={},n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[u,...l]=s;if(typeof u=="number"){a=e.setTimeout(i.bind(null,l),u);return}i(u),a=e.setTimeout(i.bind(null,l));return}typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}var hg=1e-4,H6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],$6=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Vk=(e,t)=>n=>{var r=H6(e,t);return $6(r,n)},Wue=(e,t)=>n=>{var r=H6(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return $6(a,n)},qk=function(){for(var t,n,r,a,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,r,n,a]=[0,0,1,1];break;case"ease":[t,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,a]=[.42,0,1,1];break;case"ease-out":[t,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,a]=[0,0,.58,1];break;default:{var u=o[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,r,n,a]=u[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else o.length===4&&([t,r,n,a]=o);var l=Vk(t,n),f=Vk(r,a),d=Wue(t,n),p=g=>g>1?1:g<0?0:g,m=g=>{for(var x=g>1?1:g,b=x,w=0;w<8;++w){var E=l(b)-x,S=d(b);if(Math.abs(E-x)<hg||S<hg)return f(b);b=p(b-E/S)}return f(b)};return m.isStepper=!1,m},Hue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,i=(o,s,u)=>{var l=-(o-s)*n,f=u*r,d=u+(l-f)*a/1e3,p=u*a/1e3+o;return Math.abs(p-s)<hg&&Math.abs(d)<hg?[s,0]:[p,d]};return i.isStepper=!0,i.dt=a,i},$ue=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qk(e);case"spring":return Hue();default:if(e.split("(")[0]==="cubic-bezier")return qk(e)}return typeof e=="function"?e:null};function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(n),!0).forEach(function(r){Vue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vue(e,t,n){return(t=que(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function que(e){var t=Gue(e,"string");return typeof t=="symbol"?t:t+""}function Gue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kue=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Xue=(e,t,n)=>e.map(r=>"".concat(Kue(r)," ").concat(t,"ms ").concat(n)).join(","),Yue=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),vp=(e,t)=>Object.keys(t).reduce((n,r)=>Kk(Kk({},n),{},{[r]:e(r,t[r])}),{});function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(r){Que(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Que(e,t,n){return(t=Zue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zue(e){var t=Jue(e,"string");return typeof t=="symbol"?t:t+""}function Jue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dg=(e,t,n)=>e+(t-e)*n,Z_=e=>{var{from:t,to:n}=e;return t!==n},V6=(e,t,n)=>{var r=vp((a,i)=>{if(Z_(i)){var[o,s]=e(i.from,i.to,i.velocity);return Ir(Ir({},i),{},{from:o,velocity:s})}return i},t);return n<1?vp((a,i)=>Z_(i)?Ir(Ir({},i),{},{velocity:dg(i.velocity,r[a].velocity,n),from:dg(i.from,r[a].from,n)}):i,t):V6(e,r,n-1)};function ele(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Ir(Ir({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),u=()=>vp((p,m)=>m.from,s),l=()=>!Object.values(s).filter(Z_).length,f=null,d=p=>{o||(o=p);var m=p-o,g=m/n.dt;s=V6(n,s,g),a(Ir(Ir(Ir({},e),t),u())),o=p,l()||(f=i.setTimeout(d))};return()=>(f=i.setTimeout(d),()=>{f()})}function tle(e,t,n,r,a,i,o){var s=null,u=a.reduce((d,p)=>Ir(Ir({},d),{},{[p]:[e[p],t[p]]}),{}),l,f=d=>{l||(l=d);var p=(d-l)/r,m=vp((x,b)=>dg(...b,n(p)),u);if(i(Ir(Ir(Ir({},e),t),m)),p<1)s=o.setTimeout(f);else{var g=vp((x,b)=>dg(...b,n(1)),u);i(Ir(Ir(Ir({},e),t),g))}};return()=>(s=o.setTimeout(f),()=>{s()})}const nle=(e,t,n,r,a,i)=>{var o=Yue(e,t);return n.isStepper===!0?ele(e,t,n,o,a,i):tle(e,t,n,r,o,a,i)};class rle{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}var ale=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function J_(){return J_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J_.apply(null,arguments)}function ile(e,t){if(e==null)return{};var n,r,a=ole(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ole(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(n),!0).forEach(function(r){Ol(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ol(e,t,n){return(t=sle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sle(e){var t=ule(e,"string");return typeof t=="symbol"?t:t+""}function ule(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lle(){return zue(new rle)}class kT extends N.PureComponent{constructor(t,n){super(t,n),Ol(this,"mounted",!1),Ol(this,"manager",null),Ol(this,"stopJSAnimation",null),Ol(this,"unSubscribe",null);var{isActive:r,attributeName:a,from:i,to:o,children:s,duration:u,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||u<=0){this.state={style:{}},typeof s=="function"&&(this.state={style:o});return}if(i){if(typeof s=="function"){this.state={style:i};return}this.state={style:a?{[a]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:a,shouldReAnimate:i,to:o,from:s}=this.props,{style:u}=this.state;if(r){if(!n){var l={style:a?{[a]:o}:o};this.state&&u&&(a&&u[a]!==o||!a&&u!==o)&&this.setState(l);return}if(!(Uue(t.to,o)&&t.canBegin&&t.isActive)){var f=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=f||i?s:t.to;if(this.state&&u){var p={style:a?{[a]:d}:d};(a&&u[a]!==d||!a&&u!==d)&&this.setState(p)}this.runAnimation(yu(yu({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:u}=t,l=nle(n,r,$ue(i),a,this.changeStyle,this.manager.getTimeoutController()),f=()=>{this.stopJSAnimation=l()};this.manager.start([u,o,f,a,s])}runAnimation(t){var{begin:n,duration:r,attributeName:a,to:i,easing:o,onAnimationStart:s,onAnimationEnd:u,children:l}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof l=="function"||o==="spring"){this.runJSAnimation(t);return}var f=a?{[a]:i}:i,d=Xue(Object.keys(f),r,o);this.manager.start([s,n,yu(yu({},f),{},{transition:d}),r,u])}render(){var t=this.props,{children:n,begin:r,duration:a,attributeName:i,easing:o,isActive:s,from:u,to:l,canBegin:f,onAnimationEnd:d,shouldReAnimate:p,onAnimationReStart:m,animationManager:g}=t,x=ile(t,ale),b=N.Children.count(n),w=this.state.style;if(typeof n=="function")return n(w);if(!s||b===0||a<=0)return n;var E=S=>{var{style:A={},className:T}=S.props,R=N.cloneElement(S,yu(yu({},x),{},{style:yu(yu({},A),w),className:T}));return R};return b===1?E(N.Children.only(n)):N.createElement("div",null,N.Children.map(n,S=>E(S)))}}Ol(kT,"displayName","Animate");Ol(kT,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var cle=N.createContext(null);function Gl(e){var t,n,r=N.useContext(cle);return N.createElement(kT,J_({},e,{animationManager:(t=(n=e.animationManager)!==null&&n!==void 0?n:r)!==null&&t!==void 0?t:lle()}))}function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pg.apply(null,arguments)}var Qk=(e,t,n,r,a)=>{var i=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,s=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,l;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=a[d]>i?i:a[d];l="M".concat(e,",").concat(t+o*f[0]),f[0]>0&&(l+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+s*f[0],",").concat(t)),l+="L ".concat(e+n-s*f[1],",").concat(t),f[1]>0&&(l+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*f[1])),l+="L ".concat(e+n,",").concat(t+r-o*f[2]),f[2]>0&&(l+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-s*f[2],",").concat(t+r)),l+="L ".concat(e+s*f[3],",").concat(t+r),f[3]>0&&(l+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*f[3])),l+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);l="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+n-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*m,`
            L `).concat(e+n,",").concat(t+r-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n-s*m,",").concat(t+r,`
            L `).concat(e+s*m,",").concat(t+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*m," Z")}else l="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return l},fle={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},q6=e=>{var t=qo(e,fle),n=N.useRef(null),[r,a]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&a(w)}catch{}},[]);var{x:i,y:o,width:s,height:u,radius:l,className:f}=t,{animationEasing:d,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:x}=t;if(i!==+i||o!==+o||s!==+s||u!==+u||s===0||u===0)return null;var b=en("recharts-rectangle",f);return x?N.createElement(Gl,{canBegin:r>0,from:{width:s,height:u,x:i,y:o},to:{width:s,height:u,x:i,y:o},duration:p,animationEasing:d,isActive:x},w=>{var{width:E,height:S,x:A,y:T}=w;return N.createElement(Gl,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:d},N.createElement("path",pg({},fn(t,!0),{className:b,d:Qk(A,T,E,S,l),ref:n})))}):N.createElement("path",pg({},fn(t,!0),{className:b,d:Qk(i,o,s,u,l)}))};function G6(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=Xn(t,n,r,a),s=Xn(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eE.apply(null,arguments)}var hle=(e,t)=>{var n=jr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},tm=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:u}=e,l=s*(o?1:-1)+r,f=Math.asin(s/l)/fg,d=u?a:a+i*f,p=Xn(t,n,l,d),m=Xn(t,n,r,d),g=u?a-i*f:a,x=Xn(t,n,l*Math.cos(f*fg),g);return{center:p,circleTangency:m,lineTangency:x,theta:f}},K6=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=hle(i,o),u=i+s,l=Xn(t,n,a,i),f=Xn(t,n,a,u),d="M ".concat(l.x,",").concat(l.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var p=Xn(t,n,r,i),m=Xn(t,n,r,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},dle=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:u,endAngle:l}=e,f=jr(l-u),{circleTangency:d,lineTangency:p,theta:m}=tm({cx:t,cy:n,radius:a,angle:u,sign:f,cornerRadius:i,cornerIsExternal:s}),{circleTangency:g,lineTangency:x,theta:b}=tm({cx:t,cy:n,radius:a,angle:l,sign:-f,cornerRadius:i,cornerIsExternal:s}),w=s?Math.abs(u-l):Math.abs(u-l)-m-b;if(w<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):K6({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:u,endAngle:l});var E="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(r>0){var{circleTangency:S,lineTangency:A,theta:T}=tm({cx:t,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:R,lineTangency:D,theta:P}=tm({cx:t,cy:n,radius:r,angle:l,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),k=s?Math.abs(u-l):Math.abs(u-l)-T-P;if(k<0&&i===0)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else E+="L".concat(t,",").concat(n,"Z");return E},ple={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},X6=e=>{var t=qo(e,ple),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:u,startAngle:l,endAngle:f,className:d}=t;if(i<a||l===f)return null;var p=en("recharts-sector",d),m=i-a,g=sa(o,m,0,!0),x;return g>0&&Math.abs(l-f)<360?x=dle({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:s,cornerIsExternal:u,startAngle:l,endAngle:f}):x=K6({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:l,endAngle:f}),N.createElement("path",eE({},fn(t,!0),{className:p,d:x}))};function vle(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:u,innerRadius:l,outerRadius:f,angle:d}=t,p=Xn(s,u,l,d),m=Xn(s,u,f,d);r=p.x,a=p.y,i=m.x,o=m.y}else return G6(t);return[{x:r,y:a},{x:i,y:o}]}var h2={},d2={},p2={},Zk;function mle(){return Zk||(Zk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n6();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n}(p2)),p2}var Jk;function gle(){return Jk||(Jk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mle();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n}(d2)),d2}var eP;function yle(){return eP||(eP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r6(),n=gle();function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),u=new Array(s);for(let l=0;l<s;l++)u[l]=a,a+=o;return u}e.range=r}(h2)),h2}var v2,tP;function xle(){return tP||(tP=1,v2=yle().range),v2}var ble=xle();const Y6=Mi(ble);function Pu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wle(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function PT(e){let t,n,r;e.length!==2?(t=Pu,n=(s,u)=>Pu(e(s),u),r=(s,u)=>e(s)-u):(t=e===Pu||e===wle?e:_le,n=e,r=e);function a(s,u,l=0,f=s.length){if(l<f){if(t(u,u)!==0)return f;do{const d=l+f>>>1;n(s[d],u)<0?l=d+1:f=d}while(l<f)}return l}function i(s,u,l=0,f=s.length){if(l<f){if(t(u,u)!==0)return f;do{const d=l+f>>>1;n(s[d],u)<=0?l=d+1:f=d}while(l<f)}return l}function o(s,u,l=0,f=s.length){const d=a(s,u,l,f-1);return d>l&&r(s[d-1],u)>-r(s[d],u)?d-1:d}return{left:a,center:o,right:i}}function _le(){return 0}function Q6(e){return e===null?NaN:+e}function*Ele(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Sle=PT(Pu),Yp=Sle.right;PT(Q6).center;class nP extends Map{constructor(t,n=Cle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(rP(this,t))}has(t){return super.has(rP(this,t))}set(t,n){return super.set(Tle(this,t),n)}delete(t){return super.delete(Ale(this,t))}}function rP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Tle({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ale({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Cle(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ole(e=Pu){if(e===Pu)return Z6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Z6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Rle=Math.sqrt(50),Dle=Math.sqrt(10),Nle=Math.sqrt(2);function vg(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=Rle?10:i>=Dle?5:i>=Nle?2:1;let s,u,l;return a<0?(l=Math.pow(10,-a)/o,s=Math.round(e*l),u=Math.round(t*l),s/l<e&&++s,u/l>t&&--u,l=-l):(l=Math.pow(10,a)*o,s=Math.round(e/l),u=Math.round(t/l),s*l<e&&++s,u*l>t&&--u),u<s&&.5<=n&&n<2?vg(e,t,n*2):[s,u,l]}function tE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?vg(t,e,n):vg(e,t,n);if(!(i>=a))return[];const s=i-a+1,u=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)u[l]=(i-l)/-o;else for(let l=0;l<s;++l)u[l]=(i-l)*o;else if(o<0)for(let l=0;l<s;++l)u[l]=(a+l)/-o;else for(let l=0;l<s;++l)u[l]=(a+l)*o;return u}function nE(e,t,n){return t=+t,e=+e,n=+n,vg(e,t,n)[2]}function rE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?nE(t,e,n):nE(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function aP(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function iP(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function J6(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?Z6:Ole(a);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,f=Math.log(u),d=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*d*(u-d)/u)*(l-u/2<0?-1:1),m=Math.max(n,Math.floor(t-l*d/u+p)),g=Math.min(r,Math.floor(t+(u-l)*d/u+p));J6(e,t,m,g,a)}const i=e[t];let o=n,s=r;for(Pd(e,n,t),a(e[r],i)>0&&Pd(e,n,r);o<s;){for(Pd(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?Pd(e,n,s):(++s,Pd(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Pd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function kle(e,t,n){if(e=Float64Array.from(Ele(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return iP(e);if(t>=1)return aP(e);var r,a=(r-1)*t,i=Math.floor(a),o=aP(J6(e,i).subarray(0,i+1)),s=iP(e.subarray(i+1));return o+(s-o)*(a-i)}}function Ple(e,t,n=Q6){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function Mle(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Bi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const aE=Symbol("implicit");function MT(){var e=new nP,t=[],n=[],r=aE;function a(i){let o=e.get(i);if(o===void 0){if(r!==aE)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new nP;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return MT(t,n).unknown(r)},Bi.apply(a,arguments),a}function IT(){var e=MT().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,u=0,l=0,f=.5;delete e.unknown;function d(){var p=t().length,m=a<r,g=m?a:r,x=m?r:a;i=(x-g)/Math.max(1,p-u+l*2),s&&(i=Math.floor(i)),g+=(x-g-i*(p-u))*f,o=i*(1-u),s&&(g=Math.round(g),o=Math.round(o));var b=Mle(p).map(function(w){return g+i*w});return n(m?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,d()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(u=Math.min(1,l=+p),d()):u},e.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),d()):u},e.paddingOuter=function(p){return arguments.length?(l=+p,d()):l},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),d()):f},e.copy=function(){return IT(t(),[r,a]).round(s).paddingInner(u).paddingOuter(l).align(f)},Bi.apply(d(),arguments)}function e8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return e8(t())},e}function Ile(){return e8(IT.apply(null,arguments).paddingInner(1))}function FT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function t8(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Qp(){}var mp=.7,mg=1/mp,kf="\\s*([+-]?\\d+)\\s*",gp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fle=/^#([0-9a-f]{3,8})$/,Ble=new RegExp(`^rgb\\(${kf},${kf},${kf}\\)$`),Lle=new RegExp(`^rgb\\(${Mo},${Mo},${Mo}\\)$`),jle=new RegExp(`^rgba\\(${kf},${kf},${kf},${gp}\\)$`),Ule=new RegExp(`^rgba\\(${Mo},${Mo},${Mo},${gp}\\)$`),zle=new RegExp(`^hsl\\(${gp},${Mo},${Mo}\\)$`),Wle=new RegExp(`^hsla\\(${gp},${Mo},${Mo},${gp}\\)$`),oP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FT(Qp,yp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sP,formatHex:sP,formatHex8:Hle,formatHsl:$le,formatRgb:uP,toString:uP});function sP(){return this.rgb().formatHex()}function Hle(){return this.rgb().formatHex8()}function $le(){return n8(this).formatHsl()}function uP(){return this.rgb().formatRgb()}function yp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Fle.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?lP(t):n===3?new wa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?nm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?nm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ble.exec(e))?new wa(t[1],t[2],t[3],1):(t=Lle.exec(e))?new wa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jle.exec(e))?nm(t[1],t[2],t[3],t[4]):(t=Ule.exec(e))?nm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zle.exec(e))?hP(t[1],t[2]/100,t[3]/100,1):(t=Wle.exec(e))?hP(t[1],t[2]/100,t[3]/100,t[4]):oP.hasOwnProperty(e)?lP(oP[e]):e==="transparent"?new wa(NaN,NaN,NaN,0):null}function lP(e){return new wa(e>>16&255,e>>8&255,e&255,1)}function nm(e,t,n,r){return r<=0&&(e=t=n=NaN),new wa(e,t,n,r)}function Vle(e){return e instanceof Qp||(e=yp(e)),e?(e=e.rgb(),new wa(e.r,e.g,e.b,e.opacity)):new wa}function iE(e,t,n,r){return arguments.length===1?Vle(e):new wa(e,t,n,r??1)}function wa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}FT(wa,iE,t8(Qp,{brighter(e){return e=e==null?mg:Math.pow(mg,e),new wa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mp:Math.pow(mp,e),new wa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wa(Ll(this.r),Ll(this.g),Ll(this.b),gg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cP,formatHex:cP,formatHex8:qle,formatRgb:fP,toString:fP}));function cP(){return`#${Rl(this.r)}${Rl(this.g)}${Rl(this.b)}`}function qle(){return`#${Rl(this.r)}${Rl(this.g)}${Rl(this.b)}${Rl((isNaN(this.opacity)?1:this.opacity)*255)}`}function fP(){const e=gg(this.opacity);return`${e===1?"rgb(":"rgba("}${Ll(this.r)}, ${Ll(this.g)}, ${Ll(this.b)}${e===1?")":`, ${e})`}`}function gg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ll(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rl(e){return e=Ll(e),(e<16?"0":"")+e.toString(16)}function hP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zi(e,t,n,r)}function n8(e){if(e instanceof Zi)return new Zi(e.h,e.s,e.l,e.opacity);if(e instanceof Qp||(e=yp(e)),!e)return new Zi;if(e instanceof Zi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,u=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=u>0&&u<1?0:o,new Zi(o,s,u,e.opacity)}function Gle(e,t,n,r){return arguments.length===1?n8(e):new Zi(e,t,n,r??1)}function Zi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}FT(Zi,Gle,t8(Qp,{brighter(e){return e=e==null?mg:Math.pow(mg,e),new Zi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mp:Math.pow(mp,e),new Zi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new wa(m2(e>=240?e-240:e+120,a,r),m2(e,a,r),m2(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Zi(dP(this.h),rm(this.s),rm(this.l),gg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gg(this.opacity);return`${e===1?"hsl(":"hsla("}${dP(this.h)}, ${rm(this.s)*100}%, ${rm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dP(e){return e=(e||0)%360,e<0?e+360:e}function rm(e){return Math.max(0,Math.min(1,e||0))}function m2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const BT=e=>()=>e;function Kle(e,t){return function(n){return e+n*t}}function Xle(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Yle(e){return(e=+e)==1?r8:function(t,n){return n-t?Xle(t,n,e):BT(isNaN(t)?n:t)}}function r8(e,t){var n=t-e;return n?Kle(e,n):BT(isNaN(e)?t:e)}const pP=function e(t){var n=Yle(t);function r(a,i){var o=n((a=iE(a)).r,(i=iE(i)).r),s=n(a.g,i.g),u=n(a.b,i.b),l=r8(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=s(f),a.b=u(f),a.opacity=l(f),a+""}}return r.gamma=e,r}(1);function Qle(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Zle(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jle(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=lh(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function ece(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function tce(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=lh(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var oE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,g2=new RegExp(oE.source,"g");function nce(e){return function(){return e}}function rce(e){return function(t){return e(t)+""}}function ace(e,t){var n=oE.lastIndex=g2.lastIndex=0,r,a,i,o=-1,s=[],u=[];for(e=e+"",t=t+"";(r=oE.exec(e))&&(a=g2.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,u.push({i:o,x:yg(r,a)})),n=g2.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?rce(u[0].x):nce(t):(t=u.length,function(l){for(var f=0,d;f<t;++f)s[(d=u[f]).i]=d.x(l);return s.join("")})}function lh(e,t){var n=typeof t,r;return t==null||n==="boolean"?BT(t):(n==="number"?yg:n==="string"?(r=yp(t))?(t=r,pP):ace:t instanceof yp?pP:t instanceof Date?ece:Zle(t)?Qle:Array.isArray(t)?Jle:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tce:yg)(e,t)}function LT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ice(e,t){t===void 0&&(t=e,e=lh);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function oce(e){return function(){return e}}function xg(e){return+e}var vP=[0,1];function oa(e){return e}function sE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:oce(isNaN(t)?NaN:.5)}function sce(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function uce(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=sE(a,r),i=n(o,i)):(r=sE(r,a),i=n(i,o)),function(s){return i(r(s))}}function lce(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=sE(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var u=Yp(e,s,1,r)-1;return i[u](a[u](s))}}function Zp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Py(){var e=vP,t=vP,n=lh,r,a,i,o=oa,s,u,l;function f(){var p=Math.min(e.length,t.length);return o!==oa&&(o=sce(e[0],e[p-1])),s=p>2?lce:uce,u=l=null,d}function d(p){return p==null||isNaN(p=+p)?i:(u||(u=s(e.map(r),t,n)))(r(o(p)))}return d.invert=function(p){return o(a((l||(l=s(t,e.map(r),yg)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,xg),f()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),n=LT,f()},d.clamp=function(p){return arguments.length?(o=p?!0:oa,f()):o!==oa},d.interpolate=function(p){return arguments.length?(n=p,f()):n},d.unknown=function(p){return arguments.length?(i=p,d):i},function(p,m){return r=p,a=m,f()}}function jT(){return Py()(oa,oa)}function cce(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bg(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Kf(e){return e=bg(Math.abs(e)),e?e[1]:NaN}function fce(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],u=0;a>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(n.substring(a-=s,a+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function hce(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var dce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xp(e){if(!(t=dce.exec(e)))throw new Error("invalid format: "+e);var t;return new UT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xp.prototype=UT.prototype;function UT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}UT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pce(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var a8;function vce(e,t){var n=bg(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(a8=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+bg(e,Math.max(0,t+i-1))[0]}function mP(e,t){var n=bg(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const gP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cce,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mP(e*100,t),r:mP,s:vce,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yP(e){return e}var xP=Array.prototype.map,bP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mce(e){var t=e.grouping===void 0||e.thousands===void 0?yP:fce(xP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?yP:hce(xP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(d){d=xp(d);var p=d.fill,m=d.align,g=d.sign,x=d.symbol,b=d.zero,w=d.width,E=d.comma,S=d.precision,A=d.trim,T=d.type;T==="n"?(E=!0,T="g"):gP[T]||(S===void 0&&(S=12),A=!0,T="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var R=x==="$"?n:x==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",D=x==="$"?r:/[%p]/.test(T)?o:"",P=gP[T],k=/[defgprs%]/.test(T);S=S===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(F){var B=R,te=D,ae,V,H;if(T==="c")te=P(F)+te,F="";else{F=+F;var Z=F<0||1/F<0;if(F=isNaN(F)?u:P(Math.abs(F),S),A&&(F=pce(F)),Z&&+F==0&&g!=="+"&&(Z=!1),B=(Z?g==="("?g:s:g==="-"||g==="("?"":g)+B,te=(T==="s"?bP[8+a8/3]:"")+te+(Z&&g==="("?")":""),k){for(ae=-1,V=F.length;++ae<V;)if(H=F.charCodeAt(ae),48>H||H>57){te=(H===46?a+F.slice(ae+1):F.slice(ae))+te,F=F.slice(0,ae);break}}}E&&!b&&(F=t(F,1/0));var ie=B.length+F.length+te.length,he=ie<w?new Array(w-ie+1).join(p):"";switch(E&&b&&(F=t(he+F,he.length?w-te.length:1/0),he=""),m){case"<":F=B+F+te+he;break;case"=":F=B+he+F+te;break;case"^":F=he.slice(0,ie=he.length>>1)+B+F+te+he.slice(ie);break;default:F=he+B+F+te;break}return i(F)}return I.toString=function(){return d+""},I}function f(d,p){var m=l((d=xp(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Kf(p)/3)))*3,x=Math.pow(10,-g),b=bP[8+g/3];return function(w){return m(x*w)+b}}return{format:l,formatPrefix:f}}var am,zT,i8;gce({thousands:",",grouping:[3],currency:["$",""]});function gce(e){return am=mce(e),zT=am.format,i8=am.formatPrefix,am}function yce(e){return Math.max(0,-Kf(Math.abs(e)))}function xce(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kf(t)/3)))*3-Kf(Math.abs(e)))}function bce(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kf(t)-Kf(e))+1}function o8(e,t,n,r){var a=rE(e,t,n),i;switch(r=xp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=xce(a,o))&&(r.precision=i),i8(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=bce(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=yce(a))&&(r.precision=i-(r.type==="%")*2);break}}return zT(r)}function Vu(e){var t=e.domain;return e.ticks=function(n){var r=t();return tE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return o8(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],u,l,f=10;for(s<o&&(l=o,o=s,s=l,l=a,a=i,i=l);f-- >0;){if(l=nE(o,s,n),l===u)return r[a]=o,r[i]=s,t(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return e},e}function s8(){var e=jT();return e.copy=function(){return Zp(e,s8())},Bi.apply(e,arguments),Vu(e)}function u8(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,xg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return u8(e).unknown(t)},e=arguments.length?Array.from(e,xg):[0,1],Vu(n)}function l8(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function wP(e){return Math.log(e)}function _P(e){return Math.exp(e)}function wce(e){return-Math.log(-e)}function _ce(e){return-Math.exp(-e)}function Ece(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Sce(e){return e===10?Ece:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Tce(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function EP(e){return(t,n)=>-e(-t,n)}function WT(e){const t=e(wP,_P),n=t.domain;let r=10,a,i;function o(){return a=Tce(r),i=Sce(r),n()[0]<0?(a=EP(a),i=EP(i),e(wce,_ce)):e(wP,_P),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const u=n();let l=u[0],f=u[u.length-1];const d=f<l;d&&([l,f]=[f,l]);let p=a(l),m=a(f),g,x;const b=s==null?10:+s;let w=[];if(!(r%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),l>0){for(;p<=m;++p)for(g=1;g<r;++g)if(x=p<0?g/i(-p):g*i(p),!(x<l)){if(x>f)break;w.push(x)}}else for(;p<=m;++p)for(g=r-1;g>=1;--g)if(x=p>0?g/i(-p):g*i(p),!(x<l)){if(x>f)break;w.push(x)}w.length*2<b&&(w=tE(l,f,b))}else w=tE(p,m,Math.min(m-p,b)).map(i);return d?w.reverse():w},t.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=xp(u)).precision==null&&(u.trim=!0),u=zT(u)),s===1/0)return u;const l=Math.max(1,r*s/t.ticks().length);return f=>{let d=f/i(Math.round(a(f)));return d*r<r-.5&&(d*=r),d<=l?u(f):""}},t.nice=()=>n(l8(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function c8(){const e=WT(Py()).domain([1,10]);return e.copy=()=>Zp(e,c8()).base(e.base()),Bi.apply(e,arguments),e}function SP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function TP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function HT(e){var t=1,n=e(SP(t),TP(t));return n.constant=function(r){return arguments.length?e(SP(t=+r),TP(t)):t},Vu(n)}function f8(){var e=HT(Py());return e.copy=function(){return Zp(e,f8()).constant(e.constant())},Bi.apply(e,arguments)}function AP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ace(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Cce(e){return e<0?-e*e:e*e}function $T(e){var t=e(oa,oa),n=1;function r(){return n===1?e(oa,oa):n===.5?e(Ace,Cce):e(AP(n),AP(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Vu(t)}function VT(){var e=$T(Py());return e.copy=function(){return Zp(e,VT()).exponent(e.exponent())},Bi.apply(e,arguments),e}function Oce(){return VT.apply(null,arguments).exponent(.5)}function CP(e){return Math.sign(e)*e*e}function Rce(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function h8(){var e=jT(),t=[0,1],n=!1,r;function a(i){var o=Rce(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(CP(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,xg)).map(CP)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return h8(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Bi.apply(a,arguments),Vu(a)}function d8(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=Ple(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Yp(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Pu),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return d8().domain(e).range(t).unknown(r)},Bi.apply(i,arguments)}function p8(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(u){return u!=null&&u<=u?a[Yp(r,u,0,n)]:i}function s(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,s()):[e,t]},o.range=function(u){return arguments.length?(n=(a=Array.from(u)).length-1,s()):a.slice()},o.invertExtent=function(u){var l=a.indexOf(u);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return p8().domain([e,t]).range(a).unknown(i)},Bi.apply(Vu(o),arguments)}function v8(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Yp(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return v8().domain(e).range(t).unknown(n)},Bi.apply(a,arguments)}const y2=new Date,x2=new Date;function fr(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const u=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return u;let l;do u.push(l=new Date(+i)),t(i,s),e(i);while(l<i&&i<o);return u},a.filter=i=>fr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(y2.setTime(+i),x2.setTime(+o),e(y2),e(x2),Math.floor(n(y2,x2))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const wg=fr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):wg);wg.range;const ms=1e3,Di=ms*60,gs=Di*60,As=gs*24,qT=As*7,OP=As*30,b2=As*365,Dl=fr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ms)},(e,t)=>(t-e)/ms,e=>e.getUTCSeconds());Dl.range;const GT=fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ms)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getMinutes());GT.range;const KT=fr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCMinutes());KT.range;const XT=fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ms-e.getMinutes()*Di)},(e,t)=>{e.setTime(+e+t*gs)},(e,t)=>(t-e)/gs,e=>e.getHours());XT.range;const YT=fr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gs)},(e,t)=>(t-e)/gs,e=>e.getUTCHours());YT.range;const Jp=fr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Di)/As,e=>e.getDate()-1);Jp.range;const My=fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/As,e=>e.getUTCDate()-1);My.range;const m8=fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/As,e=>Math.floor(e/As));m8.range;function hc(e){return fr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Di)/qT)}const Iy=hc(0),_g=hc(1),Dce=hc(2),Nce=hc(3),Xf=hc(4),kce=hc(5),Pce=hc(6);Iy.range;_g.range;Dce.range;Nce.range;Xf.range;kce.range;Pce.range;function dc(e){return fr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/qT)}const Fy=dc(0),Eg=dc(1),Mce=dc(2),Ice=dc(3),Yf=dc(4),Fce=dc(5),Bce=dc(6);Fy.range;Eg.range;Mce.range;Ice.range;Yf.range;Fce.range;Bce.range;const QT=fr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());QT.range;const ZT=fr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ZT.range;const Cs=fr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Cs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Cs.range;const Os=fr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Os.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Os.range;function g8(e,t,n,r,a,i){const o=[[Dl,1,ms],[Dl,5,5*ms],[Dl,15,15*ms],[Dl,30,30*ms],[i,1,Di],[i,5,5*Di],[i,15,15*Di],[i,30,30*Di],[a,1,gs],[a,3,3*gs],[a,6,6*gs],[a,12,12*gs],[r,1,As],[r,2,2*As],[n,1,qT],[t,1,OP],[t,3,3*OP],[e,1,b2]];function s(l,f,d){const p=f<l;p&&([l,f]=[f,l]);const m=d&&typeof d.range=="function"?d:u(l,f,d),g=m?m.range(l,+f+1):[];return p?g.reverse():g}function u(l,f,d){const p=Math.abs(f-l)/d,m=PT(([,,b])=>b).right(o,p);if(m===o.length)return e.every(rE(l/b2,f/b2,d));if(m===0)return wg.every(Math.max(rE(l,f,d),1));const[g,x]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return g.every(x)}return[s,u]}const[Lce,jce]=g8(Os,ZT,Fy,m8,YT,KT),[Uce,zce]=g8(Cs,QT,Iy,Jp,XT,GT);function w2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Md(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Wce(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,u=e.shortMonths,l=Id(a),f=Fd(a),d=Id(i),p=Fd(i),m=Id(o),g=Fd(o),x=Id(s),b=Fd(s),w=Id(u),E=Fd(u),S={a:Z,A:ie,b:he,B:z,c:null,d:MP,e:MP,f:ffe,g:wfe,G:Efe,H:ufe,I:lfe,j:cfe,L:y8,m:hfe,M:dfe,p:se,q:L,Q:BP,s:LP,S:pfe,u:vfe,U:mfe,V:gfe,w:yfe,W:xfe,x:null,X:null,y:bfe,Y:_fe,Z:Sfe,"%":FP},A={a:G,A:X,b:Y,B:ce,c:null,d:IP,e:IP,f:Ofe,g:Lfe,G:Ufe,H:Tfe,I:Afe,j:Cfe,L:b8,m:Rfe,M:Dfe,p:Pe,q:le,Q:BP,s:LP,S:Nfe,u:kfe,U:Pfe,V:Mfe,w:Ife,W:Ffe,x:null,X:null,y:Bfe,Y:jfe,Z:zfe,"%":FP},T={a:I,A:F,b:B,B:te,c:ae,d:kP,e:kP,f:afe,g:NP,G:DP,H:PP,I:PP,j:efe,L:rfe,m:Jce,M:tfe,p:k,q:Zce,Q:ofe,s:sfe,S:nfe,u:Gce,U:Kce,V:Xce,w:qce,W:Yce,x:V,X:H,y:NP,Y:DP,Z:Qce,"%":ife};S.x=R(n,S),S.X=R(r,S),S.c=R(t,S),A.x=R(n,A),A.X=R(r,A),A.c=R(t,A);function R(oe,ye){return function(Oe){var ve=[],Ye=-1,$e=0,nt=oe.length,et,He,Ft;for(Oe instanceof Date||(Oe=new Date(+Oe));++Ye<nt;)oe.charCodeAt(Ye)===37&&(ve.push(oe.slice($e,Ye)),(He=RP[et=oe.charAt(++Ye)])!=null?et=oe.charAt(++Ye):He=et==="e"?" ":"0",(Ft=ye[et])&&(et=Ft(Oe,He)),ve.push(et),$e=Ye+1);return ve.push(oe.slice($e,Ye)),ve.join("")}}function D(oe,ye){return function(Oe){var ve=Md(1900,void 0,1),Ye=P(ve,oe,Oe+="",0),$e,nt;if(Ye!=Oe.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(ye&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?($e=_2(Md(ve.y,0,1)),nt=$e.getUTCDay(),$e=nt>4||nt===0?Eg.ceil($e):Eg($e),$e=My.offset($e,(ve.V-1)*7),ve.y=$e.getUTCFullYear(),ve.m=$e.getUTCMonth(),ve.d=$e.getUTCDate()+(ve.w+6)%7):($e=w2(Md(ve.y,0,1)),nt=$e.getDay(),$e=nt>4||nt===0?_g.ceil($e):_g($e),$e=Jp.offset($e,(ve.V-1)*7),ve.y=$e.getFullYear(),ve.m=$e.getMonth(),ve.d=$e.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),nt="Z"in ve?_2(Md(ve.y,0,1)).getUTCDay():w2(Md(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(nt+5)%7:ve.w+ve.U*7-(nt+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,_2(ve)):w2(ve)}}function P(oe,ye,Oe,ve){for(var Ye=0,$e=ye.length,nt=Oe.length,et,He;Ye<$e;){if(ve>=nt)return-1;if(et=ye.charCodeAt(Ye++),et===37){if(et=ye.charAt(Ye++),He=T[et in RP?ye.charAt(Ye++):et],!He||(ve=He(oe,Oe,ve))<0)return-1}else if(et!=Oe.charCodeAt(ve++))return-1}return ve}function k(oe,ye,Oe){var ve=l.exec(ye.slice(Oe));return ve?(oe.p=f.get(ve[0].toLowerCase()),Oe+ve[0].length):-1}function I(oe,ye,Oe){var ve=m.exec(ye.slice(Oe));return ve?(oe.w=g.get(ve[0].toLowerCase()),Oe+ve[0].length):-1}function F(oe,ye,Oe){var ve=d.exec(ye.slice(Oe));return ve?(oe.w=p.get(ve[0].toLowerCase()),Oe+ve[0].length):-1}function B(oe,ye,Oe){var ve=w.exec(ye.slice(Oe));return ve?(oe.m=E.get(ve[0].toLowerCase()),Oe+ve[0].length):-1}function te(oe,ye,Oe){var ve=x.exec(ye.slice(Oe));return ve?(oe.m=b.get(ve[0].toLowerCase()),Oe+ve[0].length):-1}function ae(oe,ye,Oe){return P(oe,t,ye,Oe)}function V(oe,ye,Oe){return P(oe,n,ye,Oe)}function H(oe,ye,Oe){return P(oe,r,ye,Oe)}function Z(oe){return o[oe.getDay()]}function ie(oe){return i[oe.getDay()]}function he(oe){return u[oe.getMonth()]}function z(oe){return s[oe.getMonth()]}function se(oe){return a[+(oe.getHours()>=12)]}function L(oe){return 1+~~(oe.getMonth()/3)}function G(oe){return o[oe.getUTCDay()]}function X(oe){return i[oe.getUTCDay()]}function Y(oe){return u[oe.getUTCMonth()]}function ce(oe){return s[oe.getUTCMonth()]}function Pe(oe){return a[+(oe.getUTCHours()>=12)]}function le(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ye=R(oe+="",S);return ye.toString=function(){return oe},ye},parse:function(oe){var ye=D(oe+="",!1);return ye.toString=function(){return oe},ye},utcFormat:function(oe){var ye=R(oe+="",A);return ye.toString=function(){return oe},ye},utcParse:function(oe){var ye=D(oe+="",!0);return ye.toString=function(){return oe},ye}}}var RP={"-":"",_:" ",0:"0"},Tr=/^\s*\d+/,Hce=/^%/,$ce=/[\\^$*+?|[\]().{}]/g;function Wt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Vce(e){return e.replace($ce,"\\$&")}function Id(e){return new RegExp("^(?:"+e.map(Vce).join("|")+")","i")}function Fd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function qce(e,t,n){var r=Tr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Gce(e,t,n){var r=Tr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Kce(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Xce(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Yce(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function DP(e,t,n){var r=Tr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function NP(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qce(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Zce(e,t,n){var r=Tr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Jce(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function kP(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function efe(e,t,n){var r=Tr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function PP(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tfe(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function nfe(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function rfe(e,t,n){var r=Tr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function afe(e,t,n){var r=Tr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ife(e,t,n){var r=Hce.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ofe(e,t,n){var r=Tr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function sfe(e,t,n){var r=Tr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function MP(e,t){return Wt(e.getDate(),t,2)}function ufe(e,t){return Wt(e.getHours(),t,2)}function lfe(e,t){return Wt(e.getHours()%12||12,t,2)}function cfe(e,t){return Wt(1+Jp.count(Cs(e),e),t,3)}function y8(e,t){return Wt(e.getMilliseconds(),t,3)}function ffe(e,t){return y8(e,t)+"000"}function hfe(e,t){return Wt(e.getMonth()+1,t,2)}function dfe(e,t){return Wt(e.getMinutes(),t,2)}function pfe(e,t){return Wt(e.getSeconds(),t,2)}function vfe(e){var t=e.getDay();return t===0?7:t}function mfe(e,t){return Wt(Iy.count(Cs(e)-1,e),t,2)}function x8(e){var t=e.getDay();return t>=4||t===0?Xf(e):Xf.ceil(e)}function gfe(e,t){return e=x8(e),Wt(Xf.count(Cs(e),e)+(Cs(e).getDay()===4),t,2)}function yfe(e){return e.getDay()}function xfe(e,t){return Wt(_g.count(Cs(e)-1,e),t,2)}function bfe(e,t){return Wt(e.getFullYear()%100,t,2)}function wfe(e,t){return e=x8(e),Wt(e.getFullYear()%100,t,2)}function _fe(e,t){return Wt(e.getFullYear()%1e4,t,4)}function Efe(e,t){var n=e.getDay();return e=n>=4||n===0?Xf(e):Xf.ceil(e),Wt(e.getFullYear()%1e4,t,4)}function Sfe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wt(t/60|0,"0",2)+Wt(t%60,"0",2)}function IP(e,t){return Wt(e.getUTCDate(),t,2)}function Tfe(e,t){return Wt(e.getUTCHours(),t,2)}function Afe(e,t){return Wt(e.getUTCHours()%12||12,t,2)}function Cfe(e,t){return Wt(1+My.count(Os(e),e),t,3)}function b8(e,t){return Wt(e.getUTCMilliseconds(),t,3)}function Ofe(e,t){return b8(e,t)+"000"}function Rfe(e,t){return Wt(e.getUTCMonth()+1,t,2)}function Dfe(e,t){return Wt(e.getUTCMinutes(),t,2)}function Nfe(e,t){return Wt(e.getUTCSeconds(),t,2)}function kfe(e){var t=e.getUTCDay();return t===0?7:t}function Pfe(e,t){return Wt(Fy.count(Os(e)-1,e),t,2)}function w8(e){var t=e.getUTCDay();return t>=4||t===0?Yf(e):Yf.ceil(e)}function Mfe(e,t){return e=w8(e),Wt(Yf.count(Os(e),e)+(Os(e).getUTCDay()===4),t,2)}function Ife(e){return e.getUTCDay()}function Ffe(e,t){return Wt(Eg.count(Os(e)-1,e),t,2)}function Bfe(e,t){return Wt(e.getUTCFullYear()%100,t,2)}function Lfe(e,t){return e=w8(e),Wt(e.getUTCFullYear()%100,t,2)}function jfe(e,t){return Wt(e.getUTCFullYear()%1e4,t,4)}function Ufe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Yf(e):Yf.ceil(e),Wt(e.getUTCFullYear()%1e4,t,4)}function zfe(){return"+0000"}function FP(){return"%"}function BP(e){return+e}function LP(e){return Math.floor(+e/1e3)}var lf,_8,E8;Wfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wfe(e){return lf=Wce(e),_8=lf.format,lf.parse,E8=lf.utcFormat,lf.utcParse,lf}function Hfe(e){return new Date(e)}function $fe(e){return e instanceof Date?+e:+new Date(+e)}function JT(e,t,n,r,a,i,o,s,u,l){var f=jT(),d=f.invert,p=f.domain,m=l(".%L"),g=l(":%S"),x=l("%I:%M"),b=l("%I %p"),w=l("%a %d"),E=l("%b %d"),S=l("%B"),A=l("%Y");function T(R){return(u(R)<R?m:s(R)<R?g:o(R)<R?x:i(R)<R?b:r(R)<R?a(R)<R?w:E:n(R)<R?S:A)(R)}return f.invert=function(R){return new Date(d(R))},f.domain=function(R){return arguments.length?p(Array.from(R,$fe)):p().map(Hfe)},f.ticks=function(R){var D=p();return e(D[0],D[D.length-1],R??10)},f.tickFormat=function(R,D){return D==null?T:l(D)},f.nice=function(R){var D=p();return(!R||typeof R.range!="function")&&(R=t(D[0],D[D.length-1],R??10)),R?p(l8(D,R)):f},f.copy=function(){return Zp(f,JT(e,t,n,r,a,i,o,s,u,l))},f}function Vfe(){return Bi.apply(JT(Uce,zce,Cs,QT,Iy,Jp,XT,GT,Dl,_8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qfe(){return Bi.apply(JT(Lce,jce,Os,ZT,Fy,My,YT,KT,Dl,E8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function By(){var e=0,t=1,n,r,a,i,o=oa,s=!1,u;function l(d){return d==null||isNaN(d=+d)?u:o(a===0?.5:(d=(i(d)-n)*a,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([e,t]=d,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(o=d,l):o};function f(d){return function(p){var m,g;return arguments.length?([m,g]=p,o=d(m,g),l):[o(0),o(1)]}}return l.range=f(lh),l.rangeRound=f(LT),l.unknown=function(d){return arguments.length?(u=d,l):u},function(d){return i=d,n=d(e),r=d(t),a=n===r?0:1/(r-n),l}}function qu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function S8(){var e=Vu(By()(oa));return e.copy=function(){return qu(e,S8())},zs.apply(e,arguments)}function T8(){var e=WT(By()).domain([1,10]);return e.copy=function(){return qu(e,T8()).base(e.base())},zs.apply(e,arguments)}function A8(){var e=HT(By());return e.copy=function(){return qu(e,A8()).constant(e.constant())},zs.apply(e,arguments)}function eA(){var e=$T(By());return e.copy=function(){return qu(e,eA()).exponent(e.exponent())},zs.apply(e,arguments)}function Gfe(){return eA.apply(null,arguments).exponent(.5)}function C8(){var e=[],t=oa;function n(r){if(r!=null&&!isNaN(r=+r))return t((Yp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Pu),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>kle(e,i/r))},n.copy=function(){return C8(t).domain(e)},zs.apply(n,arguments)}function Ly(){var e=0,t=.5,n=1,r=1,a,i,o,s,u,l=oa,f,d=!1,p;function m(x){return isNaN(x=+x)?p:(x=.5+((x=+f(x))-i)*(r*x<r*i?s:u),l(d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,n]=x,a=f(e=+e),i=f(t=+t),o=f(n=+n),s=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(l=x,m):l};function g(x){return function(b){var w,E,S;return arguments.length?([w,E,S]=b,l=ice(x,[w,E,S]),m):[l(0),l(.5),l(1)]}}return m.range=g(lh),m.rangeRound=g(LT),m.unknown=function(x){return arguments.length?(p=x,m):p},function(x){return f=x,a=x(e),i=x(t),o=x(n),s=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function O8(){var e=Vu(Ly()(oa));return e.copy=function(){return qu(e,O8())},zs.apply(e,arguments)}function R8(){var e=WT(Ly()).domain([.1,1,10]);return e.copy=function(){return qu(e,R8()).base(e.base())},zs.apply(e,arguments)}function D8(){var e=HT(Ly());return e.copy=function(){return qu(e,D8()).constant(e.constant())},zs.apply(e,arguments)}function tA(){var e=$T(Ly());return e.copy=function(){return qu(e,tA()).exponent(e.exponent())},zs.apply(e,arguments)}function Kfe(){return tA.apply(null,arguments).exponent(.5)}const zd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:IT,scaleDiverging:O8,scaleDivergingLog:R8,scaleDivergingPow:tA,scaleDivergingSqrt:Kfe,scaleDivergingSymlog:D8,scaleIdentity:u8,scaleImplicit:aE,scaleLinear:s8,scaleLog:c8,scaleOrdinal:MT,scalePoint:Ile,scalePow:VT,scaleQuantile:d8,scaleQuantize:p8,scaleRadial:h8,scaleSequential:S8,scaleSequentialLog:T8,scaleSequentialPow:eA,scaleSequentialQuantile:C8,scaleSequentialSqrt:Gfe,scaleSequentialSymlog:A8,scaleSqrt:Oce,scaleSymlog:f8,scaleThreshold:v8,scaleTime:Vfe,scaleUtc:qfe,tickFormat:o8},Symbol.toStringTag,{value:"Module"}));var pc=e=>e.chartData,nA=De([pc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),N8=(e,t,n,r)=>r?nA(e):pc(e);function Qf(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(oi(t)&&oi(n))return!0}return!1}function jP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Xfe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(oi(n))a=n;else if(typeof n=="function")return;if(oi(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(Qf(o))return o}}function Yfe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Qf(r))return jP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(vt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&Ak.test(a)){var u=Ak.exec(a);if(u==null||t==null)o=void 0;else{var l=+u[1];o=t[0]-l}}else o=t?.[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(vt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[1]))}catch{}else if(typeof i=="string"&&Ck.test(i)){var f=Ck.exec(i);if(f==null||t==null)s=void 0;else{var d=+f[1];s=t[1]+d}}else s=t?.[1];var p=[o,s];if(Qf(p))return t==null?p:jP(p,t,n)}}}var ch=1e9,Qfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aA,Sn=!0,Pi="[DecimalError] ",jl=Pi+"Invalid argument: ",rA=Pi+"Exponent out of range: ",fh=Math.floor,_l=Math.pow,Zfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ya,xr=1e7,wn=7,k8=9007199254740991,Sg=fh(k8/wn),at={};at.absoluteValue=at.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};at.comparedTo=at.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};at.decimalPlaces=at.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*wn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};at.dividedBy=at.div=function(e){return bs(this,new this.constructor(e))};at.dividedToIntegerBy=at.idiv=function(e){var t=this,n=t.constructor;return dn(bs(t,new n(e),0,1),n.precision)};at.equals=at.eq=function(e){return!this.cmp(e)};at.exponent=function(){return Qn(this)};at.greaterThan=at.gt=function(e){return this.cmp(e)>0};at.greaterThanOrEqualTo=at.gte=function(e){return this.cmp(e)>=0};at.isInteger=at.isint=function(){return this.e>this.d.length-2};at.isNegative=at.isneg=function(){return this.s<0};at.isPositive=at.ispos=function(){return this.s>0};at.isZero=function(){return this.s===0};at.lessThan=at.lt=function(e){return this.cmp(e)<0};at.lessThanOrEqualTo=at.lte=function(e){return this.cmp(e)<1};at.logarithm=at.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ya))throw Error(Pi+"NaN");if(n.s<1)throw Error(Pi+(n.s?"NaN":"-Infinity"));return n.eq(Ya)?new r(0):(Sn=!1,t=bs(bp(n,i),bp(e,i),i),Sn=!0,dn(t,a))};at.minus=at.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?I8(t,e):P8(t,(e.s=-e.s,e))};at.modulo=at.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Pi+"NaN");return n.s?(Sn=!1,t=bs(n,e,0,1).times(e),Sn=!0,n.minus(t)):dn(new r(n),a)};at.naturalExponential=at.exp=function(){return M8(this)};at.naturalLogarithm=at.ln=function(){return bp(this)};at.negated=at.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};at.plus=at.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P8(t,e):I8(t,(e.s=-e.s,e))};at.precision=at.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jl+e);if(t=Qn(a)+1,r=a.d.length-1,n=r*wn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};at.squareRoot=at.sqrt=function(){var e,t,n,r,a,i,o,s=this,u=s.constructor;if(s.s<1){if(!s.s)return new u(0);throw Error(Pi+"NaN")}for(e=Qn(s),Sn=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Do(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=fh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(a.toString()),n=u.precision,a=o=n+3;;)if(i=r,r=i.plus(bs(s,i,o+2)).times(.5),Do(i.d).slice(0,o)===(t=Do(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(dn(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return Sn=!0,dn(r,n)};at.times=at.mul=function(e){var t,n,r,a,i,o,s,u,l,f=this,d=f.constructor,p=f.d,m=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,n=f.e+e.e,u=p.length,l=m.length,u<l&&(i=p,p=m,m=i,o=u,u=l,l=o),i=[],o=u+l,r=o;r--;)i.push(0);for(r=l;--r>=0;){for(t=0,a=u+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%xr|0,t=s/xr|0;i[a]=(i[a]+t)%xr|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Sn?dn(e,d.precision):e};at.toDecimalPlaces=at.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(jo(e,0,ch),t===void 0?t=r.rounding:jo(t,0,8),dn(n,e+Qn(n)+1,t))};at.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Kl(r,!0):(jo(e,0,ch),t===void 0?t=a.rounding:jo(t,0,8),r=dn(new a(r),e+1,t),n=Kl(r,!0,e+1)),n};at.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Kl(a):(jo(e,0,ch),t===void 0?t=i.rounding:jo(t,0,8),r=dn(new i(a),e+Qn(a)+1,t),n=Kl(r.abs(),!1,e+Qn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};at.toInteger=at.toint=function(){var e=this,t=e.constructor;return dn(new t(e),Qn(e)+1,t.rounding)};at.toNumber=function(){return+this};at.toPower=at.pow=function(e){var t,n,r,a,i,o,s=this,u=s.constructor,l=12,f=+(e=new u(e));if(!e.s)return new u(Ya);if(s=new u(s),!s.s){if(e.s<1)throw Error(Pi+"Infinity");return s}if(s.eq(Ya))return s;if(r=u.precision,e.eq(Ya))return dn(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=f<0?-f:f)<=k8){for(a=new u(Ya),t=Math.ceil(r/wn+4),Sn=!1;n%2&&(a=a.times(s),zP(a.d,t)),n=fh(n/2),n!==0;)s=s.times(s),zP(s.d,t);return Sn=!0,e.s<0?new u(Ya).div(a):dn(a,r)}}else if(i<0)throw Error(Pi+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,Sn=!1,a=e.times(bp(s,r+l)),Sn=!0,a=M8(a),a.s=i,a};at.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Qn(a),r=Kl(a,n<=i.toExpNeg||n>=i.toExpPos)):(jo(e,1,ch),t===void 0?t=i.rounding:jo(t,0,8),a=dn(new i(a),e,t),n=Qn(a),r=Kl(a,e<=n||n<=i.toExpNeg,e)),r};at.toSignificantDigits=at.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(jo(e,1,ch),t===void 0?t=r.rounding:jo(t,0,8)),dn(new r(n),e,t)};at.toString=at.valueOf=at.val=at.toJSON=at[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qn(e),n=e.constructor;return Kl(e,t<=n.toExpNeg||t>=n.toExpPos)};function P8(e,t){var n,r,a,i,o,s,u,l,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Sn?dn(t,d):t;if(u=e.d,l=t.d,o=e.e,a=t.e,u=u.slice(),i=o-a,i){for(i<0?(r=u,i=-i,s=l.length):(r=l,a=o,s=u.length),o=Math.ceil(d/wn),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=u.length,i=l.length,s-i<0&&(i=s,r=l,l=u,u=r),n=0;i;)n=(u[--i]=u[i]+l[i]+n)/xr|0,u[i]%=xr;for(n&&(u.unshift(n),++a),s=u.length;u[--s]==0;)u.pop();return t.d=u,t.e=a,Sn?dn(t,d):t}function jo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(jl+e)}function Do(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=wn-r.length,n&&(i+=_u(n)),i+=r;o=e[t],r=o+"",n=wn-r.length,n&&(i+=_u(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var bs=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%xr|0,o=i/xr|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,u;if(i!=o)u=i>o?1:-1;else for(s=u=0;s<i;s++)if(r[s]!=a[s]){u=r[s]>a[s]?1:-1;break}return u}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*xr+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,u,l,f,d,p,m,g,x,b,w,E,S,A,T,R,D,P,k=r.constructor,I=r.s==a.s?1:-1,F=r.d,B=a.d;if(!r.s)return new k(r);if(!a.s)throw Error(Pi+"Division by zero");for(u=r.e-a.e,D=B.length,T=F.length,m=new k(I),g=m.d=[],l=0;B[l]==(F[l]||0);)++l;if(B[l]>(F[l]||0)&&--u,i==null?E=i=k.precision:o?E=i+(Qn(r)-Qn(a))+1:E=i,E<0)return new k(0);if(E=E/wn+2|0,l=0,D==1)for(f=0,B=B[0],E++;(l<T||f)&&E--;l++)S=f*xr+(F[l]||0),g[l]=S/B|0,f=S%B|0;else{for(f=xr/(B[0]+1)|0,f>1&&(B=e(B,f),F=e(F,f),D=B.length,T=F.length),A=D,x=F.slice(0,D),b=x.length;b<D;)x[b++]=0;P=B.slice(),P.unshift(0),R=B[0],B[1]>=xr/2&&++R;do f=0,s=t(B,x,D,b),s<0?(w=x[0],D!=b&&(w=w*xr+(x[1]||0)),f=w/R|0,f>1?(f>=xr&&(f=xr-1),d=e(B,f),p=d.length,b=x.length,s=t(d,x,p,b),s==1&&(f--,n(d,D<p?P:B,p))):(f==0&&(s=f=1),d=B.slice()),p=d.length,p<b&&d.unshift(0),n(x,d,b),s==-1&&(b=x.length,s=t(B,x,D,b),s<1&&(f++,n(x,D<b?P:B,b))),b=x.length):s===0&&(f++,x=[0]),g[l++]=f,s&&x[0]?x[b++]=F[A]||0:(x=[F[A]],b=1);while((A++<T||x[0]!==void 0)&&E--)}return g[0]||g.shift(),m.e=u,dn(m,o?i+Qn(m)+1:i)}}();function M8(e,t){var n,r,a,i,o,s,u=0,l=0,f=e.constructor,d=f.precision;if(Qn(e)>16)throw Error(rA+Qn(e));if(!e.s)return new f(Ya);for(Sn=!1,s=d,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(r=Math.log(_l(2,l))/Math.LN10*2+5|0,s+=r,n=a=i=new f(Ya),f.precision=s;;){if(a=dn(a.times(e),s),n=n.times(++u),o=i.plus(bs(a,n,s)),Do(o.d).slice(0,s)===Do(i.d).slice(0,s)){for(;l--;)i=dn(i.times(i),s);return f.precision=d,t==null?(Sn=!0,dn(i,d)):i}i=o}}function Qn(e){for(var t=e.e*wn,n=e.d[0];n>=10;n/=10)t++;return t}function E2(e,t,n){if(t>e.LN10.sd())throw Sn=!0,n&&(e.precision=n),Error(Pi+"LN10 precision limit exceeded");return dn(new e(e.LN10),t)}function _u(e){for(var t="";e--;)t+="0";return t}function bp(e,t){var n,r,a,i,o,s,u,l,f,d=1,p=10,m=e,g=m.d,x=m.constructor,b=x.precision;if(m.s<1)throw Error(Pi+(m.s?"NaN":"-Infinity"));if(m.eq(Ya))return new x(0);if(t==null?(Sn=!1,l=b):l=t,m.eq(10))return t==null&&(Sn=!0),E2(x,l);if(l+=p,x.precision=l,n=Do(g),r=n.charAt(0),i=Qn(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Do(m.d),r=n.charAt(0),d++;i=Qn(m),r>1?(m=new x("0."+n),i++):m=new x(r+"."+n.slice(1))}else return u=E2(x,l+2,b).times(i+""),m=bp(new x(r+"."+n.slice(1)),l-p).plus(u),x.precision=b,t==null?(Sn=!0,dn(m,b)):m;for(s=o=m=bs(m.minus(Ya),m.plus(Ya),l),f=dn(m.times(m),l),a=3;;){if(o=dn(o.times(f),l),u=s.plus(bs(o,new x(a),l)),Do(u.d).slice(0,l)===Do(s.d).slice(0,l))return s=s.times(2),i!==0&&(s=s.plus(E2(x,l+2,b).times(i+""))),s=bs(s,new x(d),l),x.precision=b,t==null?(Sn=!0,dn(s,b)):s;s=u,a+=2}}function UP(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=fh(n/wn),e.d=[],r=(n+1)%wn,n<0&&(r+=wn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=wn;r<a;)e.d.push(+t.slice(r,r+=wn));t=t.slice(r),r=wn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Sn&&(e.e>Sg||e.e<-Sg))throw Error(rA+n)}else e.s=0,e.e=0,e.d=[0];return e}function dn(e,t,n){var r,a,i,o,s,u,l,f,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=wn,a=t,l=d[f=0];else{if(f=Math.ceil((r+1)/wn),i=d.length,f>=i)return e;for(l=i=d[f],o=1;i>=10;i/=10)o++;r%=wn,a=r-wn+o}if(n!==void 0&&(i=_l(10,o-a-1),s=l/i%10|0,u=t<0||d[f+1]!==void 0||l%i,u=n<4?(s||u)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||u||n==6&&(r>0?a>0?l/_l(10,o-a):0:d[f-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return u?(i=Qn(e),d.length=1,t=t-i-1,d[0]=_l(10,(wn-t%wn)%wn),e.e=fh(-t/wn)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=f,i=1,f--):(d.length=f+1,i=_l(10,wn-r),d[f]=a>0?(l/_l(10,o-a)%_l(10,a)|0)*i:0),u)for(;;)if(f==0){(d[0]+=i)==xr&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=xr)break;d[f--]=0,i=1}for(r=d.length;d[--r]===0;)d.pop();if(Sn&&(e.e>Sg||e.e<-Sg))throw Error(rA+Qn(e));return e}function I8(e,t){var n,r,a,i,o,s,u,l,f,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Sn?dn(t,m):t;if(u=e.d,d=t.d,r=t.e,l=e.e,u=u.slice(),o=l-r,o){for(f=o<0,f?(n=u,o=-o,s=d.length):(n=d,r=l,s=u.length),a=Math.max(Math.ceil(m/wn),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=u.length,s=d.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(u[a]!=d[a]){f=u[a]<d[a];break}o=0}for(f&&(n=u,u=d,d=n,t.s=-t.s),s=u.length,a=d.length-s;a>0;--a)u[s++]=0;for(a=d.length;a>o;){if(u[--a]<d[a]){for(i=a;i&&u[--i]===0;)u[i]=xr-1;--u[i],u[a]+=xr}u[a]-=d[a]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,Sn?dn(t,m):t):new p(0)}function Kl(e,t,n){var r,a=Qn(e),i=Do(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+_u(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+_u(-a-1)+i,n&&(r=n-o)>0&&(i+=_u(r))):a>=o?(i+=_u(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+_u(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=_u(r))),e.s<0?"-"+i:i}function zP(e,t){if(e.length>t)return e.length=t,!0}function F8(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(jl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return UP(o,i.toString())}else if(typeof i!="string")throw Error(jl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Zfe.test(i))UP(o,i);else throw Error(jl+i)}if(a.prototype=at,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=F8,a.config=a.set=Jfe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function Jfe(e){if(!e||typeof e!="object")throw Error(Pi+"Object expected");var t,n,r,a=["precision",1,ch,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(fh(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(jl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(jl+n+": "+r);return this}var aA=F8(Qfe);Ya=new aA(1);const Jt=aA;var ehe=e=>e,B8={},L8=e=>e===B8,WP=e=>function t(){return arguments.length===0||arguments.length===1&&L8(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},j8=(e,t)=>e===1?t:WP(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==B8).length;return i>=e?t(...r):j8(e-i,WP(function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];var l=r.map(f=>L8(f)?s.shift():f);return t(...l,...s)}))}),jy=e=>j8(e.length,e),uE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},the=jy((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),nhe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return ehe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((s,u)=>u(s),i(...arguments))}},lE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),U8=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every((o,s)=>{var u;return o===((u=t)===null||u===void 0?void 0:u[s])})||(t=a,n=e(...a)),n}};function z8(e){var t;return e===0?t=1:t=Math.floor(new Jt(e).abs().log(10).toNumber())+1,t}function W8(e,t,n){for(var r=new Jt(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}jy((e,t,n)=>{var r=+e,a=+t;return r+n*(a-r)});jy((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});jy((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var H8=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},$8=(e,t,n)=>{if(e.lte(0))return new Jt(0);var r=z8(e.toNumber()),a=new Jt(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new Jt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),u=s.mul(a);return t?new Jt(u.toNumber()):new Jt(Math.ceil(u.toNumber()))},rhe=(e,t,n)=>{var r=new Jt(1),a=new Jt(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Jt(10).pow(z8(e)-1),a=new Jt(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Jt(Math.floor(e)))}else e===0?a=new Jt(Math.floor((t-1)/2)):n||(a=new Jt(Math.floor(e)));var o=Math.floor((t-1)/2),s=nhe(the(u=>a.add(new Jt(u-o).mul(r)).toNumber()),uE);return s(0,t)},V8=function(t,n,r,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Jt(0),tickMin:new Jt(0),tickMax:new Jt(0)};var o=$8(new Jt(n).sub(t).div(r-1),a,i),s;t<=0&&n>=0?s=new Jt(0):(s=new Jt(t).add(n).div(2),s=s.sub(new Jt(s).mod(o)));var u=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Jt(n).sub(s).div(o).toNumber()),f=u+l+1;return f>r?V8(t,n,r,a,i+1):(f<r&&(l=n>0?l+(r-f):l,u=n>0?u:u+(r-f)),{step:o,tickMin:s.sub(new Jt(u).mul(o)),tickMax:s.add(new Jt(l).mul(o))})};function ahe(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=H8([t,n]);if(o===-1/0||s===1/0){var u=s===1/0?[o,...uE(0,r-1).map(()=>1/0)]:[...uE(0,r-1).map(()=>-1/0),s];return t>n?lE(u):u}if(o===s)return rhe(o,r,a);var{step:l,tickMin:f,tickMax:d}=V8(o,s,i,a,0),p=W8(f,d.add(new Jt(.1).mul(l)),l);return t>n?lE(p):p}function ihe(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=H8([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),u=$8(new Jt(o).sub(i).div(s-1),a,0),l=[...W8(new Jt(i),new Jt(o),u),o];return a===!1&&(l=l.map(f=>Math.round(f))),n>r?lE(l):l}var ohe=U8(ahe),she=U8(ihe),q8=e=>e.rootProps.maxBarSize,uhe=e=>e.rootProps.barGap,G8=e=>e.rootProps.barCategoryGap,lhe=e=>e.rootProps.barSize,e0=e=>e.rootProps.stackOffset,iA=e=>e.options.chartName,oA=e=>e.rootProps.syncId,K8=e=>e.rootProps.syncMethod,sA=e=>e.options.eventEmitter,ds={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$a={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Uy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},che={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ds.angleAxisId,includeHidden:!1,name:void 0,reversed:ds.reversed,scale:ds.scale,tick:ds.tick,tickCount:void 0,ticks:void 0,type:ds.type,unit:void 0},fhe={allowDataOverflow:$a.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$a.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$a.scale,tick:$a.tick,tickCount:$a.tickCount,ticks:void 0,type:$a.type,unit:void 0},hhe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ds.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ds.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ds.scale,tick:ds.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dhe={allowDataOverflow:$a.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$a.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$a.scale,tick:$a.tick,tickCount:$a.tickCount,ticks:void 0,type:"category",unit:void 0},uA=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?hhe:che,lA=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?dhe:fhe,zy=e=>e.polarOptions,cA=De([js,Us,cr],D6),X8=De([zy,cA],(e,t)=>{if(e!=null)return sa(e.innerRadius,t,0)}),Y8=De([zy,cA],(e,t)=>{if(e!=null)return sa(e.outerRadius,t,t*.8)}),phe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Q8=De([zy],phe);De([uA,Q8],Uy);var Z8=De([cA,X8,Y8],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});De([lA,Z8],Uy);var vhe=De([rn,zy,X8,Y8,js,Us],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:u,endAngle:l}=t;return{cx:sa(o,a,a/2),cy:sa(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:l,clockWise:!1}}}),Wn=(e,t)=>t,t0=(e,t,n)=>n;function HP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(n),!0).forEach(function(r){mhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mhe(e,t,n){return(t=ghe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ghe(e){var t=yhe(e,"string");return typeof t=="symbol"?t:t+""}function yhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cE=[0,"auto"],Ua={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ws=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??Ua},za={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:cE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ry},Gu=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??za},xhe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fA=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??xhe},Hn=(e,t,n)=>{switch(t){case"xAxis":return Ws(e,n);case"yAxis":return Gu(e,n);case"zAxis":return fA(e,n);case"angleAxis":return uA(e,n);case"radiusAxis":return lA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},bhe=(e,t,n)=>{switch(t){case"xAxis":return Ws(e,n);case"yAxis":return Gu(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},n0=(e,t,n)=>{switch(t){case"xAxis":return Ws(e,n);case"yAxis":return Gu(e,n);case"angleAxis":return uA(e,n);case"radiusAxis":return lA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},J8=e=>e.graphicalItems.countOfBars>0;function hA(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var dA=e=>e.graphicalItems.cartesianItems,whe=De([Wn,t0],hA),pA=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),r0=De([dA,Hn,whe],pA),e5=e=>e.filter(t=>t.stackId===void 0),_he=De([r0],e5),vA=e=>e.map(t=>t.data).filter(Boolean).flat(1),Ehe=De([r0],vA),mA=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},Wy=De([Ehe,N8],mA),gA=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Fn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:Fn(a,r)}))):e.map(r=>({value:r})),Hy=De([Wy,Hn,r0],gA);function t5(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function vc(e){return e.filter(t=>Lo(t)||t instanceof Date).map(Number).filter(t=>Ni(t)===!1)}function She(e,t,n){return!n||typeof t!="number"||Ni(t)?[]:n.length?vc(n.flatMap(r=>{var a=Fn(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!oi(i)||!oi(o)))return[t-i,t+o]})):[]}var n5=(e,t,n)=>{var r={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),r);return Object.fromEntries(Object.entries(a).map(i=>{var[o,s]=i,u=s.map(l=>l.dataKey);return[o,{stackedData:Ese(e,u,n),graphicalItems:s}]}))},fE=De([Wy,r0,e0],n5),r5=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if(n!=="zAxis"){var i=Cse(e,r,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},The=De([fE,pc,Wn],r5),a5=(e,t,n,r)=>n.length>0?e.flatMap(a=>n.flatMap(i=>{var o,s,u=(o=i.errorBars)===null||o===void 0?void 0:o.filter(f=>t5(r,f)),l=Fn(a,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:She(a,l,u)}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:Fn(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Ahe=De(Wy,Hn,_he,Wn,a5);function Che(e){var{value:t}=e;if(Lo(t)||t instanceof Date)return t}var Ohe=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=vc(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Rhe=(e,t,n)=>{var r=e.map(Che).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&Oj(r))?Y6(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},yA=e=>{var t;if(e==null||!("domain"in e))return cE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=vc(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:cE},xA=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),s=Math.max(...i);return[o,s]}},i5=e=>e.referenceElements.dots,hh=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Dhe=De([i5,Wn,t0],hh),o5=e=>e.referenceElements.areas,Nhe=De([o5,Wn,t0],hh),s5=e=>e.referenceElements.lines,khe=De([s5,Wn,t0],hh),u5=(e,t)=>{var n=vc(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Phe=De(Dhe,Wn,u5),l5=(e,t)=>{var n=vc(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Mhe=De([Nhe,Wn],l5),c5=(e,t)=>{var n=vc(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ihe=De(khe,Wn,c5),Fhe=De(Phe,Ihe,Mhe,(e,t,n)=>xA(e,n,t)),f5=De([Hn],yA),bA=(e,t,n,r,a)=>{var i=Xfe(t,e.allowDataOverflow);return i??Yfe(t,xA(n,a,Ohe(r)),e.allowDataOverflow)},Bhe=De([Hn,f5,The,Ahe,Fhe],bA),Lhe=[0,1],wA=(e,t,n,r,a,i,o)=>{if(!(e==null||n==null||n.length===0)){var{dataKey:s,type:u}=e,l=fc(t,i);return l&&s==null?Y6(0,n.length):u==="category"?Rhe(r,e,l):a==="expand"?Lhe:o}},_A=De([Hn,rn,Wy,Hy,e0,Wn,Bhe],wA),h5=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(qp(i));return s in zd?s:"point"}}},dh=De([Hn,rn,J8,iA,Wn],h5);function jhe(e){if(e!=null){if(e in zd)return zd[e]();var t="scale".concat(qp(e));if(t in zd)return zd[t]()}}function EA(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=jhe(t);if(a!=null){var i=a.domain(n).range(r);return yse(i),i}}}var SA=(e,t,n)=>{var r=yA(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Qf(e))return ohe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Qf(e))return she(e,t.tickCount,t.allowDecimals)}},TA=De([_A,n0,dh],SA),AA=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Qf(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},Uhe=De([Hn,_A,TA,Wn],AA),zhe=De(Hy,Hn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(vc(e.map(s=>s.value))).sort((s,u)=>s-u);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var i=0;i<r.length-1;i++){var o=r[i+1]-r[i];n=Math.min(n,o)}return n/a}}),d5=De(zhe,rn,G8,cr,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!oi(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=sa(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),Whe=(e,t)=>{var n=Ws(e,t);return n==null||typeof n.padding!="string"?0:d5(e,"xAxis",t,n.padding)},Hhe=(e,t)=>{var n=Gu(e,t);return n==null||typeof n.padding!="string"?0:d5(e,"yAxis",t,n.padding)},$he=De(Ws,Whe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),Vhe=De(Gu,Hhe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),qhe=De([cr,$he,Ny,Dy,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Ghe=De([cr,rn,Vhe,Ny,Dy,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),a0=(e,t,n,r)=>{var a;switch(t){case"xAxis":return qhe(e,n,r);case"yAxis":return Ghe(e,n,r);case"zAxis":return(a=fA(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return Q8(e);case"radiusAxis":return Z8(e,n);default:return}},p5=De([Hn,a0],Uy),ph=De([Hn,dh,Uhe,p5],EA);De(r0,Wn,(e,t)=>e.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>t5(t,n)));function v5(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var $y=(e,t)=>t,Vy=(e,t,n)=>n,Khe=De(CT,$y,Vy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(v5)),Xhe=De(OT,$y,Vy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(v5)),m5=(e,t)=>({width:e.width,height:t.height}),Yhe=(e,t)=>{var n=typeof t.width=="number"?t.width:Ry;return{width:n,height:e.height}},g5=De(cr,Ws,m5),Qhe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Zhe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Jhe=De(Us,cr,Khe,$y,Vy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var u=m5(t,s);o==null&&(o=Qhe(t,r,e));var l=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(l)*u.height,o+=(l?-1:1)*u.height}),i}),ede=De(js,cr,Xhe,$y,Vy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var u=Yhe(t,s);o==null&&(o=Zhe(t,r,e));var l=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(l)*u.width,o+=(l?-1:1)*u.width}),i}),tde=(e,t)=>{var n=cr(e),r=Ws(e,t);if(r!=null){var a=Jhe(e,r.orientation,r.mirror),i=a[t];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}},nde=(e,t)=>{var n=cr(e),r=Gu(e,t);if(r!=null){var a=ede(e,r.orientation,r.mirror),i=a[t];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}},y5=De(cr,Gu,(e,t)=>{var n=typeof t.width=="number"?t.width:Ry;return{width:n,height:e.height}}),$P=(e,t,n)=>{switch(t){case"xAxis":return g5(e,n).width;case"yAxis":return y5(e,n).height;default:return}},x5=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=fc(e,r),u=t.map(l=>l.value);if(o&&s&&i==="category"&&a&&Oj(u))return u}},CA=De([rn,Hy,Hn,Wn],x5),b5=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=fc(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},OA=De([rn,Hy,n0,Wn],b5);De([rn,bhe,dh,ph,CA,OA,a0,TA,Wn],(e,t,n,r,a,i,o,s,u)=>{if(t==null)return null;var l=fc(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:l,niceTicks:s,range:o,realScaleType:n,scale:r}});var rde=(e,t,n,r,a,i,o,s,u)=>{if(!(t==null||r==null)){var l=fc(e,u),{type:f,ticks:d,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/m:0;g=u==="angleAxis"&&i!=null&&i.length>=2?jr(i[0]-i[1])*2*g:g;var x=d||a;if(x){var b=x.map((w,E)=>{var S=o?o.indexOf(w):w;return{index:E,coordinate:r(S)+g,value:w,offset:g}});return b.filter(w=>!Ni(w.coordinate))}return l&&s?s.map((w,E)=>({coordinate:r(w)+g,value:w,index:E,offset:g})):r.ticks?r.ticks(p).map(w=>({coordinate:r(w)+g,value:w,offset:g})):r.domain().map((w,E)=>({coordinate:r(w)+g,value:o?o[w]:w,index:E,offset:g}))}},w5=De([rn,n0,dh,ph,TA,a0,CA,OA,Wn],rde),ade=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=fc(e,o),{tickCount:u}=t,l=0;return l=o==="angleAxis"&&r?.length>=2?jr(r[0]-r[1])*2*l:l,s&&i?i.map((f,d)=>({coordinate:n(f)+l,value:f,index:d,offset:l})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+l,value:f,offset:l})):n.domain().map((f,d)=>({coordinate:n(f)+l,value:a?a[f]:f,index:d,offset:l}))}},Zf=De([rn,n0,ph,a0,CA,OA,Wn],ade),Bu=De(Hn,ph,(e,t)=>{if(!(e==null||t==null))return Tg(Tg({},e),{},{scale:t})}),ide=De([Hn,dh,_A,p5],EA);De((e,t,n)=>fA(e,n),ide,(e,t)=>{if(!(e==null||t==null))return Tg(Tg({},e),{},{scale:t})});var ode=De([rn,CT,OT],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_5=e=>e.options.defaultTooltipEventType,E5=e=>e.options.validateTooltipEventTypes;function S5(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function RA(e,t){var n=_5(e),r=E5(e);return S5(t,n,r)}function sde(e){return gt(t=>RA(t,e))}var T5=(e,t)=>{var n,r=Number(t);if(!(Ni(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},ude=e=>e.tooltip.settings,Eu={active:!1,index:null,dataKey:void 0,coordinate:void 0},lde={itemInteraction:{click:Eu,hover:Eu},axisInteraction:{click:Eu,hover:Eu},keyboardInteraction:Eu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},A5=Fi({name:"tooltip",initialState:lde,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=xs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:cde,removeTooltipEntrySettings:fde,setTooltipSettingsState:hde,setActiveMouseOverItemIndex:C5,mouseLeaveItem:dde,mouseLeaveChart:O5,setActiveClickItemIndex:pde,setMouseOverAxisIndex:R5,setMouseClickAxisIndex:vde,setSyncInteraction:hE,setKeyboardInteraction:dE}=A5.actions,mde=A5.reducer;function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function im(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(r){gde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gde(e,t,n){return(t=yde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yde(e){var t=xde(e,"string");return typeof t=="symbol"?t:t+""}function xde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bde(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function wde(e){return e.index!=null}var D5=(e,t,n,r)=>{if(t==null)return Eu;var a=bde(e,t,n);if(a==null)return Eu;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(wde(a)){if(i)return im(im({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return im(im({},Eu),{},{coordinate:a.coordinate})},DA=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!oi(r))return n;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(r,i)))},N5=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var u=o[0],l=u==null?void 0:s(u.positions,i);if(l!=null)return l;var f=a?.[Number(i)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:f.coordinate}}}},k5=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},i0=e=>e.options.tooltipPayloadSearcher,vh=e=>e.tooltip;function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(n),!0).forEach(function(r){_de(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _de(e,t,n){return(t=Ede(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ede(e){var t=Sde(e,"string");return typeof t=="symbol"?t:t+""}function Sde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tde(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ade(e,t){return e??t}var P5=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:u,dataStartIndex:l,dataEndIndex:f}=n,d=[];return e.reduce((p,m)=>{var g,{dataDefinedOnItem:x,settings:b}=m,w=Ade(x,s),E=Tde(w,l,f),S=(g=b?.dataKey)!==null&&g!==void 0?g:r?.dataKey,A=b?.nameKey,T;if(r!=null&&r.dataKey&&Array.isArray(E)&&!Array.isArray(E[0])&&o==="axis"?T=lae(E,r.dataKey,a):T=i(E,t,u,A),Array.isArray(T))T.forEach(D=>{var P=GP(GP({},b),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});p.push(Ok({tooltipEntrySettings:P,dataKey:D.dataKey,payload:D.payload,value:Fn(D.payload,D.dataKey),name:D.name}))});else{var R;p.push(Ok({tooltipEntrySettings:b,dataKey:S,payload:T,value:Fn(T,S),name:(R=Fn(T,A))!==null&&R!==void 0?R:b?.name}))}return p},d)}},Ar=e=>{var t=rn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},mh=e=>e.tooltip.settings.axisId,Wr=e=>{var t=Ar(e),n=mh(e);return n0(e,t,n)},NA=De([Wr,rn,J8,iA,Ar],h5),Cde=De([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ode=De([Ar,mh],hA),qy=De([Cde,Wr,Ode],pA),Rde=De([qy],vA),mc=De([Rde,pc],mA),kA=De([mc,Wr,qy],gA),Dde=De([Wr],yA),Nde=De([mc,qy,e0],n5),kde=De([Nde,pc,Ar],r5),Pde=De([qy],e5),Mde=De([mc,Wr,Pde,Ar],a5),Ide=De([i5,Ar,mh],hh),Fde=De([Ide,Ar],u5),Bde=De([o5,Ar,mh],hh),Lde=De([Bde,Ar],l5),jde=De([s5,Ar,mh],hh),Ude=De([jde,Ar],c5),zde=De([Fde,Ude,Lde],xA),Wde=De([Wr,Dde,kde,Mde,zde],bA),M5=De([Wr,rn,mc,kA,e0,Ar,Wde],wA),Hde=De([M5,Wr,NA],SA),$de=De([Wr,M5,Hde,Ar],AA),I5=e=>{var t=Ar(e),n=mh(e),r=!1;return a0(e,t,n,r)},F5=De([Wr,I5],Uy),B5=De([Wr,NA,$de,F5],EA),Vde=De([rn,kA,Wr,Ar],x5),qde=De([rn,kA,Wr,Ar],b5),Gde=(e,t,n,r,a,i,o,s)=>{if(t){var{type:u}=t,l=fc(e,s);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return d=s==="angleAxis"&&a!=null&&a?.length>=2?jr(a[0]-a[1])*2*d:d,l&&o?o.map((p,m)=>({coordinate:r(p)+d,value:p,index:m,offset:d})):r.domain().map((p,m)=>({coordinate:r(p)+d,value:i?i[p]:p,index:m,offset:d}))}}},Hs=De([rn,Wr,NA,B5,I5,Vde,qde,Ar],Gde),PA=De([_5,E5,ude],(e,t,n)=>S5(n.shared,e,t)),L5=e=>e.tooltip.settings.trigger,MA=e=>e.tooltip.settings.defaultIndex,Gy=De([vh,PA,L5,MA],D5),Xl=De([Gy,mc],DA),j5=De([Hs,Xl],T5),U5=De([Gy],e=>{if(e)return e.dataKey}),z5=De([vh,PA,L5,MA],k5),Kde=De([js,Us,rn,cr,Hs,MA,z5,i0],N5),Xde=De([Gy,Kde],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Yde=De([Gy],e=>e.active),Qde=De([z5,Xl,pc,Wr,j5,i0,PA],P5);De([Qde],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function KP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function XP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(n),!0).forEach(function(r){Zde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zde(e,t,n){return(t=Jde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jde(e){var t=epe(e,"string");return typeof t=="symbol"?t:t+""}function epe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tpe=()=>gt(Wr),npe=()=>{var e=tpe(),t=gt(Hs),n=gt(B5);return AT(XP(XP({},e),{},{scale:n}),t)},rpe=()=>gt(iA),IA=(e,t)=>t,W5=(e,t,n)=>n,FA=(e,t,n,r)=>r,ape=De(Hs,e=>wy(e,t=>t.coordinate)),BA=De([vh,IA,W5,FA],D5),H5=De([BA,mc],DA),ipe=(e,t,n)=>{if(t!=null){var r=vh(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},$5=De([vh,IA,W5,FA],k5),Ag=De([js,Us,rn,cr,Hs,FA,$5,i0],N5),ope=De([BA,Ag],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),V5=De(Hs,H5,T5),spe=De([$5,H5,pc,Wr,V5,i0,IA],P5),upe=De([BA],e=>({isActive:e.active,activeIndex:e.index})),lpe=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i)){var u=Ose(e.chartX,e.chartY,t,n,s);if(u){var l=Dse(u,t),f=mse(l,o,i,r,a),d=Rse(t,i,f,u);return{activeIndex:String(f),activeCoordinate:d}}}};function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pE.apply(null,arguments)}function YP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function om(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(n),!0).forEach(function(r){cpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cpe(e,t,n){return(t=fpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fpe(e){var t=hpe(e,"string");return typeof t=="symbol"?t:t+""}function hpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dpe(e){var{coordinate:t,payload:n,index:r,offset:a,tooltipAxisBandSize:i,layout:o,cursor:s,tooltipEventType:u,chartName:l}=e,f=t,d=n,p=r;if(!s||!f||l!=="ScatterChart"&&u!=="axis")return null;var m,g;if(l==="ScatterChart")m=f,g=Oue;else if(l==="BarChart")m=Rue(o,f,a,i),g=q6;else if(o==="radial"){var{cx:x,cy:b,radius:w,startAngle:E,endAngle:S}=G6(f);m={cx:x,cy:b,startAngle:E,endAngle:S,innerRadius:w,outerRadius:w},g=X6}else m={points:vle(o,f,a)},g=W6;var A=typeof s=="object"&&"className"in s?s.className:void 0,T=om(om(om(om({stroke:"#ccc",pointerEvents:"none"},a),m),fn(s,!1)),{},{payload:d,payloadIndex:p,className:en("recharts-tooltip-cursor",A)});return N.isValidElement(s)?N.cloneElement(s,T):N.createElement(g,T)}function ppe(e){var t=npe(),n=jse(),r=DT(),a=rpe();return N.createElement(dpe,pE({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var q5=N.createContext(null),vpe=()=>N.useContext(q5),S2={exports:{}},QP;function mpe(){return QP||(QP=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(u,l,f){this.fn=u,this.context=l,this.once=f||!1}function i(u,l,f,d,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new a(f,d||u,p),g=n?n+l:l;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],m]:u._events[g].push(m):(u._events[g]=m,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],f,d;if(this._eventsCount===0)return l;for(d in f=this._events)t.call(f,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(f)):l},s.prototype.listeners=function(l){var f=n?n+l:l,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,g=new Array(m);p<m;p++)g[p]=d[p].fn;return g},s.prototype.listenerCount=function(l){var f=n?n+l:l,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,f,d,p,m,g){var x=n?n+l:l;if(!this._events[x])return!1;var b=this._events[x],w=arguments.length,E,S;if(b.fn){switch(b.once&&this.removeListener(l,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,d),!0;case 4:return b.fn.call(b.context,f,d,p),!0;case 5:return b.fn.call(b.context,f,d,p,m),!0;case 6:return b.fn.call(b.context,f,d,p,m,g),!0}for(S=1,E=new Array(w-1);S<w;S++)E[S-1]=arguments[S];b.fn.apply(b.context,E)}else{var A=b.length,T;for(S=0;S<A;S++)switch(b[S].once&&this.removeListener(l,b[S].fn,void 0,!0),w){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,f);break;case 3:b[S].fn.call(b[S].context,f,d);break;case 4:b[S].fn.call(b[S].context,f,d,p);break;default:if(!E)for(T=1,E=new Array(w-1);T<w;T++)E[T-1]=arguments[T];b[S].fn.apply(b[S].context,E)}}return!0},s.prototype.on=function(l,f,d){return i(this,l,f,d,!1)},s.prototype.once=function(l,f,d){return i(this,l,f,d,!0)},s.prototype.removeListener=function(l,f,d,p){var m=n?n+l:l;if(!this._events[m])return this;if(!f)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===f&&(!p||g.once)&&(!d||g.context===d)&&o(this,m);else{for(var x=0,b=[],w=g.length;x<w;x++)(g[x].fn!==f||p&&!g[x].once||d&&g[x].context!==d)&&b.push(g[x]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},s.prototype.removeAllListeners=function(l){var f;return l?(f=n?n+l:l,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(S2)),S2.exports}var gpe=mpe();const ype=Mi(gpe);var wp=new ype,vE="recharts.syncEvent.tooltip",ZP="recharts.syncEvent.brush";function G5(e,t){if(t){var n=Number.parseInt(t,10);if(!Ni(n))return e?.[n]}}var xpe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},K5=Fi({name:"options",initialState:xpe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bpe=K5.reducer,{createEventEmitter:wpe}=K5.actions;function _pe(e){return e.tooltip.syncInteraction}var Epe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},X5=Fi({name:"chartData",initialState:Epe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:JP,setDataStartEndIndexes:Spe,setComputedData:JAe}=X5.actions,Tpe=X5.reducer,Y5=()=>{};function Ape(){var e=gt(oA),t=gt(sA),n=An(),r=gt(K8),a=gt(Hs),i=DT(),o=RT(),s=gt(u=>u.rootProps.className);N.useEffect(()=>{if(e==null)return Y5;var u=(l,f,d)=>{if(t!==d&&e===l){if(r==="index"){n(f);return}if(a!=null){var p;if(typeof r=="function"){var m={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},g=r(a,m);p=a[g]}else r==="value"&&(p=a.find(R=>String(R.value)===f.payload.label));var{coordinate:x}=f.payload;if(p==null||f.payload.active===!1||x==null||o==null){n(hE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:w}=x,E=Math.min(b,o.x+o.width),S=Math.min(w,o.y+o.height),A={x:i==="horizontal"?p.coordinate:E,y:i==="horizontal"?S:p.coordinate},T=hE({active:f.payload.active,coordinate:A,dataKey:f.payload.dataKey,index:String(p.index),label:f.payload.label});n(T)}}};return wp.on(vE,u),()=>{wp.off(vE,u)}},[s,n,t,e,r,a,i,o])}function Cpe(){var e=gt(oA),t=gt(sA),n=An();N.useEffect(()=>{if(e==null)return Y5;var r=(a,i,o)=>{t!==o&&e===a&&n(Spe(i))};return wp.on(ZP,r),()=>{wp.off(ZP,r)}},[n,t,e])}function Ope(){var e=An();N.useEffect(()=>{e(wpe())},[e]),Ape(),Cpe()}function Rpe(e,t,n,r,a,i){var o=gt(p=>ipe(p,e,t)),s=gt(sA),u=gt(oA),l=gt(K8),f=gt(_pe),d=f?.active;N.useEffect(()=>{if(!d&&u!=null&&s!=null){var p=hE({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r});wp.emit(vE,u,p,s)}},[d,n,o,a,r,s,u,l,i])}function eM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(n),!0).forEach(function(r){Dpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dpe(e,t,n){return(t=Npe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Npe(e){var t=kpe(e,"string");return typeof t=="symbol"?t:t+""}function kpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ppe(e){return e.dataKey}function Mpe(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(oue,t)}var nM=[],Ipe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!uh.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function rM(e){var t=qo(e,Ipe),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:i,content:o,filterNull:s,isAnimationActive:u,offset:l,payloadUniqBy:f,position:d,reverseDirection:p,useTranslate3d:m,wrapperStyle:g,cursor:x,shared:b,trigger:w,defaultIndex:E,portal:S,axisId:A}=t,T=An(),R=typeof E=="number"?String(E):E;N.useEffect(()=>{T(hde({shared:b,trigger:w,axisId:A,active:n,defaultIndex:R}))},[T,b,w,A,n,R]);var D=RT(),P=z6(),k=sde(b),{activeIndex:I,isActive:F}=gt(Y=>upe(Y,k,w,R)),B=gt(Y=>spe(Y,k,w,R)),te=gt(Y=>V5(Y,k,w,R)),ae=gt(Y=>ope(Y,k,w,R)),V=B,H=vpe(),Z=n??F,[ie,he]=i6([V,Z]),z=k==="axis"?te:void 0;Rpe(k,w,ae,z,I,Z);var se=S??H;if(se==null)return null;var L=V??nM;Z||(L=nM),s&&L.length&&(L=e6(V.filter(Y=>Y.value!=null&&(Y.hide!==!0||t.includeHidden)),f,Ppe));var G=L.length>0,X=N.createElement(due,{allowEscapeViewBox:r,animationDuration:a,animationEasing:i,isAnimationActive:u,active:Z,coordinate:ae,hasPayload:G,offset:l,position:d,reverseDirection:p,useTranslate3d:m,viewBox:D,wrapperStyle:g,lastBoundingBox:ie,innerRef:he,hasPortalFromProps:!!S},Mpe(o,tM(tM({},t),{},{payload:L,label:z,active:Z,coordinate:ae,accessibilityLayer:P})));return N.createElement(N.Fragment,null,mF.createPortal(X,se),Z&&N.createElement(ppe,{cursor:x,tooltipEventType:k,coordinate:ae,payload:V,index:I}))}var T2={},A2={},C2={},aM;function Fpe(){return aM||(aM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const u=i!=null&&i.includes("leading"),l=i==null||i.includes("trailing"),f=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},d=()=>{l&&f(),x()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,d()},r)},g=()=>{p!==null&&(clearTimeout(p),p=null)},x=()=>{g(),o=void 0,s=null},b=()=>{f()},w=function(...E){if(a?.aborted)return;o=this,s=E;const S=p==null;m(),u&&S&&f()};return w.schedule=m,w.cancel=x,w.flush=b,a?.addEventListener("abort",x,{once:!0}),w}e.debounce=t}(C2)),C2}var iM;function Bpe(){return iM||(iM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fpe();function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:u}=i,l=Array(2);o&&(l[0]="leading"),s&&(l[1]="trailing");let f,d=null;const p=t.debounce(function(...x){f=r.apply(this,x),d=null},a,{edges:l}),m=function(...x){return u!=null&&(d===null&&(d=Date.now()),Date.now()-d>=u)?(f=r.apply(this,x),d=Date.now(),p.cancel(),p.schedule(),f):(p.apply(this,x),f)},g=()=>(p.flush(),f);return m.cancel=p.cancel,m.flush=g,m}e.debounce=n}(A2)),A2}var oM;function Lpe(){return oM||(oM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bpe();function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n}(T2)),T2}var O2,sM;function jpe(){return sM||(sM=1,O2=Lpe().throttle),O2}var Upe=jpe();const zpe=Mi(Upe);var R2=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function uM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function D2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(n),!0).forEach(function(r){Wpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wpe(e,t,n){return(t=Hpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hpe(e){var t=$pe(e,"string");return typeof t=="symbol"?t:t+""}function $pe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lM=N.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:s,maxHeight:u,children:l,debounce:f=0,id:d,className:p,onResize:m,style:g={}}=e,x=N.useRef(null),b=N.useRef();b.current=m,N.useImperativeHandle(t,()=>x.current);var[w,E]=N.useState({containerWidth:r.width,containerHeight:r.height}),S=N.useCallback((T,R)=>{E(D=>{var P=Math.round(T),k=Math.round(R);return D.containerWidth===P&&D.containerHeight===k?D:{containerWidth:P,containerHeight:k}})},[]);N.useEffect(()=>{var T=k=>{var I,{width:F,height:B}=k[0].contentRect;S(F,B),(I=b.current)===null||I===void 0||I.call(b,F,B)};f>0&&(T=zpe(T,f,{trailing:!0,leading:!1}));var R=new ResizeObserver(T),{width:D,height:P}=x.current.getBoundingClientRect();return S(D,P),R.observe(x.current),()=>{R.disconnect()}},[S,f]);var A=N.useMemo(()=>{var{containerWidth:T,containerHeight:R}=w;if(T<0||R<0)return null;R2(Cl(a)||Cl(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),R2(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=Cl(a)?T:a,P=Cl(i)?R:i;return n&&n>0&&(D?P=D/n:P&&(D=P*n),u&&P>u&&(P=u)),R2(D>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,P,a,i,o,s,n),N.Children.map(l,k=>N.cloneElement(k,{width:D,height:P,style:D2({width:D,height:P},k.props.style)}))},[n,l,i,u,s,o,w,a]);return N.createElement("div",{id:d?"".concat(d):void 0,className:en("recharts-responsive-container",p),style:D2(D2({},g),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:u}),ref:x},N.createElement("div",{style:{width:0,height:0,overflow:"visible"}},A))}),o0=e=>null;o0.displayName="Cell";function cM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(n),!0).forEach(function(r){Vpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vpe(e,t,n){return(t=qpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qpe(e){var t=Gpe(e,"string");return typeof t=="symbol"?t:t+""}function Gpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cf={widthCache:{},cacheCount:0},Kpe=2e3,Xpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fM="recharts_measurement_span";function Ype(e){var t=mE({},e);return Object.keys(t).forEach(n=>{t[n]||delete t[n]}),t}var Kd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||uh.isSsr)return{width:0,height:0};var r=Ype(n),a=JSON.stringify({text:t,copyStyle:r});if(cf.widthCache[a])return cf.widthCache[a];try{var i=document.getElementById(fM);i||(i=document.createElement("span"),i.setAttribute("id",fM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=mE(mE({},Xpe),r);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),u={width:s.width,height:s.height};return cf.widthCache[a]=u,++cf.cacheCount>Kpe&&(cf.cacheCount=0,cf.widthCache={}),u}catch{return{width:0,height:0}}},hM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Q5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jpe=Object.keys(Q5),wf="NaN";function e0e(e,t){return e*Q5[t]}class ga{static parse(t){var n,[,r,a]=(n=Zpe.exec(t))!==null&&n!==void 0?n:[];return new ga(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ni(t)&&(this.unit=""),n!==""&&!Qpe.test(n)&&(this.num=NaN,this.unit=""),Jpe.includes(n)&&(this.num=e0e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ga(NaN,""):new ga(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ga(NaN,""):new ga(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ga(NaN,""):new ga(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ga(NaN,""):new ga(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ni(this.num)}}function Z5(e){if(e.includes(wf))return wf;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=hM.exec(t))!==null&&n!==void 0?n:[],o=ga.parse(r??""),s=ga.parse(i??""),u=a==="*"?o.multiply(s):o.divide(s);if(u.isNaN())return wf;t=t.replace(hM,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var l,[,f,d,p]=(l=dM.exec(t))!==null&&l!==void 0?l:[],m=ga.parse(f??""),g=ga.parse(p??""),x=d==="+"?m.add(g):m.subtract(g);if(x.isNaN())return wf;t=t.replace(dM,x.toString())}return t}var pM=/\(([^()]*)\)/;function t0e(e){for(var t=e,n;(n=pM.exec(t))!=null;){var[,r]=n;t=t.replace(pM,Z5(r))}return t}function n0e(e){var t=e.replace(/\s+/g,"");return t=t0e(t),t=Z5(t),t}function r0e(e){try{return n0e(e)}catch{return wf}}function N2(e){var t=r0e(e.slice(5,-1));return t===wf?"":t}var a0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],i0e=["dx","dy","angle","className","breakAll"];function gE(){return gE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gE.apply(null,arguments)}function vM(e,t){if(e==null)return{};var n,r,a=o0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var J5=/[ \f\n\r\t\v\u2028\u2029]+/,eU=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Yn(t)||(n?a=t.toString().split(""):a=t.toString().split(J5));var i=a.map(s=>({word:s,width:Kd(s,r).width})),o=n?0:Kd("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},s0e=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:u}=e,l=vt(i),f=o,d=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((B,te)=>{var{word:ae,width:V}=te,H=B[B.length-1];if(H&&(r==null||a||H.width+V+n<Number(r)))H.words.push(ae),H.width+=V+n;else{var Z={words:[ae],width:V};B.push(Z)}return B},[])},p=d(t),m=I=>I.reduce((F,B)=>F.width>B.width?F:B);if(!l||a)return p;var g=p.length>i||m(p).width>Number(r);if(!g)return p;for(var x="",b=I=>{var F=f.slice(0,I),B=eU({breakAll:u,style:s,children:F+x}).wordsWithComputedWidth,te=d(B),ae=te.length>i||m(te).width>Number(r);return[ae,te]},w=0,E=f.length-1,S=0,A;w<=E&&S<=f.length-1;){var T=Math.floor((w+E)/2),R=T-1,[D,P]=b(R),[k]=b(T);if(!D&&!k&&(w=T+1),D&&k&&(E=T-1),!D&&k){A=P;break}S++}return A||p},mM=e=>{var t=Yn(e)?[]:e.toString().split(J5);return[{words:t}]},u0e=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!uh.isSsr){var s,u,l=eU({breakAll:i,children:r,style:a});if(l){var{wordsWithComputedWidth:f,spaceWidth:d}=l;s=f,u=d}else return mM(r);return s0e({breakAll:i,children:r,maxLines:o,style:a},s,u,t,n)}return mM(r)},gM="#808080",Ky=N.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:u="end",fill:l=gM}=e,f=vM(e,a0e),d=N.useMemo(()=>u0e({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:o,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,o,f.style,f.width]),{dx:p,dy:m,angle:g,className:x,breakAll:b}=f,w=vM(f,i0e);if(!Lo(n)||!Lo(r))return null;var E=n+(vt(p)?p:0),S=r+(vt(m)?m:0),A;switch(u){case"start":A=N2("calc(".concat(i,")"));break;case"middle":A=N2("calc(".concat((d.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:A=N2("calc(".concat(d.length-1," * -").concat(a,")"));break}var T=[];if(o){var R=d[0].width,{width:D}=f;T.push("scale(".concat(vt(D)?D/R:1,")"))}return g&&T.push("rotate(".concat(g,", ").concat(E,", ").concat(S,")")),T.length&&(w.transform=T.join(" ")),N.createElement("text",gE({},fn(w,!0),{ref:t,x:E,y:S,className:en("recharts-text",x),textAnchor:s,fill:l.includes("url")?gM:l}),d.map((P,k)=>{var I=P.words.join(b?"":" ");return N.createElement("tspan",{x:E,dy:k===0?A:a,key:"".concat(I,"-").concat(k)},I)}))});Ky.displayName="Text";var l0e=["offset"],c0e=["labelRef"];function yM(e,t){if(e==null)return{};var n,r,a=f0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(n),!0).forEach(function(r){h0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h0e(e,t,n){return(t=d0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d0e(e){var t=p0e(e,"string");return typeof t=="symbol"?t:t+""}function p0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ps.apply(null,arguments)}var v0e=e=>{var{value:t,formatter:n}=e,r=Yn(e.children)?t:e.children;return typeof n=="function"?n(r):r},LA=e=>e!=null&&typeof e=="function",m0e=(e,t)=>{var n=jr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},g0e=(e,t,n)=>{var{position:r,viewBox:a,offset:i,className:o}=e,{cx:s,cy:u,innerRadius:l,outerRadius:f,startAngle:d,endAngle:p,clockWise:m}=a,g=(l+f)/2,x=m0e(d,p),b=x>=0?1:-1,w,E;r==="insideStart"?(w=d+b*i,E=m):r==="insideEnd"?(w=p-b*i,E=!m):r==="end"&&(w=p+b*i,E=m),E=x<=0?E:!E;var S=Xn(s,u,g,w),A=Xn(s,u,g,w+(E?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(E?0:1,`,
    `).concat(A.x,",").concat(A.y),R=Yn(e.id)?Hf("recharts-radial-line-"):e.id;return N.createElement("text",ps({},n,{dominantBaseline:"central",className:en("recharts-radial-bar-label",o)}),N.createElement("defs",null,N.createElement("path",{id:R,d:T})),N.createElement("textPath",{xlinkHref:"#".concat(R)},t))},y0e=e=>{var{viewBox:t,offset:n,position:r}=e,{cx:a,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:l}=t,f=(u+l)/2;if(r==="outside"){var{x:d,y:p}=Xn(a,i,s+n,f);return{x:d,y:p,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(o+s)/2,{x:g,y:x}=Xn(a,i,m,f);return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},x0e=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,{x:i,y:o,width:s,height:u}=t,l=u>=0?1:-1,f=l*r,d=l>0?"end":"start",p=l>0?"start":"end",m=s>=0?1:-1,g=m*r,x=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var w={x:i+s/2,y:o-l*r,textAnchor:"middle",verticalAnchor:d};return Gn(Gn({},w),n?{height:Math.max(o-n.y,0),width:s}:{})}if(a==="bottom"){var E={x:i+s/2,y:o+u+f,textAnchor:"middle",verticalAnchor:p};return Gn(Gn({},E),n?{height:Math.max(n.y+n.height-(o+u),0),width:s}:{})}if(a==="left"){var S={x:i-g,y:o+u/2,textAnchor:x,verticalAnchor:"middle"};return Gn(Gn({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(a==="right"){var A={x:i+s+g,y:o+u/2,textAnchor:b,verticalAnchor:"middle"};return Gn(Gn({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:u}:{})}var T=n?{width:s,height:u}:{};return a==="insideLeft"?Gn({x:i+g,y:o+u/2,textAnchor:b,verticalAnchor:"middle"},T):a==="insideRight"?Gn({x:i+s-g,y:o+u/2,textAnchor:x,verticalAnchor:"middle"},T):a==="insideTop"?Gn({x:i+s/2,y:o+f,textAnchor:"middle",verticalAnchor:p},T):a==="insideBottom"?Gn({x:i+s/2,y:o+u-f,textAnchor:"middle",verticalAnchor:d},T):a==="insideTopLeft"?Gn({x:i+g,y:o+f,textAnchor:b,verticalAnchor:p},T):a==="insideTopRight"?Gn({x:i+s-g,y:o+f,textAnchor:x,verticalAnchor:p},T):a==="insideBottomLeft"?Gn({x:i+g,y:o+u-f,textAnchor:b,verticalAnchor:d},T):a==="insideBottomRight"?Gn({x:i+s-g,y:o+u-f,textAnchor:x,verticalAnchor:d},T):a&&typeof a=="object"&&(vt(a.x)||Cl(a.x))&&(vt(a.y)||Cl(a.y))?Gn({x:i+sa(a.x,s),y:o+sa(a.y,u),textAnchor:"end",verticalAnchor:"end"},T):Gn({x:i+s/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},b0e=e=>"cx"in e&&vt(e.cx);function Ga(e){var{offset:t=5}=e,n=yM(e,l0e),r=Gn({offset:t},n),{viewBox:a,position:i,value:o,children:s,content:u,className:l="",textBreakAll:f,labelRef:d}=r,p=RT(),m=a||p;if(!m||Yn(o)&&Yn(s)&&!N.isValidElement(u)&&typeof u!="function")return null;if(N.isValidElement(u)){var{labelRef:g}=r,x=yM(r,c0e);return N.cloneElement(u,x)}var b;if(typeof u=="function"){if(b=N.createElement(u,r),N.isValidElement(b))return b}else b=v0e(r);var w=b0e(m),E=fn(r,!0);if(w&&(i==="insideStart"||i==="insideEnd"||i==="end"))return g0e(r,b,E);var S=w?y0e(r):x0e(r,m);return N.createElement(Ky,ps({ref:d,className:en("recharts-label",l)},E,S,{breakAll:f}),b)}Ga.displayName="Label";var tU=e=>{var{cx:t,cy:n,angle:r,startAngle:a,endAngle:i,r:o,radius:s,innerRadius:u,outerRadius:l,x:f,y:d,top:p,left:m,width:g,height:x,clockWise:b,labelViewBox:w}=e;if(w)return w;if(vt(g)&&vt(x)){if(vt(f)&&vt(d))return{x:f,y:d,width:g,height:x};if(vt(p)&&vt(m))return{x:p,y:m,width:g,height:x}}if(vt(f)&&vt(d))return{x:f,y:d,width:0,height:0};if(vt(t)&&vt(n))return{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:u||0,outerRadius:l||s||o||0,clockWise:b};if(e.viewBox)return e.viewBox},w0e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?N.createElement(Ga,ps({key:"label-implicit"},r)):Lo(e)?N.createElement(Ga,ps({key:"label-implicit",value:e},r)):N.isValidElement(e)?e.type===Ga?N.cloneElement(e,Gn({key:"label-implicit"},r)):N.createElement(Ga,ps({key:"label-implicit",content:e},r)):LA(e)?N.createElement(Ga,ps({key:"label-implicit",content:e},r)):e&&typeof e=="object"?N.createElement(Ga,ps({},e,{key:"label-implicit"},r)):null},_0e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:a,labelRef:i}=t,o=tU(t),s=Kp(a,Ga).map((l,f)=>N.cloneElement(l,{viewBox:n||o,key:"label-".concat(f)}));if(!r)return s;var u=w0e(t.label,n||o,i);return[u,...s]};Ga.parseViewBox=tU;Ga.renderCallByParent=_0e;var k2={},P2={},bM;function E0e(){return bM||(bM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(P2)),P2}var M2={},wM;function S0e(){return wM||(wM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(M2)),M2}var _M;function T0e(){return _M||(_M=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E0e(),n=S0e(),r=vT();function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a}(k2)),k2}var I2,EM;function A0e(){return EM||(EM=1,I2=T0e().last),I2}var C0e=A0e();const O0e=Mi(C0e);var R0e=["valueAccessor"],D0e=["data","dataKey","clockWise","id","textBreakAll"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cg.apply(null,arguments)}function SM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function TM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(n),!0).forEach(function(r){N0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N0e(e,t,n){return(t=k0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k0e(e){var t=P0e(e,"string");return typeof t=="symbol"?t:t+""}function P0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AM(e,t){if(e==null)return{};var n,r,a=M0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function M0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var I0e=e=>Array.isArray(e.value)?O0e(e.value):e.value;function Ul(e){var{valueAccessor:t=I0e}=e,n=AM(e,R0e),{data:r,dataKey:a,clockWise:i,id:o,textBreakAll:s}=n,u=AM(n,D0e);return!r||!r.length?null:N.createElement(la,{className:"recharts-label-list"},r.map((l,f)=>{var d=Yn(a)?t(l,f):Fn(l&&l.payload,a),p=Yn(o)?{}:{id:"".concat(o,"-").concat(f)};return N.createElement(Ga,Cg({},fn(l,!0),u,p,{parentViewBox:l.parentViewBox,value:d,textBreakAll:s,viewBox:Ga.parseViewBox(Yn(i)?l:TM(TM({},l),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Ul.displayName="LabelList";function F0e(e,t){return e?e===!0?N.createElement(Ul,{key:"labelList-implicit",data:t}):N.isValidElement(e)||LA(e)?N.createElement(Ul,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?N.createElement(Ul,Cg({data:t},e,{key:"labelList-implicit"})):null:null}function B0e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,a=Kp(r,Ul).map((o,s)=>N.cloneElement(o,{data:t,key:"labelList-".concat(s)}));if(!n)return a;var i=F0e(e.label,t);return[i,...a]}Ul.renderCallByParent=B0e;var nU=e=>e.graphicalItems.polarItems,L0e=De([Wn,t0],hA),jA=De([nU,Hn,L0e],pA),j0e=De([jA],vA),UA=De([j0e,nA],mA),U0e=De([UA,Hn,jA],gA),z0e=De([UA,Hn,jA],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=Fn(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:Fn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),CM=()=>{},W0e=De([Hn,f5,CM,z0e,CM],bA),rU=De([Hn,rn,UA,U0e,e0,Wn,W0e],wA),H0e=De([rU,Hn,dh],SA);De([Hn,rU,H0e,Wn],AA);var $0e={radiusAxis:{},angleAxis:{}},aU=Fi({name:"polarAxis",initialState:$0e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:eCe,removeRadiusAxis:tCe,addAngleAxis:nCe,removeAngleAxis:rCe}=aU.actions,V0e=aU.reducer;function OM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function RM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(n),!0).forEach(function(r){q0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q0e(e,t,n){return(t=G0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G0e(e){var t=K0e(e,"string");return typeof t=="symbol"?t:t+""}function K0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zA=(e,t)=>t,X0e=[],WA=(e,t,n)=>n?.length===0?X0e:n,iU=De([nA,zA,WA],(e,t,n)=>{var{chartData:r}=e,a;if(t?.data!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>RM(RM({},t.presentationProps),i.props))),a!=null)return a}),Y0e=De([iU,zA,WA],(e,t,n)=>{if(e!=null)return e.map((r,a)=>{var i,o=Fn(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:Oy(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),Q0e=De([nU,zA],(e,t)=>{if(e.some(n=>n.type==="pie"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),Z0e=De([iU,Q0e,WA,cr],(e,t,n,r)=>{if(!(t==null||e==null))return $ve({offset:r,pieSettings:t,displayedData:e,cells:n})}),J0e={countOfBars:0,cartesianItems:[],polarItems:[]},oU=Fi({name:"graphicalItems",initialState:J0e,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,a=xs(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},removeCartesianGraphicalItem(e,t){var n=xs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=xs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:eve,removeBar:tve,addCartesianGraphicalItem:nve,replaceCartesianGraphicalItem:rve,removeCartesianGraphicalItem:ave,addPolarGraphicalItem:ive,removePolarGraphicalItem:ove}=oU.actions,sve=oU.reducer;function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function NM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(n),!0).forEach(function(r){uve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uve(e,t,n){return(t=lve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lve(e){var t=cve(e,"string");return typeof t=="symbol"?t:t+""}function cve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fve(e){var t=An(),n=N.useRef(null);return N.useEffect(()=>{var r=NM(NM({},e),{},{stackId:N6(e.stackId)});n.current===null?t(nve(r)):n.current!==r&&t(rve({prev:n.current,next:r})),n.current=r},[t,e]),N.useEffect(()=>()=>{n.current&&(t(ave(n.current)),n.current=null)},[t]),null}function hve(e){var t=An();return N.useEffect(()=>(t(ive(e)),()=>{t(ove(e))}),[t,e]),null}var F2={},kM;function dve(){return kM||(kM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t}(F2)),F2}var B2,PM;function pve(){return PM||(PM=1,B2=dve().isPlainObject),B2}var vve=pve();const mve=Mi(vve);function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Og.apply(null,arguments)}var MM=(e,t,n,r,a)=>{var i=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-i/2,",").concat(t+a),o+="L ".concat(e+n-i/2-r,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},gve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yve=e=>{var t=qo(e,gve),n=N.useRef(),[r,a]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&a(b)}catch{}},[]);var{x:i,y:o,upperWidth:s,lowerWidth:u,height:l,className:f}=t,{animationEasing:d,animationDuration:p,animationBegin:m,isUpdateAnimationActive:g}=t;if(i!==+i||o!==+o||s!==+s||u!==+u||l!==+l||s===0&&u===0||l===0)return null;var x=en("recharts-trapezoid",f);return g?N.createElement(Gl,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:l,x:i,y:o},to:{upperWidth:s,lowerWidth:u,height:l,x:i,y:o},duration:p,animationEasing:d,isActive:g},b=>{var{upperWidth:w,lowerWidth:E,height:S,x:A,y:T}=b;return N.createElement(Gl,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:d},N.createElement("path",Og({},fn(t,!0),{className:x,d:MM(A,T,w,E,S),ref:n})))}):N.createElement("g",null,N.createElement("path",Og({},fn(t,!0),{className:x,d:MM(i,o,s,u,l)})))},xve=["option","shapeType","propTransformer","activeClassName","isActive"];function bve(e,t){if(e==null)return{};var n,r,a=wve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(n),!0).forEach(function(r){_ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ve(e,t,n){return(t=Eve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eve(e){var t=Sve(e,"string");return typeof t=="symbol"?t:t+""}function Sve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tve(e,t){return Rg(Rg({},t),e)}function Ave(e,t){return e==="symbols"}function FM(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return N.createElement(q6,n);case"trapezoid":return N.createElement(yve,n);case"sector":return N.createElement(X6,n);case"symbols":if(Ave(t))return N.createElement(hT,n);break;default:return null}}function Cve(e){return N.isValidElement(e)?e.props:e}function sU(e){var{option:t,shapeType:n,propTransformer:r=Tve,activeClassName:a="recharts-active-shape",isActive:i}=e,o=bve(e,xve),s;if(N.isValidElement(t))s=N.cloneElement(t,Rg(Rg({},o),Cve(t)));else if(typeof t=="function")s=t(o);else if(mve(t)&&typeof t!="boolean"){var u=r(t,o);s=N.createElement(FM,{shapeType:n,elementProps:u})}else{var l=o;s=N.createElement(FM,{shapeType:n,elementProps:l})}return i?N.createElement(la,{className:a},s):s}var HA=(e,t)=>{var n=An();return(r,a)=>i=>{e?.(r,a,i),n(C5({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},$A=e=>{var t=An();return(n,r)=>a=>{e?.(n,r,a),t(dde())}},VA=(e,t)=>{var n=An();return(r,a)=>i=>{e?.(r,a,i),n(pde({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function uU(e){var{fn:t,args:n}=e,r=An(),a=ui();return N.useEffect(()=>{if(!a){var i=t(n);return r(cde(i)),()=>{r(fde(i))}}},[t,n,r,a]),null}var lU=()=>{};function Ove(e){var{legendPayload:t}=e,n=An(),r=ui();return N.useEffect(()=>r?lU:(n(j6(t)),()=>{n(U6(t))}),[n,r,t]),null}function Rve(e){var{legendPayload:t}=e,n=An(),r=gt(rn);return N.useEffect(()=>r!=="centric"&&r!=="radial"?lU:(n(j6(t)),()=>{n(U6(t))}),[n,r,t]),null}function cU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(Hf(t)),r=N.useRef(e);return r.current!==e&&(n.current=Hf(t),r.current=e),n.current}var Dve=["onMouseEnter","onClick","onMouseLeave"];function Nve(e,t){if(e==null)return{};var n,r,a=kve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function BM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(n),!0).forEach(function(r){Xy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xy(e,t,n){return(t=Pve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pve(e){var t=Mve(e,"string");return typeof t=="symbol"?t:t+""}function Mve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yl.apply(null,arguments)}function Ive(e){var t=N.useMemo(()=>fn(e,!1),[e]),n=N.useMemo(()=>Kp(e.children,o0),[e.children]),r=N.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),a=gt(i=>Y0e(i,r,n));return N.createElement(Rve,{legendPayload:a})}function Fve(e){var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:u,tooltipType:l}=e;return{dataDefinedOnItem:r?.map(f=>f.tooltipPayload),positions:r?.map(f=>f.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:Oy(s,t),hide:u,type:l,color:o,unit:""}}}var Bve=(e,t)=>e>t?"start":e<t?"end":"middle",Lve=(e,t,n)=>typeof t=="function"?t(e):sa(t,n,n*.8),jve=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=D6(i,o),u=a+sa(e.cx,i,i/2),l=r+sa(e.cy,o,o/2),f=sa(e.innerRadius,s,0),d=Lve(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:l,innerRadius:f,outerRadius:d,maxRadius:p}},Uve=(e,t)=>{var n=jr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},zve=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var n=en("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return N.createElement(W6,Yl({},t,{type:"linear",className:n}))},Wve=(e,t,n)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),N.isValidElement(r)))return r;var a=en("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return N.createElement(Ky,Yl({},t,{alignmentBaseline:"middle",className:a}),r)};function Hve(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=fn(n,!1),u=fn(a,!1),l=fn(i,!1),f=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,d=t.map((p,m)=>{var g=(p.startAngle+p.endAngle)/2,x=Xn(p.cx,p.cy,p.outerRadius+f,g),b=Mn(Mn(Mn(Mn({},s),p),{},{stroke:"none"},u),{},{index:m,textAnchor:Bve(x.x,p.cx)},x),w=Mn(Mn(Mn(Mn({},s),p),{},{fill:"none",stroke:p.fill},l),{},{index:m,points:[Xn(p.cx,p.cy,p.outerRadius,g),x],key:"line"});return N.createElement(la,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},i&&zve(i,w),Wve(a,b,Fn(p,o)))});return N.createElement(la,{className:"recharts-pie-labels"},d)}function fU(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,showLabels:i}=e,o=gt(Xl),{onMouseEnter:s,onClick:u,onMouseLeave:l}=a,f=Nve(a,Dve),d=HA(s,a.dataKey),p=$A(l),m=VA(u,a.dataKey);return t==null?null:N.createElement(N.Fragment,null,t.map((g,x)=>{if(g?.startAngle===0&&g?.endAngle===0&&t.length!==1)return null;var b=n&&String(x)===o,w=o?r:null,E=b?n:w,S=Mn(Mn({},g),{},{stroke:g.stroke,tabIndex:-1,[P6]:x,[M6]:a.dataKey});return N.createElement(la,Yl({tabIndex:-1,className:"recharts-pie-sector"},Gp(f,g,x),{onMouseEnter:d(g,x),onMouseLeave:p(g,x),onClick:m(g,x),key:"sector-".concat(g?.startAngle,"-").concat(g?.endAngle,"-").concat(g.midAngle,"-").concat(x)}),N.createElement(sU,Yl({option:E,isActive:b,shapeType:"sector"},S)))}),N.createElement(Hve,{sectors:t,props:a,showLabels:i}))}function $ve(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:u,dataKey:l,nameKey:f,tooltipType:d}=n,p=Math.abs(n.minAngle),m=Uve(s,u),g=Math.abs(m),x=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,b=r.filter(R=>Fn(R,l,0)!==0).length,w=(g>=360?b:b-1)*x,E=g-b*p-w,S=r.reduce((R,D)=>{var P=Fn(D,l,0);return R+(vt(P)?P:0)},0),A;if(S>0){var T;A=r.map((R,D)=>{var P=Fn(R,l,0),k=Fn(R,f,D),I=jve(n,i,R),F=(vt(P)?P:0)/S,B,te=Mn(Mn({},R),a&&a[D]&&a[D].props);D?B=T.endAngle+jr(m)*x*(P!==0?1:0):B=s;var ae=B+jr(m)*((P!==0?p:0)+F*E),V=(B+ae)/2,H=(I.innerRadius+I.outerRadius)/2,Z=[{name:k,value:P,payload:te,dataKey:l,type:d}],ie=Xn(I.cx,I.cy,H,V);return T=Mn(Mn(Mn(Mn({},n.presentationProps),{},{percent:F,cornerRadius:o,name:k,tooltipPayload:Z,midAngle:V,middleRadius:H,tooltipPosition:ie},te),I),{},{value:Fn(R,l),startAngle:B,endAngle:ae,payload:te,paddingAngle:jr(m)*x}),T})}return A}function Vve(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:s,activeShape:u,inactiveShape:l,onAnimationStart:f,onAnimationEnd:d}=t,p=cU(t,"recharts-pie-"),m=n.current,[g,x]=N.useState(!0),b=N.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),w=N.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return N.createElement(Gl,{begin:i,duration:o,isActive:a,easing:s,from:{t:0},to:{t:1},onAnimationStart:w,onAnimationEnd:b,key:p},E=>{var{t:S}=E,A=[],T=r&&r[0],R=T.startAngle;return r.forEach((D,P)=>{var k=m&&m[P],I=P>0?Fu(D,"paddingAngle",0):0;if(k){var F=wu(k.endAngle-k.startAngle,D.endAngle-D.startAngle),B=Mn(Mn({},D),{},{startAngle:R+I,endAngle:R+F(S)+I});A.push(B),R=B.endAngle}else{var{endAngle:te,startAngle:ae}=D,V=wu(0,te-ae),H=V(S),Z=Mn(Mn({},D),{},{startAngle:R+I,endAngle:R+H+I});A.push(Z),R=Z.endAngle}}),n.current=A,N.createElement(la,null,N.createElement(fU,{sectors:A,activeShape:u,inactiveShape:l,allOtherPieProps:t,showLabels:!g}))})}function qve(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:a}=e,i=N.useRef(null),o=i.current;return n&&t&&t.length&&(!o||o!==t)?N.createElement(Vve,{props:e,previousSectorsRef:i}):N.createElement(fU,{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function Gve(e){var{hide:t,className:n,rootTabIndex:r}=e,a=en("recharts-pie",n);return t?null:N.createElement(la,{tabIndex:r,className:a},N.createElement(qve,e))}var hU={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!uh.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Kve(e){var t=qo(e,hU),n=N.useMemo(()=>Kp(e.children,o0),[e.children]),r=fn(t,!1),a=N.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),i=gt(o=>Z0e(o,a,n));return N.createElement(N.Fragment,null,N.createElement(uU,{fn:Fve,args:Mn(Mn({},t),{},{sectors:i})}),N.createElement(Gve,Yl({},t,{sectors:i})))}class qA extends N.PureComponent{constructor(){super(...arguments),Xy(this,"id",Hf("recharts-pie-"))}render(){return N.createElement(N.Fragment,null,N.createElement(hve,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),N.createElement(Ive,this.props),N.createElement(Kve,this.props),this.props.children)}}Xy(qA,"displayName","Pie");Xy(qA,"defaultProps",hU);var Xve=De([cr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Yve=De([Xve,js,Us],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Qve=e=>{var t=ui();return gt(n=>Bu(n,"xAxis",e,t))},Zve=e=>{var t=ui();return gt(n=>Bu(n,"yAxis",e,t))},dU=()=>gt(Yve),Jve=()=>{var e=An();return N.useEffect(()=>(e(eve()),()=>{e(tve())})),null},eme=["children"];function tme(e,t){if(e==null)return{};var n,r,a=nme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LM=()=>{},pU=N.createContext({addErrorBar:LM,removeErrorBar:LM}),rme={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vU=N.createContext(rme);function ame(e){var{children:t}=e,n=tme(e,eme);return N.createElement(vU.Provider,{value:n},t)}var ime=()=>N.useContext(vU),ome=e=>{var{children:t,xAxisId:n,yAxisId:r,zAxisId:a,dataKey:i,data:o,stackId:s,hide:u,type:l,barSize:f}=e,[d,p]=N.useState([]),m=N.useCallback(b=>{p(w=>[...w,b])},[p]),g=N.useCallback(b=>{p(w=>w.filter(E=>E!==b))},[p]),x=ui();return N.createElement(pU.Provider,{value:{addErrorBar:m,removeErrorBar:g}},N.createElement(fve,{type:l,data:o,xAxisId:n,yAxisId:r,zAxisId:a,dataKey:i,errorBars:d,stackId:s,hide:u,barSize:f,isPanorama:x}),t)};function sme(e){var{addErrorBar:t,removeErrorBar:n}=N.useContext(pU);return N.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var ume=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function mU(e,t,n){return(t=lme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lme(e){var t=cme(e,"string");return typeof t=="symbol"?t:t+""}function cme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_p.apply(null,arguments)}function fme(e,t){if(e==null)return{};var n,r,a=hme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dme(e){var{direction:t,width:n,dataKey:r,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:s}=e,u=fme(e,ume),l=fn(u,!1),{data:f,dataPointFormatter:d,xAxisId:p,yAxisId:m,errorBarOffset:g}=ime(),x=Qve(p),b=Zve(m);if(x?.scale==null||b?.scale==null||f==null||t==="x"&&x.type!=="number")return null;var w=f.map(E=>{var{x:S,y:A,value:T,errorVal:R}=d(E,r,t);if(!R)return null;var D=[],P,k;if(Array.isArray(R)?[P,k]=R:P=k=R,t==="x"){var{scale:I}=x,F=A+g,B=F+n,te=F-n,ae=I(T-P),V=I(T+k);D.push({x1:V,y1:B,x2:V,y2:te}),D.push({x1:ae,y1:F,x2:V,y2:F}),D.push({x1:ae,y1:B,x2:ae,y2:te})}else if(t==="y"){var{scale:H}=b,Z=S+g,ie=Z-n,he=Z+n,z=H(T-P),se=H(T+k);D.push({x1:ie,y1:se,x2:he,y2:se}),D.push({x1:Z,y1:z,x2:Z,y2:se}),D.push({x1:ie,y1:z,x2:he,y2:z})}var L="".concat(S+g,"px ").concat(A+g,"px");return N.createElement(la,_p({className:"recharts-errorBar",key:"bar-".concat(D.map(G=>"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)))},l),D.map(G=>{var X=a?{transformOrigin:"".concat(G.x1-5,"px")}:void 0;return N.createElement(Gl,{from:{transform:"scaleY(0)",transformOrigin:L},to:{transform:"scaleY(1)",transformOrigin:L},begin:i,easing:s,isActive:a,duration:o,key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2),style:{transformOrigin:L}},N.createElement("line",_p({},G,{style:X})))}))});return N.createElement(la,{className:"recharts-errorBars"},w)}var gU=N.createContext(void 0);function pme(e){var t=N.useContext(gU);return e??t??"x"}function vme(e){var{direction:t,children:n}=e;return N.createElement(gU.Provider,{value:t},n)}var yU={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function mme(e){var t=pme(e.direction),{width:n,isAnimationActive:r,animationBegin:a,animationDuration:i,animationEasing:o}=qo(e,yU);return N.createElement(N.Fragment,null,N.createElement(sme,{dataKey:e.dataKey,direction:t}),N.createElement(dme,_p({},e,{direction:t,width:n,isAnimationActive:r,animationBegin:a,animationDuration:i,animationEasing:o})))}class xU extends N.Component{render(){return N.createElement(mme,this.props)}}mU(xU,"defaultProps",yU);mU(xU,"displayName","ErrorBar");var gme="Invariant failed";function yme(e,t){throw new Error(gme)}var xme=["x","y"];function yE(){return yE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yE.apply(null,arguments)}function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(n),!0).forEach(function(r){bme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bme(e,t,n){return(t=wme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wme(e){var t=_me(e,"string");return typeof t=="symbol"?t:t+""}function _me(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eme(e,t){if(e==null)return{};var n,r,a=Sme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Sme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Tme(e,t){var{x:n,y:r}=e,a=Eme(e,xme),i="".concat(n),o=parseInt(i,10),s="".concat(r),u=parseInt(s,10),l="".concat(t.height||a.height),f=parseInt(l,10),d="".concat(t.width||a.width),p=parseInt(d,10);return Bd(Bd(Bd(Bd(Bd({},t),a),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:p,name:t.name,radius:t.radius})}function bU(e){return N.createElement(sU,yE({shapeType:"rectangle",propTransformer:Tme,activeClassName:"recharts-active-bar"},e))}var Ame=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(vt(t))return t;var i=vt(r)||Yn(r);return i?t(r,a):(i||yme(),n)}};function wU(e,t){var n,r,a=gt(l=>Ws(l,e)),i=gt(l=>Gu(l,t)),o=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Ua.allowDataOverflow,s=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:za.allowDataOverflow,u=o||s;return{needClip:u,needClipX:o,needClipY:s}}function Cme(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=dU(),{needClipX:i,needClipY:o,needClip:s}=wU(t,n);if(!s)return null;var{x:u,y:l,width:f,height:d}=a;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:i?u:u-f/2,y:o?l:l-d/2,width:i?f:f*2,height:o?d:d*2}))}var Ome=["onMouseEnter","onMouseLeave","onClick"],Rme=["value","background","tooltipPosition"],Dme=["onMouseEnter","onClick","onMouseLeave"];function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ep.apply(null,arguments)}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){Yy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yy(e,t,n){return(t=Nme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nme(e){var t=kme(e,"string");return typeof t=="symbol"?t:t+""}function kme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xE(e,t){if(e==null)return{};var n,r,a=Pme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Pme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Mme=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Oy(n,t),payload:e}]};function Ime(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:i,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:Oy(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function Fme(e){var t=gt(Xl),{data:n,dataKey:r,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:s,onClick:u}=i,l=xE(i,Ome),f=HA(o,r),d=$A(s),p=VA(u,r);if(!a||n==null)return null;var m=fn(a,!1);return N.createElement(N.Fragment,null,n.map((g,x)=>{var{value:b,background:w,tooltipPosition:E}=g,S=xE(g,Rme);if(!w)return null;var A=f(g,x),T=d(g,x),R=p(g,x),D=Kr(Kr(Kr(Kr(Kr({option:a,isActive:String(x)===t},S),{},{fill:"#eee"},w),m),Gp(l,g,x)),{},{onMouseEnter:A,onMouseLeave:T,onClick:R,dataKey:r,index:x,className:"recharts-bar-background-rectangle"});return N.createElement(bU,Ep({key:"background-bar-".concat(x)},D))}))}function _U(e){var{data:t,props:n,showLabels:r}=e,a=fn(n,!1),{shape:i,dataKey:o,activeBar:s}=n,u=gt(Xl),l=gt(U5),{onMouseEnter:f,onClick:d,onMouseLeave:p}=n,m=xE(n,Dme),g=HA(f,o),x=$A(p),b=VA(d,o);return t?N.createElement(N.Fragment,null,t.map((w,E)=>{var S=s&&String(E)===u&&(l==null||o===l),A=S?s:i,T=Kr(Kr(Kr({},a),w),{},{isActive:S,option:A,index:E,dataKey:o});return N.createElement(la,Ep({className:"recharts-bar-rectangle"},Gp(m,w,E),{onMouseEnter:g(w,E),onMouseLeave:x(w,E),onClick:b(w,E),key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(E)}),N.createElement(bU,T))}),r&&Ul.renderCallByParent(n,t)):null}function Bme(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:u,onAnimationEnd:l,onAnimationStart:f}=t,d=n.current,p=cU(t,"recharts-bar-"),[m,g]=N.useState(!1),x=N.useCallback(()=>{typeof l=="function"&&l(),g(!1)},[l]),b=N.useCallback(()=>{typeof f=="function"&&f(),g(!0)},[f]);return N.createElement(Gl,{begin:o,duration:s,isActive:i,easing:u,from:{t:0},to:{t:1},onAnimationEnd:x,onAnimationStart:b,key:p},w=>{var{t:E}=w,S=E===1?r:r.map((A,T)=>{var R=d&&d[T];if(R){var D=wu(R.x,A.x),P=wu(R.y,A.y),k=wu(R.width,A.width),I=wu(R.height,A.height);return Kr(Kr({},A),{},{x:D(E),y:P(E),width:k(E),height:I(E)})}if(a==="horizontal"){var F=wu(0,A.height),B=F(E);return Kr(Kr({},A),{},{y:A.y+A.height-B,height:B})}var te=wu(0,A.width),ae=te(E);return Kr(Kr({},A),{},{width:ae})});return E>0&&(n.current=S),N.createElement(la,null,N.createElement(_U,{props:t,data:S,showLabels:!m}))})}function Lme(e){var{data:t,isAnimationActive:n}=e,r=N.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?N.createElement(Bme,{previousRectanglesRef:r,props:e}):N.createElement(_U,{props:e,data:t,showLabels:!0})}var EU=0,jme=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Fn(e,t)}};class Ume extends N.PureComponent{constructor(){super(...arguments),Yy(this,"id",Hf("recharts-bar-"))}render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:i,yAxisId:o,needClip:s,background:u,id:l,layout:f}=this.props;if(t)return null;var d=en("recharts-bar",a),p=Yn(l)?this.id:l;return N.createElement(la,{className:d},s&&N.createElement("defs",null,N.createElement(Cme,{clipPathId:p,xAxisId:i,yAxisId:o})),N.createElement(la,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(p,")"):null},N.createElement(Fme,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),N.createElement(Lme,this.props)),N.createElement(vme,{direction:f==="horizontal"?"y":"x"},this.props.children))}}var SU={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!uh.isSsr,legendType:"rect",minPointSize:EU,xAxisId:0,yAxisId:0};function zme(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:u,animationEasing:l,isAnimationActive:f}=qo(e,SU),{needClip:d}=wU(t,n),p=DT(),m=ui(),g=N.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:i,stackId:N6(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,i,e.stackId]),x=Kp(e.children,o0),b=gt(S=>vge(S,t,n,m,g,x));if(p!=="vertical"&&p!=="horizontal")return null;var w,E=b?.[0];return E==null||E.height==null||E.width==null?w=0:w=p==="vertical"?E.height/2:E.width/2,N.createElement(ame,{xAxisId:t,yAxisId:n,data:b,dataPointFormatter:jme,errorBarOffset:w},N.createElement(Ume,Ep({},e,{layout:p,needClip:d,data:b,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:u,animationEasing:l,isAnimationActive:f})))}function Wme(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:u,yAxisTicks:l,stackedData:f,displayedData:d,offset:p,cells:m}=e,g=t==="horizontal"?s:o,x=f?g.scale.domain():null,b=Sse({numericAxis:g});return d.map((w,E)=>{var S,A,T,R,D,P;f?S=xse(f[E],x):(S=Fn(w,n),Array.isArray(S)||(S=[b,S]));var k=Ame(r,EU)(S[1],E);if(t==="horizontal"){var I,[F,B]=[s.scale(S[0]),s.scale(S[1])];A=Tk({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:w,index:E}),T=(I=B??F)!==null&&I!==void 0?I:void 0,R=a.size;var te=F-B;if(D=Ni(te)?0:te,P={x:A,y:p.top,width:R,height:p.height},Math.abs(k)>0&&Math.abs(D)<Math.abs(k)){var ae=jr(D||k)*(Math.abs(k)-Math.abs(D));T-=ae,D+=ae}}else{var[V,H]=[o.scale(S[0]),o.scale(S[1])];if(A=V,T=Tk({axis:s,ticks:l,bandSize:i,offset:a.offset,entry:w,index:E}),R=H-V,D=a.size,P={x:p.left,y:T,width:p.width,height:D},Math.abs(k)>0&&Math.abs(R)<Math.abs(k)){var Z=jr(R||k)*(Math.abs(k)-Math.abs(R));R+=Z}}var ie=Kr(Kr({},w),{},{x:A,y:T,width:R,height:D,value:f?S:S[1],payload:w,background:P,tooltipPosition:{x:A+R/2,y:T+D/2}},m&&m[E]&&m[E].props);return ie})}class GA extends N.PureComponent{render(){return N.createElement(ome,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},N.createElement(Jve,null),N.createElement(Ove,{legendPayload:Mme(this.props)}),N.createElement(uU,{fn:Ime,args:this.props}),N.createElement(zme,this.props))}}Yy(GA,"displayName","Bar");Yy(GA,"defaultProps",SU);function zM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(n),!0).forEach(function(r){Hme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hme(e,t,n){return(t=$me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $me(e){var t=Vme(e,"string");return typeof t=="symbol"?t:t+""}function Vme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qme=(e,t)=>t,Gme=(e,t,n)=>n,Kme=(e,t,n,r)=>r,KA=(e,t,n,r,a)=>a,Xme=(e,t,n,r,a)=>a.maxBarSize,Yme=(e,t,n,r,a,i)=>i,WM=(e,t,n)=>{var r=n??e;if(!Yn(r))return sa(r,t,0)},Qme=De([rn,dA,qme,Gme,Kme],(e,t,n,r,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===n:i.yAxisId===r).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Zme=(e,t,n,r)=>{var a=rn(e);return a==="horizontal"?fE(e,"yAxis",n,r):fE(e,"xAxis",t,r)},Jme=(e,t,n)=>{var r=rn(e);return r==="horizontal"?$P(e,"xAxis",t):$P(e,"yAxis",n)};function ege(e){return e.stackId!=null&&e.dataKey!=null}var tge=(e,t,n)=>{var r={},a=e.filter(ege),i=e.filter(l=>l.stackId==null),o=a.reduce((l,f)=>(l[f.stackId]||(l[f.stackId]=[]),l[f.stackId].push(f),l),r),s=Object.entries(o).map(l=>{var[f,d]=l,p=d.map(g=>g.dataKey),m=WM(t,n,d[0].barSize);return{stackId:f,dataKeys:p,barSize:m}}),u=i.map(l=>{var f=[l.dataKey].filter(p=>p!=null),d=WM(t,n,l.barSize);return{stackId:void 0,dataKeys:f,barSize:d}});return[...s,...u]},nge=De([Qme,lhe,Jme],tge),rge=(e,t,n,r,a)=>{var i,o,s=rn(e),u=q8(e),{maxBarSize:l}=a,f=Yn(l)?u:l,d,p;return s==="horizontal"?(d=Bu(e,"xAxis",t,r),p=Zf(e,"xAxis",t,r)):(d=Bu(e,"yAxis",n,r),p=Zf(e,"yAxis",n,r)),(i=(o=AT(d,p,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0},TU=(e,t,n,r)=>{var a=rn(e),i,o;return a==="horizontal"?(i=Bu(e,"xAxis",t,r),o=Zf(e,"xAxis",t,r)):(i=Bu(e,"yAxis",n,r),o=Zf(e,"yAxis",n,r)),AT(i,o)};function age(e,t,n,r,a){var i=r.length;if(!(i<1)){var o=sa(e,n,0,!0),s,u=[];if(oi(r[0].barSize)){var l=!1,f=n/i,d=r.reduce((w,E)=>w+(E.barSize||0),0);d+=(i-1)*o,d>=n&&(d-=(i-1)*o,o=0),d>=n&&f>0&&(l=!0,f*=.9,d=i*f);var p=(n-d)/2>>0,m={offset:p-o,size:0};s=r.reduce((w,E)=>{var S,A={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:m.offset+m.size+o,size:l?f:(S=E.barSize)!==null&&S!==void 0?S:0}},T=[...w,A];return m=T[T.length-1].position,T},u)}else{var g=sa(t,n,0,!0);n-2*g-(i-1)*o<=0&&(o=0);var x=(n-2*g-(i-1)*o)/i;x>1&&(x>>=0);var b=oi(a)?Math.min(x,a):x;s=r.reduce((w,E,S)=>[...w,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:g+(x+o)*S+(x-b)/2,size:b}}],u)}return s}}var ige=(e,t,n,r,a,i,o)=>{var s=Yn(o)?t:o,u=age(n,r,a!==i?a:i,e,s);return a!==i&&u!=null&&(u=u.map(l=>sm(sm({},l),{},{position:sm(sm({},l.position),{},{offset:l.position.offset-a/2})}))),u},oge=De([nge,q8,uhe,G8,rge,TU,Xme],ige),sge=(e,t,n,r)=>Bu(e,"xAxis",t,r),uge=(e,t,n,r)=>Bu(e,"yAxis",n,r),lge=(e,t,n,r)=>Zf(e,"xAxis",t,r),cge=(e,t,n,r)=>Zf(e,"yAxis",n,r),fge=De([oge,KA],(e,t)=>{if(e!=null){var n=e.find(r=>r.stackId===t.stackId&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),hge=(e,t)=>{if(!(!e||t?.dataKey==null)){var{stackId:n}=t;if(n!=null){var r=e[n];if(r){var{stackedData:a}=r;if(a){var i=a.find(o=>o.key===t.dataKey);return i}}}}},dge=De([dA,KA],(e,t)=>{if(e.some(n=>n.type==="bar"&&t.dataKey===n.dataKey&&t.stackId===n.stackId&&t.stackId===n.stackId))return t}),pge=De([Zme,KA],hge),vge=De([cr,sge,uge,lge,cge,fge,rn,N8,TU,pge,dge,Yme],(e,t,n,r,a,i,o,s,u,l,f,d)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:g}=s;if(!(f==null||i==null||o!=="horizontal"&&o!=="vertical"||t==null||n==null||r==null||a==null||u==null)){var{data:x}=f,b;if(x!=null&&x.length>0?b=x:b=p?.slice(m,g+1),b!=null)return Wme({layout:o,barSettings:f,pos:i,bandSize:u,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,stackedData:l,displayedData:b,offset:e,cells:d})}}),AU=e=>{var{chartData:t}=e,n=An(),r=ui();return N.useEffect(()=>r?()=>{}:(n(JP(t)),()=>{n(JP(void 0))}),[t,n,r]),null},HM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},CU=Fi({name:"brush",initialState:HM,reducers:{setBrushSettings(e,t){return t.payload==null?HM:t.payload}}}),{setBrushSettings:aCe}=CU.actions,mge=CU.reducer;function gge(e,t,n){return(t=yge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yge(e){var t=xge(e,"string");return typeof t=="symbol"?t:t+""}function xge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class XA{static create(t){return new XA(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}gge(XA,"EPS",1e-4);function bge(e){return(e%180+180)%180}var wge=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=bge(a),o=i*Math.PI/180,s=Math.atan(r/n),u=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},_ge={dots:[],areas:[],lines:[]},OU=Fi({name:"referenceElements",initialState:_ge,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=xs(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=xs(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=xs(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:iCe,removeDot:oCe,addArea:sCe,removeArea:uCe,addLine:lCe,removeLine:cCe}=OU.actions,Ege=OU.reducer,Sge=N.createContext(void 0),Tge=e=>{var{children:t}=e,[n]=N.useState("".concat(Hf("recharts"),"-clip")),r=dU();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return N.createElement(Sge.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function L2(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function RU(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function Age(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return wge(r,n)}function Cge(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function Dg(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function Oge(e,t){return RU(e,t+1)}function Rge(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,u=0,l=1,f=o,d=function(){var g=r?.[u];if(g===void 0)return{v:RU(r,l)};var x=u,b,w=()=>(b===void 0&&(b=n(g,x)),b),E=g.coordinate,S=u===0||Dg(e,E,w,f,s);S||(u=0,f=o,l+=1),S&&(f=E+e*(w()/2+a),u+=l)},p;l<=i.length;)if(p=d(),p)return p.v;return[]}function $M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(n),!0).forEach(function(r){Dge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dge(e,t,n){return(t=Nge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nge(e){var t=kge(e,"string");return typeof t=="symbol"?t:t+""}function kge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pge(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:u}=t,l=function(p){var m=i[p],g,x=()=>(g===void 0&&(g=n(m,p)),g);if(p===o-1){var b=e*(m.coordinate+e*x()/2-u);i[p]=m=Vr(Vr({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else i[p]=m=Vr(Vr({},m),{},{tickCoord:m.coordinate});var w=Dg(e,m.tickCoord,x,s,u);w&&(u=m.tickCoord-e*(x()/2+a),i[p]=Vr(Vr({},m),{},{isShow:!0}))},f=o-1;f>=0;f--)l(f);return i}function Mge(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:u,end:l}=t;if(i){var f=r[s-1],d=n(f,s-1),p=e*(f.coordinate+e*d/2-l);o[s-1]=f=Vr(Vr({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate});var m=Dg(e,f.tickCoord,()=>d,u,l);m&&(l=f.tickCoord-e*(d/2+a),o[s-1]=Vr(Vr({},f),{},{isShow:!0}))}for(var g=i?s-1:s,x=function(E){var S=o[E],A,T=()=>(A===void 0&&(A=n(S,E)),A);if(E===0){var R=e*(S.coordinate-e*T()/2-u);o[E]=S=Vr(Vr({},S),{},{tickCoord:R<0?S.coordinate-R*e:S.coordinate})}else o[E]=S=Vr(Vr({},S),{},{tickCoord:S.coordinate});var D=Dg(e,S.tickCoord,T,u,l);D&&(u=S.tickCoord+e*(T()/2+a),o[E]=Vr(Vr({},S),{},{isShow:!0}))},b=0;b<g;b++)x(b);return o}function Ige(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:u,tickFormatter:l,unit:f,angle:d}=e;if(!a||!a.length||!r)return[];if(vt(u)||uh.isSsr){var p;return(p=Oge(a,vt(u)?u:0))!==null&&p!==void 0?p:[]}var m=[],g=s==="top"||s==="bottom"?"width":"height",x=f&&g==="width"?Kd(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(S,A)=>{var T=typeof l=="function"?l(S.value,A):S.value;return g==="width"?Age(Kd(T,{fontSize:t,letterSpacing:n}),x,d):Kd(T,{fontSize:t,letterSpacing:n})[g]},w=a.length>=2?jr(a[1].coordinate-a[0].coordinate):1,E=Cge(i,w,g);return u==="equidistantPreserveStart"?Rge(w,E,b,a,o):(u==="preserveStart"||u==="preserveStartEnd"?m=Mge(w,E,b,a,o,u==="preserveStartEnd"):m=Pge(w,E,b,a,o),m.filter(S=>S.isShow))}var Fge=["viewBox"],Bge=["viewBox"];function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_f.apply(null,arguments)}function VM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(n),!0).forEach(function(r){YA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qM(e,t){if(e==null)return{};var n,r,a=Lge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Lge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YA(e,t,n){return(t=jge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jge(e){var t=Uge(e,"string");return typeof t=="symbol"?t:t+""}function Uge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gh extends N.Component{constructor(t){super(t),this.tickRefs=N.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,a=qM(t,Fge),i=this.props,{viewBox:o}=i,s=qM(i,Bge);return!L2(r,o)||!L2(a,s)||!L2(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:a,height:i,orientation:o,tickSize:s,mirror:u,tickMargin:l}=this.props,f,d,p,m,g,x,b=u?-1:1,w=t.tickSize||s,E=vt(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":f=d=t.coordinate,m=r+ +!u*i,p=m-b*w,x=p-b*l,g=E;break;case"left":p=m=t.coordinate,d=n+ +!u*a,f=d-b*w,g=f-b*l,x=E;break;case"right":p=m=t.coordinate,d=n+ +u*a,f=d+b*w,g=f+b*l,x=E;break;default:f=d=t.coordinate,m=r+ +u*i,p=m+b*w,x=p+b*l,g=E;break}return{line:{x1:f,y1:p,x2:d,y2:m},tick:{x:g,y:x}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s}=this.props,u=nr(nr(nr({},fn(this.props,!1)),fn(s,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var l=+(i==="top"&&!o||i==="bottom"&&o);u=nr(nr({},u),{},{x1:t,y1:n+l*a,x2:t+r,y2:n+l*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=nr(nr({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return N.createElement("line",_f({},u,{className:en("recharts-cartesian-axis-line",Fu(s,"className"))}))}static renderTickItem(t,n,r){var a,i=en(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))a=N.cloneElement(t,nr(nr({},n),{},{className:i}));else if(typeof t=="function")a=t(nr(nr({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=en(o,t.className)),a=N.createElement(Ky,_f({},n,{className:o}),r)}return a}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:i,tick:o,tickFormatter:s,unit:u}=this.props,l=Ige(nr(nr({},this.props),{},{ticks:r}),t,n),f=this.getTickTextAnchor(),d=this.getTickVerticalAnchor(),p=fn(this.props,!1),m=fn(o,!1),g=nr(nr({},p),{},{fill:"none"},fn(a,!1)),x=l.map((b,w)=>{var{line:E,tick:S}=this.getTickLineCoord(b),A=nr(nr(nr(nr({textAnchor:f,verticalAnchor:d},p),{},{stroke:"none",fill:i},m),S),{},{index:w,payload:b,visibleTicksCount:l.length,tickFormatter:s});return N.createElement(la,_f({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},Gp(this.props,b,w)),a&&N.createElement("line",_f({},g,E,{className:en("recharts-cartesian-axis-tick-line",Fu(a,"className"))})),o&&gh.renderTickItem(o,A,"".concat(typeof s=="function"?s(b.value,w):b.value).concat(u||"")))});return x.length>0?N.createElement("g",{className:"recharts-cartesian-axis-ticks"},x):null}render(){var{axisLine:t,width:n,height:r,className:a,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:N.createElement(la,{className:en("recharts-cartesian-axis",a),ref:s=>{if(s){var u=s.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(u);var l=u[0];if(l){var f=window.getComputedStyle(l).fontSize,d=window.getComputedStyle(l).letterSpacing;(f!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(l).fontSize,letterSpacing:window.getComputedStyle(l).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Ga.renderCallByParent(this.props))}}YA(gh,"displayName","CartesianAxis");YA(gh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function GM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function KM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(n),!0).forEach(function(r){zge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zge(e,t,n){return(t=Wge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wge(e){var t=Hge(e,"string");return typeof t=="symbol"?t:t+""}function Hge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ge={xAxis:{},yAxis:{},zAxis:{}},DU=Fi({name:"cartesianAxis",initialState:$ge,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=KM(KM({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Vge,removeXAxis:qge,addYAxis:Gge,removeYAxis:Kge,addZAxis:fCe,removeZAxis:hCe,updateYAxisWidth:Xge}=DU.actions,Yge=DU.reducer,Qge=["children"],Zge=["dangerouslySetInnerHTML","ticks"];function NU(e,t,n){return(t=Jge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jge(e){var t=eye(e,"string");return typeof t=="symbol"?t:t+""}function eye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bE(){return bE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bE.apply(null,arguments)}function kU(e,t){if(e==null)return{};var n,r,a=tye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nye(e){var t=An(),n=N.useMemo(()=>{var{children:i}=e,o=kU(e,Qge);return o},[e]),r=gt(i=>Ws(i,n.id)),a=n===r;return N.useEffect(()=>(t(Vge(n)),()=>{t(qge(n))}),[n,t]),a?e.children:null}var rye=e=>{var{xAxisId:t,className:n}=e,r=gt(I6),a=ui(),i="xAxis",o=gt(m=>ph(m,i,t,a)),s=gt(m=>w5(m,i,t,a)),u=gt(m=>g5(m,t)),l=gt(m=>tde(m,t));if(u==null||l==null)return null;var{dangerouslySetInnerHTML:f,ticks:d}=e,p=kU(e,Zge);return N.createElement(gh,bE({},p,{scale:o,x:l.x,y:l.y,width:u.width,height:u.height,className:en("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:s}))},aye=e=>{var t,n,r,a,i;return N.createElement(nye,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},N.createElement(rye,e))};class QA extends N.Component{render(){return N.createElement(aye,this.props)}}NU(QA,"displayName","XAxis");NU(QA,"defaultProps",{allowDataOverflow:Ua.allowDataOverflow,allowDecimals:Ua.allowDecimals,allowDuplicatedCategory:Ua.allowDuplicatedCategory,height:Ua.height,hide:!1,mirror:Ua.mirror,orientation:Ua.orientation,padding:Ua.padding,reversed:Ua.reversed,scale:Ua.scale,tickCount:Ua.tickCount,type:Ua.type,xAxisId:0});var iye=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(f=>{if(f){var d=f.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=n?n.getBoundingClientRect().width:0,u=a+i,l=o+u+s+(n?r:0);return Math.round(l)}return 0},oye=["dangerouslySetInnerHTML","ticks"];function PU(e,t,n){return(t=sye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sye(e){var t=uye(e,"string");return typeof t=="symbol"?t:t+""}function uye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wE.apply(null,arguments)}function lye(e,t){if(e==null)return{};var n,r,a=cye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fye(e){var t=An();return N.useEffect(()=>(t(Gge(e)),()=>{t(Kge(e))}),[e,t]),null}var hye=e=>{var t,{yAxisId:n,className:r,width:a,label:i}=e,o=N.useRef(null),s=N.useRef(null),u=gt(I6),l=ui(),f=An(),d="yAxis",p=gt(S=>ph(S,d,n,l)),m=gt(S=>y5(S,n)),g=gt(S=>nde(S,n)),x=gt(S=>w5(S,d,n,l));if(N.useLayoutEffect(()=>{var S;if(!(a!=="auto"||!m||LA(i)||N.isValidElement(i))){var A=o.current,T=A==null||(S=A.tickRefs)===null||S===void 0?void 0:S.current,{tickSize:R,tickMargin:D}=A.props,P=iye({ticks:T,label:s.current,labelGapWithTick:5,tickSize:R,tickMargin:D});Math.round(m.width)!==Math.round(P)&&f(Xge({id:n,width:P}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m?.width,m,f,i,n,a]),m==null||g==null)return null;var{dangerouslySetInnerHTML:b,ticks:w}=e,E=lye(e,oye);return N.createElement(gh,wE({},E,{ref:o,labelRef:s,scale:p,x:g.x,y:g.y,width:m.width,height:m.height,className:en("recharts-".concat(d," ").concat(d),r),viewBox:u,ticks:x}))},dye=e=>{var t,n,r,a,i;return N.createElement(N.Fragment,null,N.createElement(fye,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),N.createElement(hye,e))},pye={allowDataOverflow:za.allowDataOverflow,allowDecimals:za.allowDecimals,allowDuplicatedCategory:za.allowDuplicatedCategory,hide:!1,mirror:za.mirror,orientation:za.orientation,padding:za.padding,reversed:za.reversed,scale:za.scale,tickCount:za.tickCount,type:za.type,width:za.width,yAxisId:0};class ZA extends N.Component{render(){return N.createElement(dye,this.props)}}PU(ZA,"displayName","YAxis");PU(ZA,"defaultProps",pye);var j2={exports:{}},U2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XM;function vye(){if(XM)return U2;XM=1;var e=eh();function t(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,s=e.useDebugValue;return U2.useSyncExternalStoreWithSelector=function(u,l,f,d,p){var m=a(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=o(function(){function b(T){if(!w){if(w=!0,E=T,T=d(T),p!==void 0&&g.hasValue){var R=g.value;if(p(R,T))return S=R}return S=T}if(R=S,n(E,T))return R;var D=d(T);return p!==void 0&&p(R,D)?(E=T,R):(E=T,S=D)}var w=!1,E,S,A=f===void 0?null:f;return[function(){return b(l())},A===null?void 0:function(){return b(A())}]},[l,f,d,p]);var x=r(u,m[0],m[1]);return i(function(){g.hasValue=!0,g.value=x},[x]),s(x),x},U2}var YM;function mye(){return YM||(YM=1,j2.exports=vye()),j2.exports}mye();function gye(e){e()}function yye(){let e=null,t=null;return{clear(){e=null,t=null},notify(){gye(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var QM={notify(){},get:()=>[]};function xye(e,t){let n,r=QM,a=0,i=!1;function o(x){f();const b=r.subscribe(x);let w=!1;return()=>{w||(w=!0,b(),d())}}function s(){r.notify()}function u(){g.onStateChange&&g.onStateChange()}function l(){return i}function f(){a++,n||(n=e.subscribe(u),r=yye())}function d(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=QM)}function p(){i||(i=!0,f())}function m(){i&&(i=!1,d())}const g={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:u,isSubscribed:l,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return g}var bye=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wye=bye(),_ye=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Eye=_ye(),Sye=()=>wye||Eye?N.useLayoutEffect:N.useEffect,Tye=Sye(),Aye=Symbol.for("react-redux-context"),Cye=typeof globalThis<"u"?globalThis:{};function Oye(){if(!N.createContext)return{};const e=Cye[Aye]??=new Map;let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var Rye=Oye();function Dye(e){const{children:t,context:n,serverState:r,store:a}=e,i=N.useMemo(()=>{const u=xye(a);return{store:a,subscription:u,getServerState:r?()=>r:void 0}},[a,r]),o=N.useMemo(()=>a.getState(),[a]);Tye(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const s=n||Rye;return N.createElement(s.Provider,{value:i},t)}var Nye=Dye,kye=(e,t)=>t,JA=De([kye,rn,vhe,Ar,F5,Hs,ape,cr],lpe),eC=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},MU=ki("mouseClick"),IU=Xp();IU.startListening({actionCreator:MU,effect:(e,t)=>{var n=e.payload,r=JA(t.getState(),eC(n));r?.activeIndex!=null&&t.dispatch(vde({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var _E=ki("mouseMove"),FU=Xp();FU.startListening({actionCreator:_E,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=RA(r,r.tooltip.settings.shared),i=JA(r,eC(n));a==="axis"&&(i?.activeIndex!=null?t.dispatch(R5({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(O5()))}});function Pye(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var ZM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},BU=Fi({name:"rootProps",initialState:ZM,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:ZM.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Mye=BU.reducer,{updateOptions:Iye}=BU.actions,LU=Fi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Fye}=LU.actions,Bye=LU.reducer,jU=ki("keyDown"),UU=ki("focus"),tC=Xp();tC.startListening({actionCreator:jU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(DA(a,mc(n))),s=Hs(n);if(i==="Enter"){var u=Ag(n,"axis","hover",String(a.index));t.dispatch(dE({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var l=ode(n),f=l==="left-to-right"?1:-1,d=i==="ArrowRight"?1:-1,p=o+d*f;if(!(s==null||p>=s.length||p<0)){var m=Ag(n,"axis","hover",String(p));t.dispatch(dE({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});tC.startListening({actionCreator:UU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=Ag(n,"axis","hover",String(i));t.dispatch(dE({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Ei=ki("externalEvent"),zU=Xp();zU.startListening({actionCreator:Ei,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:Xde(n),activeDataKey:U5(n),activeIndex:Xl(n),activeLabel:j5(n),activeTooltipIndex:Xl(n),isTooltipActive:Yde(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Lye=De([vh],e=>e.tooltipItemPayloads),jye=De([Lye,i0,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.dataKey===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),WU=ki("touchMove"),HU=Xp();HU.startListening({actionCreator:WU,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=RA(r,r.tooltip.settings.shared);if(a==="axis"){var i=JA(r,eC({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));i?.activeIndex!=null&&t.dispatch(R5({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,s=n.touches[0],u=document.elementFromPoint(s.clientX,s.clientY);if(!u||!u.getAttribute)return;var l=u.getAttribute(P6),f=(o=u.getAttribute(M6))!==null&&o!==void 0?o:void 0,d=jye(t.getState(),l,f);t.dispatch(C5({activeDataKey:f,activeIndex:l,activeCoordinate:d}))}}});var Uye=s6({brush:mge,cartesianAxis:Yge,chartData:Tpe,graphicalItems:sve,layout:rse,legend:$se,options:bpe,polarAxis:V0e,polarOptions:Bye,referenceElements:Ege,rootProps:Mye,tooltip:mde}),zye=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Ooe({reducer:Uye,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([IU.middleware,FU.middleware,tC.middleware,zU.middleware,HU.middleware]),devTools:{serialize:{replacer:Pye},name:"recharts-".concat(n)}})};function $U(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=ui(),i=N.useRef(null);if(a)return n;i.current==null&&(i.current=zye(t,r));var o=bT;return N.createElement(Nye,{context:o,store:i.current},n)}function VU(e){var{layout:t,width:n,height:r,margin:a}=e,i=An(),o=ui();return N.useEffect(()=>{o||(i(ese(t)),i(tse({width:n,height:r})),i(Joe(a)))},[i,o,t,n,r,a]),null}function qU(e){var t=An();return N.useEffect(()=>{t(Iye(e))},[t,e]),null}var Wye=["children"];function Hye(e,t){if(e==null)return{};var n,r,a=$ye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $ye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(null,arguments)}var Vye={width:"100%",height:"100%"},qye=N.forwardRef((e,t)=>{var n=F6(),r=B6(),a=z6();if(!Gf(n)||!Gf(r))return null;var{children:i,otherAttributes:o,title:s,desc:u}=e,l,f;return typeof o.tabIndex=="number"?l=o.tabIndex:l=a?0:void 0,typeof o.role=="string"?f=o.role:f=a?"application":void 0,N.createElement(uT,Ng({},o,{title:s,desc:u,role:f,tabIndex:l,width:n,height:r,style:Vye,ref:t}),i)}),Gye=e=>{var{children:t}=e,n=gt(Ny);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return N.createElement(uT,{width:r,height:a,x:o,y:i},t)},JM=N.forwardRef((e,t)=>{var{children:n}=e,r=Hye(e,Wye),a=ui();return a?N.createElement(Gye,null,n):N.createElement(qye,Ng({ref:t},r),n)});function Kye(){var e=An(),[t,n]=N.useState(null),r=gt(Nse);return N.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;oi(i)&&i!==r&&e(nse(i))}},[t,e,r]),n}function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(r){Yye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yye(e,t,n){return(t=Qye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qye(e){var t=Zye(e,"string");return typeof t=="symbol"?t:t+""}function Zye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jye=N.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:u,onMouseEnter:l,onMouseLeave:f,onMouseMove:d,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:x,style:b,width:w}=e,E=An(),[S,A]=N.useState(null),[T,R]=N.useState(null);Ope();var D=Kye(),P=N.useCallback(L=>{D(L),typeof t=="function"&&t(L),A(L),R(L)},[D,t,A,R]),k=N.useCallback(L=>{E(MU(L)),E(Ei({handler:i,reactEvent:L}))},[E,i]),I=N.useCallback(L=>{E(_E(L)),E(Ei({handler:l,reactEvent:L}))},[E,l]),F=N.useCallback(L=>{E(O5()),E(Ei({handler:f,reactEvent:L}))},[E,f]),B=N.useCallback(L=>{E(_E(L)),E(Ei({handler:d,reactEvent:L}))},[E,d]),te=N.useCallback(()=>{E(UU())},[E]),ae=N.useCallback(L=>{E(jU(L.key))},[E]),V=N.useCallback(L=>{E(Ei({handler:o,reactEvent:L}))},[E,o]),H=N.useCallback(L=>{E(Ei({handler:s,reactEvent:L}))},[E,s]),Z=N.useCallback(L=>{E(Ei({handler:u,reactEvent:L}))},[E,u]),ie=N.useCallback(L=>{E(Ei({handler:p,reactEvent:L}))},[E,p]),he=N.useCallback(L=>{E(Ei({handler:x,reactEvent:L}))},[E,x]),z=N.useCallback(L=>{E(WU(L)),E(Ei({handler:g,reactEvent:L}))},[E,g]),se=N.useCallback(L=>{E(Ei({handler:m,reactEvent:L}))},[E,m]);return N.createElement(q5.Provider,{value:S},N.createElement(Dj.Provider,{value:T},N.createElement("div",{className:en("recharts-wrapper",r),style:Xye({position:"relative",cursor:"default",width:w,height:a},b),onClick:k,onContextMenu:V,onDoubleClick:H,onFocus:te,onKeyDown:ae,onMouseDown:Z,onMouseEnter:I,onMouseLeave:F,onMouseMove:B,onMouseUp:ie,onTouchEnd:se,onTouchMove:z,onTouchStart:he,ref:P},n)))}),e1e=["children","className","width","height","style","compact","title","desc"];function t1e(e,t){if(e==null)return{};var n,r,a=n1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function n1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GU=N.forwardRef((e,t)=>{var{children:n,className:r,width:a,height:i,style:o,compact:s,title:u,desc:l}=e,f=t1e(e,e1e),d=fn(f,!1);return s?N.createElement(JM,{otherAttributes:d,title:u,desc:l},n):N.createElement(Jye,{className:r,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(JM,{otherAttributes:d,title:u,desc:l,ref:t},N.createElement(Tge,null,n)))}),r1e=["width","height"];function EE(){return EE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EE.apply(null,arguments)}function a1e(e,t){if(e==null)return{};var n,r,a=i1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var o1e={top:5,right:5,bottom:5,left:5},s1e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:o1e,reverseStackOrder:!1,syncMethod:"index"},u1e=N.forwardRef(function(t,n){var r,a=qo(t.categoricalChartProps,s1e),{width:i,height:o}=a,s=a1e(a,r1e);if(!Gf(i)||!Gf(o))return null;var{chartName:u,defaultTooltipEventType:l,validateTooltipEventTypes:f,tooltipPayloadSearcher:d,categoricalChartProps:p}=t,m={chartName:u,defaultTooltipEventType:l,validateTooltipEventTypes:f,tooltipPayloadSearcher:d,eventEmitter:void 0};return N.createElement($U,{preloadedState:{options:m},reduxStoreName:(r=p.id)!==null&&r!==void 0?r:u},N.createElement(AU,{chartData:p.data}),N.createElement(VU,{width:i,height:o,layout:a.layout,margin:a.margin}),N.createElement(qU,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),N.createElement(GU,EE({},s,{width:i,height:o,ref:n})))}),l1e=["axis","item"],c1e=N.forwardRef((e,t)=>N.createElement(u1e,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:l1e,tooltipPayloadSearcher:G5,categoricalChartProps:e,ref:t}));function f1e(e){var t=An();return N.useEffect(()=>{t(Fye(e))},[t,e]),null}var h1e=["width","height","layout"];function SE(){return SE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SE.apply(null,arguments)}function d1e(e,t){if(e==null)return{};var n,r,a=p1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var v1e={top:5,right:5,bottom:5,left:5},m1e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:v1e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},g1e=N.forwardRef(function(t,n){var r,a=qo(t.categoricalChartProps,m1e),{width:i,height:o,layout:s}=a,u=d1e(a,h1e);if(!Gf(i)||!Gf(o))return null;var{chartName:l,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p}=t,m={chartName:l,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return N.createElement($U,{preloadedState:{options:m},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:l},N.createElement(AU,{chartData:a.data}),N.createElement(VU,{width:i,height:o,layout:s,margin:a.margin}),N.createElement(qU,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),N.createElement(f1e,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),N.createElement(GU,SE({width:i,height:o},u,{ref:n})))}),y1e=["item"],x1e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},b1e=N.forwardRef((e,t)=>{var n=qo(e,x1e);return N.createElement(g1e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:y1e,tooltipPayloadSearcher:G5,categoricalChartProps:n,ref:t})});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var kg={};kg.version="0.18.5";var KU=1252,w1e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],XU=function(e){w1e.indexOf(e)!=-1&&(KU=e)};function _1e(){XU(1252)}var Sp=function(e){XU(e)};function E1e(){Sp(1200),_1e()}var um=function(t){return String.fromCharCode(t)},tI=function(t){return String.fromCharCode(t)},Pg,Cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Tp(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0,u=0,l=0;l<e.length;)n=e.charCodeAt(l++),i=n>>2,r=e.charCodeAt(l++),o=(n&3)<<4|r>>4,a=e.charCodeAt(l++),s=(r&15)<<2|a>>6,u=a&63,isNaN(r)?s=u=64:isNaN(a)&&(u=64),t+=Cu.charAt(i)+Cu.charAt(o)+Cu.charAt(s)+Cu.charAt(u);return t}function Rs(e){var t="",n=0,r=0,a=0,i=0,o=0,s=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)i=Cu.indexOf(e.charAt(l++)),o=Cu.indexOf(e.charAt(l++)),n=i<<2|o>>4,t+=String.fromCharCode(n),s=Cu.indexOf(e.charAt(l++)),r=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(r)),u=Cu.indexOf(e.charAt(l++)),a=(s&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var Vt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),$s=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ql(e){return Vt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function nI(e){return Vt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ji=function(t){return Vt?$s(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function Qy(e){if(typeof ArrayBuffer>"u")return Ji(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function s0(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function S1e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Br=Vt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:$s(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function T1e(e){for(var t=[],n=0,r=e.length+250,a=Ql(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[n++]=o;else if(o<2048)a[n++]=192|o>>6&31,a[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++i)&1023;a[n++]=240|o>>8&7,a[n++]=128|o>>2&63,a[n++]=128|s>>6&15|(o&3)<<4,a[n++]=128|s&63}else a[n++]=224|o>>12&15,a[n++]=128|o>>6&63,a[n++]=128|o&63;n>r&&(t.push(a.slice(0,n)),n=0,a=Ql(65535),r=65530)}return t.push(a.slice(0,n)),Br(t)}var Xd=/\u0000/g,lm=/[\u0001-\u0006]/g;function Pf(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function to(e,t){var n=""+e;return n.length>=t?n:In("0",t-n.length)+n}function nC(e,t){var n=""+e;return n.length>=t?n:In(" ",t-n.length)+n}function Mg(e,t){var n=""+e;return n.length>=t?n:n+In(" ",t-n.length)}function A1e(e,t){var n=""+Math.round(e);return n.length>=t?n:In("0",t-n.length)+n}function C1e(e,t){var n=""+e;return n.length>=t?n:In("0",t-n.length)+n}var rI=Math.pow(2,32);function ff(e,t){if(e>rI||e<-rI)return A1e(e,t);var n=Math.round(e);return C1e(n,t)}function Ig(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var aI=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],z2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function O1e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Bn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},iI={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},R1e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Fg(e,t,n){for(var r=e<0?-1:1,a=e*r,i=0,o=1,s=0,u=1,l=0,f=0,d=Math.floor(a);l<t&&(d=Math.floor(a),s=d*o+i,f=d*l+u,!(a-d<5e-8));)a=1/(a-d),i=o,o=s,u=l,l=f;if(f>t&&(l>t?(f=u,s=i):(f=l,s=o)),!n)return[0,r*s,f];var p=Math.floor(r*s/f);return[p,r*s-p*f,f]}function cm(e,t,n){if(e>2958465||e<0)return null;var r=e|0,a=Math.floor(86400*(e-r)),i=0,o=[],s={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,++a==86400&&(s.T=a=0,++r,++s.D)),r===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),r<60&&(i=(i+6)%7),n&&(i=F1e(u,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=i,s}var YU=new Date(1899,11,31,0,0,0),D1e=YU.getTime(),N1e=new Date(1900,2,1,0,0,0);function QU(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=N1e&&(n+=1440*60*1e3),(n-(D1e+(e.getTimezoneOffset()-YU.getTimezoneOffset())*6e4))/(1440*60*1e3)}function rC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function k1e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function P1e(e){var t=e<0?12:11,n=rC(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function M1e(e){var t=rC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function I1e(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=P1e(e):t===10?n=e.toFixed(10).substr(0,12):n=M1e(e),rC(k1e(n.toUpperCase()))}function TE(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):I1e(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Lu(14,QU(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function F1e(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function B1e(e,t,n,r){var a="",i=0,o=0,s=n.y,u,l=0;switch(e){case 98:s=n.y+543;case 121:switch(t.length){case 1:case 2:u=s%100,l=2;break;default:u=s%1e4,l=4;break}break;case 109:switch(t.length){case 1:case 2:u=n.m,l=t.length;break;case 3:return z2[n.m-1][1];case 5:return z2[n.m-1][0];default:return z2[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=n.d,l=t.length;break;case 3:return aI[n.q][0];default:return aI[n.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(n.H+11)%12,l=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=n.H,l=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=n.M,l=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?to(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=to(i,2+r),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}l=t.length===3?1:2;break;case 101:u=s,l=1;break}var f=l>0?to(u,l):"";return f}function Ou(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var ZU=/%/g;function L1e(e,t,n){var r=t.replace(ZU,""),a=t.length-r.length;return ws(e,r,n*Math.pow(10,2*a))+In("%",a)}function j1e(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return ws(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function JU(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+JU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,u,l,f){return u+l+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var e7=/# (\?+)( ?)\/( ?)(\d+)/;function U1e(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),i=Math.floor(a/r),o=a-i*r,s=r;return n+(i===0?"":""+i)+" "+(o===0?In(" ",e[1].length+1+e[4].length):nC(o,e[1].length)+e[2]+"/"+e[3]+to(s,e[4].length))}function z1e(e,t,n){return n+(t===0?"":""+t)+In(" ",e[1].length+2+e[4].length)}var t7=/^#*0*\.([0#]+)/,n7=/\).*[0#]/,r7=/\(###\) ###\\?-####/;function aa(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function oI(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function sI(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function W1e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function H1e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Si(e,t,n){if(e.charCodeAt(0)===40&&!t.match(n7)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Si("n",r,n):"("+Si("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return j1e(e,t,n);if(t.indexOf("%")!==-1)return L1e(e,t,n);if(t.indexOf("E")!==-1)return JU(t,n);if(t.charCodeAt(0)===36)return"$"+Si(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,s,u=Math.abs(n),l=n<0?"-":"";if(t.match(/^00+$/))return l+ff(u,t.length);if(t.match(/^[#?]+$/))return a=ff(n,0),a==="0"&&(a=""),a.length>t.length?a:aa(t.substr(0,t.length-a.length))+a;if(i=t.match(e7))return U1e(i,u,l);if(t.match(/^#+0+$/))return l+ff(u,t.length-t.indexOf("0"));if(i=t.match(t7))return a=oI(n,i[1].length).replace(/^([^\.]+)$/,"$1."+aa(i[1])).replace(/\.$/,"."+aa(i[1])).replace(/\.(\d*)$/,function(g,x){return"."+x+In("0",aa(i[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return l+oI(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return l+Ou(ff(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Si(e,t,-n):Ou(""+(Math.floor(n)+W1e(n,i[1].length)))+"."+to(sI(n,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Si(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Pf(Si(e,t.replace(/[\\-]/g,""),n)),o=0,Pf(Pf(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(r7))return a=Si(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=Fg(u,Math.pow(10,o)-1,!1),a=""+l,f=ws("n",i[1],s[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=Mg(s[2],o),f.length<i[4].length&&(f=aa(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=Fg(u,Math.pow(10,o)-1,!0),l+(s[0]||(s[1]?"":"0"))+" "+(s[1]?nC(s[1],o)+i[2]+"/"+i[3]+Mg(s[2],o):In(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=ff(n,0),t.length<=a.length?a:aa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var d=t.indexOf(".")-o,p=t.length-a.length-d;return aa(t.substr(0,d)+a+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=sI(n,i[1].length),n<0?"-"+Si(e,t,-n):Ou(H1e(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?to(0,3-g.length):"")+g})+"."+to(o,i[1].length);switch(t){case"###,##0.00":return Si(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var m=Ou(ff(u,0));return m!=="0"?l+m:"";case"###,###.00":return Si(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Si(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function $1e(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return ws(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function V1e(e,t,n){var r=t.replace(ZU,""),a=t.length-r.length;return ws(e,r,n*Math.pow(10,2*a))+In("%",a)}function a7(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+a7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,u,l,f){return u+l+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function _o(e,t,n){if(e.charCodeAt(0)===40&&!t.match(n7)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?_o("n",r,n):"("+_o("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return $1e(e,t,n);if(t.indexOf("%")!==-1)return V1e(e,t,n);if(t.indexOf("E")!==-1)return a7(t,n);if(t.charCodeAt(0)===36)return"$"+_o(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,s,u=Math.abs(n),l=n<0?"-":"";if(t.match(/^00+$/))return l+to(u,t.length);if(t.match(/^[#?]+$/))return a=""+n,n===0&&(a=""),a.length>t.length?a:aa(t.substr(0,t.length-a.length))+a;if(i=t.match(e7))return z1e(i,u,l);if(t.match(/^#+0+$/))return l+to(u,t.length-t.indexOf("0"));if(i=t.match(t7))return a=(""+n).replace(/^([^\.]+)$/,"$1."+aa(i[1])).replace(/\.$/,"."+aa(i[1])),a=a.replace(/\.(\d*)$/,function(g,x){return"."+x+In("0",aa(i[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return l+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return l+Ou(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+_o(e,t,-n):Ou(""+n)+"."+In("0",i[1].length);if(i=t.match(/^#,#*,#0/))return _o(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Pf(_o(e,t.replace(/[\\-]/g,""),n)),o=0,Pf(Pf(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(r7))return a=_o(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=Fg(u,Math.pow(10,o)-1,!1),a=""+l,f=ws("n",i[1],s[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=Mg(s[2],o),f.length<i[4].length&&(f=aa(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=Fg(u,Math.pow(10,o)-1,!0),l+(s[0]||(s[1]?"":"0"))+" "+(s[1]?nC(s[1],o)+i[2]+"/"+i[3]+Mg(s[2],o):In(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:aa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var d=t.indexOf(".")-o,p=t.length-a.length-d;return aa(t.substr(0,d)+a+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+_o(e,t,-n):Ou(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?to(0,3-g.length):"")+g})+"."+to(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Ou(""+u);return m!=="0"?l+m:"";default:if(t.match(/\.[0#?]*$/))return _o(e,t.slice(0,t.lastIndexOf(".")),n)+aa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ws(e,t,n){return(n|0)===n?_o(e,t,n):Si(e,t,n)}function q1e(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var i7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function o7(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":Ig(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(i7))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function G1e(e,t,n,r){for(var a=[],i="",o=0,s="",u="t",l,f,d,p="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!Ig(e,o))throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(d=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(d);a[a.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),g=m==="("||m===")"?m:"t";a[a.length]={t:g,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(l==null&&(l=cm(t,n,e.charAt(o+1)==="2"),l==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},u=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||l==null&&(l=cm(t,n),l==null))return"";for(i=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)i+=s;s==="m"&&u.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=p),a[a.length]={t:s,v:i},u=s;break;case"A":case"a":case"":var x={t:s,v:s};if(l==null&&(l=cm(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(l!=null&&(x.v=l.H>=12?"P":"A"),x.t="T",p="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(l!=null&&(x.v=l.H>=12?"PM":"AM"),x.t="T",o+=5,p="h"):e.substr(o,5).toUpperCase()==="/"?(l!=null&&(x.v=l.H>=12?"":""),x.t="T",o+=5,p="h"):(x.t="t",++o),l==null&&x.t==="T")return"";a[a.length]=x,u=s;break;case"[":for(i=s;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(i7)){if(l==null&&(l=cm(t,n),l==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",o7(e)||(a[a.length]={t:"t",v:i}));break;case".":if(l!=null){for(i=s;++o<e.length&&(s=e.charAt(o))==="0";)i+=s;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)i+=s;a[a.length]={t:"n",v:i};break;case"?":for(i=s;e.charAt(++o)===s;)i+=s;a[a.length]={t:s,v:i},u=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:r===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:s,v:s},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"t",v:s},++o;break}var b=0,w=0,E;for(o=a.length-1,u="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=p,u="h",b<1&&(b=1);break;case"s":(E=a[o].v.match(/\.0+$/))&&(w=Math.max(w,E[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":u=a[o].t;break;case"m":u==="s"&&(a[o].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&a[o].v.match(/[Hh]/)&&(b=1),b<2&&a[o].v.match(/[Mm]/)&&(b=2),b<3&&a[o].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H);break;case 2:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M);break}var S="",A;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=B1e(a[o].t.charCodeAt(0),a[o].v,l,w),a[o].t="t";break;case"n":case"?":for(A=o+1;a[A]!=null&&((s=a[A].t)==="?"||s==="D"||(s===" "||s==="t")&&a[A+1]!=null&&(a[A+1].t==="?"||a[A+1].t==="t"&&a[A+1].v==="/")||a[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(a[A].v==="/"||a[A].v===" "&&a[A+1]!=null&&a[A+1].t=="?"));)a[o].v+=a[A].v,a[A]={v:"",t:";"},++A;S+=a[o].v,o=A-1;break;case"G":a[o].t="t",a[o].v=TE(t,n);break}var T="",R,D;if(S.length>0){S.charCodeAt(0)==40?(R=t<0&&S.charCodeAt(0)===45?-t:t,D=ws("n",S,R)):(R=t<0&&r>1?-t:t,D=ws("n",S,R),R<0&&a[0]&&a[0].t=="t"&&(D=D.substr(1),a[0].v="-"+a[0].v)),A=D.length-1;var P=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){P=o;break}var k=a.length;if(P===a.length&&D.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(A>=a[o].v.length-1?(A-=a[o].v.length,a[o].v=D.substr(A+1,a[o].v.length)):A<0?a[o].v="":(a[o].v=D.substr(0,A+1),A=-1),a[o].t="t",k=o);A>=0&&k<a.length&&(a[k].v=D.substr(0,A+1)+a[k].v)}else if(P!==a.length&&D.indexOf("E")===-1){for(A=D.indexOf(".")-1,o=P;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(f=a[o].v.indexOf(".")>-1&&o===P?a[o].v.indexOf(".")-1:a[o].v.length-1,T=a[o].v.substr(f+1);f>=0;--f)A>=0&&(a[o].v.charAt(f)==="0"||a[o].v.charAt(f)==="#")&&(T=D.charAt(A--)+T);a[o].v=T,a[o].t="t",k=o}for(A>=0&&k<a.length&&(a[k].v=D.substr(0,A+1)+a[k].v),A=D.indexOf(".")+1,o=P;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==P)){for(f=a[o].v.indexOf(".")>-1&&o===P?a[o].v.indexOf(".")+1:0,T=a[o].v.substr(0,f);f<a[o].v.length;++f)A<D.length&&(T+=D.charAt(A++));a[o].v=T,a[o].t="t",k=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(R=r>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=ws(a[o].t,a[o].v,R),a[o].t="t");var I="";for(o=0;o!==a.length;++o)a[o]!=null&&(I+=a[o].v);return I}var uI=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function lI(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function K1e(e,t){var n=q1e(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(uI),s=n[1].match(uI);return lI(t,o)?[r,n[0]]:lI(t,s)?[r,n[1]]:[r,n[o!=null&&s!=null?2:1]]}return[r,i]}function Lu(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Bn)[e],r==null&&(r=n.table&&n.table[iI[e]]||Bn[iI[e]]),r==null&&(r=R1e[e]||"General");break}if(Ig(r,0))return TE(t,n);t instanceof Date&&(t=QU(t,n.date1904));var a=K1e(r,t);if(Ig(a[1]))return TE(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return G1e(a[1],t,n,a[0])}function s7(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Bn[n]==null){t<0&&(t=n);continue}if(Bn[n]==e){t=n;break}}t<0&&(t=391)}return Bn[t]=e,t}function Zy(e){for(var t=0;t!=392;++t)e[t]!==void 0&&s7(e[t],t)}function Jy(){Bn=O1e()}var u7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function X1e(e){var t=typeof e=="number"?Bn[e]:e;return t=t.replace(u7,"(\\d+)"),new RegExp("^"+t+"$")}function Y1e(e,t,n){var r=-1,a=-1,i=-1,o=-1,s=-1,u=-1;(t.match(u7)||[]).forEach(function(d,p){var m=parseInt(n[p+1],10);switch(d.toLowerCase().charAt(0)){case"y":r=m;break;case"d":i=m;break;case"h":o=m;break;case"s":u=m;break;case"m":o>=0?s=m:a=m;break}}),u>=0&&s==-1&&a>=0&&(s=a,a=-1);var l=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);l.length==7&&(l="0"+l),l.length==8&&(l="20"+l);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&s==-1&&u==-1?l:r==-1&&a==-1&&i==-1?f:l+"T"+f}var Q1e=function(){var e={};e.version="1.2.0";function t(){for(var D=0,P=new Array(256),k=0;k!=256;++k)D=k,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,P[k]=D;return typeof Int32Array<"u"?new Int32Array(P):P}var n=t();function r(D){var P=0,k=0,I=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)F[I]=D[I];for(I=0;I!=256;++I)for(k=D[I],P=256+I;P<4096;P+=256)k=F[P]=k>>>8^D[k&255];var B=[];for(I=1;I!=16;++I)B[I-1]=typeof Int32Array<"u"?F.subarray(I*256,I*256+256):F.slice(I*256,I*256+256);return B}var a=r(n),i=a[0],o=a[1],s=a[2],u=a[3],l=a[4],f=a[5],d=a[6],p=a[7],m=a[8],g=a[9],x=a[10],b=a[11],w=a[12],E=a[13],S=a[14];function A(D,P){for(var k=P^-1,I=0,F=D.length;I<F;)k=k>>>8^n[(k^D.charCodeAt(I++))&255];return~k}function T(D,P){for(var k=P^-1,I=D.length-15,F=0;F<I;)k=S[D[F++]^k&255]^E[D[F++]^k>>8&255]^w[D[F++]^k>>16&255]^b[D[F++]^k>>>24]^x[D[F++]]^g[D[F++]]^m[D[F++]]^p[D[F++]]^d[D[F++]]^f[D[F++]]^l[D[F++]]^u[D[F++]]^s[D[F++]]^o[D[F++]]^i[D[F++]]^n[D[F++]];for(I+=15;F<I;)k=k>>>8^n[(k^D[F++])&255];return~k}function R(D,P){for(var k=P^-1,I=0,F=D.length,B=0,te=0;I<F;)B=D.charCodeAt(I++),B<128?k=k>>>8^n[(k^B)&255]:B<2048?(k=k>>>8^n[(k^(192|B>>6&31))&255],k=k>>>8^n[(k^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,te=D.charCodeAt(I++)&1023,k=k>>>8^n[(k^(240|B>>8&7))&255],k=k>>>8^n[(k^(128|B>>2&63))&255],k=k>>>8^n[(k^(128|te>>6&15|(B&3)<<4))&255],k=k>>>8^n[(k^(128|te&63))&255]):(k=k>>>8^n[(k^(224|B>>12&15))&255],k=k>>>8^n[(k^(128|B>>6&63))&255],k=k>>>8^n[(k^(128|B&63))&255]);return~k}return e.table=n,e.bstr=A,e.buf=T,e.str=R,e}(),cn=function(){var t={};t.version="1.2.1";function n(j,ee){for(var q=j.split("/"),K=ee.split("/"),J=0,ne=0,we=Math.min(q.length,K.length);J<we;++J){if(ne=q[J].length-K[J].length)return ne;if(q[J]!=K[J])return q[J]<K[J]?-1:1}return q.length-K.length}function r(j){if(j.charAt(j.length-1)=="/")return j.slice(0,-1).indexOf("/")===-1?j:r(j.slice(0,-1));var ee=j.lastIndexOf("/");return ee===-1?j:j.slice(0,ee+1)}function a(j){if(j.charAt(j.length-1)=="/")return a(j.slice(0,-1));var ee=j.lastIndexOf("/");return ee===-1?j:j.slice(ee+1)}function i(j,ee){typeof ee=="string"&&(ee=new Date(ee));var q=ee.getHours();q=q<<6|ee.getMinutes(),q=q<<5|ee.getSeconds()>>>1,j.write_shift(2,q);var K=ee.getFullYear()-1980;K=K<<4|ee.getMonth()+1,K=K<<5|ee.getDate(),j.write_shift(2,K)}function o(j){var ee=j.read_shift(2)&65535,q=j.read_shift(2)&65535,K=new Date,J=q&31;q>>>=5;var ne=q&15;q>>>=4,K.setMilliseconds(0),K.setFullYear(q+1980),K.setMonth(ne-1),K.setDate(J);var we=ee&31;ee>>>=5;var Ne=ee&63;return ee>>>=6,K.setHours(ee),K.setMinutes(Ne),K.setSeconds(we<<1),K}function s(j){Va(j,0);for(var ee={},q=0;j.l<=j.length-4;){var K=j.read_shift(2),J=j.read_shift(2),ne=j.l+J,we={};switch(K){case 21589:q=j.read_shift(1),q&1&&(we.mtime=j.read_shift(4)),J>5&&(q&2&&(we.atime=j.read_shift(4)),q&4&&(we.ctime=j.read_shift(4))),we.mtime&&(we.mt=new Date(we.mtime*1e3));break}j.l=ne,ee[K]=we}return ee}var u;function l(){return u||(u={})}function f(j,ee){if(j[0]==80&&j[1]==75)return Th(j,ee);if((j[0]|32)==109&&(j[1]|32)==105)return f1(j,ee);if(j.length<512)throw new Error("CFB file size "+j.length+" < 512");var q=3,K=512,J=0,ne=0,we=0,Ne=0,me=0,_e=[],Se=j.slice(0,512);Va(Se,0);var We=d(Se);switch(q=We[0],q){case 3:K=512;break;case 4:K=4096;break;case 0:if(We[1]==0)return Th(j,ee);default:throw new Error("Major Version: Expected 3 or 4 saw "+q)}K!==512&&(Se=j.slice(0,K),Va(Se,28));var Ge=j.slice(0,K);p(Se,q);var tt=Se.read_shift(4,"i");if(q===3&&tt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+tt);Se.l+=4,we=Se.read_shift(4,"i"),Se.l+=4,Se.chk("00100000","Mini Stream Cutoff Size: "),Ne=Se.read_shift(4,"i"),J=Se.read_shift(4,"i"),me=Se.read_shift(4,"i"),ne=Se.read_shift(4,"i");for(var Ve=-1,Je=0;Je<109&&(Ve=Se.read_shift(4,"i"),!(Ve<0));++Je)_e[Je]=Ve;var Et=m(j,K);b(me,ne,Et,K,_e);var an=E(Et,we,_e,K);an[we].name="!Directory",J>0&&Ne!==te&&(an[Ne].name="!MiniFAT"),an[_e[0]].name="!FAT",an.fat_addrs=_e,an.ssz=K;var on={},pn=[],Go=[],qs=[];S(we,an,Et,pn,J,on,Go,Ne),g(Go,qs,pn),pn.shift();var li={FileIndex:Go,FullPaths:qs};return ee&&ee.raw&&(li.raw={header:Ge,sectors:Et}),li}function d(j){if(j[j.l]==80&&j[j.l+1]==75)return[0,0];j.chk(ae,"Header Signature: "),j.l+=16;var ee=j.read_shift(2,"u");return[j.read_shift(2,"u"),ee]}function p(j,ee){var q=9;switch(j.l+=2,q=j.read_shift(2)){case 9:if(ee!=3)throw new Error("Sector Shift: Expected 9 saw "+q);break;case 12:if(ee!=4)throw new Error("Sector Shift: Expected 12 saw "+q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+q)}j.chk("0600","Mini Sector Shift: "),j.chk("000000000000","Reserved: ")}function m(j,ee){for(var q=Math.ceil(j.length/ee)-1,K=[],J=1;J<q;++J)K[J-1]=j.slice(J*ee,(J+1)*ee);return K[q-1]=j.slice(q*ee),K}function g(j,ee,q){for(var K=0,J=0,ne=0,we=0,Ne=0,me=q.length,_e=[],Se=[];K<me;++K)_e[K]=Se[K]=K,ee[K]=q[K];for(;Ne<Se.length;++Ne)K=Se[Ne],J=j[K].L,ne=j[K].R,we=j[K].C,_e[K]===K&&(J!==-1&&_e[J]!==J&&(_e[K]=_e[J]),ne!==-1&&_e[ne]!==ne&&(_e[K]=_e[ne])),we!==-1&&(_e[we]=K),J!==-1&&K!=_e[K]&&(_e[J]=_e[K],Se.lastIndexOf(J)<Ne&&Se.push(J)),ne!==-1&&K!=_e[K]&&(_e[ne]=_e[K],Se.lastIndexOf(ne)<Ne&&Se.push(ne));for(K=1;K<me;++K)_e[K]===K&&(ne!==-1&&_e[ne]!==ne?_e[K]=_e[ne]:J!==-1&&_e[J]!==J&&(_e[K]=_e[J]));for(K=1;K<me;++K)if(j[K].type!==0){if(Ne=K,Ne!=_e[Ne])do Ne=_e[Ne],ee[K]=ee[Ne]+"/"+ee[K];while(Ne!==0&&_e[Ne]!==-1&&Ne!=_e[Ne]);_e[K]=-1}for(ee[0]+="/",K=1;K<me;++K)j[K].type!==2&&(ee[K]+="/")}function x(j,ee,q){for(var K=j.start,J=j.size,ne=[],we=K;q&&J>0&&we>=0;)ne.push(ee.slice(we*B,we*B+B)),J-=B,we=Sl(q,we*4);return ne.length===0?ke(0):Br(ne).slice(0,j.size)}function b(j,ee,q,K,J){var ne=te;if(j===te){if(ee!==0)throw new Error("DIFAT chain shorter than expected")}else if(j!==-1){var we=q[j],Ne=(K>>>2)-1;if(!we)return;for(var me=0;me<Ne&&(ne=Sl(we,me*4))!==te;++me)J.push(ne);b(Sl(we,K-4),ee-1,q,K,J)}}function w(j,ee,q,K,J){var ne=[],we=[];J||(J=[]);var Ne=K-1,me=0,_e=0;for(me=ee;me>=0;){J[me]=!0,ne[ne.length]=me,we.push(j[me]);var Se=q[Math.floor(me*4/K)];if(_e=me*4&Ne,K<4+_e)throw new Error("FAT boundary crossed: "+me+" 4 "+K);if(!j[Se])break;me=Sl(j[Se],_e)}return{nodes:ne,data:gI([we])}}function E(j,ee,q,K){var J=j.length,ne=[],we=[],Ne=[],me=[],_e=K-1,Se=0,We=0,Ge=0,tt=0;for(Se=0;Se<J;++Se)if(Ne=[],Ge=Se+ee,Ge>=J&&(Ge-=J),!we[Ge]){me=[];var Ve=[];for(We=Ge;We>=0;){Ve[We]=!0,we[We]=!0,Ne[Ne.length]=We,me.push(j[We]);var Je=q[Math.floor(We*4/K)];if(tt=We*4&_e,K<4+tt)throw new Error("FAT boundary crossed: "+We+" 4 "+K);if(!j[Je]||(We=Sl(j[Je],tt),Ve[We]))break}ne[Ge]={nodes:Ne,data:gI([me])}}return ne}function S(j,ee,q,K,J,ne,we,Ne){for(var me=0,_e=K.length?2:0,Se=ee[j].data,We=0,Ge=0,tt;We<Se.length;We+=128){var Ve=Se.slice(We,We+128);Va(Ve,64),Ge=Ve.read_shift(2),tt=uC(Ve,0,Ge-_e),K.push(tt);var Je={name:tt,type:Ve.read_shift(1),color:Ve.read_shift(1),L:Ve.read_shift(4,"i"),R:Ve.read_shift(4,"i"),C:Ve.read_shift(4,"i"),clsid:Ve.read_shift(16),state:Ve.read_shift(4,"i"),start:0,size:0},Et=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Et!==0&&(Je.ct=A(Ve,Ve.l-8));var an=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);an!==0&&(Je.mt=A(Ve,Ve.l-8)),Je.start=Ve.read_shift(4,"i"),Je.size=Ve.read_shift(4,"i"),Je.size<0&&Je.start<0&&(Je.size=Je.type=0,Je.start=te,Je.name=""),Je.type===5?(me=Je.start,J>0&&me!==te&&(ee[me].name="!StreamData")):Je.size>=4096?(Je.storage="fat",ee[Je.start]===void 0&&(ee[Je.start]=w(q,Je.start,ee.fat_addrs,ee.ssz)),ee[Je.start].name=Je.name,Je.content=ee[Je.start].data.slice(0,Je.size)):(Je.storage="minifat",Je.size<0?Je.size=0:me!==te&&Je.start!==te&&ee[me]&&(Je.content=x(Je,ee[me].data,(ee[Ne]||{}).data))),Je.content&&Va(Je.content,0),ne[tt]=Je,we.push(Je)}}function A(j,ee){return new Date((Xa(j,ee+4)/1e7*Math.pow(2,32)+Xa(j,ee)/1e7-11644473600)*1e3)}function T(j,ee){return l(),f(u.readFileSync(j),ee)}function R(j,ee){var q=ee&&ee.type;switch(q||Vt&&Buffer.isBuffer(j)&&(q="buffer"),q||"base64"){case"file":return T(j,ee);case"base64":return f(Ji(Rs(j)),ee);case"binary":return f(Ji(j),ee)}return f(j,ee)}function D(j,ee){var q=ee||{},K=q.root||"Root Entry";if(j.FullPaths||(j.FullPaths=[]),j.FileIndex||(j.FileIndex=[]),j.FullPaths.length!==j.FileIndex.length)throw new Error("inconsistent CFB structure");j.FullPaths.length===0&&(j.FullPaths[0]=K+"/",j.FileIndex[0]={name:K,type:5}),q.CLSID&&(j.FileIndex[0].clsid=q.CLSID),P(j)}function P(j){var ee="Sh33tJ5";if(!cn.find(j,"/"+ee)){var q=ke(4);q[0]=55,q[1]=q[3]=50,q[2]=54,j.FileIndex.push({name:ee,type:2,content:q,size:4,L:69,R:69,C:69}),j.FullPaths.push(j.FullPaths[0]+ee),k(j)}}function k(j,ee){D(j);for(var q=!1,K=!1,J=j.FullPaths.length-1;J>=0;--J){var ne=j.FileIndex[J];switch(ne.type){case 0:K?q=!0:(j.FileIndex.pop(),j.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(ne.R*ne.L*ne.C)&&(q=!0),ne.R>-1&&ne.L>-1&&ne.R==ne.L&&(q=!0);break;default:q=!0;break}}if(!(!q&&!ee)){var we=new Date(1987,1,19),Ne=0,me=Object.create?Object.create(null):{},_e=[];for(J=0;J<j.FullPaths.length;++J)me[j.FullPaths[J]]=!0,j.FileIndex[J].type!==0&&_e.push([j.FullPaths[J],j.FileIndex[J]]);for(J=0;J<_e.length;++J){var Se=r(_e[J][0]);K=me[Se],K||(_e.push([Se,{name:a(Se).replace("/",""),type:1,clsid:H,ct:we,mt:we,content:null}]),me[Se]=!0)}for(_e.sort(function(tt,Ve){return n(tt[0],Ve[0])}),j.FullPaths=[],j.FileIndex=[],J=0;J<_e.length;++J)j.FullPaths[J]=_e[J][0],j.FileIndex[J]=_e[J][1];for(J=0;J<_e.length;++J){var We=j.FileIndex[J],Ge=j.FullPaths[J];if(We.name=a(Ge).replace("/",""),We.L=We.R=We.C=-(We.color=1),We.size=We.content?We.content.length:0,We.start=0,We.clsid=We.clsid||H,J===0)We.C=_e.length>1?1:-1,We.size=0,We.type=5;else if(Ge.slice(-1)=="/"){for(Ne=J+1;Ne<_e.length&&r(j.FullPaths[Ne])!=Ge;++Ne);for(We.C=Ne>=_e.length?-1:Ne,Ne=J+1;Ne<_e.length&&r(j.FullPaths[Ne])!=r(Ge);++Ne);We.R=Ne>=_e.length?-1:Ne,We.type=1}else r(j.FullPaths[J+1]||"")==r(Ge)&&(We.R=J+1),We.type=2}}}function I(j,ee){var q=ee||{};if(q.fileType=="mad")return ho(j,q);switch(k(j),q.fileType){case"zip":return Yu(j,q)}var K=function(tt){for(var Ve=0,Je=0,Et=0;Et<tt.FileIndex.length;++Et){var an=tt.FileIndex[Et];if(an.content){var on=an.content.length;on>0&&(on<4096?Ve+=on+63>>6:Je+=on+511>>9)}}for(var pn=tt.FullPaths.length+3>>2,Go=Ve+7>>3,qs=Ve+127>>7,li=Go+Je+pn+qs,zi=li+127>>7,Qu=zi<=109?0:Math.ceil((zi-109)/127);li+zi+Qu+127>>7>zi;)Qu=++zi<=109?0:Math.ceil((zi-109)/127);var Wi=[1,Qu,zi,qs,pn,Je,Ve,0];return tt.FileIndex[0].size=Ve<<6,Wi[7]=(tt.FileIndex[0].start=Wi[0]+Wi[1]+Wi[2]+Wi[3]+Wi[4]+Wi[5])+(Wi[6]+7>>3),Wi}(j),J=ke(K[7]<<9),ne=0,we=0;{for(ne=0;ne<8;++ne)J.write_shift(1,V[ne]);for(ne=0;ne<8;++ne)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),ne=0;ne<3;++ne)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,K[2]),J.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:te),J.write_shift(4,K[3]),J.write_shift(-4,K[1]?K[0]-1:te),J.write_shift(4,K[1]),ne=0;ne<109;++ne)J.write_shift(-4,ne<K[2]?K[1]+ne:-1)}if(K[1])for(we=0;we<K[1];++we){for(;ne<236+we*127;++ne)J.write_shift(-4,ne<K[2]?K[1]+ne:-1);J.write_shift(-4,we===K[1]-1?te:we+1)}var Ne=function(tt){for(we+=tt;ne<we-1;++ne)J.write_shift(-4,ne+1);tt&&(++ne,J.write_shift(-4,te))};for(we=ne=0,we+=K[1];ne<we;++ne)J.write_shift(-4,Z.DIFSECT);for(we+=K[2];ne<we;++ne)J.write_shift(-4,Z.FATSECT);Ne(K[3]),Ne(K[4]);for(var me=0,_e=0,Se=j.FileIndex[0];me<j.FileIndex.length;++me)Se=j.FileIndex[me],Se.content&&(_e=Se.content.length,!(_e<4096)&&(Se.start=we,Ne(_e+511>>9)));for(Ne(K[6]+7>>3);J.l&511;)J.write_shift(-4,Z.ENDOFCHAIN);for(we=ne=0,me=0;me<j.FileIndex.length;++me)Se=j.FileIndex[me],Se.content&&(_e=Se.content.length,!(!_e||_e>=4096)&&(Se.start=we,Ne(_e+63>>6)));for(;J.l&511;)J.write_shift(-4,Z.ENDOFCHAIN);for(ne=0;ne<K[4]<<2;++ne){var We=j.FullPaths[ne];if(!We||We.length===0){for(me=0;me<17;++me)J.write_shift(4,0);for(me=0;me<3;++me)J.write_shift(4,-1);for(me=0;me<12;++me)J.write_shift(4,0);continue}Se=j.FileIndex[ne],ne===0&&(Se.start=Se.size?Se.start-1:te);var Ge=ne===0&&q.root||Se.name;if(_e=2*(Ge.length+1),J.write_shift(64,Ge,"utf16le"),J.write_shift(2,_e),J.write_shift(1,Se.type),J.write_shift(1,Se.color),J.write_shift(-4,Se.L),J.write_shift(-4,Se.R),J.write_shift(-4,Se.C),Se.clsid)J.write_shift(16,Se.clsid,"hex");else for(me=0;me<4;++me)J.write_shift(4,0);J.write_shift(4,Se.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,Se.start),J.write_shift(4,Se.size),J.write_shift(4,0)}for(ne=1;ne<j.FileIndex.length;++ne)if(Se=j.FileIndex[ne],Se.size>=4096)if(J.l=Se.start+1<<9,Vt&&Buffer.isBuffer(Se.content))Se.content.copy(J,J.l,0,Se.size),J.l+=Se.size+511&-512;else{for(me=0;me<Se.size;++me)J.write_shift(1,Se.content[me]);for(;me&511;++me)J.write_shift(1,0)}for(ne=1;ne<j.FileIndex.length;++ne)if(Se=j.FileIndex[ne],Se.size>0&&Se.size<4096)if(Vt&&Buffer.isBuffer(Se.content))Se.content.copy(J,J.l,0,Se.size),J.l+=Se.size+63&-64;else{for(me=0;me<Se.size;++me)J.write_shift(1,Se.content[me]);for(;me&63;++me)J.write_shift(1,0)}if(Vt)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}function F(j,ee){var q=j.FullPaths.map(function(me){return me.toUpperCase()}),K=q.map(function(me){var _e=me.split("/");return _e[_e.length-(me.slice(-1)=="/"?2:1)]}),J=!1;ee.charCodeAt(0)===47?(J=!0,ee=q[0].slice(0,-1)+ee):J=ee.indexOf("/")!==-1;var ne=ee.toUpperCase(),we=J===!0?q.indexOf(ne):K.indexOf(ne);if(we!==-1)return j.FileIndex[we];var Ne=!ne.match(lm);for(ne=ne.replace(Xd,""),Ne&&(ne=ne.replace(lm,"!")),we=0;we<q.length;++we)if((Ne?q[we].replace(lm,"!"):q[we]).replace(Xd,"")==ne||(Ne?K[we].replace(lm,"!"):K[we]).replace(Xd,"")==ne)return j.FileIndex[we];return null}var B=64,te=-2,ae="d0cf11e0a1b11ae1",V=[208,207,17,224,161,177,26,225],H="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:te,FREESECT:-1,HEADER_SIGNATURE:ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:H,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ie(j,ee,q){l();var K=I(j,q);u.writeFileSync(ee,K)}function he(j){for(var ee=new Array(j.length),q=0;q<j.length;++q)ee[q]=String.fromCharCode(j[q]);return ee.join("")}function z(j,ee){var q=I(j,ee);switch(ee&&ee.type||"buffer"){case"file":return l(),u.writeFileSync(ee.filename,q),q;case"binary":return typeof q=="string"?q:he(q);case"base64":return Tp(typeof q=="string"?q:he(q));case"buffer":if(Vt)return Buffer.isBuffer(q)?q:$s(q);case"array":return typeof q=="string"?Ji(q):q}return q}var se;function L(j){try{var ee=j.InflateRaw,q=new ee;if(q._processChunk(new Uint8Array([3,0]),q._finishFlushFlag),q.bytesRead)se=j;else throw new Error("zlib does not expose bytesRead")}catch(K){console.error("cannot use native zlib: "+(K.message||K))}}function G(j,ee){if(!se)return g0(j,ee);var q=se.InflateRaw,K=new q,J=K._processChunk(j.slice(j.l),K._finishFlushFlag);return j.l+=K.bytesRead,J}function X(j){return se?se.deflateRawSync(j):ji(j)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function le(j){var ee=(j<<1|j<<11)&139536|(j<<5|j<<15)&558144;return(ee>>16|ee>>8|ee)&255}for(var oe=typeof Uint8Array<"u",ye=oe?new Uint8Array(256):[],Oe=0;Oe<256;++Oe)ye[Oe]=le(Oe);function ve(j,ee){var q=ye[j&255];return ee<=8?q>>>8-ee:(q=q<<8|ye[j>>8&255],ee<=16?q>>>16-ee:(q=q<<8|ye[j>>16&255],q>>>24-ee))}function Ye(j,ee){var q=ee&7,K=ee>>>3;return(j[K]|(q<=6?0:j[K+1]<<8))>>>q&3}function $e(j,ee){var q=ee&7,K=ee>>>3;return(j[K]|(q<=5?0:j[K+1]<<8))>>>q&7}function nt(j,ee){var q=ee&7,K=ee>>>3;return(j[K]|(q<=4?0:j[K+1]<<8))>>>q&15}function et(j,ee){var q=ee&7,K=ee>>>3;return(j[K]|(q<=3?0:j[K+1]<<8))>>>q&31}function He(j,ee){var q=ee&7,K=ee>>>3;return(j[K]|(q<=1?0:j[K+1]<<8))>>>q&127}function Ft(j,ee,q){var K=ee&7,J=ee>>>3,ne=(1<<q)-1,we=j[J]>>>K;return q<8-K||(we|=j[J+1]<<8-K,q<16-K)||(we|=j[J+2]<<16-K,q<24-K)||(we|=j[J+3]<<24-K),we&ne}function jt(j,ee,q){var K=ee&7,J=ee>>>3;return K<=5?j[J]|=(q&7)<<K:(j[J]|=q<<K&255,j[J+1]=(q&7)>>8-K),ee+3}function ze(j,ee,q){var K=ee&7,J=ee>>>3;return q=(q&1)<<K,j[J]|=q,ee+1}function dt(j,ee,q){var K=ee&7,J=ee>>>3;return q<<=K,j[J]|=q&255,q>>>=8,j[J+1]=q,ee+8}function ge(j,ee,q){var K=ee&7,J=ee>>>3;return q<<=K,j[J]|=q&255,q>>>=8,j[J+1]=q&255,j[J+2]=q>>>8,ee+16}function Be(j,ee){var q=j.length,K=2*q>ee?2*q:ee+5,J=0;if(q>=ee)return j;if(Vt){var ne=nI(K);if(j.copy)j.copy(ne);else for(;J<j.length;++J)ne[J]=j[J];return ne}else if(oe){var we=new Uint8Array(K);if(we.set)we.set(j);else for(;J<q;++J)we[J]=j[J];return we}return j.length=K,j}function qe(j){for(var ee=new Array(j),q=0;q<j;++q)ee[q]=0;return ee}function Qe(j,ee,q){var K=1,J=0,ne=0,we=0,Ne=0,me=j.length,_e=oe?new Uint16Array(32):qe(32);for(ne=0;ne<32;++ne)_e[ne]=0;for(ne=me;ne<q;++ne)j[ne]=0;me=j.length;var Se=oe?new Uint16Array(me):qe(me);for(ne=0;ne<me;++ne)_e[J=j[ne]]++,K<J&&(K=J),Se[ne]=0;for(_e[0]=0,ne=1;ne<=K;++ne)_e[ne+16]=Ne=Ne+_e[ne-1]<<1;for(ne=0;ne<me;++ne)Ne=j[ne],Ne!=0&&(Se[ne]=_e[Ne+16]++);var We=0;for(ne=0;ne<me;++ne)if(We=j[ne],We!=0)for(Ne=ve(Se[ne],K)>>K-We,we=(1<<K+4-We)-1;we>=0;--we)ee[Ne|we<<We]=We&15|ne<<4;return K}var ut=oe?new Uint16Array(512):qe(512),pt=oe?new Uint16Array(32):qe(32);if(!oe){for(var wt=0;wt<512;++wt)ut[wt]=0;for(wt=0;wt<32;++wt)pt[wt]=0}(function(){for(var j=[],ee=0;ee<32;ee++)j.push(5);Qe(j,pt,32);var q=[];for(ee=0;ee<=143;ee++)q.push(8);for(;ee<=255;ee++)q.push(9);for(;ee<=279;ee++)q.push(7);for(;ee<=287;ee++)q.push(8);Qe(q,ut,288)})();var Ht=function(){for(var ee=oe?new Uint8Array(32768):[],q=0,K=0;q<Pe.length-1;++q)for(;K<Pe[q+1];++K)ee[K]=q;for(;K<32768;++K)ee[K]=29;var J=oe?new Uint8Array(259):[];for(q=0,K=0;q<ce.length-1;++q)for(;K<ce[q+1];++K)J[K]=q;function ne(Ne,me){for(var _e=0;_e<Ne.length;){var Se=Math.min(65535,Ne.length-_e),We=_e+Se==Ne.length;for(me.write_shift(1,+We),me.write_shift(2,Se),me.write_shift(2,~Se&65535);Se-- >0;)me[me.l++]=Ne[_e++]}return me.l}function we(Ne,me){for(var _e=0,Se=0,We=oe?new Uint16Array(32768):[];Se<Ne.length;){var Ge=Math.min(65535,Ne.length-Se);if(Ge<10){for(_e=jt(me,_e,+(Se+Ge==Ne.length)),_e&7&&(_e+=8-(_e&7)),me.l=_e/8|0,me.write_shift(2,Ge),me.write_shift(2,~Ge&65535);Ge-- >0;)me[me.l++]=Ne[Se++];_e=me.l*8;continue}_e=jt(me,_e,+(Se+Ge==Ne.length)+2);for(var tt=0;Ge-- >0;){var Ve=Ne[Se];tt=(tt<<5^Ve)&32767;var Je=-1,Et=0;if((Je=We[tt])&&(Je|=Se&-32768,Je>Se&&(Je-=32768),Je<Se))for(;Ne[Je+Et]==Ne[Se+Et]&&Et<250;)++Et;if(Et>2){Ve=J[Et],Ve<=22?_e=dt(me,_e,ye[Ve+1]>>1)-1:(dt(me,_e,3),_e+=5,dt(me,_e,ye[Ve-23]>>5),_e+=3);var an=Ve<8?0:Ve-4>>2;an>0&&(ge(me,_e,Et-ce[Ve]),_e+=an),Ve=ee[Se-Je],_e=dt(me,_e,ye[Ve]>>3),_e-=3;var on=Ve<4?0:Ve-2>>1;on>0&&(ge(me,_e,Se-Je-Pe[Ve]),_e+=on);for(var pn=0;pn<Et;++pn)We[tt]=Se&32767,tt=(tt<<5^Ne[Se])&32767,++Se;Ge-=Et-1}else Ve<=143?Ve=Ve+48:_e=ze(me,_e,1),_e=dt(me,_e,ye[Ve]),We[tt]=Se&32767,++Se}_e=dt(me,_e,0)-1}return me.l=(_e+7)/8|0,me.l}return function(me,_e){return me.length<8?ne(me,_e):we(me,_e)}}();function ji(j){var ee=ke(50+Math.floor(j.length*1.1)),q=Ht(j,ee);return ee.slice(0,q)}var Ui=oe?new Uint16Array(32768):qe(32768),fo=oe?new Uint16Array(32768):qe(32768),ca=oe?new Uint16Array(128):qe(128),Na=1,fa=1;function _c(j,ee){var q=et(j,ee)+257;ee+=5;var K=et(j,ee)+1;ee+=5;var J=nt(j,ee)+4;ee+=4;for(var ne=0,we=oe?new Uint8Array(19):qe(19),Ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],me=1,_e=oe?new Uint8Array(8):qe(8),Se=oe?new Uint8Array(8):qe(8),We=we.length,Ge=0;Ge<J;++Ge)we[Y[Ge]]=ne=$e(j,ee),me<ne&&(me=ne),_e[ne]++,ee+=3;var tt=0;for(_e[0]=0,Ge=1;Ge<=me;++Ge)Se[Ge]=tt=tt+_e[Ge-1]<<1;for(Ge=0;Ge<We;++Ge)(tt=we[Ge])!=0&&(Ne[Ge]=Se[tt]++);var Ve=0;for(Ge=0;Ge<We;++Ge)if(Ve=we[Ge],Ve!=0){tt=ye[Ne[Ge]]>>8-Ve;for(var Je=(1<<7-Ve)-1;Je>=0;--Je)ca[tt|Je<<Ve]=Ve&7|Ge<<3}var Et=[];for(me=1;Et.length<q+K;)switch(tt=ca[He(j,ee)],ee+=tt&7,tt>>>=3){case 16:for(ne=3+Ye(j,ee),ee+=2,tt=Et[Et.length-1];ne-- >0;)Et.push(tt);break;case 17:for(ne=3+$e(j,ee),ee+=3;ne-- >0;)Et.push(0);break;case 18:for(ne=11+He(j,ee),ee+=7;ne-- >0;)Et.push(0);break;default:Et.push(tt),me<tt&&(me=tt);break}var an=Et.slice(0,q),on=Et.slice(q);for(Ge=q;Ge<286;++Ge)an[Ge]=0;for(Ge=K;Ge<30;++Ge)on[Ge]=0;return Na=Qe(an,Ui,286),fa=Qe(on,fo,30),ee}function Xu(j,ee){if(j[0]==3&&!(j[1]&3))return[Ql(ee),2];for(var q=0,K=0,J=nI(ee||1<<18),ne=0,we=J.length>>>0,Ne=0,me=0;(K&1)==0;){if(K=$e(j,q),q+=3,K>>>1)K>>1==1?(Ne=9,me=5):(q=_c(j,q),Ne=Na,me=fa);else{q&7&&(q+=8-(q&7));var _e=j[q>>>3]|j[(q>>>3)+1]<<8;if(q+=32,_e>0)for(!ee&&we<ne+_e&&(J=Be(J,ne+_e),we=J.length);_e-- >0;)J[ne++]=j[q>>>3],q+=8;continue}for(;;){!ee&&we<ne+32767&&(J=Be(J,ne+32767),we=J.length);var Se=Ft(j,q,Ne),We=K>>>1==1?ut[Se]:Ui[Se];if(q+=We&15,We>>>=4,(We>>>8&255)===0)J[ne++]=We;else{if(We==256)break;We-=257;var Ge=We<8?0:We-4>>2;Ge>5&&(Ge=0);var tt=ne+ce[We];Ge>0&&(tt+=Ft(j,q,Ge),q+=Ge),Se=Ft(j,q,me),We=K>>>1==1?pt[Se]:fo[Se],q+=We&15,We>>>=4;var Ve=We<4?0:We-2>>1,Je=Pe[We];for(Ve>0&&(Je+=Ft(j,q,Ve),q+=Ve),!ee&&we<tt&&(J=Be(J,tt+100),we=J.length);ne<tt;)J[ne]=J[ne-Je],++ne}}}return ee?[J,q+7>>>3]:[J.slice(0,ne),q+7>>>3]}function g0(j,ee){var q=j.slice(j.l||0),K=Xu(q,ee);return j.l+=K[1],K[0]}function Sh(j,ee){if(j)typeof console<"u"&&console.error(ee);else throw new Error(ee)}function Th(j,ee){var q=j;Va(q,0);var K=[],J=[],ne={FileIndex:K,FullPaths:J};D(ne,{root:ee.root});for(var we=q.length-4;(q[we]!=80||q[we+1]!=75||q[we+2]!=5||q[we+3]!=6)&&we>=0;)--we;q.l=we+4,q.l+=4;var Ne=q.read_shift(2);q.l+=6;var me=q.read_shift(4);for(q.l=me,we=0;we<Ne;++we){q.l+=20;var _e=q.read_shift(4),Se=q.read_shift(4),We=q.read_shift(2),Ge=q.read_shift(2),tt=q.read_shift(2);q.l+=8;var Ve=q.read_shift(4),Je=s(q.slice(q.l+We,q.l+We+Ge));q.l+=We+Ge+tt;var Et=q.l;q.l=Ve+4,Ah(q,_e,Se,ne,Je),q.l=Et}return ne}function Ah(j,ee,q,K,J){j.l+=2;var ne=j.read_shift(2),we=j.read_shift(2),Ne=o(j);if(ne&8257)throw new Error("Unsupported ZIP encryption");for(var me=j.read_shift(4),_e=j.read_shift(4),Se=j.read_shift(4),We=j.read_shift(2),Ge=j.read_shift(2),tt="",Ve=0;Ve<We;++Ve)tt+=String.fromCharCode(j[j.l++]);if(Ge){var Je=s(j.slice(j.l,j.l+Ge));(Je[21589]||{}).mt&&(Ne=Je[21589].mt),((J||{})[21589]||{}).mt&&(Ne=J[21589].mt)}j.l+=Ge;var Et=j.slice(j.l,j.l+_e);switch(we){case 8:Et=G(j,Se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+we)}var an=!1;ne&8&&(me=j.read_shift(4),me==134695760&&(me=j.read_shift(4),an=!0),_e=j.read_shift(4),Se=j.read_shift(4)),_e!=ee&&Sh(an,"Bad compressed size: "+ee+" != "+_e),Se!=q&&Sh(an,"Bad uncompressed size: "+q+" != "+Se),dr(K,tt,Et,{unsafe:!0,mt:Ne})}function Yu(j,ee){var q=ee||{},K=[],J=[],ne=ke(1),we=q.compression?8:0,Ne=0,me=0,_e=0,Se=0,We=0,Ge=j.FullPaths[0],tt=Ge,Ve=j.FileIndex[0],Je=[],Et=0;for(me=1;me<j.FullPaths.length;++me)if(tt=j.FullPaths[me].slice(Ge.length),Ve=j.FileIndex[me],!(!Ve.size||!Ve.content||tt=="Sh33tJ5")){var an=Se,on=ke(tt.length);for(_e=0;_e<tt.length;++_e)on.write_shift(1,tt.charCodeAt(_e)&127);on=on.slice(0,on.l),Je[We]=Q1e.buf(Ve.content,0);var pn=Ve.content;we==8&&(pn=X(pn)),ne=ke(30),ne.write_shift(4,67324752),ne.write_shift(2,20),ne.write_shift(2,Ne),ne.write_shift(2,we),Ve.mt?i(ne,Ve.mt):ne.write_shift(4,0),ne.write_shift(-4,Je[We]),ne.write_shift(4,pn.length),ne.write_shift(4,Ve.content.length),ne.write_shift(2,on.length),ne.write_shift(2,0),Se+=ne.length,K.push(ne),Se+=on.length,K.push(on),Se+=pn.length,K.push(pn),ne=ke(46),ne.write_shift(4,33639248),ne.write_shift(2,0),ne.write_shift(2,20),ne.write_shift(2,Ne),ne.write_shift(2,we),ne.write_shift(4,0),ne.write_shift(-4,Je[We]),ne.write_shift(4,pn.length),ne.write_shift(4,Ve.content.length),ne.write_shift(2,on.length),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(4,0),ne.write_shift(4,an),Et+=ne.l,J.push(ne),Et+=on.length,J.push(on),++We}return ne=ke(22),ne.write_shift(4,101010256),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(2,We),ne.write_shift(2,We),ne.write_shift(4,Et),ne.write_shift(4,Se),ne.write_shift(2,0),Br([Br(K),Br(J),ne])}var Ec={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function y0(j,ee){if(j.ctype)return j.ctype;var q=j.name||"",K=q.match(/\.([^\.]+)$/);return K&&Ec[K[1]]||ee&&(K=(q=ee).match(/[\.\\]([^\.\\])+$/),K&&Ec[K[1]])?Ec[K[1]]:"application/octet-stream"}function x0(j){for(var ee=Tp(j),q=[],K=0;K<ee.length;K+=76)q.push(ee.slice(K,K+76));return q.join(`\r
`)+`\r
`}function Ch(j){var ee=j.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(_e){var Se=_e.charCodeAt(0).toString(16).toUpperCase();return"="+(Se.length==1?"0"+Se:Se)});ee=ee.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ee.charAt(0)==`
`&&(ee="=0D"+ee.slice(1)),ee=ee.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var q=[],K=ee.split(`\r
`),J=0;J<K.length;++J){var ne=K[J];if(ne.length==0){q.push("");continue}for(var we=0;we<ne.length;){var Ne=76,me=ne.slice(we,we+Ne);me.charAt(Ne-1)=="="?Ne--:me.charAt(Ne-2)=="="?Ne-=2:me.charAt(Ne-3)=="="&&(Ne-=3),me=ne.slice(we,we+Ne),we+=Ne,we<ne.length&&(me+="="),q.push(me)}}return q.join(`\r
`)}function Oh(j){for(var ee=[],q=0;q<j.length;++q){for(var K=j[q];q<=j.length&&K.charAt(K.length-1)=="=";)K=K.slice(0,K.length-1)+j[++q];ee.push(K)}for(var J=0;J<ee.length;++J)ee[J]=ee[J].replace(/[=][0-9A-Fa-f]{2}/g,function(ne){return String.fromCharCode(parseInt(ne.slice(1),16))});return Ji(ee.join(`\r
`))}function b0(j,ee,q){for(var K="",J="",ne="",we,Ne=0;Ne<10;++Ne){var me=ee[Ne];if(!me||me.match(/^\s*$/))break;var _e=me.match(/^(.*?):\s*([^\s].*)$/);if(_e)switch(_e[1].toLowerCase()){case"content-location":K=_e[2].trim();break;case"content-type":ne=_e[2].trim();break;case"content-transfer-encoding":J=_e[2].trim();break}}switch(++Ne,J.toLowerCase()){case"base64":we=Ji(Rs(ee.slice(Ne).join("")));break;case"quoted-printable":we=Oh(ee.slice(Ne));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var Se=dr(j,K.slice(q.length),we,{unsafe:!0});ne&&(Se.ctype=ne)}function f1(j,ee){if(he(j.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var q=ee&&ee.root||"",K=(Vt&&Buffer.isBuffer(j)?j.toString("binary"):he(j)).split(`\r
`),J=0,ne="";for(J=0;J<K.length;++J)if(ne=K[J],!!/^Content-Location:/i.test(ne)&&(ne=ne.slice(ne.indexOf("file")),q||(q=ne.slice(0,ne.lastIndexOf("/")+1)),ne.slice(0,q.length)!=q))for(;q.length>0&&(q=q.slice(0,q.length-1),q=q.slice(0,q.lastIndexOf("/")+1),ne.slice(0,q.length)!=q););var we=(K[1]||"").match(/boundary="(.*?)"/);if(!we)throw new Error("MAD cannot find boundary");var Ne="--"+(we[1]||""),me=[],_e=[],Se={FileIndex:me,FullPaths:_e};D(Se);var We,Ge=0;for(J=0;J<K.length;++J){var tt=K[J];tt!==Ne&&tt!==Ne+"--"||(Ge++&&b0(Se,K.slice(We,J),q),We=J)}return Se}function ho(j,ee){var q=ee||{},K=q.boundary||"SheetJS";K="------="+K;for(var J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+K.slice(2)+'"',"","",""],ne=j.FullPaths[0],we=ne,Ne=j.FileIndex[0],me=1;me<j.FullPaths.length;++me)if(we=j.FullPaths[me].slice(ne.length),Ne=j.FileIndex[me],!(!Ne.size||!Ne.content||we=="Sh33tJ5")){we=we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Et){return"_x"+Et.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Et){return"_u"+Et.charCodeAt(0).toString(16)+"_"});for(var _e=Ne.content,Se=Vt&&Buffer.isBuffer(_e)?_e.toString("binary"):he(_e),We=0,Ge=Math.min(1024,Se.length),tt=0,Ve=0;Ve<=Ge;++Ve)(tt=Se.charCodeAt(Ve))>=32&&tt<128&&++We;var Je=We>=Ge*4/5;J.push(K),J.push("Content-Location: "+(q.root||"file:///C:/SheetJS/")+we),J.push("Content-Transfer-Encoding: "+(Je?"quoted-printable":"base64")),J.push("Content-Type: "+y0(Ne,we)),J.push(""),J.push(Je?Ch(Se):x0(Se))}return J.push(K+`--\r
`),J.join(`\r
`)}function hr(j){var ee={};return D(ee,j),ee}function dr(j,ee,q,K){var J=K&&K.unsafe;J||D(j);var ne=!J&&cn.find(j,ee);if(!ne){var we=j.FullPaths[0];ee.slice(0,we.length)==we?we=ee:(we.slice(-1)!="/"&&(we+="/"),we=(we+ee).replace("//","/")),ne={name:a(ee),type:2},j.FileIndex.push(ne),j.FullPaths.push(we),J||cn.utils.cfb_gc(j)}return ne.content=q,ne.size=q?q.length:0,K&&(K.CLSID&&(ne.clsid=K.CLSID),K.mt&&(ne.mt=K.mt),K.ct&&(ne.ct=K.ct)),ne}function Vs(j,ee){D(j);var q=cn.find(j,ee);if(q){for(var K=0;K<j.FileIndex.length;++K)if(j.FileIndex[K]==q)return j.FileIndex.splice(K,1),j.FullPaths.splice(K,1),!0}return!1}function Rh(j,ee,q){D(j);var K=cn.find(j,ee);if(K){for(var J=0;J<j.FileIndex.length;++J)if(j.FileIndex[J]==K)return j.FileIndex[J].name=a(q),j.FullPaths[J]=q,!0}return!1}function h1(j){k(j,!0)}return t.find=F,t.read=R,t.parse=f,t.write=z,t.writeFile=ie,t.utils={cfb_new:hr,cfb_add:dr,cfb_del:Vs,cfb_mov:Rh,cfb_gc:h1,ReadShift:Qd,CheckField:A7,prep_blob:Va,bconcat:Br,use_zlib:L,_deflateRaw:ji,_inflateRaw:g0,consts:Z},t}();function Z1e(e){return typeof e=="string"?Qy(e):Array.isArray(e)?S1e(e):e}function u0(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=Qy(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r=n=="utf8"?Cp(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var a=new Blob([Z1e(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=s0(t)),s.write(t),s.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function zr(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function cI(e,t){for(var n=[],r=zr(e),a=0;a!==r.length;++a)n[e[r[a]][t]]==null&&(n[e[r[a]][t]]=r[a]);return n}function aC(e){for(var t=[],n=zr(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function e1(e){for(var t=[],n=zr(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function J1e(e){for(var t=[],n=zr(e),r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var Bg=new Date(1899,11,30,0,0,0);function Ra(e,t){var n=e.getTime(),r=Bg.getTime()+(e.getTimezoneOffset()-Bg.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var l7=new Date,exe=Bg.getTime()+(l7.getTimezoneOffset()-Bg.getTimezoneOffset())*6e4,fI=l7.getTimezoneOffset();function c7(e){var t=new Date;return t.setTime(e*24*60*60*1e3+exe),t.getTimezoneOffset()!==fI&&t.setTime(t.getTime()+(t.getTimezoneOffset()-fI)*6e4),t}var hI=new Date("2017-02-19T19:06:09.000Z"),f7=isNaN(hI.getFullYear())?new Date("2/19/17"):hI,txe=f7.getFullYear()==2017;function ua(e,t){var n=new Date(e);if(txe)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(f7.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function t1(e,t){if(Vt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function Da(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Da(e[n]));return t}function In(e,t){for(var n="";n.length<t;)n+=e;return n}function _s(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,i){return n=-n,i}),!isNaN(t=Number(r)))?t/n:t}var nxe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ap(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&nxe.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||i>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}function Rt(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return Vt?r=$s(n):r=T1e(n),cn.utils.cfb_add(e,t,r)}cn.utils.cfb_add(e,t,n)}else e.file(t,n)}function iC(){return cn.utils.cfb_new()}var Jn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,rxe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},oC=aC(rxe),sC=/[&<>'"]/g,axe=/[\u0000-\u0008\u000b-\u001f]/g;function tn(e){var t=e+"";return t.replace(sC,function(n){return oC[n]}).replace(axe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function dI(e){return tn(e).replace(/ /g,"_x0020_")}var h7=/[\u0000-\u001f]/g;function ixe(e){var t=e+"";return t.replace(sC,function(n){return oC[n]}).replace(/\n/g,"<br/>").replace(h7,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function oxe(e){var t=e+"";return t.replace(sC,function(n){return oC[n]}).replace(h7,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function sxe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function uxe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function W2(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(a=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(n++),s=((r&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function pI(e){var t=Ql(2*e.length),n,r,a=1,i=0,o=0,s;for(r=0;r<e.length;r+=a)a=1,(s=e.charCodeAt(r))<128?n=s:s<224?(n=(s&31)*64+(e.charCodeAt(r+1)&63),a=2):s<240?(n=(s&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),a=3):(a=4,n=(s&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=n%256,t[i++]=n>>>8;return t.slice(0,i).toString("ucs2")}function vI(e){return $s(e,"binary").toString("utf8")}var fm="foo bar baz",Yd=Vt&&(vI(fm)==W2(fm)&&vI||pI(fm)==W2(fm)&&pI)||W2,Cp=Vt?function(e){return $s(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},lxe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)r=r.replace(e[a][0],e[a][1]);return r}}(),d7=/(^\s|\s$|\n)/;function Lr(e,t){return"<"+e+(t.match(d7)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Op(e){return zr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ke(e,t,n){return"<"+e+(n!=null?Op(n):"")+(t!=null?(t.match(d7)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function AE(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function cxe(e,t){switch(typeof e){case"string":var n=Ke("vt:lpwstr",tn(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Ke((e|0)==e?"vt:i4":"vt:r8",tn(String(e)));case"boolean":return Ke("vt:bool",e?"true":"false")}if(e instanceof Date)return Ke("vt:filetime",AE(e));throw new Error("Unable to serialize "+e)}var br={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},yh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ka={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function fxe(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return r==2047?a==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}function hxe(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=r?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var s=0;s<=5;++s,i/=256)e[n+s]=i&255;e[n+6]=(a&15)<<4|i&15,e[n+7]=a>>4|r}var mI=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var a=0,i=e[0][r].length;a<i;a+=n)t.push.apply(t,e[0][r].slice(a,a+n));return t},gI=Vt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:$s(t)})):mI(e)}:mI,yI=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(Wd(e,a)));return r.join("").replace(Xd,"")},uC=Vt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Xd,""):yI(e,t,n)}:yI,xI=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},p7=Vt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):xI(e,t,n)}:xI,bI=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(xf(e,a)));return r.join("")},l0=Vt?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):bI(t,n,r)}:bI,v7=function(e,t){var n=Xa(e,t);return n>0?l0(e,t+4,t+4+n-1):""},m7=v7,g7=function(e,t){var n=Xa(e,t);return n>0?l0(e,t+4,t+4+n-1):""},y7=g7,x7=function(e,t){var n=2*Xa(e,t);return n>0?l0(e,t+4,t+4+n-1):""},b7=x7,w7=function(t,n){var r=Xa(t,n);return r>0?uC(t,n+4,n+4+r):""},_7=w7,E7=function(e,t){var n=Xa(e,t);return n>0?l0(e,t+4,t+4+n):""},S7=E7,T7=function(e,t){return fxe(e,t)},Lg=T7,lC=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Vt&&(m7=function(t,n){if(!Buffer.isBuffer(t))return v7(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},y7=function(t,n){if(!Buffer.isBuffer(t))return g7(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},b7=function(t,n){if(!Buffer.isBuffer(t))return x7(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},_7=function(t,n){if(!Buffer.isBuffer(t))return w7(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},S7=function(t,n){if(!Buffer.isBuffer(t))return E7(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},Lg=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):T7(t,n)},lC=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var xf=function(e,t){return e[t]},Wd=function(e,t){return e[t+1]*256+e[t]},dxe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Xa=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Sl=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},pxe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Qd(e,t){var n="",r,a,i=[],o,s,u,l;switch(t){case"dbcs":if(l=this.l,Vt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)n+=String.fromCharCode(Wd(this,l)),l+=2;e*=2;break;case"utf8":n=l0(this,this.l,this.l+e);break;case"utf16le":e*=2,n=uC(this,this.l,this.l+e);break;case"wstr":return Qd.call(this,e,"dbcs");case"lpstr-ansi":n=m7(this,this.l),e=4+Xa(this,this.l);break;case"lpstr-cp":n=y7(this,this.l),e=4+Xa(this,this.l);break;case"lpwstr":n=b7(this,this.l),e=4+2*Xa(this,this.l);break;case"lpp4":e=4+Xa(this,this.l),n=_7(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Xa(this,this.l),n=S7(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=xf(this,this.l+e++))!==0;)i.push(um(o));n=i.join("");break;case"_wstr":for(e=0,n="";(o=Wd(this,this.l+e))!==0;)i.push(um(o)),e+=2;e+=2,n=i.join("");break;case"dbcs-cont":for(n="",l=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(l)!==-1)return o=xf(this,l),this.l=l+1,s=Qd.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(um(Wd(this,l))),l+=2}n=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",l=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(l)!==-1)return o=xf(this,l),this.l=l+1,s=Qd.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(um(xf(this,l))),l+=1}n=i.join("");break;default:switch(e){case 1:return r=xf(this,this.l),this.l++,r;case 2:return r=(t==="i"?dxe:Wd)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?Sl:pxe)(this,this.l),this.l+=4,r):(a=Xa(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Lg(this,this.l):a=Lg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:n=p7(this,this.l,e);break}}return this.l+=e,n}var vxe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},mxe=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},gxe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function yxe(e,t,n){var r=0,a=0;if(n==="dbcs"){for(a=0;a!=t.length;++a)gxe(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;r=t.length}else if(n==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,vxe(this,t,this.l);break;case 8:if(r=8,n==="f"){hxe(this,t,this.l);break}case 16:break;case-4:r=4,mxe(this,t,this.l);break}return this.l+=r,this}function A7(e,t){var n=p7(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Va(e,t){e.l=t,e.read_shift=Qd,e.chk=A7,e.write_shift=yxe}function Uo(e,t){e.l+=t}function ke(e){var t=Ql(e);return Va(t,0),t}function Sa(){var e=[],t=Vt?256:2048,n=function(l){var f=ke(l);return Va(f,0),f},r=n(t),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},i=function(l){return r&&l<r.length-r.l?r:(a(),r=n(Math.max(l+1,t)))},o=function(){return a(),Br(e)},s=function(l){a(),r=l,r.l==null&&(r.l=r.length),i(t)};return{next:i,push:s,end:o,_bufs:e}}function Ue(e,t,n,r){var a=+t,i;if(!isNaN(a)){r||(r=fSe[a].p||(n||[]).length||0),i=1+(a>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var s=0;s!=4;++s)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&lC(n)&&e.push(n)}}function Zd(e,t,n){var r=Da(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function wI(e,t,n){var r=Da(e);return r.s=Zd(r.s,t.s,n),r.e=Zd(r.e,t.s,n),r}function Jd(e,t){if(e.cRel&&e.c<0)for(e=Da(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Da(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=nn(e);return!e.cRel&&e.cRel!=null&&(n=wxe(n)),!e.rRel&&e.rRel!=null&&(n=xxe(n)),n}function H2(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ea(e.s.c)+":"+(e.e.cRel?"":"$")+ea(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ur(e.s.r)+":"+(e.e.rRel?"":"$")+Ur(e.e.r):Jd(e.s,t.biff)+":"+Jd(e.e,t.biff)}function cC(e){return parseInt(bxe(e),10)-1}function Ur(e){return""+(e+1)}function xxe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function bxe(e){return e.replace(/\$(\d+)$/,"$1")}function fC(e){for(var t=_xe(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function ea(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function wxe(e){return e.replace(/^([A-Z])/,"$$$1")}function _xe(e){return e.replace(/^\$([A-Z])/,"$1")}function Exe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function wr(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function nn(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function si(e){var t=e.indexOf(":");return t==-1?{s:wr(e),e:wr(e)}:{s:wr(e.slice(0,t)),e:wr(e.slice(t+1))}}function Zn(e,t){return typeof t>"u"||typeof t=="number"?Zn(e.s,e.e):(typeof e!="string"&&(e=nn(e)),typeof t!="string"&&(t=nn(t)),e==t?e:e+":"+t)}function _n(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,i=e.length;for(n=0;r<i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function _I(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Lu(e.z,n?Ra(t):t)}catch{}try{return e.w=Lu((e.XF||{}).numFmtId||(n?14:0),n?Ra(t):t)}catch{return""+t}}function Ds(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?c0[e.v]||e.v:t==null?_I(e,e.v):_I(e,t))}function gc(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function C7(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense,i=e||(a?[]:{}),o=0,s=0;if(i&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?wr(r.origin):r.origin;o=u.r,s=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=_n(i["!ref"]);l.s.c=f.s.c,l.s.r=f.s.r,l.e.c=Math.max(l.e.c,f.e.c),l.e.r=Math.max(l.e.r,f.e.r),o==-1&&(l.e.r=o=f.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[d].length;++p)if(!(typeof t[d][p]>"u")){var m={v:t[d][p]},g=o+d,x=s+p;if(l.s.r>g&&(l.s.r=g),l.s.c>x&&(l.s.c=x),l.e.r<g&&(l.e.r=g),l.e.c<x&&(l.e.c=x),t[d][p]&&typeof t[d][p]=="object"&&!Array.isArray(t[d][p])&&!(t[d][p]instanceof Date))m=t[d][p];else if(Array.isArray(m.v)&&(m.f=t[d][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||Bn[14],r.cellDates?(m.t="d",m.w=Lu(m.z,Ra(m.v))):(m.t="n",m.v=Ra(m.v),m.w=Lu(m.z,m.v))):m.t="s";if(a)i[g]||(i[g]=[]),i[g][x]&&i[g][x].z&&(m.z=i[g][x].z),i[g][x]=m;else{var b=nn({c:x,r:g});i[b]&&i[b].z&&(m.z=i[b].z),i[b]=m}}}return l.s.c<1e7&&(i["!ref"]=Zn(l)),i}function xh(e,t){return C7(null,e,t)}function Sxe(e){return e.read_shift(4,"i")}function ro(e,t){return t||(t=ke(4)),t.write_shift(4,e),t}function ta(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function _r(e,t){var n=!1;return t==null&&(n=!0,t=ke(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function Txe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Axe(e,t){return t||(t=ke(4)),t.write_shift(2,0),t.write_shift(2,0),t}function hC(e,t){var n=e.l,r=e.read_shift(1),a=ta(e),i=[],o={t:a,h:a};if((r&1)!==0){for(var s=e.read_shift(4),u=0;u!=s;++u)i.push(Txe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function Cxe(e,t){var n=!1;return t==null&&(n=!0,t=ke(15+4*e.t.length)),t.write_shift(1,0),_r(e.t,t),n?t.slice(0,t.l):t}var Oxe=hC;function Rxe(e,t){var n=!1;return t==null&&(n=!0,t=ke(23+4*e.t.length)),t.write_shift(1,1),_r(e.t,t),t.write_shift(4,1),Axe({},t),n?t.slice(0,t.l):t}function Li(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function yc(e,t){return t==null&&(t=ke(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function xc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function bc(e,t){return t==null&&(t=ke(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Dxe=ta,O7=_r;function dC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function jg(e,t){var n=!1;return t==null&&(n=!0,t=ke(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var Nxe=ta,CE=dC,pC=jg;function R7(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var a=r===0?Lg([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Sl(t,0)>>2;return n?a/100:a}function D7(e,t){t==null&&(t=ke(4));var n=0,r=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?a:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function N7(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function kxe(e,t){return t||(t=ke(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var wc=N7,bh=kxe;function wh(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Zl(e,t){return(t||ke(8)).write_shift(8,e,"f")}function Pxe(e){var t={},n=e.read_shift(1),r=n>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),u=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=a;var l=Wxe[a];l&&(t.rgb=PI(l));break;case 2:t.rgb=PI([o,s,u]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Ug(e,t){if(t||(t=ke(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function Mxe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function Ixe(e,t){t||(t=ke(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}var k7=2,Wa=3,hm=11,zg=19,dm=64,Fxe=65,Bxe=71,Lxe=4108,jxe=4126,Pr=80,EI={1:{n:"CodePage",t:k7},2:{n:"Category",t:Pr},3:{n:"PresentationFormat",t:Pr},4:{n:"ByteCount",t:Wa},5:{n:"LineCount",t:Wa},6:{n:"ParagraphCount",t:Wa},7:{n:"SlideCount",t:Wa},8:{n:"NoteCount",t:Wa},9:{n:"HiddenCount",t:Wa},10:{n:"MultimediaClipCount",t:Wa},11:{n:"ScaleCrop",t:hm},12:{n:"HeadingPairs",t:Lxe},13:{n:"TitlesOfParts",t:jxe},14:{n:"Manager",t:Pr},15:{n:"Company",t:Pr},16:{n:"LinksUpToDate",t:hm},17:{n:"CharacterCount",t:Wa},19:{n:"SharedDoc",t:hm},22:{n:"HyperlinksChanged",t:hm},23:{n:"AppVersion",t:Wa,p:"version"},24:{n:"DigSig",t:Fxe},26:{n:"ContentType",t:Pr},27:{n:"ContentStatus",t:Pr},28:{n:"Language",t:Pr},29:{n:"Version",t:Pr},255:{},2147483648:{n:"Locale",t:zg},2147483651:{n:"Behavior",t:zg},1919054434:{}},SI={1:{n:"CodePage",t:k7},2:{n:"Title",t:Pr},3:{n:"Subject",t:Pr},4:{n:"Author",t:Pr},5:{n:"Keywords",t:Pr},6:{n:"Comments",t:Pr},7:{n:"Template",t:Pr},8:{n:"LastAuthor",t:Pr},9:{n:"RevNumber",t:Pr},10:{n:"EditTime",t:dm},11:{n:"LastPrinted",t:dm},12:{n:"CreatedDate",t:dm},13:{n:"ModifiedDate",t:dm},14:{n:"PageCount",t:Wa},15:{n:"WordCount",t:Wa},16:{n:"CharCount",t:Wa},17:{n:"Thumbnail",t:Bxe},18:{n:"Application",t:Pr},19:{n:"DocSecurity",t:Wa},255:{},2147483648:{n:"Locale",t:zg},2147483651:{n:"Behavior",t:zg},1919054434:{}};function Uxe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var zxe=Uxe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Wxe=Da(zxe),c0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Hxe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},pm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function P7(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function M7(e,t){var n=J1e(Hxe),r=[],a;r[r.length]=Jn,r[r.length]=Ke("Types",null,{xmlns:br.CT,"xmlns:xsd":br.xsd,"xmlns:xsi":br.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Ke("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(a=e[u][0],r[r.length]=Ke("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:pm[u][t.bookType]||pm[u].xlsx}))},o=function(u){(e[u]||[]).forEach(function(l){r[r.length]=Ke("Override",null,{PartName:(l[0]=="/"?"":"/")+l,ContentType:pm[u][t.bookType]||pm[u].xlsx})})},s=function(u){(e[u]||[]).forEach(function(l){r[r.length]=Ke("Override",null,{PartName:(l[0]=="/"?"":"/")+l,ContentType:n[u][0]})})};return i("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var zt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function I7(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Mf(e){var t=[Jn,Ke("Relationships",null,{xmlns:br.RELS})];return zr(e["!id"]).forEach(function(n){t[t.length]=Ke("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Zt(e,t,n,r,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=r,a.Target=n,[zt.HLINK,zt.XPATH,zt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function $xe(e){var t=[Jn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function TI(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Vxe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function qxe(e){var t=[Jn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(TI(e[n][0],e[n][1])),t.push(Vxe("",e[n][0]));return t.push(TI("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function F7(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+kg.version+"</meta:generator></office:meta></office:document-meta>"}var zl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function $2(e,t,n,r,a){a[e]!=null||t==null||t===""||(a[e]=t,t=tn(t),r[r.length]=n?Ke(e,t,n):Lr(e,t))}function B7(e,t){var n=t||{},r=[Jn,Ke("cp:coreProperties",null,{"xmlns:cp":br.CORE_PROPS,"xmlns:dc":br.dc,"xmlns:dcterms":br.dcterms,"xmlns:dcmitype":br.dcmitype,"xmlns:xsi":br.xsi})],a={};if(!e&&!n.Props)return r.join("");e&&(e.CreatedDate!=null&&$2("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:AE(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),e.ModifiedDate!=null&&$2("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:AE(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var i=0;i!=zl.length;++i){var o=zl[i],s=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;s===!0?s="1":s===!1?s="0":typeof s=="number"&&(s=String(s)),s!=null&&$2(o[0],s,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var If=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],L7=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function j7(e){var t=[],n=Ke;return e||(e={}),e.Application="SheetJS",t[t.length]=Jn,t[t.length]=Ke("Properties",null,{xmlns:br.EXT_PROPS,"xmlns:vt":br.vt}),If.forEach(function(r){if(e[r[1]]!==void 0){var a;switch(r[2]){case"string":a=tn(String(e[r[1]]));break;case"bool":a=e[r[1]]?"true":"false";break}a!==void 0&&(t[t.length]=n(r[0],a))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+tn(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function U7(e){var t=[Jn,Ke("Properties",null,{xmlns:br.CUST_PROPS,"xmlns:vt":br.vt})];if(!e)return t.join("");var n=1;return zr(e).forEach(function(a){++n,t[t.length]=Ke("property",cxe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:tn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var AI={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Gxe(e,t){var n=[];return zr(AI).map(function(r){for(var a=0;a<zl.length;++a)if(zl[a][1]==r)return zl[a];for(a=0;a<If.length;++a)if(If[a][1]==r)return If[a];throw r}).forEach(function(r){if(e[r[1]]!=null){var a=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),n.push(Lr(AI[r[1]]||r[1],a))}}),Ke("DocumentProperties",n.join(""),{xmlns:Ka.o})}function Kxe(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return e&&zr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<zl.length;++o)if(i==zl[o][1])return;for(o=0;o<If.length;++o)if(i==If[o][1])return;for(o=0;o<n.length;++o)if(i==n[o])return;var s=e[i],u="string";typeof s=="number"?(u="float",s=String(s)):s===!0||s===!1?(u="boolean",s=s?"1":"0"):s=String(s),a.push(Ke(dI(i),s,{"dt:dt":u}))}}),t&&zr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],s="string";typeof o=="number"?(s="float",o=String(o)):o===!0||o===!1?(s="boolean",o=o?"1":"0"):o instanceof Date?(s="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Ke(dI(i),o,{"dt:dt":s}))}}),"<"+r+' xmlns="'+Ka.o+'">'+a.join("")+"</"+r+">"}function Xxe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),a=(n-r)/Math.pow(2,32);r*=1e7,a*=1e7;var i=r/Math.pow(2,32)|0;i>0&&(r=r%Math.pow(2,32),a+=i);var o=ke(8);return o.write_shift(4,r),o.write_shift(4,a),o}function CI(e,t){var n=ke(4),r=ke(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=ke(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=Xxe(t);break;case 31:case 80:for(r=ke(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Br([n,r])}var z7=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Yxe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function OI(e,t,n){var r=ke(8),a=[],i=[],o=8,s=0,u=ke(8),l=ke(8);if(u.write_shift(4,2),u.write_shift(4,1200),l.write_shift(4,1),i.push(u),a.push(l),o+=8+u.length,!t){l=ke(8),l.write_shift(4,0),a.unshift(l);var f=[ke(4)];for(f[0].write_shift(4,e.length),s=0;s<e.length;++s){var d=e[s][0];for(u=ke(8+2*(d.length+1)+(d.length%2?0:2)),u.write_shift(4,s+2),u.write_shift(4,d.length+1),u.write_shift(0,d,"dbcs");u.l!=u.length;)u.write_shift(1,0);f.push(u)}u=Br(f),i.unshift(u),o+=8+u.length}for(s=0;s<e.length;++s)if(!(t&&!t[e[s][0]])&&!(z7.indexOf(e[s][0])>-1||L7.indexOf(e[s][0])>-1)&&e[s][1]!=null){var p=e[s][1],m=0;if(t){m=+t[e[s][0]];var g=n[m];if(g.p=="version"&&typeof p=="string"){var x=p.split(".");p=(+x[0]<<16)+(+x[1]||0)}u=CI(g.t,p)}else{var b=Yxe(p);b==-1&&(b=31,p=String(p)),u=CI(b,p)}i.push(u),l=ke(8),l.write_shift(4,t?m:2+s),a.push(l),o+=8+u.length}var w=8*(i.length+1);for(s=0;s<i.length;++s)a[s].write_shift(4,w),w+=i[s].length;return r.write_shift(4,o),r.write_shift(4,i.length),Br([r].concat(a).concat(i))}function RI(e,t,n,r,a,i){var o=ke(a?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,cn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var u=OI(e,n,r);if(s.push(u),a){var l=OI(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+u.length),s.push(l)}return Br(s)}function Qxe(e,t){t||(t=ke(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function Zxe(e,t){return e.read_shift(t)===1}function ia(e,t){return t||(t=ke(2)),t.write_shift(2,+!!e),t}function W7(e){return e.read_shift(2,"u")}function Ti(e,t){return t||(t=ke(2)),t.write_shift(2,e),t}function H7(e,t,n){return n||(n=ke(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function $7(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else n.biff==12&&(a="wstr");n.biff>=2&&n.biff<=5&&(a="cpstr");var o=r?e.read_shift(r,a):"";return o}function Jxe(e){var t=e.t||"",n=ke(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=ke(2*t.length);r.write_shift(2*t.length,t,"utf16le");var a=[n,r];return Br(a)}function ebe(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function tbe(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):ebe(e,r,n)}function nbe(e,t,n){if(n.biff>5)return tbe(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function V7(e,t,n){return n||(n=ke(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function DI(e,t){t||(t=ke(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function rbe(e){var t=ke(512),n=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var a=r.indexOf("#"),i=a>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(i==28)r=r.slice(1),DI(r,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var s=a>-1?r.slice(0,a):r;for(t.write_shift(4,2*(s.length+1)),n=0;n<s.length;++n)t.write_shift(2,s.charCodeAt(n));t.write_shift(2,0),i&8&&DI(a>-1?r.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var u=0;r.slice(u*3,u*3+3)=="../"||r.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,r.length-3*u+1),n=0;n<r.length-3*u;++n)t.write_shift(1,r.charCodeAt(n+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function Jl(e,t,n,r){return r||(r=ke(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function abe(e,t,n){var r=n.biff>8?4:2,a=e.read_shift(r),i=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[a,i,o]}function ibe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{s:{c:r,r:t},e:{c:a,r:n}}}function q7(e,t){return t||(t=ke(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function vC(e,t,n){var r=1536,a=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ke(a);return i.write_shift(2,r),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function obe(e,t){var n=!t||t.biff==8,r=ke(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function sbe(e,t){var n=!t||t.biff>=8?2:1,r=ke(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function ube(e,t){var n=ke(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],a=0;a<e.length;++a)r[a]=Jxe(e[a]);var i=Br([n].concat(r));return i.parts=[n.length].concat(r.map(function(o){return o.length})),i}function lbe(){var e=ke(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function cbe(e){var t=ke(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function fbe(e,t){var n=e.name||"Arial",r=t&&t.biff==5,a=r?15+n.length:16+2*n.length,i=ke(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}function hbe(e,t,n,r){var a=ke(10);return Jl(e,t,r,a),a.write_shift(4,n),a}function dbe(e,t,n,r,a){var i=!a||a.biff==8,o=ke(8+ +i+(1+i)*n.length);return Jl(e,t,r,o),o.write_shift(2,n.length),i&&o.write_shift(1,1),o.write_shift((1+i)*n.length,n,i?"utf16le":"sbcs"),o}function pbe(e,t,n,r){var a=n&&n.biff==5;r||(r=ke(a?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(a?1:2,t.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return i.l==null&&(i.l=i.length),i}function vbe(e,t){var n=t.biff==8||!t.biff?4:2,r=ke(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function NI(e,t,n,r){var a=n&&n.biff==5;r||(r=ke(a?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function mbe(e){var t=ke(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function gbe(e,t,n,r,a,i){var o=ke(8);return Jl(e,t,r,o),H7(n,i,o),o}function ybe(e,t,n,r){var a=ke(14);return Jl(e,t,r,a),Zl(n,a),a}function xbe(e,t,n){if(n.biff<8)return bbe(e,t,n);for(var r=[],a=e.l+t,i=e.read_shift(n.biff>8?4:2);i--!==0;)r.push(abe(e,n.biff>8?12:6,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function bbe(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=$7(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function wbe(e){var t=ke(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)q7(e[n],t);return t}function _be(e){var t=ke(24),n=wr(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(r[a],16));return Br([t,rbe(e[1])])}function Ebe(e){var t=e[1].Tooltip,n=ke(10+2*(t.length+1));n.write_shift(2,2048);var r=wr(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var a=0;a<t.length;++a)n.write_shift(2,t.charCodeAt(a));return n.write_shift(2,0),n}function Sbe(e){return e||(e=ke(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Tbe(e,t,n){if(!n.cellStyles)return Uo(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),s=e.read_shift(r),u=e.read_shift(2);r==2&&(e.l+=2);var l={s:a,e:i,w:o,ixfe:s,flags:u};return(n.biff>=5||!n.biff)&&(l.level=u>>8&7),l}function Abe(e,t){var n=ke(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function Cbe(e){for(var t=ke(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}function Obe(e,t,n){var r=ke(15);return h0(r,e,t),r.write_shift(8,n,"f"),r}function Rbe(e,t,n){var r=ke(9);return h0(r,e,t),r.write_shift(2,n),r}var Dbe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=aC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(s,u){var l=[],f=Ql(1);switch(u.type){case"base64":f=Ji(Rs(s));break;case"binary":f=Ji(s);break;case"buffer":case"array":f=s;break}Va(f,0);var d=f.read_shift(1),p=!!(d&136),m=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var x=0,b=521;d==2&&(x=f.read_shift(2)),f.l+=3,d!=2&&(x=f.read_shift(4)),x>1048576&&(x=1e6),d!=2&&(b=f.read_shift(2));var w=f.read_shift(2),E=u.codepage||1252;d!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(E=e[f[f.l]]),f.l+=1,f.l+=2),g&&(f.l+=36);for(var S=[],A={},T=Math.min(f.length,d==2?521:b-10-(m?264:0)),R=g?32:11;f.l<T&&f[f.l]!=13;)switch(A={},A.name=Pg.utils.decode(E,f.slice(f.l,f.l+R)).replace(/[\u0000\r\n].*$/g,""),f.l+=R,A.type=String.fromCharCode(f.read_shift(1)),d!=2&&!g&&(A.offset=f.read_shift(4)),A.len=f.read_shift(1),d==2&&(A.offset=f.read_shift(2)),A.dec=f.read_shift(1),A.name.length&&S.push(A),d!=2&&(f.l+=g?13:14),A.type){case"B":(!m||A.len!=8)&&u.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(f[f.l]!==13&&(f.l=b-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=b;var D=0,P=0;for(l[0]=[],P=0;P!=S.length;++P)l[0][P]=S[P].name;for(;x-- >0;){if(f[f.l]===42){f.l+=w;continue}for(++f.l,l[++D]=[],P=0,P=0;P!=S.length;++P){var k=f.slice(f.l,f.l+S[P].len);f.l+=S[P].len,Va(k,0);var I=Pg.utils.decode(E,k);switch(S[P].type){case"C":I.trim().length&&(l[D][P]=I.replace(/\s+$/,""));break;case"D":I.length===8?l[D][P]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):l[D][P]=I;break;case"F":l[D][P]=parseFloat(I.trim());break;case"+":case"I":l[D][P]=g?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":l[D][P]=!0;break;case"N":case"F":l[D][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));l[D][P]="##MEMO##"+(g?parseInt(I.trim(),10):k.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(l[D][P]=+I||0);break;case"@":l[D][P]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":l[D][P]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":l[D][P]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[D][P]=-k.read_shift(-8,"f");break;case"B":if(m&&S[P].len==8){l[D][P]=k.read_shift(8,"f");break}case"G":case"P":k.l+=S[P].len;break;case"0":if(S[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[P].type)}}}if(d!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return u&&u.sheetRows&&(l=l.slice(0,u.sheetRows)),u.DBF=S,l}function r(s,u){var l=u||{};l.dateNF||(l.dateNF="yyyymmdd");var f=xh(n(s,l),l);return f["!cols"]=l.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete l.DBF,f}function a(s,u){try{return gc(r(s,u),u)}catch(l){if(u&&u.WTF)throw l}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,u){var l=u||{};if(+l.codepage>=0&&Sp(+l.codepage),l.type=="string")throw new Error("Cannot write DBF to JS string");var f=Sa(),d=qg(s,{header:1,raw:!0,cellDates:!0}),p=d[0],m=d.slice(1),g=s["!cols"]||[],x=0,b=0,w=0,E=1;for(x=0;x<p.length;++x){if(((g[x]||{}).DBF||{}).name){p[x]=g[x].DBF.name,++w;continue}if(p[x]!=null){if(++w,typeof p[x]=="number"&&(p[x]=p[x].toString(10)),typeof p[x]!="string")throw new Error("DBF Invalid column name "+p[x]+" |"+typeof p[x]+"|");if(p.indexOf(p[x])!==x){for(b=0;b<1024;++b)if(p.indexOf(p[x]+"_"+b)==-1){p[x]+="_"+b;break}}}}var S=_n(s["!ref"]),A=[],T=[],R=[];for(x=0;x<=S.e.c-S.s.c;++x){var D="",P="",k=0,I=[];for(b=0;b<m.length;++b)m[b][x]!=null&&I.push(m[b][x]);if(I.length==0||p[x]==null){A[x]="?";continue}for(b=0;b<I.length;++b){switch(typeof I[b]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=I[b]instanceof Date?"D":"C";break;default:P="C"}k=Math.max(k,String(I[b]).length),D=D&&D!=P?"C":P}k>250&&(k=250),P=((g[x]||{}).DBF||{}).type,P=="C"&&g[x].DBF.len>k&&(k=g[x].DBF.len),D=="B"&&P=="N"&&(D="N",R[x]=g[x].DBF.dec,k=g[x].DBF.len),T[x]=D=="C"||P=="N"?k:i[D]||0,E+=T[x],A[x]=D}var F=f.next(32);for(F.write_shift(4,318902576),F.write_shift(4,m.length),F.write_shift(2,296+32*w),F.write_shift(2,E),x=0;x<4;++x)F.write_shift(4,0);for(F.write_shift(4,0|(+t[KU]||3)<<8),x=0,b=0;x<p.length;++x)if(p[x]!=null){var B=f.next(32),te=(p[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,te,"sbcs"),B.write_shift(1,A[x]=="?"?"C":A[x],"sbcs"),B.write_shift(4,b),B.write_shift(1,T[x]||i[A[x]]||0),B.write_shift(1,R[x]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),b+=T[x]||i[A[x]]||0}var ae=f.next(264);for(ae.write_shift(4,13),x=0;x<65;++x)ae.write_shift(4,0);for(x=0;x<m.length;++x){var V=f.next(E);for(V.write_shift(1,0),b=0;b<p.length;++b)if(p[b]!=null)switch(A[b]){case"L":V.write_shift(1,m[x][b]==null?63:m[x][b]?84:70);break;case"B":V.write_shift(8,m[x][b]||0,"f");break;case"N":var H="0";for(typeof m[x][b]=="number"&&(H=m[x][b].toFixed(R[b]||0)),w=0;w<T[b]-H.length;++w)V.write_shift(1,32);V.write_shift(1,H,"sbcs");break;case"D":m[x][b]?(V.write_shift(4,("0000"+m[x][b].getFullYear()).slice(-4),"sbcs"),V.write_shift(2,("00"+(m[x][b].getMonth()+1)).slice(-2),"sbcs"),V.write_shift(2,("00"+m[x][b].getDate()).slice(-2),"sbcs")):V.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(m[x][b]!=null?m[x][b]:"").slice(0,T[b]);for(V.write_shift(1,Z,"sbcs"),w=0;w<T[b]-Z.length;++w)V.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:a,to_sheet:r,from_sheet:o}}(),Nbe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+zr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,m){var g=e[m];return typeof g=="number"?tI(g):g},r=function(p,m,g){var x=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return x==59?p:tI(x)};e["|"]=254;function a(p,m){switch(m.type){case"base64":return i(Rs(p),m);case"binary":return i(p,m);case"buffer":return i(Vt&&Buffer.isBuffer(p)?p.toString("binary"):s0(p),m);case"array":return i(t1(p),m)}throw new Error("Unrecognized type "+m.type)}function i(p,m){var g=p.split(/[\n\r]+/),x=-1,b=-1,w=0,E=0,S=[],A=[],T=null,R={},D=[],P=[],k=[],I=0,F;for(+m.codepage>=0&&Sp(+m.codepage);w!==g.length;++w){I=0;var B=g[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),te=B.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),ae=te[0],V;if(B.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":te[1].charAt(0)=="P"&&A.push(B.slice(3).replace(/;;/g,";"));break;case"C":var H=!1,Z=!1,ie=!1,he=!1,z=-1,se=-1;for(E=1;E<te.length;++E)switch(te[E].charAt(0)){case"A":break;case"X":b=parseInt(te[E].slice(1))-1,Z=!0;break;case"Y":for(x=parseInt(te[E].slice(1))-1,Z||(b=0),F=S.length;F<=x;++F)S[F]=[];break;case"K":V=te[E].slice(1),V.charAt(0)==='"'?V=V.slice(1,V.length-1):V==="TRUE"?V=!0:V==="FALSE"?V=!1:isNaN(_s(V))?isNaN(Ap(V).getDate())||(V=ua(V)):(V=_s(V),T!==null&&o7(T)&&(V=c7(V))),H=!0;break;case"E":he=!0;var L=Rwe(te[E].slice(1),{r:x,c:b});S[x][b]=[S[x][b],L];break;case"S":ie=!0,S[x][b]=[S[x][b],"S5S"];break;case"G":break;case"R":z=parseInt(te[E].slice(1))-1;break;case"C":se=parseInt(te[E].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+B)}if(H&&(S[x][b]&&S[x][b].length==2?S[x][b][0]=V:S[x][b]=V,T=null),ie){if(he)throw new Error("SYLK shared formula cannot have own formula");var G=z>-1&&S[z][se];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");S[x][b][1]=Dwe(G[1],{r:x-z,c:b-se})}break;case"F":var X=0;for(E=1;E<te.length;++E)switch(te[E].charAt(0)){case"X":b=parseInt(te[E].slice(1))-1,++X;break;case"Y":for(x=parseInt(te[E].slice(1))-1,F=S.length;F<=x;++F)S[F]=[];break;case"M":I=parseInt(te[E].slice(1))/20;break;case"F":break;case"G":break;case"P":T=A[parseInt(te[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=te[E].slice(1).split(" "),F=parseInt(k[0],10);F<=parseInt(k[1],10);++F)I=parseInt(k[2],10),P[F-1]=I===0?{hidden:!0}:{wch:I},mC(P[F-1]);break;case"C":b=parseInt(te[E].slice(1))-1,P[b]||(P[b]={});break;case"R":x=parseInt(te[E].slice(1))-1,D[x]||(D[x]={}),I>0?(D[x].hpt=I,D[x].hpx=Q7(I)):I===0&&(D[x].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+B)}X<1&&(T=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+B)}}return D.length>0&&(R["!rows"]=D),P.length>0&&(R["!cols"]=P),m&&m.sheetRows&&(S=S.slice(0,m.sheetRows)),[S,R]}function o(p,m){var g=a(p,m),x=g[0],b=g[1],w=xh(x,m);return zr(b).forEach(function(E){w[E]=b[E]}),w}function s(p,m){return gc(o(p,m),m)}function u(p,m,g,x){var b="C;Y"+(g+1)+";X"+(x+1)+";K";switch(p.t){case"n":b+=p.v||0,p.f&&!p.F&&(b+=";E"+yC(p.f,{r:g,c:x}));break;case"b":b+=p.v?"TRUE":"FALSE";break;case"e":b+=p.w||p.v;break;case"d":b+='"'+(p.w||p.v)+'"';break;case"s":b+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function l(p,m){m.forEach(function(g,x){var b="F;W"+(x+1)+" "+(x+1)+" ";g.hidden?b+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Wg(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Hg(g.wpx)),typeof g.wch=="number"&&(b+=Math.round(g.wch))),b.charAt(b.length-1)!=" "&&p.push(b)})}function f(p,m){m.forEach(function(g,x){var b="F;";g.hidden?b+="M0;":g.hpt?b+="M"+20*g.hpt+";":g.hpx&&(b+="M"+20*$g(g.hpx)+";"),b.length>2&&p.push(b+"R"+(x+1))})}function d(p,m){var g=["ID;PWXL;N;E"],x=[],b=_n(p["!ref"]),w,E=Array.isArray(p),S=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),p["!cols"]&&l(g,p["!cols"]),p["!rows"]&&f(g,p["!rows"]),g.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var A=b.s.r;A<=b.e.r;++A)for(var T=b.s.c;T<=b.e.c;++T){var R=nn({r:A,c:T});w=E?(p[A]||[])[T]:p[R],!(!w||w.v==null&&(!w.f||w.F))&&x.push(u(w,p,A,T))}return g.join(S)+S+x.join(S)+S+"E"+S}return{to_workbook:s,to_sheet:o,from_sheet:d}}(),kbe=function(){function e(i,o){switch(o.type){case"base64":return t(Rs(i),o);case"binary":return t(i,o);case"buffer":return t(Vt&&Buffer.isBuffer(i)?i.toString("binary"):s0(i),o);case"array":return t(t1(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var s=i.split(`
`),u=-1,l=-1,f=0,d=[];f!==s.length;++f){if(s[f].trim()==="BOT"){d[++u]=[],l=0;continue}if(!(u<0)){var p=s[f].trim().split(","),m=p[0],g=p[1];++f;for(var x=s[f]||"";(x.match(/["]/g)||[]).length&1&&f<s.length-1;)x+=`
`+s[++f];switch(x=x.trim(),+m){case-1:if(x==="BOT"){d[++u]=[],l=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?d[u][l]=!0:x==="FALSE"?d[u][l]=!1:isNaN(_s(g))?isNaN(Ap(g).getDate())?d[u][l]=g:d[u][l]=ua(g):d[u][l]=_s(g),++l;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),d[u][l++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(d=d.slice(0,o.sheetRows)),d}function n(i,o){return xh(e(i,o),o)}function r(i,o){return gc(n(i,o),o)}var a=function(){var i=function(u,l,f,d,p){u.push(l),u.push(f+","+d),u.push('"'+p.replace(/"/g,'""')+'"')},o=function(u,l,f,d){u.push(l+","+f),u.push(l==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(u){var l=[],f=_n(u["!ref"]),d,p=Array.isArray(u);i(l,"TABLE",0,1,"sheetjs"),i(l,"VECTORS",0,f.e.r-f.s.r+1,""),i(l,"TUPLES",0,f.e.c-f.s.c+1,""),i(l,"DATA",0,0,"");for(var m=f.s.r;m<=f.e.r;++m){o(l,-1,0,"BOT");for(var g=f.s.c;g<=f.e.c;++g){var x=nn({r:m,c:g});if(d=p?(u[m]||[])[g]:u[x],!d){o(l,1,0,"");continue}switch(d.t){case"n":var b=d.w;!b&&d.v!=null&&(b=d.v),b==null?d.f&&!d.F?o(l,1,0,"="+d.f):o(l,1,0,""):o(l,0,b,"V");break;case"b":o(l,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":o(l,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Lu(d.z||Bn[14],Ra(ua(d.v)))),o(l,0,d.w,"V");break;default:o(l,1,0,"")}}}o(l,-1,0,"EOD");var w=`\r
`,E=l.join(w);return E}}();return{to_workbook:r,to_sheet:n,from_sheet:a}}(),G7=function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(d,p){for(var m=d.split(`
`),g=-1,x=-1,b=0,w=[];b!==m.length;++b){var E=m[b].trim().split(":");if(E[0]==="cell"){var S=wr(E[1]);if(w.length<=S.r)for(g=w.length;g<=S.r;++g)w[g]||(w[g]=[]);switch(g=S.r,x=S.c,E[2]){case"t":w[g][x]=e(E[3]);break;case"v":w[g][x]=+E[3];break;case"vtf":var A=E[E.length-1];case"vtc":switch(E[3]){case"nl":w[g][x]=!!+E[4];break;default:w[g][x]=+E[4];break}E[2]=="vtf"&&(w[g][x]=[w[g][x],A])}}}return p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),w}function r(d,p){return xh(n(d,p),p)}function a(d,p){return gc(r(d,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function l(d){if(!d||!d["!ref"])return"";for(var p=[],m=[],g,x="",b=si(d["!ref"]),w=Array.isArray(d),E=b.s.r;E<=b.e.r;++E)for(var S=b.s.c;S<=b.e.c;++S)if(x=nn({r:E,c:S}),g=w?(d[E]||[])[S]:d[x],!(!g||g.v==null||g.t==="z")){switch(m=["cell",x,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var A=Ra(ua(g.v));m[2]="vtc",m[3]="nd",m[4]=""+A,m[5]=g.w||Lu(g.z||Bn[14],A);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function f(d){return[i,o,s,o,l(d),u].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:f}}(),Pbe=function(){function e(f,d,p,m,g){g.raw?d[p][m]=f:f===""||(f==="TRUE"?d[p][m]=!0:f==="FALSE"?d[p][m]=!1:isNaN(_s(f))?isNaN(Ap(f).getDate())?d[p][m]=f:d[p][m]=ua(f):d[p][m]=_s(f))}function t(f,d){var p=d||{},m=[];if(!f||f.length===0)return m;for(var g=f.split(/[\r\n]/),x=g.length-1;x>=0&&g[x].length===0;)--x;for(var b=10,w=0,E=0;E<=x;++E)w=g[E].indexOf(" "),w==-1?w=g[E].length:w++,b=Math.max(b,w);for(E=0;E<=x;++E){m[E]=[];var S=0;for(e(g[E].slice(0,b).trim(),m,E,S,p),S=1;S<=(g[E].length-b)/10+1;++S)e(g[E].slice(b+(S-1)*10,b+S*10).trim(),m,E,S,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(f){for(var d={},p=!1,m=0,g=0;m<f.length;++m)(g=f.charCodeAt(m))==34?p=!p:!p&&g in n&&(d[g]=(d[g]||0)+1);g=[];for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&g.push([d[m],m]);if(!g.length){d=r;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&g.push([d[m],m])}return g.sort(function(x,b){return x[0]-b[0]||r[x[1]]-r[b[1]]}),n[g.pop()[1]]||44}function i(f,d){var p=d||{},m="",g=p.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(m=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(m=f.charAt(4),f=f.slice(6)):m=a(f.slice(0,1024)):p&&p.FS?m=p.FS:m=a(f.slice(0,1024));var b=0,w=0,E=0,S=0,A=0,T=m.charCodeAt(0),R=!1,D=0,P=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var k=p.dateNF!=null?X1e(p.dateNF):null;function I(){var F=f.slice(S,A),B={};if(F.charAt(0)=='"'&&F.charAt(F.length-1)=='"'&&(F=F.slice(1,-1).replace(/""/g,'"')),F.length===0)B.t="z";else if(p.raw)B.t="s",B.v=F;else if(F.trim().length===0)B.t="s",B.v=F;else if(F.charCodeAt(0)==61)F.charCodeAt(1)==34&&F.charCodeAt(F.length-1)==34?(B.t="s",B.v=F.slice(2,-1).replace(/""/g,'"')):Nwe(F)?(B.t="n",B.f=F.slice(1)):(B.t="s",B.v=F);else if(F=="TRUE")B.t="b",B.v=!0;else if(F=="FALSE")B.t="b",B.v=!1;else if(!isNaN(E=_s(F)))B.t="n",p.cellText!==!1&&(B.w=F),B.v=E;else if(!isNaN(Ap(F).getDate())||k&&F.match(k)){B.z=p.dateNF||Bn[14];var te=0;k&&F.match(k)&&(F=Y1e(F,p.dateNF,F.match(k)||[]),te=1),p.cellDates?(B.t="d",B.v=ua(F,te)):(B.t="n",B.v=Ra(ua(F,te))),p.cellText!==!1&&(B.w=Lu(B.z,B.v instanceof Date?Ra(B.v):B.v)),p.cellNF||delete B.z}else B.t="s",B.v=F;if(B.t=="z"||(p.dense?(g[b]||(g[b]=[]),g[b][w]=B):g[nn({c:w,r:b})]=B),S=A+1,P=f.charCodeAt(S),x.e.c<w&&(x.e.c=w),x.e.r<b&&(x.e.r=b),D==T)++w;else if(w=0,++b,p.sheetRows&&p.sheetRows<=b)return!0}e:for(;A<f.length;++A)switch(D=f.charCodeAt(A)){case 34:P===34&&(R=!R);break;case T:case 10:case 13:if(!R&&I())break e;break}return A-S>0&&I(),g["!ref"]=Zn(x),g}function o(f,d){return!(d&&d.PRN)||d.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,d):xh(t(f,d),d)}function s(f,d){var p="",m=d.type=="string"?[0,0,0,0]:VSe(f,d);switch(d.type){case"base64":p=Rs(f);break;case"binary":p=f;break;case"buffer":d.codepage==65001?p=f.toString("utf8"):d.codepage&&typeof Pg<"u"||(p=Vt&&Buffer.isBuffer(f)?f.toString("binary"):s0(f));break;case"array":p=t1(f);break;case"string":p=f;break;default:throw new Error("Unrecognized type "+d.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=Yd(p.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?p=Yd(p):d.type=="binary"&&typeof Pg<"u",p.slice(0,19)=="socialcalc:version:"?G7.to_sheet(d.type=="string"?p:Yd(p),d):o(p,d)}function u(f,d){return gc(s(f,d),d)}function l(f){for(var d=[],p=_n(f["!ref"]),m,g=Array.isArray(f),x=p.s.r;x<=p.e.r;++x){for(var b=[],w=p.s.c;w<=p.e.c;++w){var E=nn({r:x,c:w});if(m=g?(f[x]||[])[w]:f[E],!m||m.v==null){b.push("          ");continue}for(var S=(m.w||(Ds(m),m.w)||"").slice(0,10);S.length<10;)S+=" ";b.push(S+(w===0?" ":""))}d.push(b.join(""))}return d.join(`
`)}return{to_workbook:u,to_sheet:s,from_sheet:l}}(),kI=function(){function e(L,G,X){if(L){Va(L,L.l||0);for(var Y=X.Enum||z;L.l<L.length;){var ce=L.read_shift(2),Pe=Y[ce]||Y[65535],le=L.read_shift(2),oe=L.l+le,ye=Pe.f&&Pe.f(L,le,X);if(L.l=oe,G(ye,Pe,ce))return}}}function t(L,G){switch(G.type){case"base64":return n(Ji(Rs(L)),G);case"binary":return n(Ji(L),G);case"buffer":case"array":return n(L,G)}throw"Unsupported type "+G.type}function n(L,G){if(!L)return L;var X=G||{},Y=X.dense?[]:{},ce="Sheet1",Pe="",le=0,oe={},ye=[],Oe=[],ve={s:{r:0,c:0},e:{r:0,c:0}},Ye=X.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)X.Enum=z,e(L,function(He,Ft,jt){switch(jt){case 0:X.vers=He,He>=4096&&(X.qpro=!0);break;case 6:ve=He;break;case 204:He&&(Pe=He);break;case 222:Pe=He;break;case 15:case 51:X.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:jt==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=X.dateNF||Bn[14],X.cellDates&&(He[1].t="d",He[1].v=c7(He[1].v))),X.qpro&&He[3]>le&&(Y["!ref"]=Zn(ve),oe[ce]=Y,ye.push(ce),Y=X.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},le=He[3],ce=Pe||"Sheet"+(le+1),Pe="");var ze=X.dense?(Y[He[0].r]||[])[He[0].c]:Y[nn(He[0])];if(ze){ze.t=He[1].t,ze.v=He[1].v,He[1].z!=null&&(ze.z=He[1].z),He[1].f!=null&&(ze.f=He[1].f);break}X.dense?(Y[He[0].r]||(Y[He[0].r]=[]),Y[He[0].r][He[0].c]=He[1]):Y[nn(He[0])]=He[1];break}},X);else if(L[2]==26||L[2]==14)X.Enum=se,L[2]==14&&(X.qpro=!0,L.l=0),e(L,function(He,Ft,jt){switch(jt){case 204:ce=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>le&&(Y["!ref"]=Zn(ve),oe[ce]=Y,ye.push(ce),Y=X.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},le=He[3],ce="Sheet"+(le+1)),Ye>0&&He[0].r>=Ye)break;X.dense?(Y[He[0].r]||(Y[He[0].r]=[]),Y[He[0].r][He[0].c]=He[1]):Y[nn(He[0])]=He[1],ve.e.c<He[0].c&&(ve.e.c=He[0].c),ve.e.r<He[0].r&&(ve.e.r=He[0].r);break;case 27:He[14e3]&&(Oe[He[14e3][0]]=He[14e3][1]);break;case 1537:Oe[He[0]]=He[1],He[0]==le&&(ce=He[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(Y["!ref"]=Zn(ve),oe[Pe||ce]=Y,ye.push(Pe||ce),!Oe.length)return{SheetNames:ye,Sheets:oe};for(var $e={},nt=[],et=0;et<Oe.length;++et)oe[ye[et]]?(nt.push(Oe[et]||ye[et]),$e[Oe[et]]=oe[Oe[et]]||oe[ye[et]]):(nt.push(Oe[et]),$e[Oe[et]]={"!ref":"A1"});return{SheetNames:nt,Sheets:$e}}function r(L,G){var X=G||{};if(+X.codepage>=0&&Sp(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=Sa(),ce=_n(L["!ref"]),Pe=Array.isArray(L),le=[];Xe(Y,0,i(1030)),Xe(Y,6,u(ce));for(var oe=Math.min(ce.e.r,8191),ye=ce.s.r;ye<=oe;++ye)for(var Oe=Ur(ye),ve=ce.s.c;ve<=ce.e.c;++ve){ye===ce.s.r&&(le[ve]=ea(ve));var Ye=le[ve]+Oe,$e=Pe?(L[ye]||[])[ve]:L[Ye];if(!(!$e||$e.t=="z"))if($e.t=="n")($e.v|0)==$e.v&&$e.v>=-32768&&$e.v<=32767?Xe(Y,13,m(ye,ve,$e.v)):Xe(Y,14,x(ye,ve,$e.v));else{var nt=Ds($e);Xe(Y,15,d(ye,ve,nt.slice(0,239)))}}return Xe(Y,1),Y.end()}function a(L,G){var X=G||{};if(+X.codepage>=0&&Sp(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=Sa();Xe(Y,0,o(L));for(var ce=0,Pe=0;ce<L.SheetNames.length;++ce)(L.Sheets[L.SheetNames[ce]]||{})["!ref"]&&Xe(Y,27,he(L.SheetNames[ce],Pe++));var le=0;for(ce=0;ce<L.SheetNames.length;++ce){var oe=L.Sheets[L.SheetNames[ce]];if(!(!oe||!oe["!ref"])){for(var ye=_n(oe["!ref"]),Oe=Array.isArray(oe),ve=[],Ye=Math.min(ye.e.r,8191),$e=ye.s.r;$e<=Ye;++$e)for(var nt=Ur($e),et=ye.s.c;et<=ye.e.c;++et){$e===ye.s.r&&(ve[et]=ea(et));var He=ve[et]+nt,Ft=Oe?(oe[$e]||[])[et]:oe[He];if(!(!Ft||Ft.t=="z"))if(Ft.t=="n")Xe(Y,23,I($e,et,le,Ft.v));else{var jt=Ds(Ft);Xe(Y,22,D($e,et,le,jt.slice(0,239)))}}++le}}return Xe(Y,1),Y.end()}function i(L){var G=ke(2);return G.write_shift(2,L),G}function o(L){var G=ke(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var X=0,Y=0,ce=0,Pe=0;Pe<L.SheetNames.length;++Pe){var le=L.SheetNames[Pe],oe=L.Sheets[le];if(!(!oe||!oe["!ref"])){++ce;var ye=si(oe["!ref"]);X<ye.e.r&&(X=ye.e.r),Y<ye.e.c&&(Y=ye.e.c)}}return X>8191&&(X=8191),G.write_shift(2,X),G.write_shift(1,ce),G.write_shift(1,Y),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function s(L,G,X){var Y={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&X.qpro?(Y.s.c=L.read_shift(1),L.l++,Y.s.r=L.read_shift(2),Y.e.c=L.read_shift(1),L.l++,Y.e.r=L.read_shift(2),Y):(Y.s.c=L.read_shift(2),Y.s.r=L.read_shift(2),G==12&&X.qpro&&(L.l+=2),Y.e.c=L.read_shift(2),Y.e.r=L.read_shift(2),G==12&&X.qpro&&(L.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function u(L){var G=ke(8);return G.write_shift(2,L.s.c),G.write_shift(2,L.s.r),G.write_shift(2,L.e.c),G.write_shift(2,L.e.r),G}function l(L,G,X){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(Y[0].c=L.read_shift(1),Y[3]=L.read_shift(1),Y[0].r=L.read_shift(2),L.l+=2):(Y[2]=L.read_shift(1),Y[0].c=L.read_shift(2),Y[0].r=L.read_shift(2)),Y}function f(L,G,X){var Y=L.l+G,ce=l(L,G,X);if(ce[1].t="s",X.vers==20768){L.l++;var Pe=L.read_shift(1);return ce[1].v=L.read_shift(Pe,"utf8"),ce}return X.qpro&&L.l++,ce[1].v=L.read_shift(Y-L.l,"cstr"),ce}function d(L,G,X){var Y=ke(7+X.length);Y.write_shift(1,255),Y.write_shift(2,G),Y.write_shift(2,L),Y.write_shift(1,39);for(var ce=0;ce<Y.length;++ce){var Pe=X.charCodeAt(ce);Y.write_shift(1,Pe>=128?95:Pe)}return Y.write_shift(1,0),Y}function p(L,G,X){var Y=l(L,G,X);return Y[1].v=L.read_shift(2,"i"),Y}function m(L,G,X){var Y=ke(7);return Y.write_shift(1,255),Y.write_shift(2,G),Y.write_shift(2,L),Y.write_shift(2,X,"i"),Y}function g(L,G,X){var Y=l(L,G,X);return Y[1].v=L.read_shift(8,"f"),Y}function x(L,G,X){var Y=ke(13);return Y.write_shift(1,255),Y.write_shift(2,G),Y.write_shift(2,L),Y.write_shift(8,X,"f"),Y}function b(L,G,X){var Y=L.l+G,ce=l(L,G,X);if(ce[1].v=L.read_shift(8,"f"),X.qpro)L.l=Y;else{var Pe=L.read_shift(2);A(L.slice(L.l,L.l+Pe),ce),L.l+=Pe}return ce}function w(L,G,X){var Y=G&32768;return G&=-32769,G=(Y?L:0)+(G>=8192?G-16384:G),(Y?"":"$")+(X?ea(G):Ur(G))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(L,G){Va(L,0);for(var X=[],Y=0,ce="",Pe="",le="",oe="";L.l<L.length;){var ye=L[L.l++];switch(ye){case 0:X.push(L.read_shift(8,"f"));break;case 1:Pe=w(G[0].c,L.read_shift(2),!0),ce=w(G[0].r,L.read_shift(2),!1),X.push(Pe+ce);break;case 2:{var Oe=w(G[0].c,L.read_shift(2),!0),ve=w(G[0].r,L.read_shift(2),!1);Pe=w(G[0].c,L.read_shift(2),!0),ce=w(G[0].r,L.read_shift(2),!1),X.push(Oe+ve+":"+Pe+ce)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(L.read_shift(2));break;case 6:{for(var Ye="";ye=L[L.l++];)Ye+=String.fromCharCode(ye);X.push('"'+Ye.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:oe=X.pop(),le=X.pop(),X.push(["AND","OR"][ye-20]+"("+le+","+oe+")");break;default:if(ye<32&&S[ye])oe=X.pop(),le=X.pop(),X.push(le+S[ye]+oe);else if(E[ye]){if(Y=E[ye][1],Y==69&&(Y=L[L.l++]),Y>X.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+X.join("|")+"|");return}var $e=X.slice(-Y);X.length-=Y,X.push(E[ye][0]+"("+$e.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}X.length==1?G[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function T(L){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=L.read_shift(2),G[3]=L[L.l++],G[0].c=L[L.l++],G}function R(L,G){var X=T(L);return X[1].t="s",X[1].v=L.read_shift(G-4,"cstr"),X}function D(L,G,X,Y){var ce=ke(6+Y.length);ce.write_shift(2,L),ce.write_shift(1,X),ce.write_shift(1,G),ce.write_shift(1,39);for(var Pe=0;Pe<Y.length;++Pe){var le=Y.charCodeAt(Pe);ce.write_shift(1,le>=128?95:le)}return ce.write_shift(1,0),ce}function P(L,G){var X=T(L);X[1].v=L.read_shift(2);var Y=X[1].v>>1;if(X[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return X[1].v=Y,X}function k(L,G){var X=T(L),Y=L.read_shift(4),ce=L.read_shift(4),Pe=L.read_shift(2);if(Pe==65535)return Y===0&&ce===3221225472?(X[1].t="e",X[1].v=15):Y===0&&ce===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var le=Pe&32768;return Pe=(Pe&32767)-16446,X[1].v=(1-le*2)*(ce*Math.pow(2,Pe+32)+Y*Math.pow(2,Pe)),X}function I(L,G,X,Y){var ce=ke(14);if(ce.write_shift(2,L),ce.write_shift(1,X),ce.write_shift(1,G),Y==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var Pe=0,le=0,oe=0,ye=0;return Y<0&&(Pe=1,Y=-Y),le=Math.log2(Y)|0,Y/=Math.pow(2,le-31),ye=Y>>>0,(ye&2147483648)==0&&(Y/=2,++le,ye=Y>>>0),Y-=ye,ye|=2147483648,ye>>>=0,Y*=Math.pow(2,32),oe=Y>>>0,ce.write_shift(4,oe),ce.write_shift(4,ye),le+=16383+(Pe?32768:0),ce.write_shift(2,le),ce}function F(L,G){var X=k(L);return L.l+=G-14,X}function B(L,G){var X=T(L),Y=L.read_shift(4);return X[1].v=Y>>6,X}function te(L,G){var X=T(L),Y=L.read_shift(8,"f");return X[1].v=Y,X}function ae(L,G){var X=te(L);return L.l+=G-10,X}function V(L,G){return L[L.l+G-1]==0?L.read_shift(G,"cstr"):""}function H(L,G){var X=L[L.l++];X>G-1&&(X=G-1);for(var Y="";Y.length<X;)Y+=String.fromCharCode(L[L.l++]);return Y}function Z(L,G,X){if(!(!X.qpro||G<21)){var Y=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var ce=L.read_shift(G-21,"cstr");return[Y,ce]}}function ie(L,G){for(var X={},Y=L.l+G;L.l<Y;){var ce=L.read_shift(2);if(ce==14e3){for(X[ce]=[0,""],X[ce][0]=L.read_shift(2);L[L.l];)X[ce][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return X}function he(L,G){var X=ke(5+L.length);X.write_shift(2,14e3),X.write_shift(2,G);for(var Y=0;Y<L.length;++Y){var ce=L.charCodeAt(Y);X[X.l++]=ce>127?95:ce}return X[X.l++]=0,X}var z={0:{n:"BOF",f:W7},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:g},15:{n:"LABEL",f},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:V},222:{n:"SHEETNAMELP",f:H},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:F},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ie},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:te},40:{n:"FORMULA28",f:ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:V},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:t}}(),Mbe=/^\s|\s$|[\t\n\r]/;function K7(e,t){if(!t.bookSST)return"";var n=[Jn];n[n.length]=Ke("sst",null,{xmlns:yh[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var a=e[r],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Mbe)&&(i+=' xml:space="preserve"'),i+=">"+tn(a.t)+"</t>"),i+="</si>",n[n.length]=i}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function Ibe(e){return[e.read_shift(4),e.read_shift(4)]}function Fbe(e,t){return t||(t=ke(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Bbe=Cxe;function Lbe(e){var t=Sa();Ue(t,159,Fbe(e));for(var n=0;n<e.length;++n)Ue(t,19,Bbe(e[n]));return Ue(t,160),t.end()}function jbe(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function X7(e){var t=0,n,r=jbe(e),a=r.length+1,i,o,s,u,l;for(n=Ql(a),n[0]=r.length,i=1;i!=a;++i)n[i]=r[i-1];for(i=a-1;i>=0;--i)o=n[i],s=(t&16384)===0?0:1,u=t<<1&32767,l=s|u,t=l^o;return t^52811}var Ube=function(){function e(a,i){switch(i.type){case"base64":return t(Rs(a),i);case"binary":return t(a,i);case"buffer":return t(Vt&&Buffer.isBuffer(a)?a.toString("binary"):s0(a),i);case"array":return t(t1(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},s=o.dense?[]:{},u=a.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var l={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(f,d){Array.isArray(s)&&(s[d]=[]);for(var p=/\\\w+\b/g,m=0,g,x=-1;g=p.exec(f);){switch(g[0]){case"\\cell":var b=f.slice(m,p.lastIndex-g[0].length);if(b[0]==" "&&(b=b.slice(1)),++x,b.length){var w={v:b,t:"s"};Array.isArray(s)?s[d][x]=w:s[nn({r:d,c:x})]=w}break}m=p.lastIndex}x>l.e.c&&(l.e.c=x)}),s["!ref"]=Zn(l),s}function n(a,i){return gc(e(a,i),i)}function r(a){for(var i=["{\\rtf1\\ansi"],o=_n(a["!ref"]),s,u=Array.isArray(a),l=o.s.r;l<=o.e.r;++l){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var d=nn({r:l,c:f});s=u?(a[l]||[])[f]:a[d],!(!s||s.v==null&&(!s.f||s.F))&&(i.push(" "+(s.w||(Ds(s),s.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function PI(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var zbe=6,Es=zbe;function Wg(e){return Math.floor((e+Math.round(128/Es)/256)*Es)}function Hg(e){return Math.floor((e-5)/Es*100+.5)/100}function OE(e){return Math.round((e*Es+5)/Es*256)/256}function mC(e){e.width?(e.wpx=Wg(e.width),e.wch=Hg(e.wpx),e.MDW=Es):e.wpx?(e.wch=Hg(e.wpx),e.width=OE(e.wch),e.MDW=Es):typeof e.wch=="number"&&(e.width=OE(e.wch),e.wpx=Wg(e.width),e.MDW=Es),e.customWidth&&delete e.customWidth}var Wbe=96,Y7=Wbe;function $g(e){return e*96/Y7}function Q7(e){return e*Y7/96}function Hbe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=Ke("numFmt",null,{numFmtId:r,formatCode:tn(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ke("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function $be(e){var t=[];return t[t.length]=Ke("cellXfs",null),e.forEach(function(n){t[t.length]=Ke("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ke("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Z7(e,t){var n=[Jn,Ke("styleSheet",null,{xmlns:yh[0],"xmlns:vt":br.vt})],r;return e.SSF&&(r=Hbe(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=$be(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Vbe(e,t){var n=e.read_shift(2),r=ta(e);return[n,r]}function qbe(e,t,n){n||(n=ke(6+4*t.length)),n.write_shift(2,e),_r(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function Gbe(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=Mxe(e);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var i=e.read_shift(2);switch(i===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var s=e.read_shift(1);s>0&&(r.family=s);var u=e.read_shift(1);switch(u>0&&(r.charset=u),e.l++,r.color=Pxe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ta(e),r}function Kbe(e,t){t||(t=ke(153)),t.write_shift(2,e.sz*20),Ixe(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Ug(e.color,t);var r=0;return r=2,t.write_shift(1,r),_r(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Xbe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],V2,Ybe=Uo;function MI(e,t){t||(t=ke(84)),V2||(V2=aC(Xbe));var n=V2[e.patternType];n==null&&(n=40),t.write_shift(4,n);var r=0;if(n!=40)for(Ug({auto:1},t),Ug({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Qbe(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}function J7(e,t,n){n||(n=ke(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Ld(e,t){return t||(t=ke(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Zbe=Uo;function Jbe(e,t){return t||(t=ke(51)),t.write_shift(1,0),Ld(null,t),Ld(null,t),Ld(null,t),Ld(null,t),Ld(null,t),t.length>t.l?t.slice(0,t.l):t}function ewe(e,t){return t||(t=ke(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),jg(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function twe(e,t,n){var r=ke(2052);return r.write_shift(4,e),jg(t,r),jg(n,r),r.length>r.l?r.slice(0,r.l):r}function nwe(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&++n}),n!=0&&(Ue(e,615,ro(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&Ue(e,44,qbe(a,t[a]))}),Ue(e,616))}}function rwe(e){var t=1;Ue(e,611,ro(t)),Ue(e,43,Kbe({sz:12,color:{theme:1},name:"Calibri",family:2})),Ue(e,612)}function awe(e){var t=2;Ue(e,603,ro(t)),Ue(e,45,MI({patternType:"none"})),Ue(e,45,MI({patternType:"gray125"})),Ue(e,604)}function iwe(e){var t=1;Ue(e,613,ro(t)),Ue(e,46,Jbe()),Ue(e,614)}function owe(e){var t=1;Ue(e,626,ro(t)),Ue(e,47,J7({numFmtId:0},65535)),Ue(e,627)}function swe(e,t){Ue(e,617,ro(t.length)),t.forEach(function(n){Ue(e,47,J7(n,0))}),Ue(e,618)}function uwe(e){var t=1;Ue(e,619,ro(t)),Ue(e,48,ewe({xfId:0,name:"Normal"})),Ue(e,620)}function lwe(e){var t=0;Ue(e,505,ro(t)),Ue(e,506)}function cwe(e){var t=0;Ue(e,508,twe(t,"TableStyleMedium9","PivotStyleMedium4")),Ue(e,509)}function fwe(e,t){var n=Sa();return Ue(n,278),nwe(n,e.SSF),rwe(n),awe(n),iwe(n),owe(n),swe(n,t.cellXfs),uwe(n),lwe(n),cwe(n),Ue(n,279),n.end()}function ez(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[Jn];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function hwe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ta(e)}}function dwe(e){var t=ke(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),_r(e.name,t),t.slice(0,t.l)}function pwe(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function vwe(e){var t=ke(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function mwe(e,t){var n=ke(8+2*t.length);return n.write_shift(4,e),_r(t,n),n.slice(0,n.l)}function gwe(e){return e.l+=4,e.read_shift(4)!=0}function ywe(e,t){var n=ke(8);return n.write_shift(4,e),n.write_shift(4,1),n}function xwe(){var e=Sa();return Ue(e,332),Ue(e,334,ro(1)),Ue(e,335,dwe({name:"XLDAPR",version:12e4,flags:3496657072})),Ue(e,336),Ue(e,339,mwe(1,"XLDAPR")),Ue(e,52),Ue(e,35,ro(514)),Ue(e,4096,ro(0)),Ue(e,4097,Ti(1)),Ue(e,36),Ue(e,53),Ue(e,340),Ue(e,337,ywe(1)),Ue(e,51,vwe([[1,0]])),Ue(e,338),Ue(e,333),e.end()}function tz(){var e=[Jn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function bwe(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=nn(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}var Ef=1024;function nz(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),a=[Ke("xml",null,{"xmlns:v":Ka.v,"xmlns:o":Ka.o,"xmlns:x":Ka.x,"xmlns:mv":Ka.mv}).replace(/\/>/,">"),Ke("o:shapelayout",Ke("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ke("v:shapetype",[Ke("v:stroke",null,{joinstyle:"miter"}),Ke("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Ef<e*1e3;)Ef+=1e3;return t.forEach(function(i){var o=wr(i[0]),s={color2:"#BEFF82",type:"gradient"};s.type=="gradient"&&(s.angle="-180");var u=s.type=="gradient"?Ke("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,l=Ke("v:fill",u,s),f={on:"t",obscured:"t"};++Ef,a=a.concat(["<v:shape"+Op({id:"_x0000_s"+Ef,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",l,Ke("v:shadow",null,f),Ke("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Lr("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Lr("x:AutoFill","False"),Lr("x:Row",String(o.r)),Lr("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function rz(e){var t=[Jn,Ke("comments",null,{xmlns:yh[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(a){var i=tn(a.a);n.indexOf(i)==-1&&(n.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&n.indexOf("tc="+a.ID)==-1&&(n.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var a=0,i=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?a=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(u){u.a&&(a=n.indexOf(tn(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Lr("t",tn(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,s=1;s<i.length;++s)o+=`Reply:
    `+i[s]+`
`;t.push(Lr("t",tn(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function wwe(e,t,n){var r=[Jn,Ke("ThreadedComments",null,{xmlns:br.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,s){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var u={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};s==0?i=u.id:u.parentId=i,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(Ke("threadedComment",Lr("text",o.t||""),u))})}),r.push("</ThreadedComments>"),r.join("")}function _we(e){var t=[Jn,Ke("personList",null,{xmlns:br.TCMNT,"xmlns:x":yh[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(Ke("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Ewe(e){var t={};t.iauthor=e.read_shift(4);var n=wc(e);return t.rfx=n.s,t.ref=nn(n.s),e.l+=16,t}function Swe(e,t){return t==null&&(t=ke(36)),t.write_shift(4,e[1].iauthor),bh(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Twe=ta;function Awe(e){return _r(e.slice(0,54))}function Cwe(e){var t=Sa(),n=[];return Ue(t,628),Ue(t,630),e.forEach(function(r){r[1].forEach(function(a){n.indexOf(a.a)>-1||(n.push(a.a.slice(0,54)),Ue(t,632,Awe(a.a)))})}),Ue(t,631),Ue(t,633),e.forEach(function(r){r[1].forEach(function(a){a.iauthor=n.indexOf(a.a);var i={s:wr(r[0]),e:wr(r[0])};Ue(t,635,Swe([i,a])),a.t&&a.t.length>0&&Ue(t,637,Rxe(a)),Ue(t,636),delete a.iauthor})}),Ue(t,634),Ue(t,629),t.end()}function Owe(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var a=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&cn.utils.cfb_add(e,a,t.FileIndex[r].content)}})}var az=["xlsb","xlsm","xlam","biff8","xla"],Rwe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,a,i,o){var s=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var l=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return s?f+=t.c:--f,u?l+=t.r:--l,a+(s?"":"$")+ea(f)+(u?"":"$")+Ur(l)}return function(a,i){return t=i,a.replace(e,n)}}(),gC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,yC=function(){return function(t,n){return t.replace(gC,function(r,a,i,o,s,u){var l=fC(o)-(i?0:n.c),f=cC(u)-(s?0:n.r),d=f==0?"":s?f+1:"["+f+"]",p=l==0?"":i?l+1:"["+l+"]";return a+"R"+d+"C"+p})}}();function Dwe(e,t){return e.replace(gC,function(n,r,a,i,o,s){return r+(a=="$"?a+i:ea(fC(i)+t.c))+(o=="$"?o+s:Ur(cC(s)+t.r))})}function Nwe(e){return e.length!=1}function qn(e){e.l+=1}function ju(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function iz(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return oz(e);n.biff==12&&(r=4)}var a=e.read_shift(r),i=e.read_shift(r),o=ju(e),s=ju(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function oz(e){var t=ju(e),n=ju(e),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function kwe(e,t,n){if(n.biff<8)return oz(e);var r=e.read_shift(n.biff==12?4:2),a=e.read_shift(n.biff==12?4:2),i=ju(e),o=ju(e);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function sz(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return Pwe(e);var r=e.read_shift(n&&n.biff==12?4:2),a=ju(e);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function Pwe(e){var t=ju(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function Mwe(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Iwe(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return Fwe(e);var a=e.read_shift(r>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,s=(i&32768)>>15;if(i&=16383,s==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:s}}function Fwe(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),a==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:a,rRel:r}}function Bwe(e,t,n){var r=(e[e.l++]&96)>>5,a=iz(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,a]}function Lwe(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=iz(e,i,n);return[r,a,o]}function jwe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function Uwe(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[r,a]}function zwe(e,t,n){var r=(e[e.l++]&96)>>5,a=kwe(e,t-1,n);return[r,a]}function Wwe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function II(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function Hwe(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),a=[],i=0;i<=r;++i)a.push(e.read_shift(n&&n.biff==2?1:2));return a}function $we(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function Vwe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function qwe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Gwe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function uz(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function Kwe(e){return e.read_shift(2),uz(e)}function Xwe(e){return e.read_shift(2),uz(e)}function Ywe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=sz(e,0,n);return[r,a]}function Qwe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=Iwe(e,0,n);return[r,a]}function Zwe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var i=sz(e,0,n);return[r,a,i]}function Jwe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[J2e[a],fz[a],r]}function e2e(e,t,n){var r=e[e.l++],a=e.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:t2e(e);return[a,(i[0]===0?fz:Z2e)[i[1]]]}function t2e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function n2e(e,t,n){e.l+=n&&n.biff==2?3:4}function r2e(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function a2e(e){return e.l++,c0[e.read_shift(1)]}function i2e(e){return e.l++,e.read_shift(2)}function o2e(e){return e.l++,e.read_shift(1)!==0}function s2e(e){return e.l++,wh(e)}function u2e(e,t,n){return e.l++,$7(e,t-1,n)}function l2e(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Zxe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=c0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=wh(e);break;case 2:n[1]=nbe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function c2e(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),a=[],i=0;i!=r;++i)a.push((n.biff==12?wc:ibe)(e));return a}function f2e(e,t,n){var r=0,a=0;n.biff==12?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--a==0&&(a=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var s=0;s!=a;++s)o[i][s]=l2e(e,n.biff);return o}function h2e(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,i=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,i]}function d2e(e,t,n){if(n.biff==5)return p2e(e);var r=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[r,a,i]}function p2e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function v2e(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function m2e(e,t,n){var r=e.read_shift(1)>>>5&3,a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function g2e(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function y2e(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[r,a]}var x2e=Uo,b2e=Uo,w2e=Uo;function f0(e,t,n){return e.l+=2,[Mwe(e)]}function xC(e){return e.l+=6,[]}var _2e=f0,E2e=xC,S2e=xC,T2e=f0;function lz(e){return e.l+=2,[W7(e),e.read_shift(2)&1]}var A2e=f0,C2e=lz,O2e=xC,R2e=f0,D2e=f0,N2e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function k2e(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=N2e[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:a,C:i}}function P2e(e){return e.l+=2,[e.read_shift(4)]}function M2e(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function I2e(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function F2e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function B2e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function L2e(e){return e.l+=4,[0,0]}var FI={1:{n:"PtgExp",f:r2e},2:{n:"PtgTbl",f:w2e},3:{n:"PtgAdd",f:qn},4:{n:"PtgSub",f:qn},5:{n:"PtgMul",f:qn},6:{n:"PtgDiv",f:qn},7:{n:"PtgPower",f:qn},8:{n:"PtgConcat",f:qn},9:{n:"PtgLt",f:qn},10:{n:"PtgLe",f:qn},11:{n:"PtgEq",f:qn},12:{n:"PtgGe",f:qn},13:{n:"PtgGt",f:qn},14:{n:"PtgNe",f:qn},15:{n:"PtgIsect",f:qn},16:{n:"PtgUnion",f:qn},17:{n:"PtgRange",f:qn},18:{n:"PtgUplus",f:qn},19:{n:"PtgUminus",f:qn},20:{n:"PtgPercent",f:qn},21:{n:"PtgParen",f:qn},22:{n:"PtgMissArg",f:qn},23:{n:"PtgStr",f:u2e},26:{n:"PtgSheet",f:M2e},27:{n:"PtgEndSheet",f:I2e},28:{n:"PtgErr",f:a2e},29:{n:"PtgBool",f:o2e},30:{n:"PtgInt",f:i2e},31:{n:"PtgNum",f:s2e},32:{n:"PtgArray",f:Wwe},33:{n:"PtgFunc",f:Jwe},34:{n:"PtgFuncVar",f:e2e},35:{n:"PtgName",f:h2e},36:{n:"PtgRef",f:Ywe},37:{n:"PtgArea",f:Bwe},38:{n:"PtgMemArea",f:v2e},39:{n:"PtgMemErr",f:x2e},40:{n:"PtgMemNoMem",f:b2e},41:{n:"PtgMemFunc",f:m2e},42:{n:"PtgRefErr",f:g2e},43:{n:"PtgAreaErr",f:jwe},44:{n:"PtgRefN",f:Qwe},45:{n:"PtgAreaN",f:zwe},46:{n:"PtgMemAreaN",f:F2e},47:{n:"PtgMemNoMemN",f:B2e},57:{n:"PtgNameX",f:d2e},58:{n:"PtgRef3d",f:Zwe},59:{n:"PtgArea3d",f:Lwe},60:{n:"PtgRefErr3d",f:y2e},61:{n:"PtgAreaErr3d",f:Uwe},255:{}},j2e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},U2e={1:{n:"PtgElfLel",f:lz},2:{n:"PtgElfRw",f:R2e},3:{n:"PtgElfCol",f:_2e},6:{n:"PtgElfRwV",f:D2e},7:{n:"PtgElfColV",f:T2e},10:{n:"PtgElfRadical",f:A2e},11:{n:"PtgElfRadicalS",f:O2e},13:{n:"PtgElfColS",f:E2e},15:{n:"PtgElfColSV",f:S2e},16:{n:"PtgElfRadicalLel",f:C2e},25:{n:"PtgList",f:k2e},29:{n:"PtgSxName",f:P2e},255:{}},z2e={0:{n:"PtgAttrNoop",f:L2e},1:{n:"PtgAttrSemi",f:Gwe},2:{n:"PtgAttrIf",f:Vwe},4:{n:"PtgAttrChoose",f:Hwe},8:{n:"PtgAttrGoto",f:$we},16:{n:"PtgAttrSum",f:n2e},32:{n:"PtgAttrBaxcel",f:II},33:{n:"PtgAttrBaxcel",f:II},64:{n:"PtgAttrSpace",f:Kwe},65:{n:"PtgAttrSpaceSemi",f:Xwe},128:{n:"PtgAttrIfError",f:qwe},255:{}};function W2e(e,t,n,r){if(r.biff<8)return Uo(e,t);for(var a=e.l+t,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=f2e(e,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=c2e(e,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=a-e.l,t!==0&&i.push(Uo(e,t)),i}function H2e(e,t,n){for(var r=e.l+t,a,i,o=[];r!=e.l;)t=r-e.l,i=e[e.l],a=FI[i]||FI[j2e[i]],(i===24||i===25)&&(a=(i===24?U2e:z2e)[e[e.l+1]]),!a||!a.f?Uo(e,t):o.push([a.n,a.f(e,t,n)]);return o}function $2e(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],i=0;i<r.length;++i){var o=r[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var V2e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function q2e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function cz(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[r[0]][0][3]?(a=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function BI(e,t,n){var r=cz(e,t,n);return r=="#REF"?r:q2e(r,n)}function Jf(e,t,n,r,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},s=[],u,l,f,d=0,p=0,m,g="";if(!e[0]||!e[0][0])return"";for(var x=-1,b="",w=0,E=e[0].length;w<E;++w){var S=e[0][w];switch(S[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=s.pop(),l=s.pop(),x>=0){switch(e[0][x][1][0]){case 0:b=In(" ",e[0][x][1][1]);break;case 1:b=In("\r",e[0][x][1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}l=l+b,x=-1}s.push(l+V2e[S[0]]+u);break;case"PtgIsect":u=s.pop(),l=s.pop(),s.push(l+" "+u);break;case"PtgUnion":u=s.pop(),l=s.pop(),s.push(l+","+u);break;case"PtgRange":u=s.pop(),l=s.pop(),s.push(l+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Zd(S[1][1],o,a),s.push(Jd(f,i));break;case"PtgRefN":f=n?Zd(S[1][1],n,a):S[1][1],s.push(Jd(f,i));break;case"PtgRef3d":d=S[1][1],f=Zd(S[1][2],o,a),g=BI(r,d,a),s.push(g+"!"+Jd(f,i));break;case"PtgFunc":case"PtgFuncVar":var A=S[1][0],T=S[1][1];A||(A=0),A&=127;var R=A==0?[]:s.slice(-A);s.length-=A,T==="User"&&(T=R.shift()),s.push(T+"("+R.join(",")+")");break;case"PtgBool":s.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(S[1]);break;case"PtgNum":s.push(String(S[1]));break;case"PtgStr":s.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(S[1]);break;case"PtgAreaN":m=wI(S[1][1],n?{s:n}:o,a),s.push(H2(m,a));break;case"PtgArea":m=wI(S[1][1],o,a),s.push(H2(m,a));break;case"PtgArea3d":d=S[1][1],m=S[1][2],g=BI(r,d,a),s.push(g+"!"+H2(m,a));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=S[1][2];var D=(r.names||[])[p-1]||(r[0]||[])[p],P=D?D.Name:"SH33TJSNAME"+String(p);P&&P.slice(0,6)=="_xlfn."&&!a.xlfn&&(P=P.slice(6)),s.push(P);break;case"PtgNameX":var k=S[1][1];p=S[1][2];var I;if(a.biff<=5)k<0&&(k=-k),r[k]&&(I=r[k][p]);else{var F="";if(((r[k]||[])[0]||[])[0]==14849||(((r[k]||[])[0]||[])[0]==1025?r[k][p]&&r[k][p].itab>0&&(F=r.SheetNames[r[k][p].itab-1]+"!"):F=r.SheetNames[p-1]+"!"),r[k]&&r[k][p])F+=r[k][p].Name;else if(r[0]&&r[0][p])F+=r[0][p].Name;else{var B=(cz(r,k,a)||"").split(";;");B[p-1]?F=B[p-1]:F+="SH33TJSERRX"}s.push(F);break}I||(I={Name:"SH33TJSERRY"}),s.push(I.Name);break;case"PtgParen":var te="(",ae=")";if(x>=0){switch(b="",e[0][x][1][0]){case 2:te=In(" ",e[0][x][1][1])+te;break;case 3:te=In("\r",e[0][x][1][1])+te;break;case 4:ae=In(" ",e[0][x][1][1])+ae;break;case 5:ae=In("\r",e[0][x][1][1])+ae;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}s.push(te+s.pop()+ae);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":f={c:S[1][1],r:S[1][0]};var V={c:n.c,r:n.r};if(r.sharedf[nn(f)]){var H=r.sharedf[nn(f)];s.push(Jf(H,o,V,r,a))}else{var Z=!1;for(u=0;u!=r.arrayf.length;++u)if(l=r.arrayf[u],!(f.c<l[0].s.c||f.c>l[0].e.c)&&!(f.r<l[0].s.r||f.r>l[0].e.r)){s.push(Jf(l[1],o,V,r,a)),Z=!0;break}Z||s.push(S[1])}break;case"PtgArray":s.push("{"+$2e(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&x>=0&&ie.indexOf(e[0][w][0])==-1){S=e[0][x];var he=!0;switch(S[1][0]){case 4:he=!1;case 0:b=In(" ",S[1][1]);break;case 5:he=!1;case 1:b=In("\r",S[1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}s.push((he?b:"")+s.pop()+(he?"":b)),x=-1}}if(s.length>1&&a.WTF)throw new Error("bad formula stack");return s[0]}function G2e(e){if(e==null){var t=ke(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Zl(e);return Zl(0)}function K2e(e,t,n,r,a){var i=Jl(t,n,a),o=G2e(e.v),s=ke(6),u=33;s.write_shift(2,u),s.write_shift(4,0);for(var l=ke(e.bf.length),f=0;f<e.bf.length;++f)l[f]=e.bf[f];var d=Br([i,o,s,l]);return d}function n1(e,t,n){var r=e.read_shift(4),a=H2e(e,r,n),i=e.read_shift(4),o=i>0?W2e(e,i,a,n):null;return[a,o]}var X2e=n1,r1=n1,Y2e=n1,Q2e=n1,Z2e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},J2e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function e_e(e){var t="of:="+e.replace(gC,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function t_e(e){return e.replace(/\./,"!")}var ep=typeof Map<"u";function bC(e,t,n){var r=0,a=e.length;if(n){if(ep?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var i=ep?n.get(t):n[t];r<i.length;++r)if(e[i[r]].t===t)return e.Count++,i[r]}}else for(;r<a;++r)if(e[r].t===t)return e.Count++,r;return e[a]={t},e.Count++,e.Unique++,n&&(ep?(n.has(t)||n.set(t,[]),n.get(t).push(a)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(a))),a}function a1(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(Es=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?r=Hg(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(n.width=OE(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function hz(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function Ku(e,t,n){var r=n.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(r==null&&n.ssf){for(;a<392;++a)if(n.ssf[a]==null){s7(t.z,a),n.ssf[a]=t.z,n.revssf[t.z]=r=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===r)return a;return e[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function n_e(e,t,n){if(e&&e["!ref"]){var r=_n(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function r_e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Zn(e[n])+'"/>';return t+"</mergeCells>"}function a_e(e,t,n,r,a){var i=!1,o={},s=null;if(r.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[n];try{t.Workbook&&(u=t.Workbook.Sheets[n].CodeName||u)}catch{}i=!0,o.codeName=Cp(tn(u))}if(e&&e["!outline"]){var l={summaryBelow:1,summaryRight:1};e["!outline"].above&&(l.summaryBelow=0),e["!outline"].left&&(l.summaryRight=0),s=(s||"")+Ke("outlinePr",null,l)}!i&&!s||(a[a.length]=Ke("sheetPr",s,o))}var i_e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],o_e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function s_e(e){var t={sheet:1};return i_e.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),o_e.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=X7(e.password).toString(16).toUpperCase()),Ke("sheetProtection",null,t)}function u_e(e){return hz(e),Ke("pageMargins",null,e)}function l_e(e,t){for(var n=["<cols>"],r,a=0;a!=t.length;++a)(r=t[a])&&(n[n.length]=Ke("col",null,a1(a,r)));return n[n.length]="</cols>",n.join("")}function c_e(e,t,n,r){var a=typeof e.ref=="string"?e.ref:Zn(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=si(a);o.s.r==o.e.r&&(o.e.r=si(t["!ref"]).e.r,a=Zn(o));for(var s=0;s<i.length;++s){var u=i[s];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+a;break}}return s==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),Ke("autoFilter",null,{ref:a})}function f_e(e,t,n,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Ke("sheetViews",Ke("sheetView",null,a),{})}function h_e(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=c0[e.v];break;case"d":r&&r.cellDates?a=ua(e.v,-1).toISOString():(e=Da(e),e.t="n",a=""+(e.v=Ra(ua(e.v)))),typeof e.z>"u"&&(e.z=Bn[14]);break;default:a=e.v;break}var s=Lr("v",tn(a)),u={r:t},l=Ku(r.cellXfs,e,r);switch(l!==0&&(u.s=l),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){s=Lr("v",""+bC(r.Strings,e.v,r.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=Ke("f",tn(e.f),f)+(e.v!=null?s:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(u.cm=1),Ke("c",s,u)}function d_e(e,t,n,r){var a=[],i=[],o=_n(e["!ref"]),s="",u,l="",f=[],d=0,p=0,m=e["!rows"],g=Array.isArray(e),x={r:l},b,w=-1;for(p=o.s.c;p<=o.e.c;++p)f[p]=ea(p);for(d=o.s.r;d<=o.e.r;++d){for(i=[],l=Ur(d),p=o.s.c;p<=o.e.c;++p){u=f[p]+l;var E=g?(e[d]||[])[p]:e[u];E!==void 0&&(s=h_e(E,u,e,t))!=null&&i.push(s)}(i.length>0||m&&m[d])&&(x={r:l},m&&m[d]&&(b=m[d],b.hidden&&(x.hidden=1),w=-1,b.hpx?w=$g(b.hpx):b.hpt&&(w=b.hpt),w>-1&&(x.ht=w,x.customHeight=1),b.level&&(x.outlineLevel=b.level)),a[a.length]=Ke("row",i.join(""),x))}if(m)for(;d<m.length;++d)m&&m[d]&&(x={r:d+1},b=m[d],b.hidden&&(x.hidden=1),w=-1,b.hpx?w=$g(b.hpx):b.hpt&&(w=b.hpt),w>-1&&(x.ht=w,x.customHeight=1),b.level&&(x.outlineLevel=b.level),a[a.length]=Ke("row","",x));return a.join("")}function dz(e,t,n,r){var a=[Jn,Ke("worksheet",null,{xmlns:yh[0],"xmlns:r":br.r})],i=n.SheetNames[e],o=0,s="",u=n.Sheets[i];u==null&&(u={});var l=u["!ref"]||"A1",f=_n(l);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+l+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),l=Zn(f)}r||(r={}),u["!comments"]=[];var d=[];a_e(u,n,e,t,a),a[a.length]=Ke("dimension",null,{ref:l}),a[a.length]=f_e(u,t,e,n),t.sheetFormat&&(a[a.length]=Ke("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(a[a.length]=l_e(u,u["!cols"])),a[o=a.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(s=d_e(u,t),s.length>0&&(a[a.length]=s)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),u["!protect"]&&(a[a.length]=s_e(u["!protect"])),u["!autofilter"]!=null&&(a[a.length]=c_e(u["!autofilter"],u,n,e)),u["!merges"]!=null&&u["!merges"].length>0&&(a[a.length]=r_e(u["!merges"]));var p=-1,m,g=-1;return u["!links"].length>0&&(a[a.length]="<hyperlinks>",u["!links"].forEach(function(x){x[1].Target&&(m={ref:x[0]},x[1].Target.charAt(0)!="#"&&(g=Zt(r,-1,tn(x[1].Target).replace(/#.*$/,""),zt.HLINK),m["r:id"]="rId"+g),(p=x[1].Target.indexOf("#"))>-1&&(m.location=tn(x[1].Target.slice(p+1))),x[1].Tooltip&&(m.tooltip=tn(x[1].Tooltip)),a[a.length]=Ke("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(a[a.length]=u_e(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Lr("ignoredErrors",Ke("ignoredError",null,{numberStoredAsText:1,sqref:l}))),d.length>0&&(g=Zt(r,-1,"../drawings/drawing"+(e+1)+".xml",zt.DRAW),a[a.length]=Ke("drawing",null,{"r:id":"rId"+g}),u["!drawing"]=d),u["!comments"].length>0&&(g=Zt(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",zt.VML),a[a.length]=Ke("legacyDrawing",null,{"r:id":"rId"+g}),u["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function p_e(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=a/20),n}function v_e(e,t,n){var r=ke(145),a=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var i=320;a.hpx?i=$g(a.hpx)*20:a.hpt&&(i=a.hpt*20),r.write_shift(2,i),r.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var s=0,u=r.l;r.l+=4;for(var l={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var d=-1,p=-1,m=f<<10;m<f+1<<10;++m){l.c=m;var g=Array.isArray(n)?(n[l.r]||[])[l.c]:n[nn(l)];g&&(d<0&&(d=m),p=m)}d<0||(++s,r.write_shift(4,d),r.write_shift(4,p))}var x=r.l;return r.l=u,r.write_shift(4,s),r.l=x,r.length>r.l?r.slice(0,r.l):r}function m_e(e,t,n,r){var a=v_e(r,n,t);(a.length>17||(t["!rows"]||[])[r])&&Ue(e,0,a)}var g_e=wc,y_e=bh;function x_e(){}function b_e(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=Dxe(e),n}function w_e(e,t,n){n==null&&(n=ke(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var a=1;a<3;++a)n.write_shift(1,0);return Ug({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),O7(e,n),n.slice(0,n.l)}function __e(e){var t=Li(e);return[t]}function E_e(e,t,n){return n==null&&(n=ke(8)),yc(t,n)}function S_e(e){var t=xc(e);return[t]}function T_e(e,t,n){return n==null&&(n=ke(4)),bc(t,n)}function A_e(e){var t=Li(e),n=e.read_shift(1);return[t,n,"b"]}function C_e(e,t,n){return n==null&&(n=ke(9)),yc(t,n),n.write_shift(1,e.v?1:0),n}function O_e(e){var t=xc(e),n=e.read_shift(1);return[t,n,"b"]}function R_e(e,t,n){return n==null&&(n=ke(5)),bc(t,n),n.write_shift(1,e.v?1:0),n}function D_e(e){var t=Li(e),n=e.read_shift(1);return[t,n,"e"]}function N_e(e,t,n){return n==null&&(n=ke(9)),yc(t,n),n.write_shift(1,e.v),n}function k_e(e){var t=xc(e),n=e.read_shift(1);return[t,n,"e"]}function P_e(e,t,n){return n==null&&(n=ke(8)),bc(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function M_e(e){var t=Li(e),n=e.read_shift(4);return[t,n,"s"]}function I_e(e,t,n){return n==null&&(n=ke(12)),yc(t,n),n.write_shift(4,t.v),n}function F_e(e){var t=xc(e),n=e.read_shift(4);return[t,n,"s"]}function B_e(e,t,n){return n==null&&(n=ke(8)),bc(t,n),n.write_shift(4,t.v),n}function L_e(e){var t=Li(e),n=wh(e);return[t,n,"n"]}function j_e(e,t,n){return n==null&&(n=ke(16)),yc(t,n),Zl(e.v,n),n}function U_e(e){var t=xc(e),n=wh(e);return[t,n,"n"]}function z_e(e,t,n){return n==null&&(n=ke(12)),bc(t,n),Zl(e.v,n),n}function W_e(e){var t=Li(e),n=R7(e);return[t,n,"n"]}function H_e(e,t,n){return n==null&&(n=ke(12)),yc(t,n),D7(e.v,n),n}function $_e(e){var t=xc(e),n=R7(e);return[t,n,"n"]}function V_e(e,t,n){return n==null&&(n=ke(8)),bc(t,n),D7(e.v,n),n}function q_e(e){var t=Li(e),n=hC(e);return[t,n,"is"]}function G_e(e){var t=Li(e),n=ta(e);return[t,n,"str"]}function K_e(e,t,n){return n==null&&(n=ke(12+4*e.v.length)),yc(t,n),_r(e.v,n),n.length>n.l?n.slice(0,n.l):n}function X_e(e){var t=xc(e),n=ta(e);return[t,n,"str"]}function Y_e(e,t,n){return n==null&&(n=ke(8+4*e.v.length)),bc(t,n),_r(e.v,n),n.length>n.l?n.slice(0,n.l):n}function Q_e(e,t,n){var r=e.l+t,a=Li(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(n.cellFormula){e.l+=2;var s=r1(e,r-e.l,n);o[3]=Jf(s,null,a,n.supbooks,n)}else e.l=r;return o}function Z_e(e,t,n){var r=e.l+t,a=Li(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(n.cellFormula){e.l+=2;var s=r1(e,r-e.l,n);o[3]=Jf(s,null,a,n.supbooks,n)}else e.l=r;return o}function J_e(e,t,n){var r=e.l+t,a=Li(e);a.r=n["!row"];var i=wh(e),o=[a,i,"n"];if(n.cellFormula){e.l+=2;var s=r1(e,r-e.l,n);o[3]=Jf(s,null,a,n.supbooks,n)}else e.l=r;return o}function eEe(e,t,n){var r=e.l+t,a=Li(e);a.r=n["!row"];var i=ta(e),o=[a,i,"str"];if(n.cellFormula){e.l+=2;var s=r1(e,r-e.l,n);o[3]=Jf(s,null,a,n.supbooks,n)}else e.l=r;return o}var tEe=wc,nEe=bh;function rEe(e,t){return t==null&&(t=ke(4)),t.write_shift(4,e),t}function aEe(e,t){var n=e.l+t,r=wc(e),a=dC(e),i=ta(e),o=ta(e),s=ta(e);e.l=n;var u={rfx:r,relId:a,loc:i,display:s};return o&&(u.Tooltip=o),u}function iEe(e,t){var n=ke(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));bh({s:wr(e[0]),e:wr(e[0])},n),pC("rId"+t,n);var r=e[1].Target.indexOf("#"),a=r==-1?"":e[1].Target.slice(r+1);return _r(a||"",n),_r(e[1].Tooltip||"",n),_r("",n),n.slice(0,n.l)}function oEe(){}function sEe(e,t,n){var r=e.l+t,a=N7(e),i=e.read_shift(1),o=[a];if(o[2]=i,n.cellFormula){var s=X2e(e,r-e.l,n);o[1]=s}else e.l=r;return o}function uEe(e,t,n){var r=e.l+t,a=wc(e),i=[a];if(n.cellFormula){var o=Q2e(e,r-e.l,n);i[1]=o,e.l=r}else e.l=r;return i}function lEe(e,t,n){n==null&&(n=ke(18));var r=a1(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof r.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),n.write_shift(2,a),n}var pz=["left","right","top","bottom","header","footer"];function cEe(e){var t={};return pz.forEach(function(n){t[n]=wh(e)}),t}function fEe(e,t){return t==null&&(t=ke(48)),hz(e),pz.forEach(function(n){Zl(e[n],t)}),t}function hEe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function dEe(e,t,n){n==null&&(n=ke(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function pEe(e){var t=ke(24);return t.write_shift(4,4),t.write_shift(4,1),bh(e,t),t}function vEe(e,t){return t==null&&(t=ke(66)),t.write_shift(2,e.password?X7(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function mEe(){}function gEe(){}function yEe(e,t,n,r,a,i,o){if(t.v===void 0)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":t=Da(t),t.z=t.z||Bn[14],t.v=Ra(ua(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v;break}var u={r:n,c:r};switch(u.s=Ku(a.cellXfs,t,a),t.l&&i["!links"].push([nn(u),t.l]),t.c&&i["!comments"].push([nn(u),t.c]),t.t){case"s":case"str":return a.bookSST?(s=bC(a.Strings,t.v,a.revStrings),u.t="s",u.v=s,o?Ue(e,18,B_e(t,u)):Ue(e,7,I_e(t,u))):(u.t="str",o?Ue(e,17,Y_e(t,u)):Ue(e,6,K_e(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ue(e,13,V_e(t,u)):Ue(e,2,H_e(t,u)):o?Ue(e,16,z_e(t,u)):Ue(e,5,j_e(t,u)),!0;case"b":return u.t="b",o?Ue(e,15,R_e(t,u)):Ue(e,4,C_e(t,u)),!0;case"e":return u.t="e",o?Ue(e,14,P_e(t,u)):Ue(e,3,N_e(t,u)),!0}return o?Ue(e,12,T_e(t,u)):Ue(e,1,E_e(t,u)),!0}function xEe(e,t,n,r){var a=_n(t["!ref"]||"A1"),i,o="",s=[];Ue(e,145);var u=Array.isArray(t),l=a.e.r;t["!rows"]&&(l=Math.max(a.e.r,t["!rows"].length-1));for(var f=a.s.r;f<=l;++f){o=Ur(f),m_e(e,t,a,f);var d=!1;if(f<=a.e.r)for(var p=a.s.c;p<=a.e.c;++p){f===a.s.r&&(s[p]=ea(p)),i=s[p]+o;var m=u?(t[f]||[])[p]:t[i];if(!m){d=!1;continue}d=yEe(e,m,f,p,r,t,d)}}Ue(e,146)}function bEe(e,t){!t||!t["!merges"]||(Ue(e,177,rEe(t["!merges"].length)),t["!merges"].forEach(function(n){Ue(e,176,nEe(n))}),Ue(e,178))}function wEe(e,t){!t||!t["!cols"]||(Ue(e,390),t["!cols"].forEach(function(n,r){n&&Ue(e,60,lEe(r,n))}),Ue(e,391))}function _Ee(e,t){!t||!t["!ref"]||(Ue(e,648),Ue(e,649,pEe(_n(t["!ref"]))),Ue(e,650))}function EEe(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var a=Zt(n,-1,r[1].Target.replace(/#.*$/,""),zt.HLINK);Ue(e,494,iEe(r,a))}}),delete t["!links"]}function SEe(e,t,n,r){if(t["!comments"].length>0){var a=Zt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",zt.VML);Ue(e,551,pC("rId"+a)),t["!legacy"]=a}}function TEe(e,t,n,r){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Zn(a.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,s=si(i);s.s.r==s.e.r&&(s.e.r=si(t["!ref"]).e.r,i=Zn(s));for(var u=0;u<o.length;++u){var l=o[u];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Ue(e,161,bh(_n(i))),Ue(e,162)}}function AEe(e,t,n){Ue(e,133),Ue(e,137,dEe(t,n)),Ue(e,138),Ue(e,134)}function CEe(e,t){t["!protect"]&&Ue(e,535,vEe(t["!protect"]))}function OEe(e,t,n,r){var a=Sa(),i=n.SheetNames[e],o=n.Sheets[i]||{},s=i;try{n&&n.Workbook&&(s=n.Workbook.Sheets[e].CodeName||s)}catch{}var u=_n(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ue(a,129),(n.vbaraw||o["!outline"])&&Ue(a,147,w_e(s,o["!outline"])),Ue(a,148,y_e(u)),AEe(a,o,n.Workbook),wEe(a,o),xEe(a,o,e,t),CEe(a,o),TEe(a,o,n,e),bEe(a,o),EEe(a,o,r),o["!margins"]&&Ue(a,476,fEe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&_Ee(a,o),SEe(a,o,e,r),Ue(a,130),a.end()}function REe(e,t){e.l+=10;var n=ta(e);return{name:n}}var DEe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function NEe(e){return!e.Workbook||!e.Workbook.WBProps?"false":uxe(e.Workbook.WBProps.date1904)?"true":"false"}var kEe="][*?/\\".split("");function vz(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return kEe.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function PEe(e,t,n){e.forEach(function(r,a){vz(r);for(var i=0;i<a;++i)if(r==e[i])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[a]&&t[a].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function MEe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];PEe(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)n_e(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function mz(e){var t=[Jn];t[t.length]=Ke("workbook",null,{xmlns:yh[0],"xmlns:r":br.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(DEe.forEach(function(s){e.Workbook.WBProps[s[0]]!=null&&e.Workbook.WBProps[s[0]]!=s[1]&&(r[s[0]]=e.Workbook.WBProps[s[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Ke("workbookPr",null,r);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:tn(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Ke("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(s){var u={name:s.Name};s.Comment&&(u.comment=s.Comment),s.Sheet!=null&&(u.localSheetId=""+s.Sheet),s.Hidden&&(u.hidden="1"),s.Ref&&(t[t.length]=Ke("definedName",tn(s.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function IEe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=CE(e),n.name=ta(e),n}function FEe(e,t){return t||(t=ke(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),pC(e.strRelID,t),_r(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function BEe(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?ta(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function LEe(e,t){t||(t=ke(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),O7(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function jEe(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Nxe(e),o=Y2e(e,0,n),s=dC(e);e.l=r;var u={Name:i,Ptg:o};return a<268435455&&(u.Sheet=a),s&&(u.Comment=s),u}function UEe(e,t){Ue(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,a={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};Ue(e,156,FEe(a))}Ue(e,144)}function zEe(e,t){t||(t=ke(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return _r("SheetJS",t),_r(kg.version,t),_r(kg.version,t),_r("7262",t),t.length>t.l?t.slice(0,t.l):t}function WEe(e,t){t||(t=ke(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function HEe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,a=-1,i=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&a==-1?a=r:n[r].Hidden==1&&i==-1&&(i=r);i>a||(Ue(e,135),Ue(e,158,WEe(a)),Ue(e,136))}}function $Ee(e,t){var n=Sa();return Ue(n,131),Ue(n,128,zEe()),Ue(n,153,LEe(e.Workbook&&e.Workbook.WBProps||null)),HEe(n,e),UEe(n,e),Ue(n,132),n.end()}function VEe(e,t,n){return(t.slice(-4)===".bin"?$Ee:mz)(e)}function qEe(e,t,n,r,a){return(t.slice(-4)===".bin"?OEe:dz)(e,n,r,a)}function GEe(e,t,n){return(t.slice(-4)===".bin"?fwe:Z7)(e,n)}function KEe(e,t,n){return(t.slice(-4)===".bin"?Lbe:K7)(e,n)}function XEe(e,t,n){return(t.slice(-4)===".bin"?Cwe:rz)(e)}function YEe(e){return(e.slice(-4)===".bin"?xwe:tz)()}function QEe(e,t){var n=[];return e.Props&&n.push(Gxe(e.Props,t)),e.Custprops&&n.push(Kxe(e.Props,e.Custprops)),n.join("")}function ZEe(){return""}function JEe(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,a){var i=[];i.push(Ke("NumberFormat",null,{"ss:Format":tn(Bn[r.numFmtId])}));var o={"ss:ID":"s"+(21+a)};n.push(Ke("Style",i.join(""),o))}),Ke("Styles",n.join(""))}function gz(e){return Ke("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+yC(e.Ref,{r:0,c:0})})}function eSe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var a=t[r];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||n.push(gz(a)))}return Ke("Names",n.join(""))}function tSe(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,i=[],o=0;o<a.length;++o){var s=a[o];s.Sheet==n&&(s.Name.match(/^_xlfn\./)||i.push(gz(s)))}return i.join("")}function nSe(e,t,n,r){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Ke("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Ke("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Ke("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)a.push(Ke("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<n&&!(r.Workbook.Sheets[i]&&!r.Workbook.Sheets[i].Hidden);++i);i==n&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Lr("ProtectContents","True")),e["!protect"].objects&&a.push(Lr("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Lr("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Lr("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Lr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Ke("WorksheetOptions",a.join(""),{xmlns:Ka.x})}function rSe(e){return e.map(function(t){var n=sxe(t.t||""),r=Ke("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ke("Comment",r,{"ss:Author":t.a})}).join("")}function aSe(e,t,n,r,a,i,o){if(!e||e.v==null&&e.f==null)return"";var s={};if(e.f&&(s["ss:Formula"]="="+tn(yC(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var u=wr(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=tn(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=tn(e.l.Tooltip))),n["!merges"])for(var l=n["!merges"],f=0;f!=l.length;++f)l[f].s.c!=o.c||l[f].s.r!=o.r||(l[f].e.c>l[f].s.c&&(s["ss:MergeAcross"]=l[f].e.c-l[f].s.c),l[f].e.r>l[f].s.r&&(s["ss:MergeDown"]=l[f].e.r-l[f].s.r));var d="",p="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",p=String(e.v);break;case"b":d="Boolean",p=e.v?"1":"0";break;case"e":d="Error",p=c0[e.v];break;case"d":d="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Bn[14]);break;case"s":d="String",p=oxe(e.v||"");break}var m=Ku(r.cellXfs,e,r);s["ss:StyleID"]="s"+(21+m),s["ss:Index"]=o.c+1;var g=e.v!=null?p:"",x=e.t=="z"?"":'<Data ss:Type="'+d+'">'+g+"</Data>";return(e.c||[]).length>0&&(x+=rSe(e.c)),Ke("Cell",x,s)}function iSe(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Q7(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function oSe(e,t,n,r){if(!e["!ref"])return"";var a=_n(e["!ref"]),i=e["!merges"]||[],o=0,s=[];e["!cols"]&&e["!cols"].forEach(function(b,w){mC(b);var E=!!b.width,S=a1(w,b),A={"ss:Index":w+1};E&&(A["ss:Width"]=Wg(S.width)),b.hidden&&(A["ss:Hidden"]="1"),s.push(Ke("Column",null,A))});for(var u=Array.isArray(e),l=a.s.r;l<=a.e.r;++l){for(var f=[iSe(l,(e["!rows"]||[])[l])],d=a.s.c;d<=a.e.c;++d){var p=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>d)&&!(i[o].s.r>l)&&!(i[o].e.c<d)&&!(i[o].e.r<l)){(i[o].s.c!=d||i[o].s.r!=l)&&(p=!0);break}if(!p){var m={r:l,c:d},g=nn(m),x=u?(e[l]||[])[d]:e[g];f.push(aSe(x,g,e,t,n,r,m))}}f.push("</Row>"),f.length>2&&s.push(f.join(""))}return s.join("")}function sSe(e,t,n){var r=[],a=n.SheetNames[e],i=n.Sheets[a],o=i?tSe(i,t,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=i?oSe(i,t,e,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(nSe(i,t,e,n)),r.join("")}function uSe(e,t){t||(t={}),e.SSF||(e.SSF=Da(Bn)),e.SSF&&(Jy(),Zy(e.SSF),t.revssf=e1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ku(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(QEe(e,t)),n.push(ZEe()),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(Ke("Worksheet",sSe(r,t,e),{"ss:Name":tn(e.SheetNames[r])}));return n[2]=JEe(e,t),n[3]=eSe(e),Jn+Ke("Workbook",n.join(""),{xmlns:Ka.ss,"xmlns:o":Ka.o,"xmlns:x":Ka.x,"xmlns:ss":Ka.ss,"xmlns:dt":Ka.dt,"xmlns:html":Ka.html})}var q2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function lSe(e,t){var n=[],r=[],a=[],i=0,o,s=cI(EI,"n"),u=cI(SI,"n");if(e.Props)for(o=zr(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(s,o[i])?n:Object.prototype.hasOwnProperty.call(u,o[i])?r:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=zr(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(s,o[i])?n:Object.prototype.hasOwnProperty.call(u,o[i])?r:a).push([o[i],e.Custprops[o[i]]]);var l=[];for(i=0;i<a.length;++i)z7.indexOf(a[i][0])>-1||L7.indexOf(a[i][0])>-1||a[i][1]!=null&&l.push(a[i]);r.length&&cn.utils.cfb_add(t,"/SummaryInformation",RI(r,q2.SI,u,SI)),(n.length||l.length)&&cn.utils.cfb_add(t,"/DocumentSummaryInformation",RI(n,q2.DSI,s,EI,l.length?l:null,q2.UDI))}function cSe(e,t){var n=t||{},r=cn.utils.cfb_new({root:"R"}),a="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":a="/Workbook",n.biff=8;break;case"biff5":a="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return cn.utils.cfb_add(r,a,yz(e,n)),n.biff==8&&(e.Props||e.Custprops)&&lSe(e,r),n.biff==8&&e.vbaraw&&Owe(r,cn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var fSe={0:{f:p_e},1:{f:__e},2:{f:W_e},3:{f:D_e},4:{f:A_e},5:{f:L_e},6:{f:G_e},7:{f:M_e},8:{f:eEe},9:{f:J_e},10:{f:Q_e},11:{f:Z_e},12:{f:S_e},13:{f:$_e},14:{f:k_e},15:{f:O_e},16:{f:U_e},17:{f:X_e},18:{f:F_e},19:{f:hC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:jEe},40:{},42:{},43:{f:Gbe},44:{f:Vbe},45:{f:Ybe},46:{f:Zbe},47:{f:Qbe},48:{},49:{f:Sxe},50:{},51:{f:pwe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Tbe},62:{f:q_e},63:{f:bwe},64:{f:mEe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Uo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:hEe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:b_e},148:{f:g_e,p:16},151:{f:oEe},152:{},153:{f:BEe},154:{},155:{},156:{f:IEe},157:{},158:{},159:{T:1,f:Ibe},160:{T:-1},161:{T:1,f:wc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:tEe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:hwe},336:{T:-1},337:{f:gwe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:CE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:xbe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:sEe},427:{f:uEe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:cEe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:x_e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:aEe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:CE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Twe},633:{T:1},634:{T:-1},635:{T:1,f:Ewe},636:{T:-1},637:{f:Oxe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:REe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:gEe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Xe(e,t,n,r){var a=t;if(!isNaN(a)){var i=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&lC(n)&&e.push(n)}}function hSe(e,t,n,r){var a=(n||[]).length||0;if(a<=8224)return Xe(e,t,n,a);var i=t;if(!isNaN(i)){for(var o=n.parts||[],s=0,u=0,l=0;l+(o[s]||8224)<=8224;)l+=o[s]||8224,s++;var f=e.next(4);for(f.write_shift(2,i),f.write_shift(2,l),e.push(n.slice(u,u+l)),u+=l;u<a;){for(f=e.next(4),f.write_shift(2,60),l=0;l+(o[s]||8224)<=8224;)l+=o[s]||8224,s++;f.write_shift(2,l),e.push(n.slice(u,u+l)),u+=l}}}function h0(e,t,n){return e||(e=ke(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function dSe(e,t,n,r){var a=ke(9);return h0(a,e,t),H7(n,r||"b",a),a}function pSe(e,t,n){var r=ke(8+2*n.length);return h0(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function vSe(e,t,n,r){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ra(ua(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Xe(e,2,Rbe(n,r,a)):Xe(e,3,Obe(n,r,a));return;case"b":case"e":Xe(e,5,dSe(n,r,t.v,t.t));return;case"s":case"str":Xe(e,4,pSe(n,r,(t.v||"").slice(0,255)));return}Xe(e,1,h0(null,n,r))}function mSe(e,t,n,r){var a=Array.isArray(t),i=_n(t["!ref"]||"A1"),o,s="",u=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Zn(i)}for(var l=i.s.r;l<=i.e.r;++l){s=Ur(l);for(var f=i.s.c;f<=i.e.c;++f){l===i.s.r&&(u[f]=ea(f)),o=u[f]+s;var d=a?(t[l]||[])[f]:t[o];d&&vSe(e,d,l,f)}}}function gSe(e,t){for(var n=t||{},r=Sa(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==n.sheet&&(a=i);if(a==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Xe(r,n.biff==4?1033:n.biff==3?521:9,vC(e,16,n)),mSe(r,e.Sheets[e.SheetNames[a]],a,n),Xe(r,10),r.end()}function ySe(e,t,n){Xe(e,49,fbe({sz:12,name:"Arial"},n))}function xSe(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&Xe(e,1054,pbe(a,t[a],n))})}function bSe(e,t){var n=ke(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Xe(e,2151,n),n=ke(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),q7(_n(t["!ref"]||"A1"),n),n.write_shift(4,4),Xe(e,2152,n)}function wSe(e,t){for(var n=0;n<16;++n)Xe(e,224,NI({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Xe(e,224,NI(r,0,t))})}function _Se(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];Xe(e,440,_be(r)),r[1].Tooltip&&Xe(e,2048,Ebe(r))}delete t["!links"]}function ESe(e,t){if(t){var n=0;t.forEach(function(r,a){++n<=256&&r&&Xe(e,125,Abe(a1(a,r),a))})}}function SSe(e,t,n,r,a){var i=16+Ku(a.cellXfs,t,a);if(t.v==null&&!t.bf){Xe(e,513,Jl(n,r,i));return}if(t.bf)Xe(e,6,K2e(t,n,r,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Ra(ua(t.v)):t.v;Xe(e,515,ybe(n,r,o,i));break;case"b":case"e":Xe(e,517,gbe(n,r,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var s=bC(a.Strings,t.v,a.revStrings);Xe(e,253,hbe(n,r,s,i))}else Xe(e,516,dbe(n,r,(t.v||"").slice(0,255),i,a));break;default:Xe(e,513,Jl(n,r,i))}}function TSe(e,t,n){var r=Sa(),a=n.SheetNames[e],i=n.Sheets[a]||{},o=(n||{}).Workbook||{},s=(o.Sheets||[])[e]||{},u=Array.isArray(i),l=t.biff==8,f,d="",p=[],m=_n(i["!ref"]||"A1"),g=l?65536:16384;if(m.e.c>255||m.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,g-1)}Xe(r,2057,vC(n,16,t)),Xe(r,13,Ti(1)),Xe(r,12,Ti(100)),Xe(r,15,ia(!0)),Xe(r,17,ia(!1)),Xe(r,16,Zl(.001)),Xe(r,95,ia(!0)),Xe(r,42,ia(!1)),Xe(r,43,ia(!1)),Xe(r,130,Ti(1)),Xe(r,128,mbe()),Xe(r,131,ia(!1)),Xe(r,132,ia(!1)),l&&ESe(r,i["!cols"]),Xe(r,512,vbe(m,t)),l&&(i["!links"]=[]);for(var x=m.s.r;x<=m.e.r;++x){d=Ur(x);for(var b=m.s.c;b<=m.e.c;++b){x===m.s.r&&(p[b]=ea(b)),f=p[b]+d;var w=u?(i[x]||[])[b]:i[f];w&&(SSe(r,w,x,b,t),l&&w.l&&i["!links"].push([f,w.l]))}}var E=s.CodeName||s.name||a;return l&&Xe(r,574,cbe((o.Views||[])[0])),l&&(i["!merges"]||[]).length&&Xe(r,229,wbe(i["!merges"])),l&&_Se(r,i),Xe(r,442,V7(E)),l&&bSe(r,i),Xe(r,10),r.end()}function ASe(e,t,n){var r=Sa(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},s=n.biff==8,u=n.biff==5;if(Xe(r,2057,vC(e,5,n)),n.bookType=="xla"&&Xe(r,135),Xe(r,225,s?Ti(1200):null),Xe(r,193,Qxe(2)),u&&Xe(r,191),u&&Xe(r,192),Xe(r,226),Xe(r,92,obe("SheetJS",n)),Xe(r,66,Ti(s?1200:1252)),s&&Xe(r,353,Ti(0)),s&&Xe(r,448),Xe(r,317,Cbe(e.SheetNames.length)),s&&e.vbaraw&&Xe(r,211),s&&e.vbaraw){var l=o.CodeName||"ThisWorkbook";Xe(r,442,V7(l))}Xe(r,156,Ti(17)),Xe(r,25,ia(!1)),Xe(r,18,ia(!1)),Xe(r,19,Ti(0)),s&&Xe(r,431,ia(!1)),s&&Xe(r,444,Ti(0)),Xe(r,61,lbe()),Xe(r,64,ia(!1)),Xe(r,141,Ti(0)),Xe(r,34,ia(NEe(e)=="true")),Xe(r,14,ia(!0)),s&&Xe(r,439,ia(!1)),Xe(r,218,Ti(0)),ySe(r,e,n),xSe(r,e.SSF,n),wSe(r,n),s&&Xe(r,352,ia(!1));var f=r.end(),d=Sa();s&&Xe(d,140,Sbe()),s&&n.Strings&&hSe(d,252,ube(n.Strings)),Xe(d,10);var p=d.end(),m=Sa(),g=0,x=0;for(x=0;x<e.SheetNames.length;++x)g+=(s?12:11)+(s?2:1)*e.SheetNames[x].length;var b=f.length+g+p.length;for(x=0;x<e.SheetNames.length;++x){var w=i[x]||{};Xe(m,133,sbe({pos:b,hs:w.Hidden||0,dt:0,name:e.SheetNames[x]},n)),b+=t[x].length}var E=m.end();if(g!=E.length)throw new Error("BS8 "+g+" != "+E.length);var S=[];return f.length&&S.push(f),E.length&&S.push(E),p.length&&S.push(p),Br(S)}function CSe(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=Da(Bn)),e&&e.SSF&&(Jy(),Zy(e.SSF),n.revssf=e1(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,wC(n),n.cellXfs=[],Ku(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)r[r.length]=TSe(a,n,e);return r.unshift(ASe(e,r,n)),Br(r)}function yz(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(!(!r||!r["!ref"])){var a=si(r["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return CSe(e,t);case 4:case 3:case 2:return gSe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function OSe(e,t,n,r){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,u=0,l=0;l<a.length;++l)if(!(a[l].s.r>n||a[l].s.c>o)&&!(a[l].e.r<n||a[l].e.c<o)){if(a[l].s.r<n||a[l].s.c<o){s=-1;break}s=a[l].e.r-a[l].s.r+1,u=a[l].e.c-a[l].s.c+1;break}if(!(s<0)){var f=nn({r:n,c:o}),d=r.dense?(e[n]||[])[o]:e[f],p=d&&d.v!=null&&(d.h||ixe(d.w||(Ds(d),d.w)||""))||"",m={};s>1&&(m.rowspan=s),u>1&&(m.colspan=u),r.editable?p='<span contenteditable="true">'+p+"</span>":d&&(m["data-t"]=d&&d.t||"z",d.v!=null&&(m["data-v"]=d.v),d.z!=null&&(m["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+d.l.Target+'">'+p+"</a>")),m.id=(r.id||"sjs")+"-"+f,i.push(Ke("td",p,m))}}var g="<tr>";return g+i.join("")+"</tr>"}var RSe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',DSe="</body></html>";function NSe(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function xz(e,t){var n=t||{},r=n.header!=null?n.header:RSe,a=n.footer!=null?n.footer:DSe,i=[r],o=si(e["!ref"]);n.dense=Array.isArray(e),i.push(NSe(e,o,n));for(var s=o.s.r;s<=o.e.r;++s)i.push(OSe(e,o,s,n));return i.push("</table>"+a),i.join("")}function bz(e,t,n){var r=n||{},a=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var o=typeof r.origin=="string"?wr(r.origin):r.origin;a=o.r,i=o.c}var s=t.getElementsByTagName("tr"),u=Math.min(r.sheetRows||1e7,s.length),l={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var f=si(e["!ref"]);l.s.r=Math.min(l.s.r,f.s.r),l.s.c=Math.min(l.s.c,f.s.c),l.e.r=Math.max(l.e.r,f.e.r),l.e.c=Math.max(l.e.c,f.e.c),a==-1&&(l.e.r=a=f.e.r+1)}var d=[],p=0,m=e["!rows"]||(e["!rows"]=[]),g=0,x=0,b=0,w=0,E=0,S=0;for(e["!cols"]||(e["!cols"]=[]);g<s.length&&x<u;++g){var A=s[g];if(LI(A)){if(r.display)continue;m[x]={hidden:!0}}var T=A.children;for(b=w=0;b<T.length;++b){var R=T[b];if(!(r.display&&LI(R))){var D=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):lxe(R.innerHTML),P=R.getAttribute("data-z")||R.getAttribute("z");for(p=0;p<d.length;++p){var k=d[p];k.s.c==w+i&&k.s.r<x+a&&x+a<=k.e.r&&(w=k.e.c+1-i,p=-1)}S=+R.getAttribute("colspan")||1,((E=+R.getAttribute("rowspan")||1)>1||S>1)&&d.push({s:{r:x+a,c:w+i},e:{r:x+a+(E||1)-1,c:w+i+(S||1)-1}});var I={t:"s",v:D},F=R.getAttribute("data-t")||R.getAttribute("t")||"";D!=null&&(D.length==0?I.t=F||"z":r.raw||D.trim().length==0||F=="s"||(D==="TRUE"?I={t:"b",v:!0}:D==="FALSE"?I={t:"b",v:!1}:isNaN(_s(D))?isNaN(Ap(D).getDate())||(I={t:"d",v:ua(D)},r.cellDates||(I={t:"n",v:Ra(I.v)}),I.z=r.dateNF||Bn[14]):I={t:"n",v:_s(D)})),I.z===void 0&&P!=null&&(I.z=P);var B="",te=R.getElementsByTagName("A");if(te&&te.length)for(var ae=0;ae<te.length&&!(te[ae].hasAttribute("href")&&(B=te[ae].getAttribute("href"),B.charAt(0)!="#"));++ae);B&&B.charAt(0)!="#"&&(I.l={Target:B}),r.dense?(e[x+a]||(e[x+a]=[]),e[x+a][w+i]=I):e[nn({c:w+i,r:x+a})]=I,l.e.c<w+i&&(l.e.c=w+i),w+=S}}++x}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),l.e.r=Math.max(l.e.r,x-1+a),e["!ref"]=Zn(l),x>=u&&(e["!fullref"]=Zn((l.e.r=s.length-g+x-1+a,l))),e}function wz(e,t){var n=t||{},r=n.dense?[]:{};return bz(r,e,t)}function kSe(e,t){return gc(wz(e,t),t)}function LI(e){var t="",n=PSe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function PSe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var MSe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Op({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Jn+t}}(),jI=function(){var e=function(i){return tn(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(i,o,s){var u=[];u.push('      <table:table table:name="'+tn(o.SheetNames[s])+`" table:style-name="ta1">
`);var l=0,f=0,d=si(i["!ref"]||"A1"),p=i["!merges"]||[],m=0,g=Array.isArray(i);if(i["!cols"])for(f=0;f<=d.e.c;++f)u.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var x="",b=i["!rows"]||[];for(l=0;l<d.s.r;++l)x=b[l]?' table:style-name="ro'+b[l].ods+'"':"",u.push("        <table:table-row"+x+`></table:table-row>
`);for(;l<=d.e.r;++l){for(x=b[l]?' table:style-name="ro'+b[l].ods+'"':"",u.push("        <table:table-row"+x+`>
`),f=0;f<d.s.c;++f)u.push(t);for(;f<=d.e.c;++f){var w=!1,E={},S="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>f)&&!(p[m].s.r>l)&&!(p[m].e.c<f)&&!(p[m].e.r<l)){(p[m].s.c!=f||p[m].s.r!=l)&&(w=!0),E["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,E["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(w){u.push(n);continue}var A=nn({r:l,c:f}),T=g?(i[l]||[])[f]:i[A];if(T&&T.f&&(E["table:formula"]=tn(e_e(T.f)),T.F&&T.F.slice(0,A.length)==A)){var R=si(T.F);E["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,E["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!T){u.push(t);continue}switch(T.t){case"b":S=T.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=T.v?"true":"false";break;case"n":S=T.w||String(T.v||0),E["office:value-type"]="float",E["office:value"]=T.v||0;break;case"s":case"str":S=T.v==null?"":T.v,E["office:value-type"]="string";break;case"d":S=T.w||ua(T.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=ua(T.v).toISOString(),E["table:style-name"]="ce1";break;default:u.push(t);continue}var D=e(S);if(T.l&&T.l.Target){var P=T.l.Target;P=P.charAt(0)=="#"?"#"+t_e(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),D=Ke("text:a",D,{"xlink:href":P.replace(/&/g,"&amp;")})}u.push("          "+Ke("table:table-cell",Ke("text:p",D,{}),E)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var s=0;o.SheetNames.map(function(l){return o.Sheets[l]}).forEach(function(l){if(l&&l["!cols"]){for(var f=0;f<l["!cols"].length;++f)if(l["!cols"][f]){var d=l["!cols"][f];if(d.width==null&&d.wpx==null&&d.wch==null)continue;mC(d),d.ods=s;var p=l["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+s+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),i.push(`  </style:style>
`),++s}}});var u=0;o.SheetNames.map(function(l){return o.Sheets[l]}).forEach(function(l){if(l&&l["!rows"]){for(var f=0;f<l["!rows"].length;++f)if(l["!rows"][f]){l["!rows"][f].ods=u;var d=l["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,s){var u=[Jn],l=Op({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Op({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});s.bookType=="fods"?(u.push("<office:document"+l+f+`>
`),u.push(F7().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+l+`>
`),a(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var d=0;d!=o.SheetNames.length;++d)u.push(r(o.Sheets[o.SheetNames[d]],o,d));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),s.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function _z(e,t){if(t.bookType=="fods")return jI(e,t);var n=iC(),r="",a=[],i=[];return r="mimetype",Rt(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Rt(n,r,jI(e,t)),a.push([r,"text/xml"]),i.push([r,"ContentFile"]),r="styles.xml",Rt(n,r,MSe(e,t)),a.push([r,"text/xml"]),i.push([r,"StylesFile"]),r="meta.xml",Rt(n,r,Jn+F7()),a.push([r,"text/xml"]),i.push([r,"MetadataFile"]),r="manifest.rdf",Rt(n,r,qxe(i)),a.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Rt(n,r,$xe(a)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Vg(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ISe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ji(Cp(e))}function FSe(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}function Uu(e){var t=e.reduce(function(a,i){return a+i.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(a){n.set(a,r),r+=a.length}),n}function BSe(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,a=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=n>=0?0:128}function Rp(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function Qt(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function Ff(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function ar(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],a=Rp(e,n),i=a&7;a=Math.floor(a/8);var o=0,s;if(a==0)break;switch(i){case 0:{for(var u=n[0];e[n[0]++]>=128;);s=e.slice(u,n[0])}break;case 5:o=4,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Rp(e,n),s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(r))}var l={data:s,type:i};t[a]==null?t[a]=[l]:t[a].push(l)}return t}function Dr(e){var t=[];return e.forEach(function(n,r){n.forEach(function(a){a.data&&(t.push(Qt(r*8+a.type)),a.type==2&&t.push(Qt(a.data.length)),t.push(a.data))})}),Uu(t)}function qi(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=Rp(e,r),i=ar(e.slice(r[0],r[0]+a));r[0]+=a;var o={id:Ff(i[1][0].data),messages:[]};i[2].forEach(function(s){var u=ar(s.data),l=Ff(u[3][0].data);o.messages.push({meta:u,data:e.slice(r[0],r[0]+l)}),r[0]+=l}),(t=i[3])!=null&&t[0]&&(o.merge=Ff(i[3][0].data)>>>0>0),n.push(o)}return n}function hf(e){var t=[];return e.forEach(function(n){var r=[];r[1]=[{data:Qt(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Qt(+!!n.merge),type:0}]);var a=[];n.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Qt(o.data.length)}],r[2].push({data:Dr(o.meta),type:2})});var i=Dr(r);t.push(Qt(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Uu(t)}function LSe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Rp(t,n),a=[];n[0]<t.length;){var i=t[n[0]]&3;if(i==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[n[0]],s>1&&(o|=t[n[0]+1]<<8),s>2&&(o|=t[n[0]+2]<<16),s>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=s}a.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var u=0,l=0;if(i==1?(l=(t[n[0]]>>2&7)+4,u=(t[n[0]++]&224)<<3,u|=t[n[0]++]):(l=(t[n[0]++]>>2)+1,i==2?(u=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(u=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[Uu(a)],u==0)throw new Error("Invalid offset 0");if(u>a[0].length)throw new Error("Invalid offset beyond length");if(l>=u)for(a.push(a[0].slice(-u)),l-=u;l>=a[a.length-1].length;)a.push(a[a.length-1]),l-=a[a.length-1].length;a.push(a[0].slice(-u,-u+l))}}var f=Uu(a);if(f.length!=r)throw new Error("Unexpected length: ".concat(f.length," != ").concat(r));return f}function Gi(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(LSe(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return Uu(t)}function df(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),a=new Uint8Array(4);t.push(a);var i=Qt(r),o=i.length;t.push(i),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,n+=r}return Uu(t)}function G2(e,t){var n=new Uint8Array(32),r=Vg(n),a=12,i=0;switch(n[0]=5,e.t){case"n":n[1]=2,BSe(n,a,e.v),i|=1,a+=16;break;case"b":n[1]=6,r.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,i,!0),n.slice(0,a)}function K2(e,t){var n=new Uint8Array(32),r=Vg(n),a=12,i=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":n[2]=6,r.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,i,!0),n.slice(0,a)}function xu(e){var t=ar(e);return Rp(t[1][0].data)}function jSe(e,t,n){var r,a,i,o;if(!((r=e[6])!=null&&r[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var s=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Ff(e[8][0].data)>0||!1;if(s)throw"Math only works with normal offsets";for(var u=0,l=Vg(e[7][0].data),f=0,d=[],p=Vg(e[4][0].data),m=0,g=[],x=0;x<t.length;++x){if(t[x]==null){l.setUint16(x*2,65535,!0),p.setUint16(x*2,65535);continue}l.setUint16(x*2,f,!0),p.setUint16(x*2,m,!0);var b,w;switch(typeof t[x]){case"string":b=G2({t:"s",v:t[x]},n),w=K2({t:"s",v:t[x]},n);break;case"number":b=G2({t:"n",v:t[x]},n),w=K2({t:"n",v:t[x]},n);break;case"boolean":b=G2({t:"b",v:t[x]},n),w=K2({t:"b",v:t[x]},n);break;default:throw new Error("Unsupported value "+t[x])}d.push(b),f+=b.length,g.push(w),m+=w.length,++u}for(e[2][0].data=Qt(u);x<e[7][0].data.length/2;++x)l.setUint16(x*2,65535,!0),p.setUint16(x*2,65535,!0);return e[6][0].data=Uu(d),e[3][0].data=Uu(g),u}function USe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=si(n["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Zn(r)));var i=qg(n,{range:r,header:1}),o=["~Sh33tJ5~"];i.forEach(function(G){return G.forEach(function(X){typeof X=="string"&&o.push(X)})});var s={},u=[],l=cn.read(t.numbers,{type:"base64"});l.FileIndex.map(function(G,X){return[G,l.FullPaths[X]]}).forEach(function(G){var X=G[0],Y=G[1];if(X.type==2&&X.name.match(/\.iwa/)){var ce=X.content,Pe=Gi(ce),le=qi(Pe);le.forEach(function(oe){u.push(oe.id),s[oe.id]={deps:[],location:Y,type:Ff(oe.messages[0].meta[1][0].data)}})}}),u.sort(function(G,X){return G-X});var f=u.filter(function(G){return G>1}).map(function(G){return[G,Qt(G)]});l.FileIndex.map(function(G,X){return[G,l.FullPaths[X]]}).forEach(function(G){var X=G[0];if(G[1],!!X.name.match(/\.iwa/)){var Y=qi(Gi(X.content));Y.forEach(function(ce){ce.messages.forEach(function(Pe){f.forEach(function(le){ce.messages.some(function(oe){return Ff(oe.meta[1][0].data)!=11006&&FSe(oe.data,le[1])})&&s[le[0]].deps.push(ce.id)})})})}});for(var d=cn.find(l,s[1].location),p=qi(Gi(d.content)),m,g=0;g<p.length;++g){var x=p[g];x.id==1&&(m=x)}var b=xu(ar(m.messages[0].data)[1][0].data);for(d=cn.find(l,s[b].location),p=qi(Gi(d.content)),g=0;g<p.length;++g)x=p[g],x.id==b&&(m=x);for(b=xu(ar(m.messages[0].data)[2][0].data),d=cn.find(l,s[b].location),p=qi(Gi(d.content)),g=0;g<p.length;++g)x=p[g],x.id==b&&(m=x);for(b=xu(ar(m.messages[0].data)[2][0].data),d=cn.find(l,s[b].location),p=qi(Gi(d.content)),g=0;g<p.length;++g)x=p[g],x.id==b&&(m=x);var w=ar(m.messages[0].data);{w[6][0].data=Qt(r.e.r+1),w[7][0].data=Qt(r.e.c+1);var E=xu(w[46][0].data),S=cn.find(l,s[E].location),A=qi(Gi(S.content));{for(var T=0;T<A.length&&A[T].id!=E;++T);if(A[T].id!=E)throw"Bad ColumnRowUIDMapArchive";var R=ar(A[T].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var D=0;D<=r.e.c;++D){var P=[];P[1]=P[2]=[{type:0,data:Qt(D+420690)}],R[1].push({type:2,data:Dr(P)}),R[2].push({type:0,data:Qt(D)}),R[3].push({type:0,data:Qt(D)})}R[4]=[],R[5]=[],R[6]=[];for(var k=0;k<=r.e.r;++k)P=[],P[1]=P[2]=[{type:0,data:Qt(k+726270)}],R[4].push({type:2,data:Dr(P)}),R[5].push({type:0,data:Qt(k)}),R[6].push({type:0,data:Qt(k)});A[T].messages[0].data=Dr(R)}S.content=df(hf(A)),S.size=S.content.length,delete w[46];var I=ar(w[4][0].data);{I[7][0].data=Qt(r.e.r+1);var F=ar(I[1][0].data),B=xu(F[2][0].data);S=cn.find(l,s[B].location),A=qi(Gi(S.content));{if(A[0].id!=B)throw"Bad HeaderStorageBucket";var te=ar(A[0].messages[0].data);for(k=0;k<i.length;++k){var ae=ar(te[2][0].data);ae[1][0].data=Qt(k),ae[4][0].data=Qt(i[k].length),te[2][k]={type:te[2][0].type,data:Dr(ae)}}A[0].messages[0].data=Dr(te)}S.content=df(hf(A)),S.size=S.content.length;var V=xu(I[2][0].data);S=cn.find(l,s[V].location),A=qi(Gi(S.content));{if(A[0].id!=V)throw"Bad HeaderStorageBucket";for(te=ar(A[0].messages[0].data),D=0;D<=r.e.c;++D)ae=ar(te[2][0].data),ae[1][0].data=Qt(D),ae[4][0].data=Qt(r.e.r+1),te[2][D]={type:te[2][0].type,data:Dr(ae)};A[0].messages[0].data=Dr(te)}S.content=df(hf(A)),S.size=S.content.length;var H=xu(I[4][0].data);(function(){for(var G=cn.find(l,s[H].location),X=qi(Gi(G.content)),Y,ce=0;ce<X.length;++ce){var Pe=X[ce];Pe.id==H&&(Y=Pe)}var le=ar(Y.messages[0].data);{le[3]=[];var oe=[];o.forEach(function(ve,Ye){oe[1]=[{type:0,data:Qt(Ye)}],oe[2]=[{type:0,data:Qt(1)}],oe[3]=[{type:2,data:ISe(ve)}],le[3].push({type:2,data:Dr(oe)})})}Y.messages[0].data=Dr(le);var ye=hf(X),Oe=df(ye);G.content=Oe,G.size=G.content.length})();var Z=ar(I[3][0].data);{var ie=Z[1][0];delete Z[2];var he=ar(ie.data);{var z=xu(he[2][0].data);(function(){for(var G=cn.find(l,s[z].location),X=qi(Gi(G.content)),Y,ce=0;ce<X.length;++ce){var Pe=X[ce];Pe.id==z&&(Y=Pe)}var le=ar(Y.messages[0].data);{delete le[6],delete Z[7];var oe=new Uint8Array(le[5][0].data);le[5]=[];for(var ye=0,Oe=0;Oe<=r.e.r;++Oe){var ve=ar(oe);ye+=jSe(ve,i[Oe],o),ve[1][0].data=Qt(Oe),le[5].push({data:Dr(ve),type:2})}le[1]=[{type:0,data:Qt(r.e.c+1)}],le[2]=[{type:0,data:Qt(r.e.r+1)}],le[3]=[{type:0,data:Qt(ye)}],le[4]=[{type:0,data:Qt(r.e.r+1)}]}Y.messages[0].data=Dr(le);var Ye=hf(X),$e=df(Ye);G.content=$e,G.size=G.content.length})()}ie.data=Dr(he)}I[3][0].data=Dr(Z)}w[4][0].data=Dr(I)}m.messages[0].data=Dr(w);var se=hf(p),L=df(se);return d.content=L,d.size=d.content.length,l}function zSe(e){return function(n){for(var r=0;r!=e.length;++r){var a=e[r];n[a[0]]===void 0&&(n[a[0]]=a[1]),a[2]==="n"&&(n[a[0]]=Number(n[a[0]]))}}}function wC(e){zSe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function WSe(e,t){return t.bookType=="ods"?_z(e,t):t.bookType=="numbers"?USe(e,t):t.bookType=="xlsb"?HSe(e,t):$Se(e,t)}function HSe(e,t){Ef=1024,e&&!e.SSF&&(e.SSF=Da(Bn)),e&&e.SSF&&(Jy(),Zy(e.SSF),t.revssf=e1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ep?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",r=az.indexOf(t.bookType)>-1,a=P7();wC(t=t||{});var i=iC(),o="",s=0;if(t.cellXfs=[],Ku(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Rt(i,o,B7(e.Props,t)),a.coreprops.push(o),Zt(t.rels,2,o,zt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],l=0;l<e.SheetNames.length;++l)(e.Workbook.Sheets[l]||{}).Hidden!=2&&u.push(e.SheetNames[l]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,Rt(i,o,j7(e.Props)),a.extprops.push(o),Zt(t.rels,3,o,zt.EXT_PROPS),e.Custprops!==e.Props&&zr(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Rt(i,o,U7(e.Custprops)),a.custprops.push(o),Zt(t.rels,4,o,zt.CUST_PROPS)),s=1;s<=e.SheetNames.length;++s){var f={"!id":{}},d=e.Sheets[e.SheetNames[s-1]],p=(d||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+s+"."+n,Rt(i,o,qEe(s-1,o,t,e,f)),a.sheets.push(o),Zt(t.wbrels,-1,"worksheets/sheet"+s+"."+n,zt.WS[0])}if(d){var m=d["!comments"],g=!1,x="";m&&m.length>0&&(x="xl/comments"+s+"."+n,Rt(i,x,XEe(m,x)),a.comments.push(x),Zt(f,-1,"../comments"+s+"."+n,zt.CMNT),g=!0),d["!legacy"]&&g&&Rt(i,"xl/drawings/vmlDrawing"+s+".vml",nz(s,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&Rt(i,I7(o),Mf(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,Rt(i,o,KEe(t.Strings,o,t)),a.strs.push(o),Zt(t.wbrels,-1,"sharedStrings."+n,zt.SST)),o="xl/workbook."+n,Rt(i,o,VEe(e,o)),a.workbooks.push(o),Zt(t.rels,1,o,zt.WB),o="xl/theme/theme1.xml",Rt(i,o,ez(e.Themes,t)),a.themes.push(o),Zt(t.wbrels,-1,"theme/theme1.xml",zt.THEME),o="xl/styles."+n,Rt(i,o,GEe(e,o,t)),a.styles.push(o),Zt(t.wbrels,-1,"styles."+n,zt.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",Rt(i,o,e.vbaraw),a.vba.push(o),Zt(t.wbrels,-1,"vbaProject.bin",zt.VBA)),o="xl/metadata."+n,Rt(i,o,YEe(o)),a.metadata.push(o),Zt(t.wbrels,-1,"metadata."+n,zt.XLMETA),Rt(i,"[Content_Types].xml",M7(a,t)),Rt(i,"_rels/.rels",Mf(t.rels)),Rt(i,"xl/_rels/workbook."+n+".rels",Mf(t.wbrels)),delete t.revssf,delete t.ssf,i}function $Se(e,t){Ef=1024,e&&!e.SSF&&(e.SSF=Da(Bn)),e&&e.SSF&&(Jy(),Zy(e.SSF),t.revssf=e1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ep?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=az.indexOf(t.bookType)>-1,a=P7();wC(t=t||{});var i=iC(),o="",s=0;if(t.cellXfs=[],Ku(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Rt(i,o,B7(e.Props,t)),a.coreprops.push(o),Zt(t.rels,2,o,zt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],l=0;l<e.SheetNames.length;++l)(e.Workbook.Sheets[l]||{}).Hidden!=2&&u.push(e.SheetNames[l]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,Rt(i,o,j7(e.Props)),a.extprops.push(o),Zt(t.rels,3,o,zt.EXT_PROPS),e.Custprops!==e.Props&&zr(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Rt(i,o,U7(e.Custprops)),a.custprops.push(o),Zt(t.rels,4,o,zt.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},p=e.Sheets[e.SheetNames[s-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+s+"."+n,Rt(i,o,dz(s-1,t,e,d)),a.sheets.push(o),Zt(t.wbrels,-1,"worksheets/sheet"+s+"."+n,zt.WS[0])}if(p){var g=p["!comments"],x=!1,b="";if(g&&g.length>0){var w=!1;g.forEach(function(E){E[1].forEach(function(S){S.T==!0&&(w=!0)})}),w&&(b="xl/threadedComments/threadedComment"+s+"."+n,Rt(i,b,wwe(g,f,t)),a.threadedcomments.push(b),Zt(d,-1,"../threadedComments/threadedComment"+s+"."+n,zt.TCMNT)),b="xl/comments"+s+"."+n,Rt(i,b,rz(g)),a.comments.push(b),Zt(d,-1,"../comments"+s+"."+n,zt.CMNT),x=!0}p["!legacy"]&&x&&Rt(i,"xl/drawings/vmlDrawing"+s+".vml",nz(s,p["!comments"])),delete p["!comments"],delete p["!legacy"]}d["!id"].rId1&&Rt(i,I7(o),Mf(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,Rt(i,o,K7(t.Strings,t)),a.strs.push(o),Zt(t.wbrels,-1,"sharedStrings."+n,zt.SST)),o="xl/workbook."+n,Rt(i,o,mz(e)),a.workbooks.push(o),Zt(t.rels,1,o,zt.WB),o="xl/theme/theme1.xml",Rt(i,o,ez(e.Themes,t)),a.themes.push(o),Zt(t.wbrels,-1,"theme/theme1.xml",zt.THEME),o="xl/styles."+n,Rt(i,o,Z7(e,t)),a.styles.push(o),Zt(t.wbrels,-1,"styles."+n,zt.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",Rt(i,o,e.vbaraw),a.vba.push(o),Zt(t.wbrels,-1,"vbaProject.bin",zt.VBA)),o="xl/metadata."+n,Rt(i,o,tz()),a.metadata.push(o),Zt(t.wbrels,-1,"metadata."+n,zt.XLMETA),f.length>1&&(o="xl/persons/person.xml",Rt(i,o,_we(f)),a.people.push(o),Zt(t.wbrels,-1,"persons/person.xml",zt.PEOPLE)),Rt(i,"[Content_Types].xml",M7(a,t)),Rt(i,"_rels/.rels",Mf(t.rels)),Rt(i,"xl/_rels/workbook."+n+".rels",Mf(t.wbrels)),delete t.revssf,delete t.ssf,i}function VSe(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Rs(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Ez(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return u0(t.file,cn.write(e,{type:Vt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return cn.write(e,t)}function qSe(e,t){var n=Da(t||{}),r=WSe(e,n);return GSe(r,n)}function GSe(e,t){var n={},r=Vt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?cn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Qy(a))}return t.password&&typeof encrypt_agile<"u"?Ez(encrypt_agile(a,t.password),t):t.type==="file"?u0(t.file,a):t.type=="string"?Yd(a):a}function KSe(e,t){var n=t||{},r=cSe(e,n);return Ez(r,n)}function Eo(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return Tp(Cp(r));case"binary":return Cp(r);case"string":return e;case"file":return u0(t.file,r,"utf8");case"buffer":return Vt?$s(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Eo(r,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function XSe(e,t){switch(t.type){case"base64":return Tp(e);case"binary":return e;case"string":return e;case"file":return u0(t.file,e,"binary");case"buffer":return Vt?$s(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function vm(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type=="base64"?Tp(n):t.type=="string"?Yd(n):n;case"file":return u0(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Sz(e,t){E1e(),MEe(e);var n=Da(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=Sz(e,n);return n.type="array",Qy(r)}var a=0;if(n.sheet&&(typeof n.sheet=="number"?a=n.sheet:a=e.SheetNames.indexOf(n.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Eo(uSe(e,n),n);case"slk":case"sylk":return Eo(Nbe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"htm":case"html":return Eo(xz(e.Sheets[e.SheetNames[a]],n),n);case"txt":return XSe(Tz(e.Sheets[e.SheetNames[a]],n),n);case"csv":return Eo(_C(e.Sheets[e.SheetNames[a]],n),n,"\uFEFF");case"dif":return Eo(kbe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"dbf":return vm(Dbe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"prn":return Eo(Pbe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"rtf":return Eo(Ube.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"eth":return Eo(G7.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"fods":return Eo(_z(e,n),n);case"wk1":return vm(kI.sheet_to_wk1(e.Sheets[e.SheetNames[a]],n),n);case"wk3":return vm(kI.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),vm(yz(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),KSe(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return qSe(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function YSe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function UI(e,t,n){var r={};return r.type="file",r.file=t,YSe(r),Sz(e,r)}function QSe(e,t,n,r,a,i,o,s){var u=Ur(n),l=s.defval,f=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),d=!0,p=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!o||e[n])for(var m=t.s.c;m<=t.e.c;++m){var g=o?e[n][m]:e[r[m]+u];if(g===void 0||g.t===void 0){if(l===void 0)continue;i[m]!=null&&(p[i[m]]=l);continue}var x=g.v;switch(g.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[m]!=null){if(x==null)if(g.t=="e"&&x===null)p[i[m]]=null;else if(l!==void 0)p[i[m]]=l;else if(f&&x===null)p[i[m]]=null;else continue;else p[i[m]]=f&&(g.t!=="n"||g.t==="n"&&s.rawNumbers!==!1)?x:Ds(g,x,s);x!=null&&(d=!1)}}return{row:p,isempty:d}}function qg(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,a=1,i=[],o=0,s="",u={s:{r:0,c:0},e:{r:0,c:0}},l=t||{},f=l.range!=null?l.range:e["!ref"];switch(l.header===1?r=1:l.header==="A"?r=2:Array.isArray(l.header)?r=3:l.header==null&&(r=0),typeof f){case"string":u=_n(f);break;case"number":u=_n(e["!ref"]),u.s.r=f;break;default:u=f}r>0&&(a=0);var d=Ur(u.s.r),p=[],m=[],g=0,x=0,b=Array.isArray(e),w=u.s.r,E=0,S={};b&&!e[w]&&(e[w]=[]);var A=l.skipHidden&&e["!cols"]||[],T=l.skipHidden&&e["!rows"]||[];for(E=u.s.c;E<=u.e.c;++E)if(!(A[E]||{}).hidden)switch(p[E]=ea(E),n=b?e[w][E]:e[p[E]+d],r){case 1:i[E]=E-u.s.c;break;case 2:i[E]=p[E];break;case 3:i[E]=l.header[E-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),s=o=Ds(n,null,l),x=S[o]||0,!x)S[o]=1;else{do s=o+"_"+x++;while(S[s]);S[o]=x,S[s]=1}i[E]=s}for(w=u.s.r+a;w<=u.e.r;++w)if(!(T[w]||{}).hidden){var R=QSe(e,u,w,p,r,i,b,l);(R.isempty===!1||(r===1?l.blankrows!==!1:l.blankrows))&&(m[g++]=R.row)}return m.length=g,m}var zI=/"/g;function ZSe(e,t,n,r,a,i,o,s){for(var u=!0,l=[],f="",d=Ur(n),p=t.s.c;p<=t.e.c;++p)if(r[p]){var m=s.dense?(e[n]||[])[p]:e[r[p]+d];if(m==null)f="";else if(m.v!=null){u=!1,f=""+(s.rawNumbers&&m.t=="n"?m.v:Ds(m,null,s));for(var g=0,x=0;g!==f.length;++g)if((x=f.charCodeAt(g))===a||x===i||x===34||s.forceQuotes){f='"'+f.replace(zI,'""')+'"';break}f=="ID"&&(f='"ID"')}else m.f!=null&&!m.F?(u=!1,f="="+m.f,f.indexOf(",")>=0&&(f='"'+f.replace(zI,'""')+'"')):f="";l.push(f)}return s.blankrows===!1&&u?null:l.join(o)}function _C(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var a=_n(e["!ref"]),i=r.FS!==void 0?r.FS:",",o=i.charCodeAt(0),s=r.RS!==void 0?r.RS:`
`,u=s.charCodeAt(0),l=new RegExp((i=="|"?"\\|":i)+"+$"),f="",d=[];r.dense=Array.isArray(e);for(var p=r.skipHidden&&e["!cols"]||[],m=r.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(p[g]||{}).hidden||(d[g]=ea(g));for(var x=0,b=a.s.r;b<=a.e.r;++b)(m[b]||{}).hidden||(f=ZSe(e,a,b,d,o,u,i,r),f!=null&&(r.strip&&(f=f.replace(l,"")),(f||r.blankrows!==!1)&&n.push((x++?s:"")+f)));return delete r.dense,n.join("")}function Tz(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=_C(e,t);return n}function JSe(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var a=_n(e["!ref"]),i="",o=[],s,u=[],l=Array.isArray(e);for(s=a.s.c;s<=a.e.c;++s)o[s]=ea(s);for(var f=a.s.r;f<=a.e.r;++f)for(i=Ur(f),s=a.s.c;s<=a.e.c;++s)if(t=o[s]+i,n=l?(e[f]||[])[s]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}u[u.length]=t+"="+r}return u}function Az(e,t,n){var r=n||{},a=+!r.skipHeader,i=e||{},o=0,s=0;if(i&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?wr(r.origin):r.origin;o=u.r,s=u.c}var l,f={s:{c:0,r:0},e:{c:s,r:o+t.length-1+a}};if(i["!ref"]){var d=_n(i["!ref"]);f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),o==-1&&(o=d.e.r+1,f.e.r=o+t.length-1+a)}else o==-1&&(o=0,f.e.r=t.length-1+a);var p=r.header||[],m=0;t.forEach(function(x,b){zr(x).forEach(function(w){(m=p.indexOf(w))==-1&&(p[m=p.length]=w);var E=x[w],S="z",A="",T=nn({c:s+m,r:o+b+a});l=Dp(i,T),E&&typeof E=="object"&&!(E instanceof Date)?i[T]=E:(typeof E=="number"?S="n":typeof E=="boolean"?S="b":typeof E=="string"?S="s":E instanceof Date?(S="d",r.cellDates||(S="n",E=Ra(E)),A=r.dateNF||Bn[14]):E===null&&r.nullError&&(S="e",E=0),l?(l.t=S,l.v=E,delete l.w,delete l.R,A&&(l.z=A)):i[T]=l={t:S,v:E},A&&(l.z=A))})}),f.e.c=Math.max(f.e.c,s+p.length-1);var g=Ur(o);if(a)for(m=0;m<p.length;++m)i[ea(m+s)+g]={t:"s",v:p[m]};return i["!ref"]=Zn(f),i}function eTe(e,t){return Az(null,e,t)}function Dp(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=wr(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Dp(e,nn(t)):Dp(e,nn({r:t,c:n||0}))}function tTe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function nTe(){return{SheetNames:[],Sheets:{}}}function rTe(e,t,n,r){var a=1;if(!n)for(;a<=65535&&e.SheetNames.indexOf(n="Sheet"+a)!=-1;++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||n;for(++a;a<=65535&&e.SheetNames.indexOf(n=o+a)!=-1;++a);}if(vz(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function aTe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=tTe(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function iTe(e,t){return e.z=t,e}function Cz(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function oTe(e,t,n){return Cz(e,"#"+t,n)}function sTe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function uTe(e,t,n,r){for(var a=typeof t!="string"?t:_n(t),i=typeof t=="string"?t:Zn(t),o=a.s.r;o<=a.e.r;++o)for(var s=a.s.c;s<=a.e.c;++s){var u=Dp(e,o,s);u.t="n",u.F=i,delete u.v,o==a.s.r&&s==a.s.c&&(u.f=n,r&&(u.D=!0))}return e}var pf={encode_col:ea,encode_row:Ur,encode_cell:nn,encode_range:Zn,decode_col:fC,decode_row:cC,split_cell:Exe,decode_cell:wr,decode_range:si,format_cell:Ds,sheet_add_aoa:C7,sheet_add_json:Az,sheet_add_dom:bz,aoa_to_sheet:xh,json_to_sheet:eTe,table_to_sheet:wz,table_to_book:kSe,sheet_to_csv:_C,sheet_to_txt:Tz,sheet_to_json:qg,sheet_to_html:xz,sheet_to_formulae:JSe,sheet_to_row_object_array:qg,sheet_get_cell:Dp,book_new:nTe,book_append_sheet:rTe,book_set_sheet_visibility:aTe,cell_set_number_format:iTe,cell_set_hyperlink:Cz,cell_set_internal_link:oTe,cell_add_comment:sTe,sheet_set_array_formula:uTe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function lTe(){const e=()=>{if(!w||!w.details)return;console.log(w.details);const V=w.details.map((ie,he)=>({title:ie?.title,code:ie?.code,expected_output:ie?.expected_output,language:ie?.language,output:ie?.output,success:ie?.success,timeTaken:ie?.timeTaken,Malpractice:ie?.malpractice?"Yes":"No","Malpractice Type":ie?.malpractice_type.join(", ")||"N/A"})),H=pf.json_to_sheet(V),Z=pf.book_new();pf.book_append_sheet(Z,H,"Results"),UI(Z,`${w.username}_Results.xlsx`)},t=V=>{if(!V)return;console.log(V);const H=V.map((he,z)=>({username:he.username,malpractice:he.malpractice,submitted_at:he.submitted_at,test_type:he.test_type,total_marks:he.total_marks})),Z=pf.json_to_sheet(H),ie=pf.book_new();pf.book_append_sheet(ie,Z,"Results"),UI(ie,"ExtractedData.xlsx")},[n,r]=N.useState(""),[a,i]=N.useState(""),[o,s]=N.useState(""),[u,l]=N.useState([]),f=()=>{const H=d.filter(Z=>{const ie=!Z.malpractice||Z.malpractice===!1,he=Z.test_type==="Coding"&&Z.total_marks>=parseInt(n),z=Z.test_type==="MCQ"&&Z.total_marks>=parseInt(a);return ie&&(he||z)}).sort((Z,ie)=>Z.total_marks-ie.total_marks);l(H.slice(0,parseInt(o)))},[d,p]=N.useState([]),[m,g]=N.useState(""),[x,b]=N.useState([]),[w,E]=N.useState(null),[S,A]=N.useState(!1);N.useEffect(()=>{fetch("https://marqueebackend.onrender.com/admin/results").then(V=>V.json()).then(V=>p(V))},[]);const T=d.length,R=d.filter(V=>V.malpractice===!1||V.malpractice===void 0),D=d.filter(V=>V.test_type==="MCQ"&&V.malpractice&&V.malpractice!==!1),P=d.filter(V=>V.test_type==="Coding"&&V.malpractice&&V.malpractice!==!1),k=V=>{g(V),V==="Total"?b(d):V==="MCQ Malpractice"?b(D):V==="Coding Malpractice"?b(P):V==="Non Malpractice Students"&&b(R)},I=V=>{console.log(V.details),E(V),A(!0)},F=d.map(V=>({name:V.username,marks:V.total_marks})),B=["#007bff","#ff6384","#36a2eb","#ffc107","#8e44ad"],te=d.reduce((V,H)=>{const Z=H.malpractice||"None";return V[Z]=(V[Z]||0)+1,V},{}),ae=Object.entries(te).map(([V,H])=>({name:V,value:H}));return O.jsxs("div",{className:"results-dashboard p-4",children:[O.jsx("h2",{className:"text-center fw-bold mb-4",children:"Student Test Dashboard"}),O.jsxs("div",{className:"row text-center mb-5",children:[O.jsx("div",{className:"col-md-3",children:O.jsxs("div",{className:"info-card shadow-sm rounded-4 p-4 animate-pop",children:[O.jsx("h6",{className:"text-muted",children:"Total Students Attempted"}),O.jsx("h4",{className:"fw-bold text-primary",children:T}),O.jsx("button",{className:"btn btn-outline-primary mt-3",onClick:()=>k("Total"),children:"View Details"})]})}),O.jsx("div",{className:"col-md-3",children:O.jsxs("div",{className:"info-card shadow-sm rounded-4 p-4 animate-pop",children:[O.jsx("h6",{className:"text-muted",children:"Non Malpractice Students"}),O.jsx("h4",{className:"fw-bold text-primary",children:R.length}),O.jsx("button",{className:"btn btn-outline-primary mt-3",onClick:()=>k("Non Malpractice Students"),children:"View Details"})]})}),O.jsx("div",{className:"col-md-3",children:O.jsxs("div",{className:"info-card shadow-sm rounded-4 p-4 animate-pop",children:[O.jsx("h6",{className:"text-muted",children:"MCQ Malpractices"}),O.jsx("h4",{className:"fw-bold text-danger",children:D.length}),O.jsx("button",{className:"btn btn-outline-danger mt-3",onClick:()=>k("MCQ Malpractice"),children:"View Details"})]})}),O.jsx("div",{className:"col-md-3",children:O.jsxs("div",{className:"info-card shadow-sm rounded-4 p-4 animate-pop",children:[O.jsx("h6",{className:"text-muted",children:"Coding Malpractices"}),O.jsx("h4",{className:"fw-bold text-danger",children:P.length}),O.jsx("button",{className:"btn btn-outline-danger mt-3",onClick:()=>k("Coding Malpractice"),children:"View Details"})]})})]}),m&&O.jsxs("div",{className:"student-list-section mb-5",children:[O.jsxs("h4",{className:"mb-3",children:[m," - Students (",x.length,")"]}),O.jsx("div",{className:"card shadow-sm",children:O.jsx("div",{className:"card-body",children:x.length===0?O.jsx("p",{className:"text-center text-muted",children:"No students found."}):O.jsxs("div",{className:"table-responsive",children:[O.jsxs("table",{className:"table table-hover",children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Username"}),O.jsx("th",{children:"Test Type"}),O.jsx("th",{children:"Marks"}),O.jsx("th",{children:"Malpractice"}),O.jsx("th",{children:"Actions"})]})}),O.jsx("tbody",{children:x.map((V,H)=>O.jsxs("tr",{children:[O.jsx("td",{children:V.username}),O.jsx("td",{children:V.test_type}),O.jsx("td",{children:V.total_marks}),O.jsx("td",{children:V.malpractice?O.jsx("span",{className:"badge bg-danger",children:V.malpractice}):O.jsx("span",{className:"badge bg-success",children:"None"})}),O.jsx("td",{children:O.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>I(V),children:"View Details"})})]},H))})]}),O.jsx("button",{className:"btn btn-success mt-3 mb-4",onClick:()=>{t(x)},children:"Export to Excel"})]})})})]}),O.jsxs("div",{className:"container mt-5",children:[O.jsx("h2",{className:"mb-4",children:"Top Students Filter"}),O.jsxs("div",{className:"row mb-3",children:[O.jsxs("div",{className:"col-md-4",children:[O.jsx("label",{children:"Coding Marks Greater Than"}),O.jsx("input",{type:"number",className:"form-control",value:n,onChange:V=>r(V.target.value)})]}),O.jsxs("div",{className:"col-md-4",children:[O.jsx("label",{children:"MCQ Marks Greater Than"}),O.jsx("input",{type:"number",className:"form-control",value:a,onChange:V=>i(V.target.value)})]}),O.jsxs("div",{className:"col-md-4",children:[O.jsx("label",{children:"Top N Students"}),O.jsx("input",{type:"number",className:"form-control",value:o,onChange:V=>s(V.target.value)})]})]}),O.jsx("button",{className:"btn btn-primary mb-4",onClick:f,children:"Filter Students"}),u.length>0&&O.jsxs(O.Fragment,{children:[O.jsxs("table",{className:"table table-bordered table-striped table-hover",children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"S.no"}),O.jsx("th",{children:"Username"}),O.jsx("th",{children:"Test Type"}),O.jsx("th",{children:"Total Marks"}),O.jsx("th",{children:"Submitted At"})]})}),O.jsx("tbody",{children:u.map((V,H)=>O.jsxs("tr",{children:[O.jsx("td",{children:H+1}),O.jsx("td",{children:V.username}),O.jsx("td",{children:V.test_type}),O.jsx("td",{children:V.total_marks}),O.jsx("td",{children:O.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>I(V),children:"View Details"})})]},H))})]}),O.jsx("button",{className:"btn btn-success mt-3 mb-4",onClick:()=>{t(u)},children:"Export to Excel"})]})]}),O.jsxs("div",{className:"row",children:[O.jsx("div",{className:"col-md-6 mb-4",children:O.jsxs("div",{className:"chart-card p-4 rounded-4",children:[O.jsx("h5",{className:"fw-semibold mb-3",children:" Total Marks per Student"}),O.jsx(lM,{width:"100%",height:300,children:O.jsxs(c1e,{data:F,children:[O.jsx(QA,{dataKey:"name"}),O.jsx(ZA,{}),O.jsx(rM,{}),O.jsx(GA,{dataKey:"marks",fill:"#007bff",radius:[5,5,0,0]})]})})]})}),O.jsx("div",{className:"col-md-6 mb-4",children:O.jsxs("div",{className:"chart-card p-4 rounded-4",children:[O.jsx("h5",{className:"fw-semibold mb-3",children:" Malpractice Breakdown"}),O.jsx(lM,{width:"100%",height:300,children:O.jsxs(b1e,{children:[O.jsx(qA,{data:ae,dataKey:"value",nameKey:"name",outerRadius:100,label:!0,children:ae.map((V,H)=>O.jsx(o0,{fill:B[H%B.length]},`cell-${H}`))}),O.jsx(rM,{}),O.jsx(ky,{})]})})]})})]}),S&&w&&O.jsx("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},children:O.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:O.jsxs("div",{className:"modal-content",children:[O.jsxs("div",{className:"modal-header bg-primary text-white",children:[O.jsxs("h5",{className:"modal-title",children:[w.username," - Test Details"]}),O.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>A(!1)})]}),O.jsxs("div",{className:"modal-body",children:[O.jsxs("div",{className:"row mb-3",children:[O.jsxs("div",{className:"col-md-6",children:[O.jsxs("p",{children:[O.jsx("strong",{children:"Test Type:"})," ",w.test_type]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Total Marks:"})," ",w.total_marks]})]}),O.jsxs("div",{className:"col-md-6",children:[O.jsxs("p",{children:[O.jsx("strong",{children:"Malpractice:"})," ",w.malpractice?O.jsx("span",{className:"text-danger",children:w.malpractice}):"None"]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Submitted At:"})," ",new Date(w.submitted_at).toLocaleString()]})]})]}),O.jsx("h5",{className:"mb-3",children:"Test Details:"}),w.details.map((V,H)=>O.jsx("div",{className:"card mb-3",children:O.jsx("div",{className:"card-body",children:w.test_type==="Coding"&&V?O.jsxs(O.Fragment,{children:[O.jsx("h6",{className:"card-title",children:V.title}),O.jsxs("p",{children:[O.jsx("strong",{children:"Language:"})," ",V.language]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Expected Output:"})," ",V.expected_output]}),V.output&&O.jsxs("p",{children:[O.jsx("strong",{children:"Actual Output:"})," ",V.output]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Status:"})," ",V.success?O.jsx("span",{className:"text-success",children:"Success"}):O.jsx("span",{className:"text-danger",children:"Failed"})]}),V.malpractice&&O.jsxs("p",{className:"text-danger",children:[O.jsx("strong",{children:"Malpractice:"})," ",V.malpractice_type.join(", ")]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Time Taken:"})," ",V.timeTaken," seconds"]}),V.code&&O.jsxs("div",{className:"mt-2",children:[O.jsx("h6",{children:"Code:"}),O.jsx("pre",{className:"bg-light p-2 rounded",children:V.code})]})]}):V?O.jsxs(O.Fragment,{children:[O.jsxs("h6",{className:"card-title",children:["Question: ",V.question]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Correct Answer:"})," ",V.correctAnswer]}),V.selected!=null&&O.jsxs("p",{children:[O.jsx("strong",{children:"Selected Answer:"})," ",V.selected]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Status:"})," ",V.success?O.jsx("span",{className:"text-success",children:"Correct"}):O.jsx("span",{className:"text-danger",children:"Incorrect"})]})]}):O.jsx(O.Fragment,{})})},H))]}),O.jsxs("div",{className:"modal-footer d-flex",children:[O.jsx("button",{className:"btn btn-success mt-3",onClick:e,children:"Export to Excel"}),O.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>A(!1),children:"Close"})]})]})})})]})}function cTe(){const[e,t]=N.useState(null),[n,r]=N.useState(!0),a=localStorage.getItem("token");return N.useEffect(()=>{fetch(`https://marqueebackend.onrender.com/user-profile/${a}`).then(i=>i.json()).then(i=>{t(i),r(!1)})},[a]),n?O.jsx("div",{className:"profile-loading",children:O.jsx("div",{className:"spinner-border text-primary",role:"status",children:O.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):O.jsxs("div",{className:"profile-container",children:[O.jsxs("h2",{className:"profile-header animate__animated animate__fadeIn",children:[O.jsx("i",{className:"bi bi-person-circle me-2"}),"User Profile"]}),O.jsx("div",{className:"profile-grid",children:Object.entries(e).map(([i,o])=>O.jsxs("div",{className:"profile-card animate__animated animate__fadeInUp",style:{animationDelay:`${Object.keys(e).indexOf(i)*.1}s`},children:[O.jsxs("div",{className:"profile-card-header",children:[O.jsx("i",{className:`bi bi-${fTe(i)}`}),O.jsx("h3",{children:i.charAt(0).toUpperCase()+i.slice(1)})]}),O.jsx("div",{className:"profile-card-value",children:o})]},i))})]})}function fTe(e){return{name:"person",email:"envelope",username:"person-badge",role:"person-rolodex",joined:"calendar",tests:"journal-check"}[e.toLowerCase()]||"info-circle"}function Oz(e,t){return function(){return e.apply(t,arguments)}}const{toString:hTe}=Object.prototype,{getPrototypeOf:EC}=Object,{iterator:i1,toStringTag:Rz}=Symbol,o1=(e=>t=>{const n=hTe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),co=e=>(e=e.toLowerCase(),t=>o1(t)===e),s1=e=>t=>typeof t===e,{isArray:_h}=Array,Np=s1("undefined");function d0(e){return e!==null&&!Np(e)&&e.constructor!==null&&!Np(e.constructor)&&Ta(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Dz=co("ArrayBuffer");function dTe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Dz(e.buffer),t}const pTe=s1("string"),Ta=s1("function"),Nz=s1("number"),p0=e=>e!==null&&typeof e=="object",vTe=e=>e===!0||e===!1,_m=e=>{if(o1(e)!=="object")return!1;const t=EC(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Rz in e)&&!(i1 in e)},mTe=e=>{if(!p0(e)||d0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},gTe=co("Date"),yTe=co("File"),xTe=co("Blob"),bTe=co("FileList"),wTe=e=>p0(e)&&Ta(e.pipe),_Te=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ta(e.append)&&((t=o1(e))==="formdata"||t==="object"&&Ta(e.toString)&&e.toString()==="[object FormData]"))},ETe=co("URLSearchParams"),[STe,TTe,ATe,CTe]=["ReadableStream","Request","Response","Headers"].map(co),OTe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function v0(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),_h(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(d0(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function kz(e,t){if(d0(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pz=e=>!Np(e)&&e!==Nl;function RE(){const{caseless:e}=Pz(this)&&this||{},t={},n=(r,a)=>{const i=e&&kz(t,a)||a;_m(t[i])&&_m(r)?t[i]=RE(t[i],r):_m(r)?t[i]=RE({},r):_h(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&v0(arguments[r],n);return t}const RTe=(e,t,n,{allOwnKeys:r}={})=>(v0(t,(a,i)=>{n&&Ta(a)?e[i]=Oz(a,n):e[i]=a},{allOwnKeys:r}),e),DTe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),NTe=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},kTe=(e,t,n,r)=>{let a,i,o;const s={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=n!==!1&&EC(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},PTe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},MTe=e=>{if(!e)return null;if(_h(e))return e;let t=e.length;if(!Nz(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ITe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&EC(Uint8Array)),FTe=(e,t)=>{const r=(e&&e[i1]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},BTe=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},LTe=co("HTMLFormElement"),jTe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),WI=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),UTe=co("RegExp"),Mz=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};v0(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},zTe=e=>{Mz(e,(t,n)=>{if(Ta(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ta(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},WTe=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return _h(e)?r(e):r(String(e).split(t)),n},HTe=()=>{},$Te=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function VTe(e){return!!(e&&Ta(e.append)&&e[Rz]==="FormData"&&e[i1])}const qTe=e=>{const t=new Array(10),n=(r,a)=>{if(p0(r)){if(t.indexOf(r)>=0)return;if(d0(r))return r;if(!("toJSON"in r)){t[a]=r;const i=_h(r)?[]:{};return v0(r,(o,s)=>{const u=n(o,a+1);!Np(u)&&(i[s]=u)}),t[a]=void 0,i}}return r};return n(e,0)},GTe=co("AsyncFunction"),KTe=e=>e&&(p0(e)||Ta(e))&&Ta(e.then)&&Ta(e.catch),Iz=((e,t)=>e?setImmediate:t?((n,r)=>(Nl.addEventListener("message",({source:a,data:i})=>{a===Nl&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Nl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ta(Nl.postMessage)),XTe=typeof queueMicrotask<"u"?queueMicrotask.bind(Nl):typeof process<"u"&&process.nextTick||Iz,YTe=e=>e!=null&&Ta(e[i1]),Re={isArray:_h,isArrayBuffer:Dz,isBuffer:d0,isFormData:_Te,isArrayBufferView:dTe,isString:pTe,isNumber:Nz,isBoolean:vTe,isObject:p0,isPlainObject:_m,isEmptyObject:mTe,isReadableStream:STe,isRequest:TTe,isResponse:ATe,isHeaders:CTe,isUndefined:Np,isDate:gTe,isFile:yTe,isBlob:xTe,isRegExp:UTe,isFunction:Ta,isStream:wTe,isURLSearchParams:ETe,isTypedArray:ITe,isFileList:bTe,forEach:v0,merge:RE,extend:RTe,trim:OTe,stripBOM:DTe,inherits:NTe,toFlatObject:kTe,kindOf:o1,kindOfTest:co,endsWith:PTe,toArray:MTe,forEachEntry:FTe,matchAll:BTe,isHTMLForm:LTe,hasOwnProperty:WI,hasOwnProp:WI,reduceDescriptors:Mz,freezeMethods:zTe,toObjectSet:WTe,toCamelCase:jTe,noop:HTe,toFiniteNumber:$Te,findKey:kz,global:Nl,isContextDefined:Pz,isSpecCompliantForm:VTe,toJSONObject:qTe,isAsyncFn:GTe,isThenable:KTe,setImmediate:Iz,asap:XTe,isIterable:YTe};function At(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Re.inherits(At,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.status}}});const Fz=At.prototype,Bz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Bz[e]={value:e}});Object.defineProperties(At,Bz);Object.defineProperty(Fz,"isAxiosError",{value:!0});At.from=(e,t,n,r,a,i)=>{const o=Object.create(Fz);return Re.toFlatObject(e,o,function(u){return u!==Error.prototype},s=>s!=="isAxiosError"),At.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const QTe=null;function DE(e){return Re.isPlainObject(e)||Re.isArray(e)}function Lz(e){return Re.endsWith(e,"[]")?e.slice(0,-2):e}function HI(e,t,n){return e?e.concat(t).map(function(a,i){return a=Lz(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function ZTe(e){return Re.isArray(e)&&!e.some(DE)}const JTe=Re.toFlatObject(Re,{},null,function(t){return/^is[A-Z]/.test(t)});function u1(e,t,n){if(!Re.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!Re.isUndefined(b[x])});const r=n.metaTokens,a=n.visitor||f,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Re.isSpecCompliantForm(t);if(!Re.isFunction(a))throw new TypeError("visitor must be a function");function l(g){if(g===null)return"";if(Re.isDate(g))return g.toISOString();if(Re.isBoolean(g))return g.toString();if(!u&&Re.isBlob(g))throw new At("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(g)||Re.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function f(g,x,b){let w=g;if(g&&!b&&typeof g=="object"){if(Re.endsWith(x,"{}"))x=r?x:x.slice(0,-2),g=JSON.stringify(g);else if(Re.isArray(g)&&ZTe(g)||(Re.isFileList(g)||Re.endsWith(x,"[]"))&&(w=Re.toArray(g)))return x=Lz(x),w.forEach(function(S,A){!(Re.isUndefined(S)||S===null)&&t.append(o===!0?HI([x],A,i):o===null?x:x+"[]",l(S))}),!1}return DE(g)?!0:(t.append(HI(b,x,i),l(g)),!1)}const d=[],p=Object.assign(JTe,{defaultVisitor:f,convertValue:l,isVisitable:DE});function m(g,x){if(!Re.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));d.push(g),Re.forEach(g,function(w,E){(!(Re.isUndefined(w)||w===null)&&a.call(t,w,Re.isString(E)?E.trim():E,x,p))===!0&&m(w,x?x.concat(E):[E])}),d.pop()}}if(!Re.isObject(e))throw new TypeError("data must be an object");return m(e),t}function $I(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function SC(e,t){this._pairs=[],e&&u1(e,this,t)}const jz=SC.prototype;jz.append=function(t,n){this._pairs.push([t,n])};jz.toString=function(t){const n=t?function(r){return t.call(this,r,$I)}:$I;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function eAe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Uz(e,t,n){if(!t)return e;const r=n&&n.encode||eAe;Re.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=Re.isURLSearchParams(t)?t.toString():new SC(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class VI{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Re.forEach(this.handlers,function(r){r!==null&&t(r)})}}const zz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tAe=typeof URLSearchParams<"u"?URLSearchParams:SC,nAe=typeof FormData<"u"?FormData:null,rAe=typeof Blob<"u"?Blob:null,aAe={isBrowser:!0,classes:{URLSearchParams:tAe,FormData:nAe,Blob:rAe},protocols:["http","https","file","blob","url","data"]},TC=typeof window<"u"&&typeof document<"u",NE=typeof navigator=="object"&&navigator||void 0,iAe=TC&&(!NE||["ReactNative","NativeScript","NS"].indexOf(NE.product)<0),oAe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sAe=TC&&window.location.href||"http://localhost",uAe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:TC,hasStandardBrowserEnv:iAe,hasStandardBrowserWebWorkerEnv:oAe,navigator:NE,origin:sAe},Symbol.toStringTag,{value:"Module"})),Qr={...uAe,...aAe};function lAe(e,t){return u1(e,new Qr.classes.URLSearchParams,{visitor:function(n,r,a,i){return Qr.isNode&&Re.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function cAe(e){return Re.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fAe(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function Wz(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),u=i>=n.length;return o=!o&&Re.isArray(a)?a.length:o,u?(Re.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!s):((!a[o]||!Re.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&Re.isArray(a[o])&&(a[o]=fAe(a[o])),!s)}if(Re.isFormData(e)&&Re.isFunction(e.entries)){const n={};return Re.forEachEntry(e,(r,a)=>{t(cAe(r),a,n,0)}),n}return null}function hAe(e,t,n){if(Re.isString(e))try{return(t||JSON.parse)(e),Re.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const m0={transitional:zz,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=Re.isObject(t);if(i&&Re.isHTMLForm(t)&&(t=new FormData(t)),Re.isFormData(t))return a?JSON.stringify(Wz(t)):t;if(Re.isArrayBuffer(t)||Re.isBuffer(t)||Re.isStream(t)||Re.isFile(t)||Re.isBlob(t)||Re.isReadableStream(t))return t;if(Re.isArrayBufferView(t))return t.buffer;if(Re.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return lAe(t,this.formSerializer).toString();if((s=Re.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return u1(s?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),hAe(t)):t}],transformResponse:[function(t){const n=this.transitional||m0.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(Re.isResponse(t)||Re.isReadableStream(t))return t;if(t&&Re.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?At.from(s,At.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qr.classes.FormData,Blob:Qr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Re.forEach(["delete","get","head","post","put","patch"],e=>{m0.headers[e]={}});const dAe=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pAe=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&dAe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},qI=Symbol("internals");function jd(e){return e&&String(e).trim().toLowerCase()}function Em(e){return e===!1||e==null?e:Re.isArray(e)?e.map(Em):String(e)}function vAe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const mAe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function X2(e,t,n,r,a){if(Re.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!Re.isString(t)){if(Re.isString(r))return t.indexOf(r)!==-1;if(Re.isRegExp(r))return r.test(t)}}function gAe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function yAe(e,t){const n=Re.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}let Aa=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(s,u,l){const f=jd(u);if(!f)throw new Error("header name must be a non-empty string");const d=Re.findKey(a,f);(!d||a[d]===void 0||l===!0||l===void 0&&a[d]!==!1)&&(a[d||u]=Em(s))}const o=(s,u)=>Re.forEach(s,(l,f)=>i(l,f,u));if(Re.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Re.isString(t)&&(t=t.trim())&&!mAe(t))o(pAe(t),n);else if(Re.isObject(t)&&Re.isIterable(t)){let s={},u,l;for(const f of t){if(!Re.isArray(f))throw TypeError("Object iterator must return a key-value pair");s[l=f[0]]=(u=s[l])?Re.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(s,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=jd(t),t){const r=Re.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return vAe(a);if(Re.isFunction(n))return n.call(this,a,r);if(Re.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=jd(t),t){const r=Re.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||X2(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=jd(o),o){const s=Re.findKey(r,o);s&&(!n||X2(r,r[s],s,n))&&(delete r[s],a=!0)}}return Re.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||X2(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return Re.forEach(this,(a,i)=>{const o=Re.findKey(r,i);if(o){n[o]=Em(a),delete n[i];return}const s=t?gAe(i):String(i).trim();s!==i&&delete n[i],n[s]=Em(a),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Re.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&Re.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[qI]=this[qI]={accessors:{}}).accessors,a=this.prototype;function i(o){const s=jd(o);r[s]||(yAe(a,o),r[s]=!0)}return Re.isArray(t)?t.forEach(i):i(t),this}};Aa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Re.reduceDescriptors(Aa.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Re.freezeMethods(Aa);function Y2(e,t){const n=this||m0,r=t||n,a=Aa.from(r.headers);let i=r.data;return Re.forEach(e,function(s){i=s.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Hz(e){return!!(e&&e.__CANCEL__)}function Eh(e,t,n){At.call(this,e??"canceled",At.ERR_CANCELED,t,n),this.name="CanceledError"}Re.inherits(Eh,At,{__CANCEL__:!0});function $z(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new At("Request failed with status code "+n.status,[At.ERR_BAD_REQUEST,At.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function xAe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bAe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const l=Date.now(),f=r[i];o||(o=l),n[a]=u,r[a]=l;let d=i,p=0;for(;d!==a;)p+=n[d++],d=d%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-o<t)return;const m=f&&l-f;return m?Math.round(p*1e3/m):void 0}}function wAe(e,t){let n=0,r=1e3/t,a,i;const o=(l,f=Date.now())=>{n=f,a=null,i&&(clearTimeout(i),i=null),e(...l)};return[(...l)=>{const f=Date.now(),d=f-n;d>=r?o(l,f):(a=l,i||(i=setTimeout(()=>{i=null,o(a)},r-d)))},()=>a&&o(a)]}const Gg=(e,t,n=3)=>{let r=0;const a=bAe(50,250);return wAe(i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,u=o-r,l=a(u),f=o<=s;r=o;const d={loaded:o,total:s,progress:s?o/s:void 0,bytes:u,rate:l||void 0,estimated:l&&s&&f?(s-o)/l:void 0,event:i,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(d)},n)},GI=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},KI=e=>(...t)=>Re.asap(()=>e(...t)),_Ae=Qr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Qr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Qr.origin),Qr.navigator&&/(msie|trident)/i.test(Qr.navigator.userAgent)):()=>!0,EAe=Qr.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];Re.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Re.isString(r)&&o.push("path="+r),Re.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SAe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function TAe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Vz(e,t,n){let r=!SAe(t);return e&&(r||n==!1)?TAe(e,t):t}const XI=e=>e instanceof Aa?{...e}:e;function ec(e,t){t=t||{};const n={};function r(l,f,d,p){return Re.isPlainObject(l)&&Re.isPlainObject(f)?Re.merge.call({caseless:p},l,f):Re.isPlainObject(f)?Re.merge({},f):Re.isArray(f)?f.slice():f}function a(l,f,d,p){if(Re.isUndefined(f)){if(!Re.isUndefined(l))return r(void 0,l,d,p)}else return r(l,f,d,p)}function i(l,f){if(!Re.isUndefined(f))return r(void 0,f)}function o(l,f){if(Re.isUndefined(f)){if(!Re.isUndefined(l))return r(void 0,l)}else return r(void 0,f)}function s(l,f,d){if(d in t)return r(l,f);if(d in e)return r(void 0,l)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(l,f,d)=>a(XI(l),XI(f),d,!0)};return Re.forEach(Object.keys({...e,...t}),function(f){const d=u[f]||a,p=d(e[f],t[f],f);Re.isUndefined(p)&&d!==s||(n[f]=p)}),n}const qz=e=>{const t=ec({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:s}=t;t.headers=o=Aa.from(o),t.url=Uz(Vz(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let u;if(Re.isFormData(n)){if(Qr.hasStandardBrowserEnv||Qr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[l,...f]=u?u.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...f].join("; "))}}if(Qr.hasStandardBrowserEnv&&(r&&Re.isFunction(r)&&(r=r(t)),r||r!==!1&&_Ae(t.url))){const l=a&&i&&EAe.read(i);l&&o.set(a,l)}return t},AAe=typeof XMLHttpRequest<"u",CAe=AAe&&function(e){return new Promise(function(n,r){const a=qz(e);let i=a.data;const o=Aa.from(a.headers).normalize();let{responseType:s,onUploadProgress:u,onDownloadProgress:l}=a,f,d,p,m,g;function x(){m&&m(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function w(){if(!b)return;const S=Aa.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),T={data:!s||s==="text"||s==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:e,request:b};$z(function(D){n(D),x()},function(D){r(D),x()},T),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(r(new At("Request aborted",At.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new At("Network Error",At.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let A=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const T=a.transitional||zz;a.timeoutErrorMessage&&(A=a.timeoutErrorMessage),r(new At(A,T.clarifyTimeoutError?At.ETIMEDOUT:At.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&Re.forEach(o.toJSON(),function(A,T){b.setRequestHeader(T,A)}),Re.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),s&&s!=="json"&&(b.responseType=a.responseType),l&&([p,g]=Gg(l,!0),b.addEventListener("progress",p)),u&&b.upload&&([d,m]=Gg(u),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(f=S=>{b&&(r(!S||S.type?new Eh(null,e,b):S),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const E=xAe(a.url);if(E&&Qr.protocols.indexOf(E)===-1){r(new At("Unsupported protocol "+E+":",At.ERR_BAD_REQUEST,e));return}b.send(i||null)})},OAe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(l){if(!a){a=!0,s();const f=l instanceof Error?l:this.reason;r.abort(f instanceof At?f:new Eh(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new At(`timeout ${t} of ms exceeded`,At.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),e=null)};e.forEach(l=>l.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>Re.asap(s),u}},RAe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},DAe=async function*(e,t){for await(const n of NAe(e))yield*RAe(n,t)},NAe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},YI=(e,t,n,r)=>{const a=DAe(e,t);let i=0,o,s=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:l,value:f}=await a.next();if(l){s(),u.close();return}let d=f.byteLength;if(n){let p=i+=d;n(p)}u.enqueue(new Uint8Array(f))}catch(l){throw s(l),l}},cancel(u){return s(u),a.return()}},{highWaterMark:2})},l1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Gz=l1&&typeof ReadableStream=="function",kAe=l1&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Kz=(e,...t)=>{try{return!!e(...t)}catch{return!1}},PAe=Gz&&Kz(()=>{let e=!1;const t=new Request(Qr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),QI=64*1024,kE=Gz&&Kz(()=>Re.isReadableStream(new Response("").body)),Kg={stream:kE&&(e=>e.body)};l1&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Kg[t]&&(Kg[t]=Re.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new At(`Response type '${t}' is not supported`,At.ERR_NOT_SUPPORT,r)})})})(new Response);const MAe=async e=>{if(e==null)return 0;if(Re.isBlob(e))return e.size;if(Re.isSpecCompliantForm(e))return(await new Request(Qr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Re.isArrayBufferView(e)||Re.isArrayBuffer(e))return e.byteLength;if(Re.isURLSearchParams(e)&&(e=e+""),Re.isString(e))return(await kAe(e)).byteLength},IAe=async(e,t)=>{const n=Re.toFiniteNumber(e.getContentLength());return n??MAe(t)},FAe=l1&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:s,onUploadProgress:u,responseType:l,headers:f,withCredentials:d="same-origin",fetchOptions:p}=qz(e);l=l?(l+"").toLowerCase():"text";let m=OAe([a,i&&i.toAbortSignal()],o),g;const x=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let b;try{if(u&&PAe&&n!=="get"&&n!=="head"&&(b=await IAe(f,r))!==0){let T=new Request(t,{method:"POST",body:r,duplex:"half"}),R;if(Re.isFormData(r)&&(R=T.headers.get("content-type"))&&f.setContentType(R),T.body){const[D,P]=GI(b,Gg(KI(u)));r=YI(T.body,QI,D,P)}}Re.isString(d)||(d=d?"include":"omit");const w="credentials"in Request.prototype;g=new Request(t,{...p,signal:m,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:w?d:void 0});let E=await fetch(g,p);const S=kE&&(l==="stream"||l==="response");if(kE&&(s||S&&x)){const T={};["status","statusText","headers"].forEach(k=>{T[k]=E[k]});const R=Re.toFiniteNumber(E.headers.get("content-length")),[D,P]=s&&GI(R,Gg(KI(s),!0))||[];E=new Response(YI(E.body,QI,D,()=>{P&&P(),x&&x()}),T)}l=l||"text";let A=await Kg[Re.findKey(Kg,l)||"text"](E,e);return!S&&x&&x(),await new Promise((T,R)=>{$z(T,R,{data:A,headers:Aa.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:g})})}catch(w){throw x&&x(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new At("Network Error",At.ERR_NETWORK,e,g),{cause:w.cause||w}):At.from(w,w&&w.code,e,g)}}),PE={http:QTe,xhr:CAe,fetch:FAe};Re.forEach(PE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ZI=e=>`- ${e}`,BAe=e=>Re.isFunction(e)||e===null||e===!1,Xz={getAdapter:e=>{e=Re.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!BAe(n)&&(r=PE[(o=String(n)).toLowerCase()],r===void 0))throw new At(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([s,u])=>`adapter ${s} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(ZI).join(`
`):" "+ZI(i[0]):"as no adapter specified";throw new At("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:PE};function Q2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Eh(null,e)}function JI(e){return Q2(e),e.headers=Aa.from(e.headers),e.data=Y2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Xz.getAdapter(e.adapter||m0.adapter)(e).then(function(r){return Q2(e),r.data=Y2.call(e,e.transformResponse,r),r.headers=Aa.from(r.headers),r},function(r){return Hz(r)||(Q2(e),r&&r.response&&(r.response.data=Y2.call(e,e.transformResponse,r.response),r.response.headers=Aa.from(r.response.headers))),Promise.reject(r)})}const Yz="1.11.0",c1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{c1[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const eF={};c1.transitional=function(t,n,r){function a(i,o){return"[Axios v"+Yz+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,s)=>{if(t===!1)throw new At(a(o," has been removed"+(n?" in "+n:"")),At.ERR_DEPRECATED);return n&&!eF[o]&&(eF[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,s):!0}};c1.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function LAe(e,t,n){if(typeof e!="object")throw new At("options must be an object",At.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const s=e[i],u=s===void 0||o(s,i,e);if(u!==!0)throw new At("option "+i+" must be "+u,At.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new At("Unknown option "+i,At.ERR_BAD_OPTION)}}const Sm={assertOptions:LAe,validators:c1},bo=Sm.validators;let Wl=class{constructor(t){this.defaults=t||{},this.interceptors={request:new VI,response:new VI}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ec(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&Sm.assertOptions(r,{silentJSONParsing:bo.transitional(bo.boolean),forcedJSONParsing:bo.transitional(bo.boolean),clarifyTimeoutError:bo.transitional(bo.boolean)},!1),a!=null&&(Re.isFunction(a)?n.paramsSerializer={serialize:a}:Sm.assertOptions(a,{encode:bo.function,serialize:bo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sm.assertOptions(n,{baseUrl:bo.spelling("baseURL"),withXsrfToken:bo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Re.merge(i.common,i[n.method]);i&&Re.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=Aa.concat(o,i);const s=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(u=u&&x.synchronous,s.unshift(x.fulfilled,x.rejected))});const l=[];this.interceptors.response.forEach(function(x){l.push(x.fulfilled,x.rejected)});let f,d=0,p;if(!u){const g=[JI.bind(this),void 0];for(g.unshift(...s),g.push(...l),p=g.length,f=Promise.resolve(n);d<p;)f=f.then(g[d++],g[d++]);return f}p=s.length;let m=n;for(d=0;d<p;){const g=s[d++],x=s[d++];try{m=g(m)}catch(b){x.call(this,b);break}}try{f=JI.call(this,m)}catch(g){return Promise.reject(g)}for(d=0,p=l.length;d<p;)f=f.then(l[d++],l[d++]);return f}getUri(t){t=ec(this.defaults,t);const n=Vz(t.baseURL,t.url,t.allowAbsoluteUrls);return Uz(n,t.params,t.paramsSerializer)}};Re.forEach(["delete","get","head","options"],function(t){Wl.prototype[t]=function(n,r){return this.request(ec(r||{},{method:t,url:n,data:(r||{}).data}))}});Re.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,s){return this.request(ec(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Wl.prototype[t]=n(),Wl.prototype[t+"Form"]=n(!0)});let jAe=class Qz{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(s=>{r.subscribe(s),i=s}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,s){r.reason||(r.reason=new Eh(i,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Qz(function(a){t=a}),cancel:t}}};function UAe(e){return function(n){return e.apply(null,n)}}function zAe(e){return Re.isObject(e)&&e.isAxiosError===!0}const ME={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ME).forEach(([e,t])=>{ME[t]=e});function Zz(e){const t=new Wl(e),n=Oz(Wl.prototype.request,t);return Re.extend(n,Wl.prototype,t,{allOwnKeys:!0}),Re.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return Zz(ec(e,a))},n}const zn=Zz(m0);zn.Axios=Wl;zn.CanceledError=Eh;zn.CancelToken=jAe;zn.isCancel=Hz;zn.VERSION=Yz;zn.toFormData=u1;zn.AxiosError=At;zn.Cancel=zn.CanceledError;zn.all=function(t){return Promise.all(t)};zn.spread=UAe;zn.isAxiosError=zAe;zn.mergeConfig=ec;zn.AxiosHeaders=Aa;zn.formToJSON=e=>Wz(Re.isHTMLForm(e)?new FormData(e):e);zn.getAdapter=Xz.getAdapter;zn.HttpStatusCode=ME;zn.default=zn;const{Axios:vCe,AxiosError:mCe,CanceledError:gCe,isCancel:yCe,CancelToken:xCe,VERSION:bCe,all:wCe,Cancel:_Ce,isAxiosError:ECe,spread:SCe,toFormData:TCe,AxiosHeaders:ACe,HttpStatusCode:CCe,formToJSON:OCe,getAdapter:RCe,mergeConfig:DCe}=zn;function WAe({onClose:e,test:t}){const[n,r]=N.useState(!1),[a,i]=N.useState(!1),[o,s]=N.useState(!1);N.useEffect(()=>(r(!0),document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const u=()=>{setTimeout(()=>{e(),t?.TestType==="MCQ"?window.location.href="/mcqtest":window.location.href="/test"},300)},l=()=>{r(!1),setTimeout(()=>e(),300)};return O.jsx("div",{className:`modal-backdrop ${n?"visible":""}`,children:O.jsx("div",{className:`modal-container ${n?"visible":""}`,children:O.jsxs("div",{className:"modal-glass",children:[O.jsxs("div",{className:"modal-header",children:[O.jsx("i",{className:"bi bi-exclamation-triangle-fill"}),O.jsx("h2",{children:"Test Rules & Regulations"})]}),O.jsxs("div",{className:"modal-body",children:[O.jsxs("ul",{className:"rules-list",children:[O.jsxs("li",{className:"animate__animated animate__fadeInRight",children:[O.jsx("i",{className:"bi bi-lock-fill"}),O.jsx("span",{children:"No tab switching allowed"})]}),O.jsxs("li",{className:"animate__animated animate__fadeInRight",style:{animationDelay:"0.1s"},children:[O.jsx("i",{className:"bi bi-clipboard-x-fill"}),O.jsx("span",{children:"No copy-paste actions"})]}),O.jsxs("li",{className:"animate__animated animate__fadeInRight",style:{animationDelay:"0.2s"},children:[O.jsx("i",{className:"bi bi-door-closed-fill"}),O.jsx("span",{children:"Leaving the test page results in disqualification"})]}),O.jsxs("li",{className:"animate__animated animate__fadeInRight",style:{animationDelay:"0.3s"},children:[O.jsx("i",{className:"bi bi-1-circle-fill"}),O.jsx("span",{children:"Only one attempt is allowed"})]}),O.jsxs("li",{className:"animate__animated animate__fadeInRight",style:{animationDelay:"0.4s"},children:[O.jsx("i",{className:"bi bi-shield-exclamation"}),O.jsx("span",{children:"Any malpractice will lead to elimination"})]})]}),O.jsxs("div",{className:"warning-box animate__animated animate__pulse animate__infinite",children:[O.jsx("i",{className:"bi bi-exclamation-diamond-fill"}),O.jsx("span",{children:"Violating any rule will automatically submit your test!"})]})]}),O.jsxs("div",{className:"modal-footer",children:[O.jsx("button",{className:`cancel-btn ${o?"hover":""}`,onClick:l,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:o?O.jsx("span",{className:"animate__animated animate__headShake",children:"Cancel"}):O.jsx("span",{children:"Cancel"})}),O.jsx("button",{className:`accept-btn ${a?"hover":""}`,onClick:u,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:a?O.jsx("span",{className:"animate__animated animate__pulse",children:"Accept & Start Test"}):O.jsx("span",{children:"Accept & Start Test"})})]})]})})})}function HAe(){const[e,t]=N.useState([]),[n,r]=N.useState(!1),[a,i]=N.useState(null),[o,s]=N.useState(null);N.useEffect(()=>{(async()=>{try{const f=await zn.get("https://marqueebackend.onrender.com/admin/tests");t(f.data)}catch(f){console.error("Error fetching tests:",f)}})()},[]);const u=l=>{i(l),r(!0)};return O.jsxs("div",{className:"test-entrance-container",children:[e.map((l,f)=>O.jsxs("div",{className:"test-card animate__animated animate__fadeIn",children:[O.jsxs("div",{className:"test-header",children:[O.jsxs("h2",{children:[O.jsx("i",{className:"bi bi-journal-text me-2"}),l.TestName]}),O.jsx("div",{className:"test-badge",children:"New"})]}),O.jsxs("div",{className:"test-details",children:[O.jsxs("div",{className:"test-info",children:[O.jsx("i",{className:"bi bi-card-heading"}),O.jsxs("span",{children:[l.TestType," Test"]})]}),O.jsxs("div",{className:"test-info",children:[O.jsx("i",{className:"bi bi-clock"}),O.jsxs("span",{children:[l.Time," Minutes Duration"]})]}),O.jsxs("div",{className:"test-info",children:[O.jsx("i",{className:"bi bi-question-circle"}),O.jsxs("span",{children:[l.TotalQuestions," Questions"]})]})]}),O.jsx("button",{className:"start-test-btn",onClick:()=>u(l),onMouseEnter:()=>s(f),onMouseLeave:()=>s(null),children:O.jsxs("span",{className:o===f?"animate__animated animate__pulse":"",children:[O.jsx("i",{className:"bi bi-arrow-right-circle me-2"}),"Start Test Now"]})})]},l._id)),n&&O.jsx(WAe,{test:a,onClose:()=>r(!1)})]})}function $Ae(){const[e,t]=N.useState("profile");return O.jsxs("div",{className:"dashboard-container",children:[O.jsxs("div",{className:"sidebar",children:[O.jsxs("div",{className:`sidebar-item ${e==="profile"?"active":""}`,onClick:()=>t("profile"),children:[O.jsx("i",{className:"bi bi-person-circle"}),O.jsx("span",{children:"Profile"})]}),O.jsxs("div",{className:`sidebar-item ${e==="test"?"active":""}`,onClick:()=>t("test"),children:[O.jsx("i",{className:"bi bi-journal-text"}),O.jsx("span",{children:"Test Entrance"})]})]}),O.jsx("div",{className:"main-content",children:e==="profile"?O.jsx(cTe,{}):O.jsx(HAe,{})})]})}function VAe({formData:e,setFormData:t,nextStep:n}){const r=N.useRef(),[a,i]=N.useState(!1),[o,s]=N.useState({title:"",message:"",success:!1}),u=()=>{r.current.click()},l=async f=>{const d=new FormData;d.append("Time",e.duration),d.append("TestName",e.testName),d.append("TestType",e.type),d.append("TotalQuestions",e.numQuestions),d.append("file",f),d.append("type",e.type);try{const p=await fetch("https://marqueebackend.onrender.com/admin/upload-excel",{method:"POST",body:d});if(!p.ok){const g=await p.json();s({title:"Upload Failed",message:g.detail||"Failed to upload file",success:!1}),i(!0);return}const m=await p.json();t({...e,questions:m.questions,numQuestions:m.questions.length}),s({title:"Success!",message:`Uploaded ${m.questions.length} questions successfully!`,success:!0}),i(!0)}catch(p){console.error(p),s({title:"Error",message:"Something went wrong during upload.",success:!1}),i(!0)}};return O.jsxs(O.Fragment,{children:[O.jsx("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css",rel:"stylesheet"}),O.jsx("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"}),O.jsx("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"}),O.jsx("style",{children:`
        .admin-card {
          background: linear-gradient(145deg, #f8f9fa, #ffffff);
          border-radius: 15px;
          border: none;
          box-shadow: 0 10px 20px rgba(0,0,0,0.05);
          transition: all 0.3s ease;
        }
        
        .admin-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        
        .form-input {
          border-radius: 10px;
          border: 1px solid #e0e0e0;
          padding: 12px 15px;
          transition: all 0.3s;
        }
        
        .form-input:focus {
          border-color: #007bff;
          box-shadow: 0 0 0 0.25rem rgba(0,123,255,0.15);
        }
        
        .upload-btn {
          background: linear-gradient(135deg, #007bff, #0062cc);
          border: none;
          border-radius: 10px;
          padding: 12px;
          font-weight: 500;
          transition: all 0.3s;
        }
        
        .upload-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 5px 15px rgba(0,123,255,0.3);
        }
        
        .next-btn {
          background: linear-gradient(135deg, #28a745, #218838);
          border: none;
          border-radius: 10px;
          padding: 12px;
          font-weight: 500;
          transition: all 0.3s;
        }
        
        .next-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 5px 15px rgba(40,167,69,0.3);
        }
        
        .modal-header-success {
          background: linear-gradient(135deg, #28a745, #218838);
          color: white;
        }
        
        .modal-header-error {
          background: linear-gradient(135deg, #dc3545, #c82333);
          color: white;
        }
        
        .modal-icon {
          font-size: 2.5rem;
          margin-bottom: 1rem;
        }
      `}),O.jsx("div",{className:"container d-flex justify-content-center align-items-center min-vh-100",children:O.jsxs("div",{className:"w-100",style:{maxWidth:"500px"},children:[O.jsxs("div",{className:"text-center mb-5 animate__animated animate__fadeIn",children:[O.jsxs("h2",{className:"text-primary mb-3",children:[O.jsx("i",{className:"bi bi-pencil-square me-2"}),"Step 1: Test Details"]}),O.jsx("p",{className:"text-muted",children:"Enter details about the test you want to create"})]}),O.jsxs("div",{className:"admin-card p-4 animate__animated animate__fadeInUp",children:[O.jsx("input",{className:"form-input form-control mb-3",placeholder:"Test Name",value:e.testName,onChange:f=>t({...e,testName:f.target.value})}),O.jsx("input",{className:"form-input form-control mb-3",placeholder:"Duration (in minutes)",type:"number",value:e.duration,onChange:f=>t({...e,duration:f.target.value})}),O.jsxs("select",{className:"form-input form-select mb-3",value:e.type,onChange:f=>t({...e,type:f.target.value}),children:[O.jsx("option",{value:"",children:"Select Type"}),O.jsx("option",{value:"MCQ",children:"MCQ"}),O.jsx("option",{value:"Coding",children:"Coding"})]}),O.jsx("input",{className:"form-input form-control mb-3",placeholder:"Number of Questions",type:"number",value:e.numQuestions,onChange:f=>t({...e,numQuestions:parseInt(f.target.value)})}),e.type&&O.jsxs("div",{className:"mb-3",children:[O.jsxs("button",{onClick:u,className:"upload-btn btn btn-primary w-100 text-white",children:[O.jsx("i",{className:"bi bi-upload me-2"}),"Upload ",e.type," Questions from Excel"]}),O.jsx("input",{type:"file",ref:r,accept:".xlsx, .xls, .csv",style:{display:"none"},onChange:f=>l(f.target.files[0])})]}),O.jsxs("button",{className:"next-btn btn btn-success w-100 text-white",onClick:n,children:["Next ",O.jsx("i",{className:"bi bi-arrow-right ms-1"})]})]})]})}),O.jsx("div",{className:`modal fade ${a?"show":""}`,style:{display:a?"block":"none",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:"-1",children:O.jsx("div",{className:"modal-dialog modal-dialog-centered",children:O.jsxs("div",{className:"modal-content overflow-hidden",children:[O.jsxs("div",{className:`modal-header ${o.success?"modal-header-success":"modal-header-error"}`,children:[O.jsx("h5",{className:"modal-title",children:o.title}),O.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>i(!1)})]}),O.jsxs("div",{className:"modal-body text-center py-4",children:[O.jsx("i",{className:`bi ${o.success?"bi-check-circle-fill text-success":"bi-x-circle-fill text-danger"} modal-icon`}),O.jsx("p",{children:o.message})]}),O.jsx("div",{className:"modal-footer",children:O.jsx("button",{type:"button",className:`btn ${o.success?"btn-success":"btn-danger"}`,onClick:()=>i(!1),children:"Close"})})]})})})]})}function qAe({formData:e,setFormData:t,submitTest:n}){const[r,a]=N.useState(0),[i,o]=N.useState([]),[s,u]=N.useState({question:"",options:["","","",""],correctAnswer:1}),l=()=>{const f=[...i,s];o(f),u({question:"",options:["","","",""],correctAnswer:1}),f.length===e.numQuestions?n({...e,questions:f}):a(r+1)};return O.jsxs(O.Fragment,{children:[O.jsx("style",{children:`
        #root{
          background-color: #ffffff;}
        .admin-dashboard-container {
          display: flex;
          min-height: 100vh;
          justify-content: center;
          align-items: center;
          background-color: #ffffff;
        }

        .main-content {
          flex-grow: 1;
          padding: 40px;
          color: #333;
          width: 100%;
          max-width: 700px;
          margin-top: -40px;
        }

        .admin-header {
          margin-bottom: 30px;
          text-align: center;
        }

        .admin-header h2 {
          color: #007bff;
          font-size: 28px;
          margin-bottom: 10px;
        }

        .admin-header p {
          color: #666;
        }

        .admin-cards {
          display: flex;
          justify-content: center;
        }

        .admin-card {
          background-color: #f8f9fa;
          padding: 30px;
          border-radius: 15px;
          width: 100%;
          max-width: 500px;
          box-shadow: 8px 8px 16px #e0e0e0,
                     -8px -8px 16px #ffffff;
          transition: all 0.3s ease;
          border: 1px solid rgba(0,0,0,0.03);
        }

        .admin-card:hover {
          box-shadow: 5px 5px 12px #d9d9d9,
                     -5px -5px 12px #ffffff;
        }

        .form-input {
          width: 100%;
          padding: 12px;
          border-radius: 10px;
          margin-bottom: 15px;
          border: none;
          font-size: 16px;
          box-sizing: border-box;
          background-color: #f8f9fa;
          box-shadow: inset 3px 3px 6px #e0e0e0,
                      inset -3px -3px 6px #ffffff;
          transition: all 0.2s ease;
        }

        .form-input:focus {
          outline: none;
          box-shadow: inset 2px 2px 4px #d9d9d9,
                      inset -2px -2px 4px #ffffff;
        }

        .admin-button {
          background-color: #007bff;
          color: white;
          padding: 12px 25px;
          border-radius: 10px;
          border: none;
          cursor: pointer;
          font-size: 16px;
          margin-top: 10px;
          box-shadow: 4px 4px 8px #e0e0e0,
                     -4px -4px 8px #ffffff;
          transition: all 0.2s ease;
          width: 100%;
        }

        .admin-button:hover {
          background-color: #0069d9;
          box-shadow: 2px 2px 4px #d9d9d9,
                     -2px -2px 4px #ffffff;
        }

        .admin-button:active {
          box-shadow: inset 2px 2px 4px #0056b3,
                     inset -2px -2px 4px #007bff;
        }

        h3 {
          color: #007bff;
          text-align: center;
          margin-bottom: 20px;
        }

        .question-counter {
          color: #666;
          text-align: center;
          margin-bottom: 10px;
          font-size: 14px;
        }

        .option-container {
          position: relative;
          margin-bottom: 15px;
        }

        .option-number {
          position: absolute;
          left: 10px;
          top: 12px;
          color: #666;
          font-weight: bold;
        }

        .option-input {
          width: 100%;
          padding: 12px 12px 12px 30px;
          border-radius: 10px;
          border: none;
          font-size: 16px;
          box-sizing: border-box;
          background-color: #f8f9fa;
          box-shadow: inset 3px 3px 6px #e0e0e0,
                      inset -3px -3px 6px #ffffff;
          transition: all 0.2s ease;
        }

        .option-input:focus {
          outline: none;
          box-shadow: inset 2px 2px 4px #d9d9d9,
                      inset -2px -2px 4px #ffffff;
        }

        .correct-answer-selector {
          margin-top: 20px;
          padding: 15px;
          background-color: #f0f8ff;
          border-radius: 10px;
          text-align: center;
        }

        .correct-answer-selector label {
          margin-right: 10px;
          color: #555;
        }

        .correct-answer-selector select {
          padding: 8px 12px;
          border-radius: 5px;
          border: 1px solid #ddd;
          background-color: white;
        }
      `}),O.jsx("div",{className:"admin-dashboard-container",children:O.jsxs("div",{className:"main-content bg-white",children:[O.jsxs("div",{className:"admin-header animate__animated animate__fadeIn",children:[O.jsxs("h2",{className:"ms-5 ps-5",children:[O.jsx("i",{className:"bi bi-list-check me-2"}),"Multiple Choice Questions"]}),O.jsxs("p",{className:"question-counter",children:["Question ",r+1," of ",e.numQuestions]})]}),O.jsx("div",{className:"admin-cards animate__animated animate__fadeInUp",children:O.jsxs("div",{className:"admin-card",children:[O.jsx("input",{className:"form-input",placeholder:"Enter your question here",value:s.question,onChange:f=>u({...s,question:f.target.value})}),O.jsx("h4",{children:"Options:"}),s.options.map((f,d)=>O.jsxs("div",{className:"option-container",children:[O.jsxs("span",{className:"option-number",children:[d+1,"."]}),O.jsx("input",{className:"option-input",placeholder:`Option ${d+1}`,value:f,onChange:p=>{const m=[...s.options];m[d]=p.target.value,u({...s,options:m})}})]},d)),O.jsxs("div",{className:"correct-answer-selector",children:[O.jsx("label",{children:"Correct Answer:"}),O.jsx("select",{value:s.correctAnswer,onChange:f=>u({...s,correctAnswer:parseInt(f.target.value)}),children:s.options.map((f,d)=>O.jsxs("option",{value:d+1,children:["Option ",d+1]},d))})]}),O.jsxs("button",{className:"admin-button",onClick:l,children:[i.length+1===e.numQuestions?"Submit Test":"Next Question",O.jsx("i",{className:`bi bi-${i.length+1===e.numQuestions?"check":"arrow-right"} ms-1`})]})]})})]})})]})}function GAe({formData:e,setFormData:t,submitTest:n}){const[r,a]=N.useState(0),[i,o]=N.useState([]),[s,u]=N.useState({title:"",expected_output:""}),l=()=>{const f=[...i,s];o(f),u({title:"",expected_output:""}),f.length===e.numQuestions?n({...e,questions:f}):a(r+1)};return O.jsxs(O.Fragment,{children:[O.jsx("style",{children:`
        #root{
          background-color: #ffffff;}
        .admin-dashboard-container {
          display: flex;
          min-height: 100vh;
          justify-content: center;
          align-items: center;
          background-color: #ffffff;
        }

        .main-content {
          flex-grow: 1;
          padding: 40px;
          color: #333;
          width: 100%;
          max-width: 700px;
          margin-top: -40px;
        }

        .admin-header {
          margin-bottom: 30px;
          text-align: center;
        }

        .admin-header h2 {
          color: #007bff;
          font-size: 28px;
          margin-bottom: 10px;
        }

        .admin-header p {
          color: #666;
        }

        .admin-cards {
          display: flex;
          justify-content: center;
        }

        .admin-card {
          background-color: #f8f9fa;
          padding: 30px;
          border-radius: 15px;
          width: 100%;
          max-width: 500px;
          box-shadow: 8px 8px 16px #e0e0e0,
                     -8px -8px 16px #ffffff;
          transition: all 0.3s ease;
          border: 1px solid rgba(0,0,0,0.03);
        }

        .admin-card:hover {
          box-shadow: 5px 5px 12px #d9d9d9,
                     -5px -5px 12px #ffffff;
        }

        .form-input {
          width: 100%;
          padding: 12px;
          border-radius: 10px;
          margin-bottom: 15px;
          border: none;
          font-size: 16px;
          box-sizing: border-box;
          background-color: #f8f9fa;
          box-shadow: inset 3px 3px 6px #e0e0e0,
                      inset -3px -3px 6px #ffffff;
          transition: all 0.2s ease;
        }

        .form-input:focus {
          outline: none;
          box-shadow: inset 2px 2px 4px #d9d9d9,
                      inset -2px -2px 4px #ffffff;
        }

        .form-textarea {
          width: 100%;
          padding: 12px;
          border-radius: 10px;
          margin-bottom: 15px;
          border: none;
          font-size: 16px;
          box-sizing: border-box;
          background-color: #f8f9fa;
          box-shadow: inset 3px 3px 6px #e0e0e0,
                      inset -3px -3px 6px #ffffff;
          transition: all 0.2s ease;
          min-height: 150px;
          resize: vertical;
        }

        .form-textarea:focus {
          outline: none;
          box-shadow: inset 2px 2px 4px #d9d9d9,
                      inset -2px -2px 4px #ffffff;
        }

        .admin-button {
          background-color: #007bff;
          color: white;
          padding: 12px 25px;
          border-radius: 10px;
          border: none;
          cursor: pointer;
          font-size: 16px;
          margin-top: 10px;
          box-shadow: 4px 4px 8px #e0e0e0,
                     -4px -4px 8px #ffffff;
          transition: all 0.2s ease;
          width: 100%;
        }

        .admin-button:hover {
          background-color: #0069d9;
          box-shadow: 2px 2px 4px #d9d9d9,
                     -2px -2px 4px #ffffff;
        }

        .admin-button:active {
          box-shadow: inset 2px 2px 4px #0056b3,
                     inset -2px -2px 4px #007bff;
        }

        h3 {
          color: #007bff;
          text-align: center;
          margin-bottom: 20px;
        }

        .question-counter {
          color: #666;
          text-align: center;
          margin-bottom: 10px;
          font-size: 14px;
        }
      `}),O.jsx("div",{className:"admin-dashboard-container",children:O.jsxs("div",{className:"main-content bg-white",children:[O.jsxs("div",{className:"admin-header animate__animated animate__fadeIn",children:[O.jsxs("h2",{className:"ms-5 ps-5",children:[O.jsx("i",{className:"bi bi-code-square me-2"}),"Coding Questions"]}),O.jsxs("p",{className:"question-counter",children:["Question ",r+1," of ",e.numQuestions]})]}),O.jsx("div",{className:"admin-cards animate__animated animate__fadeInUp",children:O.jsxs("div",{className:"admin-card",children:[O.jsx("input",{className:"form-input",placeholder:"Question Title",value:s.title,onChange:f=>u({...s,title:f.target.value})}),O.jsx("textarea",{className:"form-textarea",placeholder:"Expected Output",value:s.expected_output,onChange:f=>u({...s,expected_output:f.target.value})}),O.jsxs("button",{className:"admin-button",onClick:l,children:[i.length+1===e.numQuestions?"Submit Test":"Next Question",O.jsx("i",{className:`bi bi-${i.length+1===e.numQuestions?"check":"arrow-right"} ms-1`})]})]})})]})})]})}function KAe(){const[e,t]=N.useState(1),[n,r]=N.useState({testName:"",duration:"",type:"",numQuestions:0,questions:[]}),a=async i=>{const o={Time:i.duration,TestName:i.testName,TestType:i.type,TotalQuestions:i.numQuestions.toString(),MCQ:i.type==="MCQ"?i.questions.map(u=>({question:u.question,options:u.options,correctAnswer:u.correctAnswer})):[],Coding:i.type==="Coding"?i.questions.map(u=>({question:u.title,expectedOutput:u.expected_output})):[]};console.log("Submitting test payload:",o);const s=await fetch("https://marqueebackend.onrender.com/admin/tests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!s.ok){const u=await s.json();console.error("Error uploading test:",u),alert("Failed to upload test: "+u.detail);return}alert("Test uploaded successfully!")};return O.jsxs("div",{style:{padding:20},children:[O.jsx("h2",{children:"Create Test"}),e===1&&O.jsx(VAe,{formData:n,setFormData:r,nextStep:()=>t(2)}),e===2&&n.type==="MCQ"&&O.jsx(qAe,{formData:n,setFormData:r,submitTest:a}),e===2&&n.type==="Coding"&&O.jsx(GAe,{formData:n,setFormData:r,submitTest:a})]})}function XAe(){const[e,t]=N.useState(!1),[n,r]=N.useState([]),[a,i]=N.useState({}),[o,s]=N.useState(!1),[u,l]=N.useState([]),[f,d]=N.useState(0),[p,m]=N.useState(Date.now()),[g,x]=N.useState(!1),[b,w]=N.useState(!1),E=N.useRef(),S=N.useRef(),A=N.useRef(0),[T,R]=N.useState(100),[D,P]=N.useState(100),[k,I]=N.useState(100),[F,B]=N.useState([]),te=N.useRef(!1),[ae,V]=N.useState(null);N.useEffect(()=>{(async()=>{const oe="/models";await Jr.ssdMobilenetv1.loadFromUri(oe),await Jr.faceLandmark68TinyNet.loadFromUri(oe),se()})()},[]);const H=le=>{B(oe=>le.includes("")?[le]:oe.includes(le)?oe:[...oe,le])},Z=async le=>{if(e||te.current)return;te.current=!0,s(!0),l(Oe=>[...new Set([...Oe,le])]),t(!0);const oe=localStorage.getItem("token"),ye=n.map((Oe,ve)=>({question:Oe.question,selected:a[ve],correctAnswer:Oe.correctAnswer,success:a[ve]==Oe.correctAnswer}));await fetch("https://marqueebackend.onrender.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:oe,results:ye,timeTaken:Math.floor((Date.now()-p)/1e3),malpractice_type:[...new Set([...u,le])],totalMarks:ye.filter(Oe=>Oe?.success).length,test_type:"MCQ",malpractice:le})}),x(!0),setTimeout(()=>{localStorage.removeItem("token"),window.location.href="/login"},3e3)},ie=async()=>{e||(s(!0),l(le=>[...new Set([...le,"Multiple Faces Detected"])]),await Z("MultiFace Detected"))},he=async()=>{e||(s(!0),l(le=>[...new Set([...le,"SideView Copy"])]),await Z("SideView Copy"))},z=async()=>{e||(s(!0),l(le=>[...new Set([...le,"Talking"])]),await Z("Talking"))};N.useEffect(()=>{const le=setInterval(()=>{G()},500);return()=>clearInterval(le)},[T,D,k]);const se=()=>{navigator.mediaDevices.getUserMedia({video:{width:640,height:480}}).then(le=>{E.current.srcObject=le,V(!1)}).catch(le=>{console.error("Webcam error:",le),V("Camera access denied or not available. Please enable it to continue the test.")})},L=le=>{const oe=le.getNose()[3],ye=le.getLeftEye(),Oe=le.getRightEye();if(!ye.length||!Oe.length)return 0;const ve=(ye[0].x+ye[3].x)/2,Ye=(Oe[0].x+Oe[3].x)/2,$e=(ve+Ye)/2;let et=100-Math.abs(oe.x-$e);return Math.max(0,Math.min(100,Math.round(et)))},G=async()=>{if(!E.current||E.current.readyState!==4){V(!0);return}const le=await LL(E.current,new oh).withFaceLandmarks(!0);if(S.current.getContext("2d").clearRect(0,0,S.current.width,S.current.height),le.length===0)A.current+=1,A.current>=3&&(D<10?(he(),H(" You are not present!")):D<40&&H(" Stay present!"),R(0),P(ve=>ve-1));else if(A.current=0,le.length>1)R(0),ie(),H(" Multiple Faces detected");else{const Ye=le[0].landmarks,$e=L(Ye);R($e),$e<=87&&P(ze=>ze-3);const nt=Ye.getMouth(),et=nt[13],He=nt[19];Math.abs(et.y-He.y)>8.7&&I(ze=>Math.max(0,ze-3)),D<10?(he(),H(" You are not present!")):D<40&&H(" Stay present!"),k<10?(z(),H(" You are talking excessively!")):k<40&&H(" You are talking a bit much!"),$e<=10?H(" You are not focusing!"):$e<=40&&H(" Please stay focused")}const ye=lL(S.current,E.current),Oe=GS(le,ye);oL(S.current,Oe),yL(S.current,Oe)},X=le=>le>70?"#4ade80":le>40?"#fbbf24":"#f87171";N.useEffect(()=>{fetch("https://marqueebackend.onrender.com/admin/mcqquestions").then(le=>le.json()).then(le=>r(le[0].MCQ))},[]),N.useEffect(()=>{const le=setInterval(()=>d(oe=>oe+1),1e3);return()=>clearInterval(le)},[]);const Y=le=>{const oe=Math.floor(le/60),ye=le%60;return`${oe.toString().padStart(2,"0")}:${ye.toString().padStart(2,"0")}`},ce=(le,oe)=>{i(ye=>({...ye,[le]:oe}))};N.useEffect(()=>{let le;const oe=()=>{const ye=window.SpeechRecognition||window.webkitSpeechRecognition;if(!ye){console.warn("Speech recognition not supported");return}le=new ye,le.continuous=!0,le.interimResults=!0,le.lang="en-IN",le.onresult=Oe=>{let ve="";for(let Ye=Oe.resultIndex;Ye<Oe.results.length;Ye++)ve+=Oe.results[Ye][0].transcript.toLowerCase(),console.log(ve);console.log("Transcript:",ve),ve.match(/\b(program|code|input|output|print)\b/)&&H(" Programming terms spoken!")},le.onerror=Oe=>console.error("Speech error:",Oe.error),le.onend=()=>le.start(),le.start()};return document.addEventListener("click",oe,{once:!0}),()=>{le&&le.stop()}},[]),N.useEffect(()=>{const le=()=>{const oe=document.documentElement;oe.requestFullscreen?oe.requestFullscreen():oe.webkitRequestFullscreen?oe.webkitRequestFullscreen():oe.mozRequestFullScreen?oe.mozRequestFullScreen():oe.msRequestFullscreen&&oe.msRequestFullscreen()};return document.addEventListener("click",le),()=>document.removeEventListener("click",le)},[]);const Pe=async()=>{const le=localStorage.getItem("token");w(!0);const oe=n.map((ye,Oe)=>({question:ye.question,selected:a[Oe],correctAnswer:ye.correctAnswer,success:a[Oe]==ye.correctAnswer}));await fetch("https://marqueebackend.onrender.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:le,results:oe,timeTaken:f,malpractice_type:[...new Set(u)],totalMarks:oe.filter(ye=>ye?.success).length,test_type:"MCQ",malpractice:!1})}),localStorage.removeItem("token"),t(!0),setTimeout(()=>{localStorage.removeItem("token"),window.location.href="/login"},3e3)};return N.useEffect(()=>{const le=ye=>{e||(ye.preventDefault(),Z("Copy"))},oe=()=>{e||Z("Tab Switch")};return document.addEventListener("copy",le),window.addEventListener("blur",oe),()=>{document.removeEventListener("copy",le),window.removeEventListener("blur",oe)}}),O.jsxs("div",{className:"container mt-4 d-flex",children:[O.jsxs("div",{className:"w-50",children:[O.jsx("h2",{className:"text-center mb-4",children:"MCQ Test"}),O.jsxs("div",{className:"alert alert-info text-center",children:["Time Elapsed: ",Y(f)]}),o&&O.jsx("div",{className:"alert alert-danger text-center",children:" Malpractice Detected - Submitting test..."}),n.length===0?O.jsxs("div",{className:"text-center",children:[O.jsx("div",{className:"spinner-border text-primary"}),O.jsx("p",{children:"Loading questions..."})]}):O.jsxs("form",{className:"mb-4",children:[n.map((le,oe)=>O.jsxs("div",{className:"mb-4 p-3 border rounded ",style:{background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"4px 4px 8px #d9d9d9, -4px -4px 8px #ffffff"},children:[O.jsxs("h5",{children:["Q",oe+1,". ",le.question]}),le.options.map((ye,Oe)=>O.jsxs("div",{className:"form-check",children:[O.jsx("input",{className:"form-check-input",type:"radio",name:`question-${oe}`,id:`q${oe}-option${Oe}`,checked:a[oe]==Oe,onChange:()=>ce(oe,Oe)}),O.jsx("label",{className:"form-check-label",htmlFor:`q${oe}-option${Oe}`,children:ye})]},Oe))]},oe)),O.jsx("div",{className:"text-center",children:O.jsx("button",{type:"button",className:"btn btn-success px-4 py-2",onClick:Pe,children:"Submit Test"})})]}),g&&O.jsx("div",{className:"malpractice-modal visible",children:O.jsxs("div",{className:"modal-content animate__animated animate__headShake",children:[O.jsx("div",{className:"modal-icon",children:O.jsx("i",{className:"bi bi-exclamation-octagon"})}),O.jsx("h3",{children:"Malpractice Detected!"}),O.jsx("p",{children:"Your test has been flagged for suspicious activity:"}),O.jsx("ul",{children:u.map((le,oe)=>O.jsx("li",{children:le},oe))}),O.jsx("p",{children:"Your test is being submitted automatically."}),O.jsx("div",{className:"countdown",children:"Redirecting in 3 seconds..."})]})}),ae&&O.jsx("div",{className:"malpractice-modal visible",children:O.jsxs("div",{className:"modal-content animate__animated animate__headShake",children:[O.jsx("div",{className:"modal-icon",children:O.jsx("i",{className:"bi bi-exclamation-octagon"})}),O.jsx("h3",{children:"No Webcam Or Mic Detected"}),O.jsx("p",{children:"Please Ensure You Have A Proper WebCam or Mic And Switch On Both Of Them Please"}),O.jsx("p",{children:"Your test is being Hold"})]})}),b&&O.jsx("div",{className:"completion-modal visible",children:O.jsxs("div",{className:"modal-content animate__animated animate__fadeIn",children:[O.jsx("div",{className:"modal-icon",children:O.jsx("i",{className:"bi bi-check-circle-fill text-success"})}),O.jsx("h3",{children:"Test Completed Successfully!"}),O.jsx("p",{children:"Thank you for taking the test. Your responses have been submitted."}),O.jsx("div",{className:"countdown",children:"You will be redirected to login page in 3 seconds..."})]})})]}),O.jsxs("div",{style:{width:"40vw",height:"90vh",position:"fixed",right:"100px",margin:"0.5rem auto",padding:"1rem",borderRadius:"16px",background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"10px 10px 20px #d9d9d9, -10px -10px 20px #ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[O.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",flexShrink:0},children:O.jsx("div",{children:O.jsx("h1",{style:{margin:0,fontSize:"1.2rem",fontWeight:"700",background:"linear-gradient(90deg, #3b82f6, #8b5cf6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Face & Speech Analyzer"})})}),F.length>0&&O.jsx("div",{style:{padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"8px",background:F.some(le=>le.includes(""))?"linear-gradient(145deg, #fee2e2, #fecaca)":"linear-gradient(145deg, #fef9c3, #fef08a)",boxShadow:"inset 2px 2px 4px rgba(0,0,0,0.1)",borderLeft:F.some(le=>le.includes(""))?"3px solid #ef4444":"3px solid #f59e0b",flexShrink:0},children:O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.3rem"},children:[O.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",background:F.some(le=>le.includes(""))?"#ef4444":"#f59e0b",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:O.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),O.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),O.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),O.jsx("p",{style:{margin:0,fontSize:"0.75rem",fontWeight:"600",color:F.some(le=>le.includes(""))?"#b91c1c":"#92400e"},children:F.join("  ")})]})}),O.jsxs("div",{style:{display:"flex",gap:"1rem",flexGrow:1,overflow:"hidden"},children:[O.jsxs("div",{style:{flex:1,position:"relative",borderRadius:"12px",overflow:"hidden",boxShadow:"6px 6px 12px #d9d9d9, -6px -6px 12px #ffffff",height:"100%"},children:[O.jsx("video",{ref:E,autoPlay:!0,muted:!0,style:{display:"block",width:"400px",height:"350px",objectFit:"cover",borderRadius:"12px"}}),O.jsx("div",{style:{position:"absolute",top:"1rem",left:"0.5rem",background:"rgba(0,0,0,0.6)",color:"white",padding:"0.2rem 0.5rem",borderRadius:"4px",fontSize:"0.6rem",fontWeight:"500"},children:"Live Analysis"}),O.jsx("canvas",{ref:S,style:{position:"absolute",top:0,left:0,width:"400px",height:"350px",borderRadius:"12px"}}),O.jsxs("div",{style:{marginTop:"50px",display:"flex",gap:"1.3rem"},children:[O.jsxs("div",{style:{padding:"0.5rem",borderRadius:"12px",background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"4px 4px 8px #d9d9d9, -4px -4px 8px #ffffff",textAlign:"center",minWidth:"80px"},children:[O.jsx("p",{style:{margin:"0 0 0.2rem",fontSize:"1rem",color:"#64748b",fontWeight:"500"},children:"Presence"}),O.jsxs("h3",{style:{margin:0,fontSize:"1rem",color:X(D),fontWeight:"700"},children:[D,"%"]})]}),O.jsxs("div",{style:{padding:"0.5rem",borderRadius:"12px",background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"4px 4px 8px #d9d9d9, -4px -4px 8px #ffffff",textAlign:"center",minWidth:"80px"},children:[O.jsx("p",{style:{margin:"0 0 0.2rem",fontSize:"1rem",color:"#64748b",fontWeight:"500"},children:"Attention"}),O.jsxs("h3",{style:{margin:0,fontSize:"1rem",color:X(T),fontWeight:"700"},children:[T,"%"]})]}),O.jsxs("div",{style:{padding:"0.5rem",borderRadius:"12px",background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"4px 4px 8px #d9d9d9, -4px -4px 8px #ffffff",textAlign:"center",minWidth:"80px"},children:[O.jsx("p",{style:{margin:"0 0 0.2rem",fontSize:"1rem",color:"#64748b",fontWeight:"500"},children:"Talking"}),O.jsxs("h3",{style:{margin:0,fontSize:"1rem",color:X(k),fontWeight:"700"},children:[k,"%"]})]})]})]}),O.jsxs("div",{style:{width:"200px",padding:"0.8rem",borderRadius:"12px",background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"4px 4px 8px #d9d9d9, -4px -4px 8px #ffffff",display:"flex",flexDirection:"column",gap:"0.6rem",overflowY:"auto"},children:[O.jsx("h3",{style:{margin:"0 0 0.3rem",fontSize:"1rem",color:"#334155",fontWeight:"600"},children:"Metrics"}),O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.3rem"},children:[O.jsx("span",{style:{fontSize:"1rem",color:"#64748b"},children:"Attention"}),O.jsxs("span",{style:{fontSize:"1rem",fontWeight:"600",color:X(T)},children:[T,"%"]})]}),O.jsx("div",{style:{height:"6px",borderRadius:"3px",background:"#e2e8f0",overflow:"hidden"},children:O.jsx("div",{style:{width:`${T}%`,height:"100%",background:`linear-gradient(90deg, ${X(T)}, ${X(T)}80)`,borderRadius:"3px",transition:"width 0.3s ease"}})})]}),O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.3rem"},children:[O.jsx("span",{style:{fontSize:"1rem",color:"#64748b"},children:"Presence"}),O.jsxs("span",{style:{fontSize:"1rem",fontWeight:"600",color:X(D)},children:[D,"%"]})]}),O.jsx("div",{style:{height:"6px",borderRadius:"3px",background:"#e2e8f0",overflow:"hidden"},children:O.jsx("div",{style:{width:`${D}%`,height:"100%",background:`linear-gradient(90deg, ${X(D)}, ${X(D)}80)`,borderRadius:"3px",transition:"width 0.3s ease"}})})]}),O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.3rem"},children:[O.jsx("span",{style:{fontSize:"1rem",color:"#64748b"},children:"Verbal"}),O.jsxs("span",{style:{fontSize:"1rem",fontWeight:"600",color:X(k)},children:[k,"%"]})]}),O.jsx("div",{style:{height:"6px",borderRadius:"3px",background:"#e2e8f0",overflow:"hidden"},children:O.jsx("div",{style:{width:`${k}%`,height:"100%",background:`linear-gradient(90deg, ${X(k)}, ${X(k)}80)`,borderRadius:"3px",transition:"width 0.3s ease"}})})]}),O.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.6rem",borderRadius:"8px",background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",boxShadow:"4px 4px 8px #d9d9d9, -4px -4px 8px #ffffff"},children:[O.jsx("h4",{style:{margin:"0 0 0.3rem",fontSize:"1rem",color:"#334155",fontWeight:"600"},children:"Guidelines"}),O.jsxs("ul",{style:{margin:0,paddingLeft:"1rem",fontSize:"0.85rem",color:"#64748b",lineHeight:"1.4"},children:[O.jsx("li",{children:"Maintain eye contact"}),O.jsx("li",{children:"Single person visible"}),O.jsx("li",{children:"Minimize talking"}),O.jsx("li",{children:"Good lighting"})]})]})]})]})]})]})}function YAe(){return O.jsx(O$,{children:O.jsxs(i$,{children:[O.jsx(Ki,{path:"/login",element:O.jsx(x3,{})}),O.jsx(Ki,{path:"/test",element:O.jsx(oJ,{children:O.jsx(bD,{})})}),O.jsx(Ki,{path:"/admin",element:O.jsx(sJ,{})}),O.jsx(Ki,{path:"/admin/students",element:O.jsx(rae,{})}),O.jsx(Ki,{path:"/admin/results",element:O.jsx(lTe,{})}),O.jsx(Ki,{path:"/admin/questions",element:O.jsx(KAe,{})}),O.jsx(Ki,{path:"/test",element:O.jsx(bD,{})}),O.jsx(Ki,{path:"/mcqtest",element:O.jsx(XAe,{})}),O.jsx(Ki,{path:"/dashboard",element:O.jsx($Ae,{})}),O.jsx(Ki,{path:"*",element:O.jsx(x3,{})})]})})}pH.createRoot(document.getElementById("root")).render(O.jsx(YAe,{}))});export default QAe();
